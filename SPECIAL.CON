define SCORPIONTANK 1870
define DRAGONICRIPBULLET 5920
define DRAGONICRIP 5921

// cheatkeys KEYSC_D KEYSC_N
// cheatkeys KEYSC_N KEYSC_R

definecheat 0 cornholio
definecheat 1 all
definecheat 2 w###  // scotty###
definecheat 3 coords
definecheat 4 view
definecheat 5 time
definecheat 6 unlock
definecheat 7 cash
definecheat 8 items
definecheat 9 rate
definecheat 10 s#
definecheat 11 beta
definecheat 12 hyper
definecheat 13 monsters
definecheat 14 endepisode // <RESERVED>
definecheat 15 restartlevel // <RESERVED>
definecheat 16 todd
definecheat 17 showmap
definecheat 18 g
definecheat 19 allen
definecheat 20 clip
definecheat 21 we
definecheat 22 items
definecheat 23 keys
definecheat 24 debug
definecheat 25 endvolume // <RESERVED>

definegamefuncname 11 GLIDING_MODE
definegamefuncname 30 MAIN_MENU
definegamefuncname 49 ALT_FIRE
// definegamefuncname 50 NEXT_CHAR/WEAP
// definegamefuncname 51 PREV_CHAR/WEAP

// Custom Attacks

define EXPLOSION2CUSTOM 1891
define RPG_NOAIM 5183
define OCTANINE_RPG 5191
define GENERAL_RPG 5221
define COMMANDER_RPG 5228
define LEADER_RPG 5235
define BAALO_RPG 5242
define ZAPPER1 6656
define ZAPPER2 6672
define ZAPPER3 6678

state checktip_isavailable
 getactorvar[tiparrayid].tiparray_toggle TEMPVAR8
 ifvare TEMPVAR8 0 { setactorvar[tiparrayid].tiparray_toggle 1 }
ends

state checktip_memorbilia
 setvar tiparrayid 29 state checktip_isavailable
ends

state autosave_slot10
      save 9
      setvar TEMPVAR 10
      redefinequote 1058 ^11GAME AUTOSAVED TO SLOT %d ON 
      qsprintf 1058 1058 TEMPVAR

	gettimedate temp tempb tempc tempd tempe tempf tempg temph
      // tempe = month
      ifvare tempe 0 redefinequote 1059 JANUARY %d, %d AT 
      ifvare tempe 1 redefinequote 1059 FEBRUARY %d, %d AT 
      ifvare tempe 2 redefinequote 1059 MARCH %d, %d AT 
      ifvare tempe 3 redefinequote 1059 APRIL %d, %d AT 
      ifvare tempe 4 redefinequote 1059 MAY %d, %d AT 
      ifvare tempe 5 redefinequote 1059 JUNE %d, %d AT 
      ifvare tempe 6 redefinequote 1059 JULY %d, %d AT 
      ifvare tempe 7 redefinequote 1059 AUGUST %d, %d AT 
      ifvare tempe 8 redefinequote 1059 SEPTEMBER %d, %d AT 
      ifvare tempe 9 redefinequote 1059 OCTOBER %d, %d AT 
      ifvare tempe 10 redefinequote 1059 NOVEMBER %d, %d AT 
      ifvare tempe 11 redefinequote 1059 DECEMBER %d, %d AT 
      // tempd = month-day
      // tempf = year
      qsprintf 1059 1059 tempd tempf
      qstrcat 1058 1059

      // tempc = hour of day [24 hr format]
      ifvarg tempc -1 ifvarl tempc 10 redefinequote 1060 0%d:
      else ifvarg tempc 9 redefinequote 1060 %d:
      qsprintf 1060 1060 tempc
      qstrcat 1058 1060

      // tempb = minute of hour [60 min format]
      ifvarg tempb -1 ifvarl tempb 10 redefinequote 1061 0%d:
      else ifvarg tempb 9 redefinequote 1061 %d:
      qsprintf 1061 1061 tempb
      qstrcat 1058 1061

      // temp = second of minute [60 sec format]
      ifvarg temp -1 ifvarl temp 10 redefinequote 1062 0%d
      else ifvarg temp 9 redefinequote 1062 %d
      qsprintf 1062 1062 temp
      qstrcat 1058 1062

      userquote 1058
      sound MENU_SELECTED // RPG_EXPLODE
ends

state reset_autosavetimes
              ifvarg AUTOSAVEFREQUENCY 0
              {
               setvarvar NEXTAUTOSAVEINTERVAL TIMERRAWFORMAT
               setvarvar TEMPVAR5 AUTOSAVEFREQUENCY
               mulvar TEMPVAR5 1560 // TEMPVAR5 = tics per 'minute' [1560 is the proper amount]
               addvarvar NEXTAUTOSAVEINTERVAL TEMPVAR5
              }
              else
              {
               setvarvar NEXTAUTOSAVEINTERVAL 13
              }
ends

state checkoverflowmods // Future Checks for Overflows [extending HP/AP/Dmg systems more will require this if done]
ifvarg OVERFLOW_RAWVALUE_OLD 0
{
 ifvarvarg OVERFLOW_RAWVALUE_OLD OVERFLOW_MODAMOUNT+ 
 {
  setvarvar OVERFLOW_LEFTOVER OVERFLOW_RAWVALUE_OLD
  modvarvar OVERFLOW_LEFTOVER OVERFLOW_MODAMOUNT+
  setvarvar OVERFLOW_MULTIPLERS OVERFLOW_RAWVALUE_OLD
  subvarvar OVERFLOW_MULTIPLERS OVERFLOW_LEFTOVER
  divvarvar OVERFLOW_MULTIPLERS OVERFLOW_MODAMOUNT+

  setvar OVERFLOW_RAWVALUE_NEW 0
  whilevarn OVERFLOW_MULTIPLERS 0
  {
   setvarvar OVERFLOW_TEMP1 OVERFLOW_MODAMOUNT+
   mulvarvar OVERFLOW_TEMP1 OVERFLOW_TEMPMULTI
   divvar OVERFLOW_TEMP1 1000

   addvarvar OVERFLOW_RAWVALUE_NEW OVERFLOW_TEMP1
   subvar OVERFLOW_MULTIPLERS 1
  }
  setvarvar OVERFLOW_TEMP1 OVERFLOW_LEFTOVER
  mulvarvar OVERFLOW_TEMP1 OVERFLOW_TEMPMULTI
  divvar OVERFLOW_TEMP1 1000

  addvarvar OVERFLOW_RAWVALUE_NEW OVERFLOW_TEMP1
 }
 else
 {
  setvarvar OVERFLOW_RAWVALUE_NEW OVERFLOW_RAWVALUE_OLD
  mulvarvar OVERFLOW_RAWVALUE_NEW OVERFLOW_TEMPMULTI
  divvar OVERFLOW_RAWVALUE_NEW 1000
 }
 setvar OVERFLOW_TEMP1 0
 setvar OVERFLOW_RAWVALUE_OLD 0
 setvar OVERFLOW_LEFTOVER 0
 setvar OVERFLOW_MULTIPLERS 0
}
else ifvare OVERFLOW_RAWVALUE_OLD 0 setvar OVERFLOW_RAWVALUE_NEW 0
else
ifvarl OVERFLOW_RAWVALUE_OLD 0
{
 ifvarvarl OVERFLOW_RAWVALUE_OLD OVERFLOW_MODAMOUNT- 
 {
  setvarvar OVERFLOW_LEFTOVER OVERFLOW_RAWVALUE_OLD
  modvarvar OVERFLOW_LEFTOVER OVERFLOW_MODAMOUNT-
  setvarvar OVERFLOW_MULTIPLERS OVERFLOW_RAWVALUE_OLD
  subvarvar OVERFLOW_MULTIPLERS OVERFLOW_LEFTOVER
  divvarvar OVERFLOW_MULTIPLERS OVERFLOW_MODAMOUNT-

  setvar OVERFLOW_RAWVALUE_NEW 0
  whilevarn OVERFLOW_MULTIPLERS 0
  {
   setvarvar OVERFLOW_TEMP1 OVERFLOW_MODAMOUNT-
   mulvarvar OVERFLOW_TEMP1 OVERFLOW_TEMPMULTI
   divvar OVERFLOW_TEMP1 1000

   addvarvar OVERFLOW_RAWVALUE_NEW OVERFLOW_TEMP1
   subvar OVERFLOW_MULTIPLERS 1
  }
  setvarvar OVERFLOW_TEMP1 OVERFLOW_LEFTOVER
  mulvarvar OVERFLOW_TEMP1 OVERFLOW_TEMPMULTI
  divvar OVERFLOW_TEMP1 1000

  addvarvar OVERFLOW_RAWVALUE_NEW OVERFLOW_TEMP1
 }
 else
 {
  setvarvar OVERFLOW_RAWVALUE_NEW OVERFLOW_RAWVALUE_OLD
  mulvarvar OVERFLOW_RAWVALUE_NEW OVERFLOW_TEMPMULTI
  divvar OVERFLOW_RAWVALUE_NEW 1000
 }
 setvar OVERFLOW_TEMP1 0
 setvar OVERFLOW_RAWVALUE_OLD 0
 setvar OVERFLOW_LEFTOVER 0
 setvar OVERFLOW_MULTIPLERS 0
}
ends

state checkoverflow_custom // Future Checks for Overflows [extending HP/AP/Dmg systems more will require this if done]
ifvarg OVERFLOW_RAWVALUE_OLD 0
{
 ifvarvarg OVERFLOW_RAWVALUE_OLD OVERFLOW_MODAMOUNT+ 
 {
  setvarvar OVERFLOW_LEFTOVER OVERFLOW_RAWVALUE_OLD
  modvarvar OVERFLOW_LEFTOVER OVERFLOW_MODAMOUNT+
  setvarvar OVERFLOW_MULTIPLERS OVERFLOW_RAWVALUE_OLD
  subvarvar OVERFLOW_MULTIPLERS OVERFLOW_LEFTOVER
  divvarvar OVERFLOW_MULTIPLERS OVERFLOW_MODAMOUNT+

  setvar OVERFLOW_RAWVALUE_NEW 0
  whilevarn OVERFLOW_MULTIPLERS 0
  {
   setvarvar OVERFLOW_TEMP1 OVERFLOW_MODAMOUNT+
   mulvarvar OVERFLOW_TEMP1 OVERFLOW_TEMPMULTI
   divvarvar OVERFLOW_TEMP1 OVERFLOW_TEMPDIVISOR

   addvarvar OVERFLOW_RAWVALUE_NEW OVERFLOW_TEMP1
   subvar OVERFLOW_MULTIPLERS 1
  }
  setvarvar OVERFLOW_TEMP1 OVERFLOW_LEFTOVER
  mulvarvar OVERFLOW_TEMP1 OVERFLOW_TEMPMULTI
  divvarvar OVERFLOW_TEMP1 OVERFLOW_TEMPDIVISOR

  addvarvar OVERFLOW_RAWVALUE_NEW OVERFLOW_TEMP1
 }
 else
 {
  setvarvar OVERFLOW_RAWVALUE_NEW OVERFLOW_RAWVALUE_OLD
  mulvarvar OVERFLOW_RAWVALUE_NEW OVERFLOW_TEMPMULTI
  divvarvar OVERFLOW_RAWVALUE_NEW OVERFLOW_TEMPDIVISOR
 }
 setvar OVERFLOW_TEMP1 0
 setvar OVERFLOW_RAWVALUE_OLD 0
 setvar OVERFLOW_LEFTOVER 0
 setvar OVERFLOW_MULTIPLERS 0
}
else ifvare OVERFLOW_RAWVALUE_OLD 0 setvar OVERFLOW_RAWVALUE_NEW 0
else
ifvarl OVERFLOW_RAWVALUE_OLD 0
{
 ifvarvarl OVERFLOW_RAWVALUE_OLD OVERFLOW_MODAMOUNT- 
 {
  setvarvar OVERFLOW_LEFTOVER OVERFLOW_RAWVALUE_OLD
  modvarvar OVERFLOW_LEFTOVER OVERFLOW_MODAMOUNT-
  setvarvar OVERFLOW_MULTIPLERS OVERFLOW_RAWVALUE_OLD
  subvarvar OVERFLOW_MULTIPLERS OVERFLOW_LEFTOVER
  divvarvar OVERFLOW_MULTIPLERS OVERFLOW_MODAMOUNT-

  setvar OVERFLOW_RAWVALUE_NEW 0
  whilevarn OVERFLOW_MULTIPLERS 0
  {
   setvarvar OVERFLOW_TEMP1 OVERFLOW_MODAMOUNT-
   mulvarvar OVERFLOW_TEMP1 OVERFLOW_TEMPMULTI
   divvarvar OVERFLOW_TEMP1 OVERFLOW_TEMPDIVISOR

   addvarvar OVERFLOW_RAWVALUE_NEW OVERFLOW_TEMP1
   subvar OVERFLOW_MULTIPLERS 1
  }
  setvarvar OVERFLOW_TEMP1 OVERFLOW_LEFTOVER
  mulvarvar OVERFLOW_TEMP1 OVERFLOW_TEMPMULTI
  divvarvar OVERFLOW_TEMP1 OVERFLOW_TEMPDIVISOR

  addvarvar OVERFLOW_RAWVALUE_NEW OVERFLOW_TEMP1
 }
 else
 {
  setvarvar OVERFLOW_RAWVALUE_NEW OVERFLOW_RAWVALUE_OLD
  mulvarvar OVERFLOW_RAWVALUE_NEW OVERFLOW_TEMPMULTI
  divvarvar OVERFLOW_RAWVALUE_NEW OVERFLOW_TEMPDIVISOR
 }
 setvar OVERFLOW_TEMP1 0
 setvar OVERFLOW_RAWVALUE_OLD 0
 setvar OVERFLOW_LEFTOVER 0
 setvar OVERFLOW_MULTIPLERS 0
}
ends


state superatomsounds
   addvar SOUNDPITCH 512
   setplayer[THISACTOR].sound_pitch SOUNDPITCH
   globalsound GETATOMICHEALTH
   addvar SOUNDPITCH -512
   setplayer[THISACTOR].sound_pitch SOUNDPITCH
   globalsound GETATOMICHEALTH
   addvar SOUNDPITCH -512
   setplayer[THISACTOR].sound_pitch SOUNDPITCH
   globalsound GETATOMICHEALTH
   addvar SOUNDPITCH 512
   setplayer[THISACTOR].sound_pitch SOUNDPITCH
ends

state setitemidarrayamount
  setactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkreschalices
  setvar ITEMARRAYID 0 // RESURRECTIONCHALICES
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkeyedrops
  setvar ITEMARRAYID 1 // EYEDROPS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkantidotes
  setvar ITEMARRAYID 2 // ANTIDOTES
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkfoghorns
  setvar ITEMARRAYID 3 // FOGHORNS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkafasdrops
  setvar ITEMARRAYID 4 // AFASDROPS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checktelebeacons
  setvar ITEMARRAYID 5 // TELEBEACONS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkbodyarmors
  setvar ITEMARRAYID 6 // BODYARMORS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checksuperarmors
  setvar ITEMARRAYID 7 // SUPERARMORS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkportablemedikits
  setvar ITEMARRAYID 8 // PORTABLEMEDIKITS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkscubatanks
  setvar ITEMARRAYID 9 // SCUBATANKS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkheatsensors
  setvar ITEMARRAYID 10 // HEATSENSORS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkbootpairs
  setvar ITEMARRAYID 11 // BOOTPAIRS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkholoforms
  setvar ITEMARRAYID 12 // HOLOFORMS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkjetpacks
  setvar ITEMARRAYID 13 // JETPACKS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkvitaminxs
  setvar ITEMARRAYID 14 // VITAMINXS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checksmallmedikits
  setvar ITEMARRAYID 15 // SMALLMEDIKITS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkmediummedikits
  setvar ITEMARRAYID 16 // SWMEDIKITS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checklargemedikits
  setvar ITEMARRAYID 17 // LARGEMEDIKITS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkextralargemedikits
  setvar ITEMARRAYID 18 // SWBIGMEDIKITS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkmedpacks
  setvar ITEMARRAYID 19 // MEDPACKS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checksurgerykits
  setvar ITEMARRAYID 20 // SURGERYKITS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkusedbodyarmors
  setvar ITEMARRAYID 21 // USEDBODYARMORS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkusedsuperarmors
  setvar ITEMARRAYID 22 // USEDSUPERARMORS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkatomichealths
  setvar ITEMARRAYID 23 // ATOMICHEALTHS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checksuperatoms
  setvar ITEMARRAYID 24 // SUPERATOMS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkusedgreenarmors
  setvar ITEMARRAYID 25 // USEDGREENARMORS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkusedbluearmors
  setvar ITEMARRAYID 26 // USEDBLUEARMORS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkusedyellowarmors
  setvar ITEMARRAYID 27 // USEDYELLOWARMORS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkusedredarmors
  setvar ITEMARRAYID 28 // USEDREDARMORS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkusedgreyarmors
  setvar ITEMARRAYID 29 // USEDGREYARMORS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkusedwhitearmors
  setvar ITEMARRAYID 30 // USEDWHITEARMORS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkusedrandomarmors
  setvar ITEMARRAYID 31 // USEDRANDOMARMORS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkgreenarmors
  setvar ITEMARRAYID 32 // GREENARMORS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkbluearmors
  setvar ITEMARRAYID 33 // BLUEARMORS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkyellowarmors
  setvar ITEMARRAYID 34 // YELLOWARMORS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkredarmors
  setvar ITEMARRAYID 35 // REDARMORS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkgreyarmors
  setvar ITEMARRAYID 36 // GREYARMORS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkwhitearmors
  setvar ITEMARRAYID 37 // WHITEARMORS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkrandomarmors
  setvar ITEMARRAYID 38 // RANDOMARMORS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkfauxlevelups
  setvar ITEMARRAYID 39 // FAUXLEVELUPS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkbubsylives
  setvar ITEMARRAYID 40 // BUBSYLIVES
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checktelecoils
  setvar ITEMARRAYID 41 // TELEPORTERCOILS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkcontinues
  setvar ITEMARRAYID 42 // CONTINUES?
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checksmallenergydrinks
  setvar ITEMARRAYID 43 // SMALLENERGYDRINKS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checklargeenergydrinks
  setvar ITEMARRAYID 44 // LARGEENERGYDRINKS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkhyperenergydrinks
  setvar ITEMARRAYID 45 // HYPERENERGYDRINKS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checksunrings
  setvar ITEMARRAYID 46 // SUNRINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkaquarings
  setvar ITEMARRAYID 47 // AQUARINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkplasmarings
  setvar ITEMARRAYID 48 // PLASMARINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkspiritrings
  setvar ITEMARRAYID 49 // SPIRITRINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkcharmankhs
  setvar ITEMARRAYID 50 // CHARMANKHS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkmirrorshields
  setvar ITEMARRAYID 51 // MIRRORSHIELDS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkexpbadges
  setvar ITEMARRAYID 52 // EXPBADGES
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkrankbadges
  setvar ITEMARRAYID 53 // RANKBADGES
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkmoneybadges
  setvar ITEMARRAYID 54 // MONEYBADGES
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkriotshields
  setvar ITEMARRAYID 55 // RIOTSHIELDS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checknyxglovepairs
  setvar ITEMARRAYID 56 // NYXGLOVEPAIRS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkrabbitsfoots
  setvar ITEMARRAYID 57 // RABBITSFOOTS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkjumpbootpairs
  setvar ITEMARRAYID 58 // JUMPBOOTPAIRS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkshockabbootpairs
  setvar ITEMARRAYID 59 // SHOCKABBOOTPAIRS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkhappyshoepairs
  setvar ITEMARRAYID 60 // HAPPYSHOEPAIRS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkstyleshoepairs
  setvar ITEMARRAYID 61 // STYLESHOEPAIRS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkcharmshoepairs
  setvar ITEMARRAYID 62 // CHARMSHOEPAIRS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkpowerwrists
  setvar ITEMARRAYID 63 // POWERWRISTS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkshikonjewels
  setvar ITEMARRAYID 64 // SHIKONJEWELS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checksilkcarnations
  setvar ITEMARRAYID 65 // SILKCARNATIONS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkrarepiratedoubloons
  setvar ITEMARRAYID 66 // RAREPIRATEDOUBLOONS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkfixeddicepairs
  setvar ITEMARRAYID 67 // FIXEDDICEPAIRS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkmalakiangems
  setvar ITEMARRAYID 68 // MALAKIANGEMS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checksafelockboxes
  setvar ITEMARRAYID 69 // SAFELOCKBOXS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checksecretrecipes
  setvar ITEMARRAYID 70 // SECRETRECIPES
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkslurpeemachines
  setvar ITEMARRAYID 71 // SLURPEEMACHINES
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkstockownerships
  setvar ITEMARRAYID 72 // STOCKOWNERSHIPS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checktransdimensionalsafes
  setvar ITEMARRAYID 73 // TRANSDIMENSIONALSAFES
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checksilverzirconrings
  setvar ITEMARRAYID 74 // SILVERZIRCONRINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checksilveraquamarinerings
  setvar ITEMARRAYID 75 // SILVERAQUAMARINERINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checksilverturquoiserings
  setvar ITEMARRAYID 76 // SILVERTURQUOISERINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checksilveremeraldrings
  setvar ITEMARRAYID 77 // SILVEREMERALDRINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checksilvergarnetrings
  setvar ITEMARRAYID 78 // SILVERGARNETRINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checksilverrubyrings
  setvar ITEMARRAYID 79 // SILVERRUBYRINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checksilvercitrinerings
  setvar ITEMARRAYID 80 // SILVERCITRINERINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checksilverdiamondrings
  setvar ITEMARRAYID 81 // SILVERDIAMONDRINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkgoldzirconrings
  setvar ITEMARRAYID 82 // GOLDZIRCONRINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkgoldaquamarinerings
  setvar ITEMARRAYID 83 // GOLDAQUAMARINERINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkgoldturquoiserings
  setvar ITEMARRAYID 84 // GOLDTURQUOISERINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkgoldemeraldrings
  setvar ITEMARRAYID 85 // GOLDEMERALDRINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkgoldgarnetrings
  setvar ITEMARRAYID 86 // GOLDGARNETRINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkgoldrubyrings
  setvar ITEMARRAYID 87 // GOLDRUBYRINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkgoldcitrinerings
  setvar ITEMARRAYID 88 // GOLDCITRINERINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkgolddiamondrings
  setvar ITEMARRAYID 89 // GOLDDIAMONDRINGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkhockeymasks
  setvar ITEMARRAYID 90 // HOCKEYMASKS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkgemstonecrowns
  setvar ITEMARRAYID 91 // GEMSTONECROWNS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkironrunes
  setvar ITEMARRAYID 92 // IRONRUNES
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checktwilightcapes
  setvar ITEMARRAYID 93 // TWILIGHTCAPES
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checksnakearmbands
  setvar ITEMARRAYID 94 // SNAKEARMBANDS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkmedicbags
  setvar ITEMARRAYID 95 // MEDICBAGS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkserpenthelmets
  setvar ITEMARRAYID 96 // SERPENTHELMETS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkenergyincurments
  setvar ITEMARRAYID 97 // ENERGYENCURMENTS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkyinyangorbs
  setvar ITEMARRAYID 98 // YINYANGORBS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkwintersuits
  setvar ITEMARRAYID 99 // WINTERSUITS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkgreentankcapsules
  setvar ITEMARRAYID 100 // GREENTANKCAPSULES
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkbluetankcapsules
  setvar ITEMARRAYID 101 // BLUETANKCAPSULES
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkredtankcapsules
  setvar ITEMARRAYID 102 // REDTANKCAPSULES
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkbloodpactshields
  setvar ITEMARRAYID 103 // BLOODPACTSHIELDS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

state checkmysticsatchels
  setvar ITEMARRAYID 104 // MYSTICSATCHELS
  getactorvar[ITEMARRAYID].ITEMARRAYID_AMOUNT ITEMARRAYID_AMOUNTTEMP
ends

//

state checkpg1characters
   ifvare DUKE? 1 addvar TEMPMOD 1
   ifvare JACK? 1 addvar TEMPMOD 1
   ifvare BUBSY? 1 addvar TEMPMOD 1
   ifvare AMI? 1 addvar TEMPMOD 1
   ifvare LOWANG? 1 addvar TEMPMOD 1
   ifvare ESSENCE? 1 addvar TEMPMOD 1
   ifvare TED? 1 addvar TEMPMOD 1
   ifvare LISA? 1 addvar TEMPMOD 1
ends

state checkpg2characters
   ifvare CYBANIS? 1 addvar TEMPMOD 1
   ifvare NETHRA? 1 addvar TEMPMOD 1
   ifvare PAULA? 1 addvar TEMPMOD 1
   ifvare LORI? 1 addvar TEMPMOD 1
   ifvare MINAKO? 1 addvar TEMPMOD 1
   ifvare MYSTERY1? 1 addvar TEMPMOD 1
   ifvare MAKEN? 1 addvar TEMPMOD 1
ends

state checkpg1items
ends

state checkpg2items
ends

state checkpg3items
ends

state checkpg4items
ends

state checkpg5items
   // Row 1
   state checksunrings ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkaquarings ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkplasmarings ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkspiritrings ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkcharmankhs ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkmirrorshields ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   // Row 2
   state checkexpbadges ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkrankbadges ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkmoneybadges ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkriotshields ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checknyxglovepairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkrabbitsfoots ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   // Row 3
   state checkjumpbootpairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkshockabbootpairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkhappyshoepairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkstyleshoepairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkcharmshoepairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkpowerwrists ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   // Row 4
   state checkhockeymasks ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkgemstonecrowns ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkironrunes ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checktwilightcapes ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checksnakearmbands ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkmedicbags ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
ends

state checkpg6items
   // Row 1
   state checkserpenthelmets ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkenergyincurments ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkserpenthelmets ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkshikonjewels ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
ends

state checkpg1equippables
   // Row 1
   state checksunrings ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkaquarings ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkplasmarings ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkspiritrings ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkcharmankhs ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkmirrorshields ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   // Row 2
   state checkexpbadges ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkrankbadges ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkmoneybadges ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkriotshields ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checknyxglovepairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkrabbitsfoots ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   // Row 3
   state checkjumpbootpairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkshockabbootpairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkhappyshoepairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkstyleshoepairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkcharmshoepairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkpowerwrists ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   // Row 4
   state checkhockeymasks ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkgemstonecrowns ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkironrunes ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checktwilightcapes ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checksnakearmbands ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkmedicbags ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
ends

state checkpg2equippables
   // Row 1
   state checkserpenthelmets ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkenergyincurments ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkyinyangorbs ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
   state checkshikonjewels ifvarg ITEMARRAYID_AMOUNTTEMP 0 addvar TEMPMOD 1
ends

//

state secretrecipecheck
               // Check Secret Recipes [Permenant Boost Item]
               state checksecretrecipes
               ifvarvarg PARTYSIZE ITEMARRAYID_AMOUNTTEMP setvarvar TEMP6 ITEMARRAYID_AMOUNTTEMP else setvarvar TEMP6 PARTYSIZE
               mulvar TEMP6 2 // 2% per item
               addvar TEMP6 100

               mulvarvar TEMP7 TEMP6
               divvar TEMP7 100
ends

state itemfullbright
 ifvare mainmenu 0
 {
  ifvare gameover? 0 setactor[THISACTOR].shade -127
  else setactor[THISACTOR].shade 0
 }
ends

// Crap for Showing Damage Values above Actors in FF/RPG style format

move NUMBERUP 64 -40
move NUMBERDOWN -64 40
move NUMBERUPSTATIC 4 -40
move NUMBERDOWNSTATIC -4 40

state showdamage
 setvarvar SHOWDAMAGETEMP SHOWDAMAGE

 ifvarn oldskoolmode 1 ifvarn rpgdmgdisplaytoggle 0
 {
  getactor[SHOWDAMAGEACTORID].x x
  getactor[SHOWDAMAGEACTORID].y y
  getactor[SHOWDAMAGEACTORID].z z
  getactor[SHOWDAMAGEACTORID].xrepeat TESTXREPEAT1 
  getactor[SHOWDAMAGEACTORID].yrepeat TESTYREPEAT1 
  getactorvar[SHOWDAMAGEACTORID].ACTORSHEIGHT LIFEMETERZ
  mulvarvar LIFEMETERZ TESTYREPEAT1
  mulvar LIFEMETERZ 4
  setvarvar EXTRAZ TESTYREPEAT1
  mulvar EXTRAZ 4
  getactor[SHOWDAMAGEACTORID].picnum TEMP

  ifvare TEMP APLAYER 
  {
   getactor[SHOWDAMAGEACTORID].cstat temp
   ifvarand temp 8 
   { 
    getactorvar[SHOWDAMAGEACTORID].VEHICLEID TEMPVAR3
    ifvare TEMPVAR3 -1
    {
     ifvare CHARACTERSELECTED? 6 mulvar EXTRAZ 60   
     else ifvare CHARACTERSELECTED? 9 mulvar EXTRAZ 64
     else mulvar EXTRAZ 16
    }
    else mulvar EXTRAZ 24

    mulvar EXTRAZ -1 
    mulvar LIFEMETERZ -1
   } 
   else
   {
    getactorvar[SHOWDAMAGEACTORID].VEHICLEID TEMPVAR3
    ifvare TEMPVAR3 -1
    {
     ifvare CHARACTERSELECTED? 6 mulvar EXTRAZ 68    
     else ifvare CHARACTERSELECTED? 9 mulvar EXTRAZ 72
     else mulvar EXTRAZ 24
    }
    else mulvar EXTRAZ 32
   }
  }
  else
  ifvare TEMP NAKED1 // NAKED1 is already "Upside Down"
  {
   getactor[SHOWDAMAGEACTORID].cstat TEMP
   ifvarand TEMP 8 mulvar EXTRAZ 16 
   else
   {
    mulvar EXTRAZ 8
    mulvar EXTRAZ -1
    mulvar LIFEMETERZ -1
   }
  } 
  else
  {
   getactor[SHOWDAMAGEACTORID].cstat temp
   ifvarand temp 8 
   { 
    mulvar EXTRAZ 8
    mulvar EXTRAZ -1 
    mulvar LIFEMETERZ -1 
   } 
   else mulvar EXTRAZ 16
  }
  subvarvar z LIFEMETERZ // Subtract from the original Z var
  subvarvar z EXTRAZ // Subtract from the original Z var
  setvarvar TESTXREPEAT2 TESTXREPEAT1
  divvar TESTXREPEAT2 2
  addvarvar TESTXREPEAT2 TESTXREPEAT1

  ifvare SHOWDAMAGETYPE 0 addvar z 4096 // For Health
  else ifvare SHOWDAMAGETYPE 1 addvar z 6144 // For Armor
  else ifvare SHOWDAMAGETYPE 2 addvar z 8192 // For Bio-Shield
  else ifvare SHOWDAMAGETYPE 3 addvar z 4096 // For Health [Healing]
  else ifvare SHOWDAMAGETYPE 4 addvar z 6144 // For Armor [Healing]
  else ifvare SHOWDAMAGETYPE 5 addvar z 8192 // For Bio-Shield [Healing]

  getactor[SHOWDAMAGEACTORID].picnum picnum
  ifvare picnum EGG subvar z 5120

  espawn 6313 // Numbers "Anchor" actor

  getactor[SHOWDAMAGEACTORID].cstat initcstat
  ifvarand initcstat 8 { setactorvar[RETURN].TEMP4 1 } else setactorvar[RETURN].TEMP4 0

  ifvarvare SHOWDAMAGEACTORID PLAYERID addvarvar z VIEWCAMERAZDIFF
  setactor[RETURN].xrepeat TESTXREPEAT1
  setactor[RETURN].yrepeat TESTYREPEAT1
  setactor[RETURN].x x
  setactor[RETURN].y y 
  setactor[RETURN].z z
  setactorvar[RETURN].TEMP SHOWDAMAGETEMP
  setactorvar[RETURN].SKILLSET? 1
  setactorvar[RETURN].SHOWDAMAGEPARENTID -2
  setactorvar[RETURN].SHOWDAMAGETYPE SHOWDAMAGETYPE
  setactorvar[RETURN].extrasav 1
 }
ends

// Player Damage/Heal Showings

state showdamage_playerhp
 getplayer[THISACTOR].over_shoulder_on SHOWDAMAGEPLAYER
 ifvarn SHOWDAMAGEPLAYER 0
 {
  ifvarg PLAYERDAMAGE 0
  {
   setvarvar SHOWDAMAGE PLAYERDAMAGE
   setvar SHOWDAMAGETYPE 0
   setvarvar SHOWDAMAGEACTORID THISACTOR
   state showdamage
  }
 }
ends

state showhealing_playerhp
 ifvarn SHOWDAMAGEPLAYER 0
 {
  ifvarg TEMPHEALTH 0
  {
   setvarvar SHOWDAMAGE TEMPHEALTH
   setvar SHOWDAMAGETYPE 3
   setvarvar SHOWDAMAGEACTORID PLAYERID
   state showdamage
  }
 }
ends


state showdamage_playerap
 ifvarn SHOWDAMAGEPLAYER 0
 {
  ifvarg ARMORDAMAGE 0
  {
   setvarvar SHOWDAMAGE ARMORDAMAGE
   setvar SHOWDAMAGETYPE 1
   setvarvar SHOWDAMAGEACTORID THISACTOR
   state showdamage
  }
 }
ends

state showhealing_playerap
 ifvarn SHOWDAMAGEPLAYER 0
 {
  ifvarg RECEIVEDARMOR 0
  {
   setvarvar SHOWDAMAGE RECEIVEDARMOR
   setvar SHOWDAMAGETYPE 4
   setvarvar SHOWDAMAGEACTORID PLAYERID
   state showdamage
  }
 }
ends

state showdamage_playerbioshield
 ifvarn SHOWDAMAGEPLAYER 0
 {
  ifvarg CELLDAMAGETEMP 0
  {
   setvarvar SHOWDAMAGE CELLDAMAGETEMP
   setvar SHOWDAMAGETYPE 2
   setvarvar SHOWDAMAGEACTORID THISACTOR
   state showdamage
  }
 }
ends

state showdamage_player-dmgflr
 ifvarn SHOWDAMAGEPLAYER 0
 {
  ifvarg TEMPVAR 0
  {
   setvarvar SHOWDAMAGE TEMPVAR
   setvar SHOWDAMAGETYPE 0
   setvarvar SHOWDAMAGEACTORID PLAYERID
   state showdamage
  }
 }
ends

state showdamage_player-dmgflr_bs
 ifvarn SHOWDAMAGEPLAYER 0
 {
  ifvarg CELLDAMAGETEMP 0
  {
   setvarvar SHOWDAMAGE CELLDAMAGETEMP
   setvar SHOWDAMAGETYPE 2
   setvarvar SHOWDAMAGEACTORID PLAYERID
   state showdamage
  }
 }
ends


state showdamage_player-drown
 ifvarn SHOWDAMAGEPLAYER 0
 {
  ifvarg TEMPVAR2 0
  {
   setvarvar SHOWDAMAGE TEMPVAR2
   setvar SHOWDAMAGETYPE 0
   setvarvar SHOWDAMAGEACTORID THISACTOR
   state showdamage
  }
 }
ends

// Actor Damage/Heal Showings

state showdamage_actor-kneehp
 ifvarg KNEEDAMAGE 0
 {
  setvarvar SHOWDAMAGE KNEEDAMAGE
  setvar SHOWDAMAGETYPE 0
  setvarvar SHOWDAMAGEACTORID THISACTOR
  state showdamage
 }
ends

state showdamage_actor-kneeap
 ifvarg ENEMYARMORDAMAGE 0
 {
  setvarvar SHOWDAMAGE ENEMYARMORDAMAGE
  setvar SHOWDAMAGETYPE 1
  setvarvar SHOWDAMAGEACTORID THISACTOR
  state showdamage
 }
ends

state showdamage_actor-generalhp
 ifvarg GENERALDAMAGE 0
 {
  setvarvar SHOWDAMAGE GENERALDAMAGE
  setvar SHOWDAMAGETYPE 0
  setvarvar SHOWDAMAGEACTORID THISACTOR
  state showdamage
 }
ends

state showdamage_actor-generalap
 ifvarg ENEMYARMORDAMAGE 0
 {
  setvarvar SHOWDAMAGE ENEMYARMORDAMAGE
  setvar SHOWDAMAGETYPE 1
  setvarvar SHOWDAMAGEACTORID THISACTOR
  state showdamage
 }
ends

state showdamage_actor-deflecthp
 ifvarg DEFLECTEDDAMAGE 0
 {
  setvarvar SHOWDAMAGE DEFLECTEDDAMAGE
  setvar SHOWDAMAGETYPE 0
  setvarvar SHOWDAMAGEACTORID THISACTOR
  state showdamage
 }
ends

state showdamage_actor-deflectap
 ifvarg ENEMYARMORDAMAGE 0
 {
  setvarvar SHOWDAMAGE ENEMYARMORDAMAGE
  setvar SHOWDAMAGETYPE 1
  setvarvar SHOWDAMAGEACTORID THISACTOR
  state showdamage
 }
ends

state showdamage_actor-dmgflrhp
 ifvarg FLOORDAMAGETEMP 0
 {
  setvarvar SHOWDAMAGE FLOORDAMAGETEMP
  setvar SHOWDAMAGETYPE 0
  setvarvar SHOWDAMAGEACTORID THISACTOR
  state showdamage
 }
ends

state showdamage_actor-drownhp
 ifvarg ENEMYTOTALDROWNDMG 0
 {
  setvarvar SHOWDAMAGE ENEMYTOTALDROWNDMG
  setvar SHOWDAMAGETYPE 0
  setvarvar SHOWDAMAGEACTORID THISACTOR
  state showdamage
 }
ends

state showhealing_actorhp
 ifvarg ITEMSEEKC 0
 {
  setvarvar SHOWDAMAGE ITEMSEEKC
  setvar SHOWDAMAGETYPE 3
  setvarvar SHOWDAMAGEACTORID ITEMSEEK
  state showdamage
 }
ends

state showhealing_actorap
 ifvarg ITEMSEEKC 0
 {
  setvarvar SHOWDAMAGE ITEMSEEKC
  setvar SHOWDAMAGETYPE 4
  setvarvar SHOWDAMAGEACTORID ITEMSEEK
  state showdamage
 }
ends

//

state rndmizer256
 randvar RNDMIZER 255 addvar RNDMIZER 1
ends
state rndmizer128
 randvar RNDMIZER 127 addvar RNDMIZER 1
ends
state rndmizer64
 randvar RNDMIZER 63 addvar RNDMIZER 1
ends
state rndmizer32
 randvar RNDMIZER 31 addvar RNDMIZER 1
ends
state rndmizer16
 randvar RNDMIZER 15 addvar RNDMIZER 1
ends
state rndmizer8
 randvar RNDMIZER 7 addvar RNDMIZER 1
ends

state checker

      ifvare PUBLICBETA? 1
      {
       ifvare SKILLLEVEL 0 setvar tempc 120
       ifvare SKILLLEVEL 1 setvar tempc 115
       ifvare SKILLLEVEL 2 setvar tempc 110
       ifvare SKILLLEVEL 3 setvar tempc 105
       ifvare SKILLLEVEL 4 setvar tempc 100
       ifvare SKILLLEVEL 5 setvar tempc 100
       ifvare SKILLLEVEL 6 setvar tempc 95
       ifvare SKILLLEVEL 7 setvar tempc 90
       ifvare SKILLLEVEL 8 setvar tempc 85
       ifvare SKILLLEVEL 9 setvar tempc 80
      }
      else
      {
       ifvare SKILLLEVEL 0 setvar tempc 106
       ifvare SKILLLEVEL 1 setvar tempc 104
       ifvare SKILLLEVEL 2 setvar tempc 103
       ifvare SKILLLEVEL 3 setvar tempc 101
       ifvare SKILLLEVEL 4 setvar tempc 100
       ifvare SKILLLEVEL 5 setvar tempc 100
       ifvare SKILLLEVEL 6 setvar tempc 99
       ifvare SKILLLEVEL 7 setvar tempc 97
       ifvare SKILLLEVEL 8 setvar tempc 96
       ifvare SKILLLEVEL 9 setvar tempc 94
      }
ends

state setquote332
 setvar temp 332
ends

state quote332LEVEL
 redefinequote 332 LVL
ends

state quote332HP
 redefinequote 332 HP
ends

state quote332AP
 redefinequote 332 AP
ends

state quote332AT
 redefinequote 332 AT
ends

state quote332DF
 redefinequote 332 DF
ends

state quote332SLASH
 redefinequote 332 /
ends

state shade-31
 setvar shade -31
ends

state shade0
 setvar shade 0
ends

state shade15
 setvar shade 15
ends

state shadepulse
  getplayer[THISACTOR].player_par temp
  shiftvarl temp 7
  sin tempb temp
  shiftvarr tempb 11
  setvarvar shade tempb
ends

state shadepulse2
  setvar MISCARRAYID 89 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // shade-pulse-timer
  getplayer[THISACTOR].player_par MISCARRAYID_AMOUNTTEMP
  modvar MISCARRAYID_AMOUNTTEMP 52
  ifvarg MISCARRAYID_AMOUNTTEMP 0 ifvarl MISCARRAYID_AMOUNTTEMP 27 setvarvar shade MISCARRAYID_AMOUNTTEMP
  ifvarg MISCARRAYID_AMOUNTTEMP 26 ifvarl MISCARRAYID_AMOUNTTEMP 52 { setvar shade 52 subvarvar shade MISCARRAYID_AMOUNTTEMP }
  setvar MISCARRAYID 89 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // shade-pulse-timer
ends

state shadepulse3
  setvar MISCARRAYID 89 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // shade-pulse-timer
  getplayer[THISACTOR].player_par MISCARRAYID_AMOUNTTEMP
  modvar MISCARRAYID_AMOUNTTEMP 28
  ifvarg MISCARRAYID_AMOUNTTEMP 0 ifvarl MISCARRAYID_AMOUNTTEMP 15 setvarvar shade MISCARRAYID_AMOUNTTEMP
  ifvarg MISCARRAYID_AMOUNTTEMP 14 ifvarl MISCARRAYID_AMOUNTTEMP 28 { setvar shade 28 subvarvar shade MISCARRAYID_AMOUNTTEMP }
  setvar MISCARRAYID 89 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // shade-pulse-timer
ends

state shadepulse4
  state shadepulse3
  subvar shade 7
ends

state pal0
 setvar pal 0
ends

state pal1
 setvar pal 1
ends

state pal2
 setvar pal 2
ends

state pal3
 setvar pal 3
ends

state pal4
 setvar pal 4
ends

state pal5
 setvar pal 5
ends

state pal6
 setvar pal 6
ends

state pal7
 setvar pal 7
ends

state pal8
 setvar pal 8
ends

state pal9
 setvar pal 9
ends

state pal10
 setvar pal 10
ends

state pal11
 setvar pal 11
ends

state pal12
 setvar pal 12
ends

state pal13
 setvar pal 13
ends

state pal14
 setvar pal 14
ends

state pal15
 setvar pal 15
ends

state pal16
 setvar pal 16
ends

state pal17
 setvar pal 17
ends

state pal18
 setvar pal 18
ends

state pal19
 setvar pal 19
ends

state pal20
 setvar pal 20
ends

state pal21
 setvar pal 21
ends

state pal22
 setvar pal 22
ends

state pal23
 setvar pal 23
ends

state pal24
 setvar pal 24
ends

state pal25
 setvar pal 25
ends


state orientationsetproperscale
 addvarvar orientation orientation_change // 1024 // 1536 // 1280
ends

state orientation0
 setvar orientation 0
ends

state orientation1
 setvar orientation 1
ends

state orientation2
 setvar orientation 2
ends

state orientation3
 setvar orientation 3
ends

state orientation10
 setvar orientation 10
ends

state orientation11
 setvar orientation 11
ends

state orientation16
 setvar orientation 16
ends

state orientation17
 setvar orientation 17
ends

state orientation18
 setvar orientation 18
ends

state orientation19
 setvar orientation 19
ends

state orientation20
 setvar orientation 20
ends

state orientation24
 setvar orientation 24
ends

state orientation25
 setvar orientation 25
ends

state orientation26
 setvar orientation 26
ends

state orientation27
 setvar orientation 27
ends

state orientation33
 setvar orientation 33
ends

state orientation35
 setvar orientation 35
ends

state orientation37
 setvar orientation 37
ends

state orientation43
 setvar orientation 43
ends

state orientation49
 setvar orientation 49
ends

state orientation51
 setvar orientation 51
ends

state orientation57
 setvar orientation 57
ends

state orientation59
 setvar orientation 59
ends

state digx160
 setvar digx 160
ends

state digx320
 setvar digx 320
ends

state digz6000
 setvar digz 6000
ends

state digz12000
 setvar digz 12000
ends

state digz12288
 setvar digz 12288
ends

state digz16384
 setvar digz 16384
ends

state digz20480
 setvar digz 20480
ends

state digz24576
 setvar digz 24576
ends

state digz32768
 setvar digz 32768
ends

state digz40960
 setvar digz 40960
ends

state digz49152
 setvar digz 49152
ends

state digz65536
 setvar digz 65536
ends

state digz98304
 setvar digz 98304
ends

state showslash
 setvar temp 138
ends

state settile2837
 setvar tilenum 2837
ends

state settile3010
 setvar tilenum 3010
ends

state settile3087
 setvar tilenum 3087
ends

state settilealphanum
 setvar tilenum STARTALPHANUM
ends

state setreturn-1
 setvar RETURN -1
ends

state getplayerid
 getplayer[THISACTOR].i PLAYERID
ends

state menuerrorsound
 sound MENU_ERROR
ends

state calculatedisplaymoney
  // #1
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #2
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #3
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #4
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #5
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #6
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #7
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #8
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #9
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #10
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #11
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #12
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #13
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #14
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #15
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #16
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #17
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #18
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #19
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #20
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #21
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #22
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #23
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #24
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }

  // #25
  ifvare DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarg DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 99 
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
  else
  ifvarl DISPLAYDOLLARS 0
  {
   ifvarg DISPLAYCENTS 0
   { 
    subvar DISPLAYCENTS 100
    addvar DISPLAYDOLLARS 1
   }
  }
ends

state displaymoney

 setvar DISPLAYMONEYTIMER 0
 setvar TEMPVAR8 160
 whilevarn TEMPVAR8 0
 {
  state calculatedisplaymoney
  state calculatedisplaymoney
  state calculatedisplaymoney
  state calculatedisplaymoney
  state calculatedisplaymoney

  state calculatedisplaymoney
  state calculatedisplaymoney
  state calculatedisplaymoney
  state calculatedisplaymoney
  state calculatedisplaymoney

  state calculatedisplaymoney
  state calculatedisplaymoney
  state calculatedisplaymoney
  state calculatedisplaymoney
  state calculatedisplaymoney

  state calculatedisplaymoney
  state calculatedisplaymoney
  state calculatedisplaymoney
  state calculatedisplaymoney
  state calculatedisplaymoney

  state calculatedisplaymoney
  state calculatedisplaymoney
  state calculatedisplaymoney
  state calculatedisplaymoney
  state calculatedisplaymoney

  subvar TEMPVAR8 1
 }
ends

state displaybossmeter
    // "Lifemeter" Graphic
    ifvarg BOSSMETERFACTOR 18333 state pal20
    else ifvarl BOSSMETERFACTOR 18334 ifvarg BOSSMETERFACTOR 16666 state pal13
    else ifvarl BOSSMETERFACTOR 16667 ifvarg BOSSMETERFACTOR 15000 state pal0
    else ifvarl BOSSMETERFACTOR 15001 ifvarg BOSSMETERFACTOR 13333 state pal16
    else ifvarl BOSSMETERFACTOR 13334 ifvarg BOSSMETERFACTOR 11666 state pal22
    else ifvarl BOSSMETERFACTOR 11667 ifvarg BOSSMETERFACTOR 10000 state pal14
    else ifvarl BOSSMETERFACTOR 10001 ifvarg BOSSMETERFACTOR 2500 state pal21
    else ifvarl BOSSMETERFACTOR 2501 state pal10

    ifvarg BOSSMETERFACTOR 9676 setvar tilenum 5001
    ifvarl BOSSMETERFACTOR 9677 ifvarg BOSSMETERFACTOR 9354 setvar tilenum 5002
    ifvarl BOSSMETERFACTOR 9355 ifvarg BOSSMETERFACTOR 9031 setvar tilenum 5003
    ifvarl BOSSMETERFACTOR 9032 ifvarg BOSSMETERFACTOR 8709 setvar tilenum 5004
    ifvarl BOSSMETERFACTOR 8710 ifvarg BOSSMETERFACTOR 8386 setvar tilenum 5005
    ifvarl BOSSMETERFACTOR 8387 ifvarg BOSSMETERFACTOR 8064 setvar tilenum 5006
    ifvarl BOSSMETERFACTOR 8065 ifvarg BOSSMETERFACTOR 7741 setvar tilenum 5007
    ifvarl BOSSMETERFACTOR 7742 ifvarg BOSSMETERFACTOR 7418 setvar tilenum 5008
    ifvarl BOSSMETERFACTOR 7419 ifvarg BOSSMETERFACTOR 7096 setvar tilenum 5009
    ifvarl BOSSMETERFACTOR 7097 ifvarg BOSSMETERFACTOR 6673 setvar tilenum 5010
    ifvarl BOSSMETERFACTOR 6674 ifvarg BOSSMETERFACTOR 6451 setvar tilenum 5011
    ifvarl BOSSMETERFACTOR 6452 ifvarg BOSSMETERFACTOR 6128 setvar tilenum 5012
    ifvarl BOSSMETERFACTOR 6129 ifvarg BOSSMETERFACTOR 5805 setvar tilenum 5013
    ifvarl BOSSMETERFACTOR 5806 ifvarg BOSSMETERFACTOR 5483 setvar tilenum 5014
    ifvarl BOSSMETERFACTOR 5484 ifvarg BOSSMETERFACTOR 5160 setvar tilenum 5015
    ifvarl BOSSMETERFACTOR 5161 ifvarg BOSSMETERFACTOR 4838 setvar tilenum 5016
    ifvarl BOSSMETERFACTOR 4839 ifvarg BOSSMETERFACTOR 4515 setvar tilenum 5017
    ifvarl BOSSMETERFACTOR 4516 ifvarg BOSSMETERFACTOR 4193 setvar tilenum 5018
    ifvarl BOSSMETERFACTOR 4194 ifvarg BOSSMETERFACTOR 3870 setvar tilenum 5019
    ifvarl BOSSMETERFACTOR 3871 ifvarg BOSSMETERFACTOR 3547 setvar tilenum 5020
    ifvarl BOSSMETERFACTOR 3548 ifvarg BOSSMETERFACTOR 3225 setvar tilenum 5021
    ifvarl BOSSMETERFACTOR 3226 ifvarg BOSSMETERFACTOR 2902 setvar tilenum 5022
    ifvarl BOSSMETERFACTOR 2903 ifvarg BOSSMETERFACTOR 2580 setvar tilenum 5023
    ifvarl BOSSMETERFACTOR 2581 ifvarg BOSSMETERFACTOR 2257 setvar tilenum 5024
    ifvarl BOSSMETERFACTOR 2258 ifvarg BOSSMETERFACTOR 1934 setvar tilenum 5025
    ifvarl BOSSMETERFACTOR 1935 ifvarg BOSSMETERFACTOR 1612 setvar tilenum 5026
    ifvarl BOSSMETERFACTOR 1613 ifvarg BOSSMETERFACTOR 1289 setvar tilenum 5027
    ifvarl BOSSMETERFACTOR 1290 ifvarg BOSSMETERFACTOR 967 setvar tilenum 5028
    ifvarl BOSSMETERFACTOR 968 ifvarg BOSSMETERFACTOR 644 setvar tilenum 5029
    ifvarl BOSSMETERFACTOR 645 ifvarg BOSSMETERFACTOR 322 setvar tilenum 5030
    ifvarl BOSSMETERFACTOR 323 setvar tilenum 5031
    addvar tilenum 31
ends

state displayair
    setvarvar AIRFACTOR AIRTIME
    mulvar AIRFACTOR 10000
    ifvarn MAXAIRTIME 0 { divvarvar AIRFACTOR MAXAIRTIME }

    ifvarg AIRFACTOR 9999 state pal0
    else ifvarl AIRFACTOR 10000 ifvarg AIRFACTOR 6666 state pal0
    else ifvarl AIRFACTOR 6667 ifvarg AIRFACTOR 3333 state pal23
    else ifvarl AIRFACTOR 3334 state pal10

    ifvarg AIRFACTOR 9676 setvar tilenum 5001
    ifvarl AIRFACTOR 9677 ifvarg AIRFACTOR 9354 setvar tilenum 5002
    ifvarl AIRFACTOR 9355 ifvarg AIRFACTOR 9031 setvar tilenum 5003
    ifvarl AIRFACTOR 9032 ifvarg AIRFACTOR 8709 setvar tilenum 5004
    ifvarl AIRFACTOR 8710 ifvarg AIRFACTOR 8386 setvar tilenum 5005
    ifvarl AIRFACTOR 8387 ifvarg AIRFACTOR 8064 setvar tilenum 5006
    ifvarl AIRFACTOR 8065 ifvarg AIRFACTOR 7741 setvar tilenum 5007
    ifvarl AIRFACTOR 7742 ifvarg AIRFACTOR 7418 setvar tilenum 5008
    ifvarl AIRFACTOR 7419 ifvarg AIRFACTOR 7096 setvar tilenum 5009
    ifvarl AIRFACTOR 7097 ifvarg AIRFACTOR 6673 setvar tilenum 5010
    ifvarl AIRFACTOR 6674 ifvarg AIRFACTOR 6451 setvar tilenum 5011
    ifvarl AIRFACTOR 6452 ifvarg AIRFACTOR 6128 setvar tilenum 5012
    ifvarl AIRFACTOR 6129 ifvarg AIRFACTOR 5805 setvar tilenum 5013
    ifvarl AIRFACTOR 5806 ifvarg AIRFACTOR 5483 setvar tilenum 5014
    ifvarl AIRFACTOR 5484 ifvarg AIRFACTOR 5160 setvar tilenum 5015
    ifvarl AIRFACTOR 5161 ifvarg AIRFACTOR 4838 setvar tilenum 5016
    ifvarl AIRFACTOR 4839 ifvarg AIRFACTOR 4515 setvar tilenum 5017
    ifvarl AIRFACTOR 4516 ifvarg AIRFACTOR 4193 setvar tilenum 5018
    ifvarl AIRFACTOR 4194 ifvarg AIRFACTOR 3870 setvar tilenum 5019
    ifvarl AIRFACTOR 3871 ifvarg AIRFACTOR 3547 setvar tilenum 5020
    ifvarl AIRFACTOR 3548 ifvarg AIRFACTOR 3225 setvar tilenum 5021
    ifvarl AIRFACTOR 3226 ifvarg AIRFACTOR 2902 setvar tilenum 5022
    ifvarl AIRFACTOR 2903 ifvarg AIRFACTOR 2580 setvar tilenum 5023
    ifvarl AIRFACTOR 2581 ifvarg AIRFACTOR 2257 setvar tilenum 5024
    ifvarl AIRFACTOR 2258 ifvarg AIRFACTOR 1934 setvar tilenum 5025
    ifvarl AIRFACTOR 1935 ifvarg AIRFACTOR 1612 setvar tilenum 5026
    ifvarl AIRFACTOR 1613 ifvarg AIRFACTOR 1289 setvar tilenum 5027
    ifvarl AIRFACTOR 1290 ifvarg AIRFACTOR 967 setvar tilenum 5028
    ifvarl AIRFACTOR 968 ifvarg AIRFACTOR 644 setvar tilenum 5029
    ifvarl AIRFACTOR 645 ifvarg AIRFACTOR 322 setvar tilenum 5030
    ifvarl AIRFACTOR 323 setvar tilenum 5031
    addvar tilenum 31

ends

state checkmaxsupports

 setvar MISCARRAYID 66 // MAX-SUPPORT-LEVELS
 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP
 setvar MISCARRAYID_AMOUNTTEMP 19 subvarvar MISCARRAYID_AMOUNTTEMP SKILLLEVEL
 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP
ends

state accquiregroup
 setvar CHARACTERSAVAILABLE 0
 ifvarn DUKE? 0 addvar CHARACTERSAVAILABLE 1
 ifvarn JACK? 0 addvar CHARACTERSAVAILABLE 2
 ifvarn BUBSY? 0 addvar CHARACTERSAVAILABLE 4
 ifvarn AMI? 0 addvar CHARACTERSAVAILABLE 8
 ifvarn LOWANG? 0 addvar CHARACTERSAVAILABLE 16
 ifvarn ESSENCE? 0 addvar CHARACTERSAVAILABLE 32
 ifvarn TED? 0 addvar CHARACTERSAVAILABLE 64
 ifvarn LISA? 0 addvar CHARACTERSAVAILABLE 128
 ifvarn CYBANIS? 0 addvar CHARACTERSAVAILABLE 256
 ifvarn NETHRA? 0 addvar CHARACTERSAVAILABLE 512
 ifvarn PAULA? 0 addvar CHARACTERSAVAILABLE 1024
 ifvarn LORI? 0 addvar CHARACTERSAVAILABLE 2048
 ifvarn MINAKO? 0 addvar CHARACTERSAVAILABLE 4096
 ifvarn MYSTERY1? 0 addvar CHARACTERSAVAILABLE 8192
 ifvarn MAKEN? 0 addvar CHARACTERSAVAILABLE 16384
ends

state addworldtilecount
 setvar MISCARRAYID 22
 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP
 addvar MISCARRAYID_AMOUNTTEMP 1
 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP
ends

state rs
 state orientationsetproperscale
 rotatesprite digx digy digz diga tilenum shade pal orientation ZERO ZERO xdim ydim
ends

state rsa
 state orientationsetproperscale
 rotatespritea digx digy digz diga tilenum shade pal orientation alpha ZERO ZERO xdim ydim
ends

state rs16
 state orientationsetproperscale
 rotatesprite16 digx digy digz diga tilenum shade pal orientation ZERO ZERO xdim ydim
ends

state dn
 state orientationsetproperscale
 digitalnumber tilenum digx digy varname shade pal orientation ZERO ZERO xdim ydim
ends

state dnz
 state orientationsetproperscale
 digitalnumberz tilenum digx digy varname shade pal orientation ZERO ZERO xdim ydim textscale
ends

state gt
 state orientationsetproperscale
 gametext tilenum digx digy temp shade pal orientation ZERO ZERO xdim ydim
ends

state gtz
 state orientationsetproperscale
 gametextz tilenum digx digy temp shade pal orientation ZERO ZERO xdim ydim textscale
ends

state mt
   setvarvar prev_orientation orientation
   setvar xspace 4
   setvar yline 6
   setvar xbetween 1
   setvar ybetween 1  
   setvar textflags 8192
   setvar orientation 26
   setvar textscale 65536
   state orientationsetproperscale
   screentext MINIFONT digx digy textscale blockang charang temp shade pal orientation alpha xspace yline xbetween ybetween textflags ZERO ZERO xdim ydim
   setvarvar orientation prev_orientation
ends

state mt_free
   setvarvar prev_orientation orientation
   setvar xspace 4
   setvar yline 6
   setvar xbetween 1
   setvar ybetween 1  
   state orientationsetproperscale
   screentext MINIFONT digx digy textscale blockang charang temp shade pal orientation alpha xspace yline xbetween ybetween textflags ZERO ZERO xdim ydim
   setvarvar orientation prev_orientation
ends


state setmaxhpmodifier-setvars
  getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
  mulvarvar TEMPVAR STARTSTATMULTI divvarvar TEMPVAR STARTSTATDIVISOR
  ifvarl TEMPVAR 1 setvar TEMPVAR 1
  ifvarvarg TEMPVAR STATLIMIT setvarvar TEMPVAR STATLIMIT
  setactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
  setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
ends

state setmaxapmodifier-setvars
  getactorvar[CHARACTERARRAY].CHARACTERMAXAP TEMPVAR
  mulvarvar TEMPVAR STARTSTATMULTI divvarvar TEMPVAR STARTSTATDIVISOR
  ifvarl TEMPVAR 1 setvar TEMPVAR 1
  ifvarvarg TEMPVAR STATLIMIT setvarvar TEMPVAR STATLIMIT
  setactorvar[CHARACTERARRAY].CHARACTERMAXAP TEMPVAR
  setactorvar[CHARACTERARRAY].CHARACTERAP 0
ends

state setmaxepmodifier-setvars
  getactorvar[CHARACTERARRAY].CHARACTERMAXEP TEMPVAR
  mulvarvar TEMPVAR STARTSTATMULTI divvarvar TEMPVAR STARTSTATDIVISOR
  ifvarl TEMPVAR 1 setvar TEMPVAR 1
  ifvarvarg TEMPVAR STATLIMIT setvarvar TEMPVAR STATLIMIT
  setactorvar[CHARACTERARRAY].CHARACTERMAXEP TEMPVAR
  setactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR
ends

state sethpcurve-setvars
  getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE TEMPVAR
  mulvarvar TEMPVAR STARTSTATMULTI divvarvar TEMPVAR STARTSTATDIVISOR
  setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE TEMPVAR
ends

state setapcurve-setvars
  getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE TEMPVAR
  mulvarvar TEMPVAR STARTSTATMULTI divvarvar TEMPVAR STARTSTATDIVISOR
  setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE TEMPVAR
ends

state setepcurve-setvars
  getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE TEMPVAR
  mulvarvar TEMPVAR STARTSTATMULTI divvarvar TEMPVAR STARTSTATDIVISOR
  setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE TEMPVAR
ends

state setarrayvars
// ARRAYS FOR STATS IN FUTURE

redefinequote 777 ^20PRESS "^0
getkeyname 778 30 0
redefinequote 779 ^20" TO OPEN THE IN-GAME MENUS
qstrcat 777 778
qstrcat 777 779
setplayer[THISACTOR].ftq -1
setplayer[THISACTOR].fta 0
setvar ftq 777
setvar fta 100

// Set up Initial Stuff
ifvare PUBLICBETA? 0 
{
 // Set up for Lisa's Inital Bio-Shield stats
 setvar BIOSHIELDRECHARGABLE? 2 // Energy Shell will auto-recharge to full power
 setvar HAVEENERGYSHIELD? 1 // Has it immediately
 ifvare SKILLLEVEL 0 setvar ESHIELDDMGFACTOR 80 // Will start at "Level 5" on Skill 0
 else ifvarg SKILLLEVEL 0 ifvarl SKILLLEVEL 5 setvar ESHIELDDMGFACTOR 48 // Will start at "Level 3" on Skills 1-4
 else ifvarg SKILLLEVEL 4 ifvarl SKILLLEVEL 8 setvar ESHIELDDMGFACTOR 32 // Will start at "Level 2" on Skills 5-7
 else setvar ESHIELDDMGFACTOR 16 // Will start at "Level 1" on Skills 8-9

 mulvarvar ESHIELDDMGFACTOR STARTSTATMULTI
 divvarvar ESHIELDDMGFACTOR STARTSTATDIVISOR
 ifvarl ESHIELDDMGFACTOR 1 setvar ESHIELDDMGFACTOR 1

 randvarvar TEMP MAXCELLS
 setvarvar CURRENTCELLS TEMP
 randvarvar TEMP ESHIELDDMGFACTOR
 addvar TEMP 1
 setvarvar DAMAGEINCELL TEMP
}
ifvare PUBLICBETA? 1 setplayer[THISACTOR].holoduke_amount 3600

setvar CHARACTERARRAY 1 // Duke
setactorvar[CHARACTERARRAY].CHARACTERLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTEREXPPTS 0
setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 0

setactorvar[CHARACTERARRAY].CHARACTERMAXHP DUKEHITPOINTSSTART state setmaxhpmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXAP DUKEARMORPOINTSSTART state setmaxapmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXEP DUKEENERGYPOINTSSTART state setmaxepmodifier-setvars

setactorvar[CHARACTERARRAY].CHARACTERFA 0
setactorvar[CHARACTERARRAY].CHARACTERATTACK DUKEPHYSICALATTACK
setactorvar[CHARACTERARRAY].CHARACTERDEFENSE DUKEPHYSICALDEFENSE
setactorvar[CHARACTERARRAY].CHARACTERSTATUS? 0
setactorvar[CHARACTERARRAY].CHARACTERAPABSORB 0
setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE DUKECRITCHANCE
setactorvar[CHARACTERARRAY].CHARACTERSPEED DUKESPEED
setactorvar[CHARACTERARRAY].CURRWEAPONCHARACTER 1
setactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD 2047
setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME DUKEAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME DUKEAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME DUKEMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME DUKEMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTIME 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERSTEROIDSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERBOOTSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERHOLOTIME 0
setactorvar[CHARACTERARRAY].CHARACTERSCUBATIME 0
setactorvar[CHARACTERARRAY].CHARACTERQUADTIME 0
setactorvar[CHARACTERARRAY].CHARACTERINVULNTIME 0
setactorvar[CHARACTERARRAY].CHARACTERREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERAPREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERVAMPIRETIME 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO2 204
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO3 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO4 200
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO5 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO6 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO7 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO8 100
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO9 10
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO10 100
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO11 200
setactorvar[CHARACTERARRAY].CHARACTERSHRINKINGRESIST 50
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 5000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 81 // 8.1%
setactorvar[CHARACTERARRAY].CHARACTERHASTETIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERREFRACTORTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERRAGNAROKTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERAQUAPROTECTTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER 0

setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE DUKEHPGROWTHCURVE state sethpcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE DUKEAPGROWTHCURVE state setapcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE DUKEEPGROWTHCURVE state setepcurve-setvars

setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE DUKEATKGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE DUKEDEFGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTSUSED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTDUKE -1
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTJACK 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTBUBSY 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTAMI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLOWANG 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTESSENCE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTTED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLISA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTCYBANIS 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTNETHRA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTPAULA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLORI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMINAKO 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMYSTERY1 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMAKEN 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 0
setvar temp DUKELIFTSTRENGTHMAX
subvar temp DUKELIFTSTRENGTHMIN
randvarvar TEMPVAR temp
addvar TEMPVAR DUKELIFTSTRENGTHMIN
setactorvar[CHARACTERARRAY].CHARACTERLIFTSTRENGTH TEMPVAR
setvarvar PLAYERLIFTSTRENGTH TEMPVAR
setactorvar[CHARACTERARRAY].CHARACTERENEMIESKILLED 0
setactorvar[CHARACTERARRAY].CHARACTERDEATHS 0
setvar TEMPVAR4 4
randvar TEMPVAR5 4
addvarvar TEMPVAR4 TEMPVAR5 mulvar TEMPVAR4 10
setactorvar[CHARACTERARRAY].CHARACTERAUTOHPREGENTIMER TEMPVAR4
setactorvar[CHARACTERARRAY].CHARACTERAUTOEPREGENTIMER -260
setactorvar[CHARACTERARRAY].CHARACTERJUMPSTRENGTH DUKEJUMPSTRENGTH
setvarvar PLAYERJUMPSTRENGTH DUKEJUMPSTRENGTH
setactorvar[CHARACTERARRAY].CHARACTERFALLRESIST DUKEFALLRESISTANCE
setvarvar PLAYERFALLRESIST DUKEFALLRESISTANCE

setvar CHARACTERARRAY 2 // Jack
setactorvar[CHARACTERARRAY].CHARACTERLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTEREXPPTS 0
setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 0

setactorvar[CHARACTERARRAY].CHARACTERMAXHP JACKHITPOINTSSTART state setmaxhpmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXAP JACKARMORPOINTSSTART state setmaxapmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXEP JACKENERGYPOINTSSTART state setmaxepmodifier-setvars

setactorvar[CHARACTERARRAY].CHARACTERFA 0
setactorvar[CHARACTERARRAY].CHARACTERATTACK JACKPHYSICALATTACK
setactorvar[CHARACTERARRAY].CHARACTERDEFENSE JACKPHYSICALDEFENSE
setactorvar[CHARACTERARRAY].CHARACTERSTATUS? 0
setactorvar[CHARACTERARRAY].CHARACTERAPABSORB 0
setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE JACKCRITCHANCE
setactorvar[CHARACTERARRAY].CHARACTERSPEED JACKSPEED
setactorvar[CHARACTERARRAY].CURRWEAPONCHARACTER 7
setactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD 1249 // 1121
setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME JACKAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME JACKAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME JACKMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME JACKMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTIME 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERSTEROIDSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERBOOTSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERHOLOTIME 0
setactorvar[CHARACTERARRAY].CHARACTERSCUBATIME 0
setactorvar[CHARACTERARRAY].CHARACTERQUADTIME 0
setactorvar[CHARACTERARRAY].CHARACTERINVULNTIME 0
setactorvar[CHARACTERARRAY].CHARACTERREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERAPREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERVAMPIRETIME 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO8 30
setactorvar[CHARACTERARRAY].CHARACTERAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO5 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO8 30
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERSHRINKINGRESIST 45
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 5000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 81 // 8.1%
setactorvar[CHARACTERARRAY].CHARACTERHASTETIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERREFRACTORTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERRAGNAROKTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERAQUAPROTECTTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER 0

setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE JACKHPGROWTHCURVE state sethpcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE JACKAPGROWTHCURVE state setapcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE JACKEPGROWTHCURVE state setepcurve-setvars

setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE JACKATKGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE JACKDEFGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTSUSED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTDUKE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTJACK -1
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTBUBSY 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTAMI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLOWANG 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTESSENCE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTTED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLISA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTCYBANIS 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTNETHRA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTPAULA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLORI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMINAKO 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMYSTERY1 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMAKEN 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 0
setvar temp JACKLIFTSTRENGTHMAX
subvar temp JACKLIFTSTRENGTHMIN
randvarvar TEMPVAR temp
addvar TEMPVAR JACKLIFTSTRENGTHMIN
setactorvar[CHARACTERARRAY].CHARACTERLIFTSTRENGTH TEMPVAR
setactorvar[CHARACTERARRAY].CHARACTERENEMIESKILLED 0
setactorvar[CHARACTERARRAY].CHARACTERDEATHS 0
setactorvar[CHARACTERARRAY].CHARACTERAUTOHPREGENTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERAUTOEPREGENTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERJUMPSTRENGTH JACKJUMPSTRENGTH
setactorvar[CHARACTERARRAY].CHARACTERFALLRESIST JACKFALLRESISTANCE

setvar CHARACTERARRAY 3 // Bubsy
setactorvar[CHARACTERARRAY].CHARACTERLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTEREXPPTS 0
setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 0

setactorvar[CHARACTERARRAY].CHARACTERMAXHP BUBSYHITPOINTSSTART state setmaxhpmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXAP BUBSYARMORPOINTSSTART state setmaxapmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXEP BUBSYENERGYPOINTSSTART state setmaxepmodifier-setvars

setactorvar[CHARACTERARRAY].CHARACTERFA 0
setactorvar[CHARACTERARRAY].CHARACTERATTACK BUBSYPHYSICALATTACK
setactorvar[CHARACTERARRAY].CHARACTERDEFENSE BUBSYPHYSICALDEFENSE
setactorvar[CHARACTERARRAY].CHARACTERSTATUS? 0
setactorvar[CHARACTERARRAY].CHARACTERAPABSORB 0
setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE BUBSYCRITCHANCE
setactorvar[CHARACTERARRAY].CHARACTERSPEED BUBSYSPEED
setactorvar[CHARACTERARRAY].CURRWEAPONCHARACTER 3
setactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD 41
setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME BUBSYAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME BUBSYAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME BUBSYMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME BUBSYMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTIME 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERSTEROIDSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERBOOTSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERHOLOTIME 0
setactorvar[CHARACTERARRAY].CHARACTERSCUBATIME 9600
setactorvar[CHARACTERARRAY].CHARACTERQUADTIME 0
setactorvar[CHARACTERARRAY].CHARACTERINVULNTIME 0
setactorvar[CHARACTERARRAY].CHARACTERREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERAPREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERVAMPIRETIME 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO4 200
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERSHRINKINGRESIST 40
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 5000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 81 // 8.1%
setactorvar[CHARACTERARRAY].CHARACTERHASTETIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERREFRACTORTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERRAGNAROKTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERAQUAPROTECTTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER 0

setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE BUBSYHPGROWTHCURVE state sethpcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE BUBSYAPGROWTHCURVE state setapcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE BUBSYEPGROWTHCURVE state setepcurve-setvars

setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE BUBSYATKGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE BUBSYDEFGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTSUSED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTDUKE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTJACK 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTBUBSY -1
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTAMI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLOWANG 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTESSENCE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTTED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLISA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTCYBANIS 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTNETHRA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTPAULA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLORI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMINAKO 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMYSTERY1 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMAKEN 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 0
setvar temp BUBSYLIFTSTRENGTHMAX
subvar temp BUBSYLIFTSTRENGTHMIN
randvarvar TEMPVAR temp
addvar TEMPVAR BUBSYLIFTSTRENGTHMIN
setactorvar[CHARACTERARRAY].CHARACTERLIFTSTRENGTH TEMPVAR
setactorvar[CHARACTERARRAY].CHARACTERENEMIESKILLED 0
setactorvar[CHARACTERARRAY].CHARACTERDEATHS 0
setactorvar[CHARACTERARRAY].CHARACTERAUTOHPREGENTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERAUTOEPREGENTIMER -130
setactorvar[CHARACTERARRAY].CHARACTERJUMPSTRENGTH BUBSYJUMPSTRENGTH
setactorvar[CHARACTERARRAY].CHARACTERFALLRESIST BUBSYFALLRESISTANCE

setvar CHARACTERARRAY 4 // Ami
setactorvar[CHARACTERARRAY].CHARACTERLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTEREXPPTS 0
setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 0

setactorvar[CHARACTERARRAY].CHARACTERMAXHP AMIHITPOINTSSTART state setmaxhpmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXAP AMIARMORPOINTSSTART state setmaxapmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXEP AMIENERGYPOINTSSTART state setmaxepmodifier-setvars

setactorvar[CHARACTERARRAY].CHARACTERFA 0
setactorvar[CHARACTERARRAY].CHARACTERATTACK AMIPHYSICALATTACK
setactorvar[CHARACTERARRAY].CHARACTERDEFENSE AMIPHYSICALDEFENSE
setactorvar[CHARACTERARRAY].CHARACTERSTATUS? 0
setactorvar[CHARACTERARRAY].CHARACTERAPABSORB 0
setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE AMICRITCHANCE
setactorvar[CHARACTERARRAY].CHARACTERSPEED AMISPEED
setactorvar[CHARACTERARRAY].CURRWEAPONCHARACTER 4
setactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD 49
setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME AMIAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME AMIAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME AMIMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME AMIMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTIME 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME 1800
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERSTEROIDSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERBOOTSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERHOLOTIME 0
setactorvar[CHARACTERARRAY].CHARACTERSCUBATIME 0
setactorvar[CHARACTERARRAY].CHARACTERQUADTIME 0
setactorvar[CHARACTERARRAY].CHARACTERINVULNTIME 0
setactorvar[CHARACTERARRAY].CHARACTERREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERAPREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERVAMPIRETIME 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO3 100
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERSHRINKINGRESIST 45
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 5000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 81 // 8.1%
setactorvar[CHARACTERARRAY].CHARACTERHASTETIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERREFRACTORTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERRAGNAROKTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERAQUAPROTECTTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER 0

setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE AMIHPGROWTHCURVE state sethpcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE AMIAPGROWTHCURVE state setapcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE AMIEPGROWTHCURVE state setepcurve-setvars

setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE AMIATKGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE AMIDEFGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTSUSED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTDUKE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTJACK 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTBUBSY 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTAMI -1
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLOWANG 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTESSENCE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTTED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLISA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTCYBANIS 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTNETHRA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTPAULA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLORI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMINAKO 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMYSTERY1 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMAKEN 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 0
setvar temp AMILIFTSTRENGTHMAX
subvar temp AMILIFTSTRENGTHMIN
randvarvar TEMPVAR temp
addvar TEMPVAR AMILIFTSTRENGTHMIN
setactorvar[CHARACTERARRAY].CHARACTERLIFTSTRENGTH TEMPVAR
setactorvar[CHARACTERARRAY].CHARACTERENEMIESKILLED 0
setactorvar[CHARACTERARRAY].CHARACTERDEATHS 0
setvar TEMPVAR4 1
randvar TEMPVAR5 1
addvarvar TEMPVAR4 TEMPVAR5 mulvar TEMPVAR4 10
setactorvar[CHARACTERARRAY].CHARACTERAUTOHPREGENTIMER TEMPVAR4
setactorvar[CHARACTERARRAY].CHARACTERAUTOEPREGENTIMER 520
setactorvar[CHARACTERARRAY].CHARACTERJUMPSTRENGTH AMIJUMPSTRENGTH
setactorvar[CHARACTERARRAY].CHARACTERFALLRESIST AMIFALLRESISTANCE

setvar CHARACTERARRAY 5 // Higa
setactorvar[CHARACTERARRAY].CHARACTERLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTEREXPPTS 0
setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 0

setactorvar[CHARACTERARRAY].CHARACTERMAXHP LOWANGHITPOINTSSTART state setmaxhpmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXAP LOWANGARMORPOINTSSTART state setmaxapmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXEP LOWANGENERGYPOINTSSTART state setmaxepmodifier-setvars

setactorvar[CHARACTERARRAY].CHARACTERFA 0
setactorvar[CHARACTERARRAY].CHARACTERATTACK LOWANGPHYSICALATTACK
setactorvar[CHARACTERARRAY].CHARACTERDEFENSE LOWANGPHYSICALDEFENSE
setactorvar[CHARACTERARRAY].CHARACTERSTATUS? 0
setactorvar[CHARACTERARRAY].CHARACTERAPABSORB 0
setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE LOWANGCRITCHANCE
setactorvar[CHARACTERARRAY].CHARACTERSPEED LOWANGSPEED
setactorvar[CHARACTERARRAY].CURRWEAPONCHARACTER 2
setactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD 37
setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME LOWANGAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME LOWANGAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME LOWANGMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME LOWANGMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTIME 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERSTEROIDSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERBOOTSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERHOLOTIME 0
setactorvar[CHARACTERARRAY].CHARACTERSCUBATIME 0
setactorvar[CHARACTERARRAY].CHARACTERQUADTIME 0
setactorvar[CHARACTERARRAY].CHARACTERINVULNTIME 0
setactorvar[CHARACTERARRAY].CHARACTERREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERAPREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERVAMPIRETIME 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO6 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO7 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERSHRINKINGRESIST 55
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 5000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 81 // 8.1%
setactorvar[CHARACTERARRAY].CHARACTERHASTETIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERREFRACTORTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERRAGNAROKTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERAQUAPROTECTTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER 0

setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE LOWANGHPGROWTHCURVE state sethpcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE LOWANGAPGROWTHCURVE state setapcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE LOWANGEPGROWTHCURVE state setepcurve-setvars

setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE LOWANGATKGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE LOWANGDEFGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTSUSED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTDUKE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTJACK 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTBUBSY 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTAMI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLOWANG -1
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTESSENCE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTTED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLISA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTCYBANIS 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTNETHRA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTPAULA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLORI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMINAKO 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMYSTERY1 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMAKEN 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 0
setvar temp LOWANGLIFTSTRENGTHMAX
subvar temp LOWANGLIFTSTRENGTHMIN
randvarvar TEMPVAR temp
addvar TEMPVAR LOWANGLIFTSTRENGTHMIN
setactorvar[CHARACTERARRAY].CHARACTERLIFTSTRENGTH TEMPVAR
setactorvar[CHARACTERARRAY].CHARACTERENEMIESKILLED 0
setactorvar[CHARACTERARRAY].CHARACTERDEATHS 0
setvar TEMPVAR4 2
randvar TEMPVAR5 4
addvarvar TEMPVAR4 TEMPVAR5 mulvar TEMPVAR4 10
setactorvar[CHARACTERARRAY].CHARACTERAUTOHPREGENTIMER TEMPVAR4
setactorvar[CHARACTERARRAY].CHARACTERAUTOEPREGENTIMER 260
setactorvar[CHARACTERARRAY].CHARACTERJUMPSTRENGTH LOWANGJUMPSTRENGTH
setactorvar[CHARACTERARRAY].CHARACTERFALLRESIST LOWANGFALLRESISTANCE


setvar CHARACTERARRAY 6 // ESSence
setactorvar[CHARACTERARRAY].CHARACTERLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTEREXPPTS 0
setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 0

ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERMAXHP ESSENCEHITPOINTSSTARTBETA state setmaxhpmodifier-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERMAXHP ESSENCEHITPOINTSSTARTFULL state setmaxhpmodifier-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERMAXAP ESSENCEARMORPOINTSSTARTBETA state setmaxapmodifier-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERMAXAP ESSENCEARMORPOINTSSTARTFULL state setmaxapmodifier-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERMAXEP ESSENCEENERGYPOINTSSTARTBETA state setmaxepmodifier-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERMAXEP ESSENCEENERGYPOINTSSTARTFULL state setmaxepmodifier-setvars }

setactorvar[CHARACTERARRAY].CHARACTERFA 0
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERATTACK ESSENCEPHYSICALATTACKBETA
                else setactorvar[CHARACTERARRAY].CHARACTERATTACK ESSENCEPHYSICALATTACKFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERDEFENSE ESSENCEPHYSICALDEFENSEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERDEFENSE ESSENCEPHYSICALDEFENSEFULL
setactorvar[CHARACTERARRAY].CHARACTERSTATUS? 0
setactorvar[CHARACTERARRAY].CHARACTERAPABSORB 0
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE ESSENCECRITCHANCEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE ESSENCECRITCHANCEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERSPEED ESSENCESPEEDBETA
                else setactorvar[CHARACTERARRAY].CHARACTERSPEED ESSENCESPEEDFULL
setactorvar[CHARACTERARRAY].CURRWEAPONCHARACTER 7
setactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD 689
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME ESSENCEAIRTIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME ESSENCEAIRTIMEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME ESSENCEAIRTIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME ESSENCEAIRTIMEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME ESSENCEMANTLETIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME ESSENCEMANTLETIMEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME ESSENCEMANTLETIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME ESSENCEMANTLETIMEFULL
setactorvar[CHARACTERARRAY].CHARACTERAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTIME 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERSTEROIDSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERBOOTSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERHOLOTIME 0
setactorvar[CHARACTERARRAY].CHARACTERSCUBATIME 0
setactorvar[CHARACTERARRAY].CHARACTERQUADTIME 0
setactorvar[CHARACTERARRAY].CHARACTERINVULNTIME 0
setactorvar[CHARACTERARRAY].CHARACTERREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERAPREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERVAMPIRETIME 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO11 200
setactorvar[CHARACTERARRAY].CHARACTERSHRINKINGRESIST 65
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 5000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 81 // 8.1%
setactorvar[CHARACTERARRAY].CHARACTERHASTETIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERREFRACTORTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERRAGNAROKTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERAQUAPROTECTTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER 0

ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE ESSENCEHPGROWTHCURVEBETA state sethpcurve-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE ESSENCEHPGROWTHCURVEFULL state sethpcurve-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE ESSENCEAPGROWTHCURVEBETA state setapcurve-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE ESSENCEAPGROWTHCURVEFULL state setapcurve-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE ESSENCEEPGROWTHCURVEBETA state setepcurve-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE ESSENCEEPGROWTHCURVEFULL state setepcurve-setvars }

ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE ESSENCEATKGROWTHCURVEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE ESSENCEATKGROWTHCURVEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE ESSENCEDEFGROWTHCURVEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE ESSENCEDEFGROWTHCURVEFULL
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTSUSED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTDUKE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTJACK 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTBUBSY 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTAMI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLOWANG 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTESSENCE -1
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTTED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLISA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTCYBANIS 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTNETHRA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTPAULA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLORI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMINAKO 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMYSTERY1 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMAKEN 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 0
setvar temp ESSENCELIFTSTRENGTHMAX
subvar temp ESSENCELIFTSTRENGTHMIN
randvarvar TEMPVAR temp
addvar TEMPVAR ESSENCELIFTSTRENGTHMIN
setactorvar[CHARACTERARRAY].CHARACTERLIFTSTRENGTH TEMPVAR
setactorvar[CHARACTERARRAY].CHARACTERENEMIESKILLED 0
setactorvar[CHARACTERARRAY].CHARACTERDEATHS 0
setactorvar[CHARACTERARRAY].CHARACTERAUTOHPREGENTIMER 80
setactorvar[CHARACTERARRAY].CHARACTERAUTOEPREGENTIMER 130
setactorvar[CHARACTERARRAY].CHARACTERJUMPSTRENGTH ESSENCEJUMPSTRENGTH
setactorvar[CHARACTERARRAY].CHARACTERFALLRESIST ESSENCEFALLRESISTANCE

setvar CHARACTERARRAY 7 // Ted
setactorvar[CHARACTERARRAY].CHARACTERLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTEREXPPTS 0
setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 0

setactorvar[CHARACTERARRAY].CHARACTERMAXHP TEDHITPOINTSSTART state setmaxhpmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXAP TEDARMORPOINTSSTART state setmaxapmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXEP TEDENERGYPOINTSSTART state setmaxepmodifier-setvars

setactorvar[CHARACTERARRAY].CHARACTERFA 0
setactorvar[CHARACTERARRAY].CHARACTERATTACK TEDPHYSICALATTACK
setactorvar[CHARACTERARRAY].CHARACTERDEFENSE TEDPHYSICALDEFENSE
setactorvar[CHARACTERARRAY].CHARACTERSTATUS? 0
setactorvar[CHARACTERARRAY].CHARACTERAPABSORB 0
setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE TEDCRITCHANCE
setactorvar[CHARACTERARRAY].CHARACTERSPEED TEDSPEED
setactorvar[CHARACTERARRAY].CURRWEAPONCHARACTER 11
setactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD 1149
setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME TEDAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME TEDAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME TEDMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME TEDMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTIME 2400
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERSTEROIDSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERBOOTSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERHOLOTIME 0
setactorvar[CHARACTERARRAY].CHARACTERSCUBATIME 0
setactorvar[CHARACTERARRAY].CHARACTERQUADTIME 0
setactorvar[CHARACTERARRAY].CHARACTERINVULNTIME 0
setactorvar[CHARACTERARRAY].CHARACTERREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERAPREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERVAMPIRETIME 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO9 10
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERSHRINKINGRESIST 45
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 32500
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 85 // 8.5%
setactorvar[CHARACTERARRAY].CHARACTERHASTETIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERREFRACTORTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERRAGNAROKTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERAQUAPROTECTTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER 0

setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE TEDHPGROWTHCURVE state sethpcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE TEDAPGROWTHCURVE state setapcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE TEDEPGROWTHCURVE state setepcurve-setvars

setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE TEDATKGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE TEDDEFGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTSUSED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTDUKE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTJACK 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTBUBSY 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTAMI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLOWANG 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTESSENCE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTTED -1
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLISA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTCYBANIS 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTNETHRA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTPAULA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLORI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMINAKO 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMYSTERY1 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMAKEN 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 0
setvar temp TEDLIFTSTRENGTHMAX
subvar temp TEDLIFTSTRENGTHMIN
randvarvar TEMPVAR temp
addvar TEMPVAR TEDLIFTSTRENGTHMIN
setactorvar[CHARACTERARRAY].CHARACTERLIFTSTRENGTH TEMPVAR
setactorvar[CHARACTERARRAY].CHARACTERENEMIESKILLED 0
setactorvar[CHARACTERARRAY].CHARACTERDEATHS 0
setvar TEMPVAR4 6
randvar TEMPVAR5 2
addvarvar TEMPVAR4 TEMPVAR5 mulvar TEMPVAR4 10
setactorvar[CHARACTERARRAY].CHARACTERAUTOHPREGENTIMER TEMPVAR4
setactorvar[CHARACTERARRAY].CHARACTERAUTOEPREGENTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERJUMPSTRENGTH TEDJUMPSTRENGTH
setactorvar[CHARACTERARRAY].CHARACTERFALLRESIST TEDFALLRESISTANCE


setvar CHARACTERARRAY 8 // Lisa
setactorvar[CHARACTERARRAY].CHARACTERLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTEREXPPTS 0
setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 0

setactorvar[CHARACTERARRAY].CHARACTERMAXHP LISAHITPOINTSSTART state setmaxhpmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXAP LISAARMORPOINTSSTART state setmaxapmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXEP LISAENERGYPOINTSSTART state setmaxepmodifier-setvars

setactorvar[CHARACTERARRAY].CHARACTERFA 0
setactorvar[CHARACTERARRAY].CHARACTERATTACK LISAPHYSICALATTACK
setactorvar[CHARACTERARRAY].CHARACTERDEFENSE LISAPHYSICALDEFENSE
setactorvar[CHARACTERARRAY].CHARACTERSTATUS? 0
setactorvar[CHARACTERARRAY].CHARACTERAPABSORB 0
setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE LISACRITCHANCE
setactorvar[CHARACTERARRAY].CHARACTERSPEED LISASPEED
setactorvar[CHARACTERARRAY].CURRWEAPONCHARACTER 9
setactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD 805
setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME LISAAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME LISAAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME LISAMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME LISAMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTIME 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERSTEROIDSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERBOOTSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERHOLOTIME 3600
setactorvar[CHARACTERARRAY].CHARACTERSCUBATIME 0
setactorvar[CHARACTERARRAY].CHARACTERQUADTIME 0
setactorvar[CHARACTERARRAY].CHARACTERINVULNTIME 0
setactorvar[CHARACTERARRAY].CHARACTERREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERAPREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERVAMPIRETIME 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO8 105
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERSHRINKINGRESIST 60
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 250000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 102 // 10.2%
setactorvar[CHARACTERARRAY].CHARACTERHASTETIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERREFRACTORTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERRAGNAROKTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERAQUAPROTECTTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER 0

setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE LISAHPGROWTHCURVE state sethpcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE LISAAPGROWTHCURVE state setapcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE LISAEPGROWTHCURVE state setepcurve-setvars

setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE LISAATKGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE LISADEFGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTSUSED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTDUKE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTJACK 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTBUBSY 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTAMI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLOWANG 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTESSENCE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTTED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLISA -1
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTCYBANIS 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTNETHRA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTPAULA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLORI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMINAKO 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMYSTERY1 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMAKEN 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 0
ifvare PUBLICBETA? 0 {
                      setvar HAVEENERGYSHIELD? 1
                      ifvarg SKILLLEVEL -1 ifvarl SKILLLEVEL 4 setvar ESHIELDDMGFACTOR 64
                      else ifvarg SKILLLEVEL 3 ifvarl SKILLLEVEL 7 setvar ESHIELDDMGFACTOR 32
                      else ifvarg SKILLLEVEL 6 ifvarl SKILLLEVEL 10 setvar ESHIELDDMGFACTOR 16
                      mulvarvar ESHIELDDMGFACTOR STARTSTATMULTI
                      divvarvar ESHIELDDMGFACTOR STARTSTATDIVISOR
                      ifvarl ESHIELDDMGFACTOR 1 setvar ESHIELDDMGFACTOR 1
                     }
setvar temp LISALIFTSTRENGTHMAX
subvar temp LISALIFTSTRENGTHMIN
randvarvar TEMPVAR temp
addvar TEMPVAR LISALIFTSTRENGTHMIN
setactorvar[CHARACTERARRAY].CHARACTERLIFTSTRENGTH TEMPVAR
setactorvar[CHARACTERARRAY].CHARACTERENEMIESKILLED 0
setactorvar[CHARACTERARRAY].CHARACTERDEATHS 0
setvar TEMPVAR4 12
randvar TEMPVAR5 4
addvarvar TEMPVAR4 TEMPVAR5 mulvar TEMPVAR4 10
setactorvar[CHARACTERARRAY].CHARACTERAUTOHPREGENTIMER TEMPVAR4
setactorvar[CHARACTERARRAY].CHARACTERAUTOEPREGENTIMER 130
setactorvar[CHARACTERARRAY].CHARACTERJUMPSTRENGTH LISAJUMPSTRENGTH
setactorvar[CHARACTERARRAY].CHARACTERFALLRESIST LISAFALLRESISTANCE

setvar CHARACTERARRAY 9 // Cybanis
setactorvar[CHARACTERARRAY].CHARACTERLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTEREXPPTS 0
setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 0

ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERMAXHP CYBANISHITPOINTSSTARTBETA state setmaxhpmodifier-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERMAXHP CYBANISHITPOINTSSTARTFULL state setmaxhpmodifier-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERMAXAP CYBANISARMORPOINTSSTARTBETA state setmaxapmodifier-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERMAXAP CYBANISARMORPOINTSSTARTFULL state setmaxapmodifier-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERMAXEP CYBANISENERGYPOINTSSTARTBETA state setmaxepmodifier-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERMAXEP CYBANISENERGYPOINTSSTARTFULL state setmaxepmodifier-setvars }

setactorvar[CHARACTERARRAY].CHARACTERFA 0
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERATTACK CYBANISPHYSICALATTACKBETA
                else setactorvar[CHARACTERARRAY].CHARACTERATTACK CYBANISPHYSICALATTACKFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERDEFENSE CYBANISPHYSICALDEFENSEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERDEFENSE CYBANISPHYSICALDEFENSEFULL
setactorvar[CHARACTERARRAY].CHARACTERSTATUS? 0
setactorvar[CHARACTERARRAY].CHARACTERAPABSORB 0
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE CYBANISCRITCHANCEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE CYBANISCRITCHANCEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERSPEED CYBANISSPEEDBETA
                else setactorvar[CHARACTERARRAY].CHARACTERSPEED CYBANISSPEEDFULL
setactorvar[CHARACTERARRAY].CURRWEAPONCHARACTER 6
setactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD 1645
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME CYBANISAIRTIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME CYBANISAIRTIMEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME CYBANISAIRTIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME CYBANISAIRTIMEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME CYBANISMANTLETIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME CYBANISMANTLETIMEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME CYBANISMANTLETIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME CYBANISMANTLETIMEFULL
setactorvar[CHARACTERARRAY].CHARACTERAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTIME 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERSTEROIDSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERBOOTSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERHOLOTIME 0
setactorvar[CHARACTERARRAY].CHARACTERSCUBATIME 0
setactorvar[CHARACTERARRAY].CHARACTERQUADTIME 0
setactorvar[CHARACTERARRAY].CHARACTERINVULNTIME 0
setactorvar[CHARACTERARRAY].CHARACTERREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERAPREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERVAMPIRETIME 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO10 100
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERSHRINKINGRESIST 75
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 5000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 81 // 8.1%
setactorvar[CHARACTERARRAY].CHARACTERHASTETIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERREFRACTORTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERRAGNAROKTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERAQUAPROTECTTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER 0

ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE CYBANISHPGROWTHCURVEBETA state sethpcurve-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE CYBANISHPGROWTHCURVEFULL state sethpcurve-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE CYBANISAPGROWTHCURVEBETA state setapcurve-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE CYBANISAPGROWTHCURVEFULL state setapcurve-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE CYBANISEPGROWTHCURVEBETA state setepcurve-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE CYBANISEPGROWTHCURVEFULL state setepcurve-setvars }

ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE CYBANISATKGROWTHCURVEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE CYBANISATKGROWTHCURVEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE CYBANISDEFGROWTHCURVEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE CYBANISDEFGROWTHCURVEFULL
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTSUSED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTDUKE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTJACK 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTBUBSY 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTAMI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLOWANG 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTESSENCE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTTED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLISA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTCYBANIS -1
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTNETHRA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTPAULA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLORI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMINAKO 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMYSTERY1 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMAKEN 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 0
setvar temp CYBANISLIFTSTRENGTHMAX
subvar temp CYBANISLIFTSTRENGTHMIN
randvarvar TEMPVAR temp
addvar TEMPVAR CYBANISLIFTSTRENGTHMIN
setactorvar[CHARACTERARRAY].CHARACTERLIFTSTRENGTH TEMPVAR
setactorvar[CHARACTERARRAY].CHARACTERENEMIESKILLED 0
setactorvar[CHARACTERARRAY].CHARACTERDEATHS 0
setactorvar[CHARACTERARRAY].CHARACTERAUTOHPREGENTIMER 80
setactorvar[CHARACTERARRAY].CHARACTERAUTOEPREGENTIMER 130
setactorvar[CHARACTERARRAY].CHARACTERJUMPSTRENGTH CYBANISJUMPSTRENGTH
setactorvar[CHARACTERARRAY].CHARACTERFALLRESIST CYBANISFALLRESISTANCE

setvar CHARACTERARRAY 10 // Nethra
setactorvar[CHARACTERARRAY].CHARACTERLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTEREXPPTS 0
setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 0

ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERMAXHP NETHRAHITPOINTSSTARTBETA state setmaxhpmodifier-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERMAXHP NETHRAHITPOINTSSTARTFULL state setmaxhpmodifier-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERMAXAP NETHRAARMORPOINTSSTARTBETA state setmaxapmodifier-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERMAXAP NETHRAARMORPOINTSSTARTFULL state setmaxapmodifier-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERMAXEP NETHRAENERGYPOINTSSTARTBETA state setmaxepmodifier-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERMAXEP NETHRAENERGYPOINTSSTARTFULL state setmaxepmodifier-setvars }

setactorvar[CHARACTERARRAY].CHARACTERFA 0
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERATTACK NETHRAPHYSICALATTACKBETA
                else setactorvar[CHARACTERARRAY].CHARACTERATTACK NETHRAPHYSICALATTACKFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERDEFENSE NETHRAPHYSICALDEFENSEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERDEFENSE NETHRAPHYSICALDEFENSEFULL
setactorvar[CHARACTERARRAY].CHARACTERSTATUS? 0
setactorvar[CHARACTERARRAY].CHARACTERAPABSORB 0
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE NETHRACRITCHANCEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE NETHRACRITCHANCEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERSPEED NETHRASPEEDBETA
                else setactorvar[CHARACTERARRAY].CHARACTERSPEED NETHRASPEEDFULL
setactorvar[CHARACTERARRAY].CURRWEAPONCHARACTER 8
setactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD 419
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME NETHRAAIRTIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME NETHRAAIRTIMEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME NETHRAAIRTIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME NETHRAAIRTIMEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME NETHRAMANTLETIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME NETHRAMANTLETIMEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME NETHRAMANTLETIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME NETHRAMANTLETIMEFULL
setactorvar[CHARACTERARRAY].CHARACTERAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTIME 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERSTEROIDSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERBOOTSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERHOLOTIME 0
setactorvar[CHARACTERARRAY].CHARACTERSCUBATIME 0
setactorvar[CHARACTERARRAY].CHARACTERQUADTIME 0
setactorvar[CHARACTERARRAY].CHARACTERINVULNTIME 0
setactorvar[CHARACTERARRAY].CHARACTERREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERAPREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERVAMPIRETIME 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO7 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO11 200
setactorvar[CHARACTERARRAY].CHARACTERSHRINKINGRESIST 90
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 5000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 81 // 8.1%
setactorvar[CHARACTERARRAY].CHARACTERHASTETIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERREFRACTORTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERRAGNAROKTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERAQUAPROTECTTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER 0

ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE NETHRAHPGROWTHCURVEBETA state sethpcurve-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE NETHRAHPGROWTHCURVEFULL state sethpcurve-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE NETHRAAPGROWTHCURVEBETA state setapcurve-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE NETHRAAPGROWTHCURVEFULL state setapcurve-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE NETHRAEPGROWTHCURVEBETA state setepcurve-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE NETHRAEPGROWTHCURVEFULL state setepcurve-setvars }

ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE NETHRAATKGROWTHCURVEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE NETHRAATKGROWTHCURVEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE NETHRADEFGROWTHCURVEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE NETHRADEFGROWTHCURVEFULL
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTSUSED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTDUKE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTJACK 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTBUBSY 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTAMI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLOWANG 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTESSENCE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTTED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLISA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTCYBANIS 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTNETHRA -1
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTPAULA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLORI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMINAKO 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMYSTERY1 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMAKEN 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 0
setvar temp NETHRALIFTSTRENGTHMAX
subvar temp NETHRALIFTSTRENGTHMIN
randvarvar TEMPVAR temp
addvar TEMPVAR NETHRALIFTSTRENGTHMIN
setactorvar[CHARACTERARRAY].CHARACTERLIFTSTRENGTH TEMPVAR
setactorvar[CHARACTERARRAY].CHARACTERENEMIESKILLED 0
setactorvar[CHARACTERARRAY].CHARACTERDEATHS 0
setvar MISCARRAYID 110 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // NETHRA-FORM?
ifvare MISCARRAYID_AMOUNTTEMP 0 setvar TEMPVAR4 16 else setvar TEMPVAR4 2
mulvar TEMPVAR4 10
setactorvar[CHARACTERARRAY].CHARACTERAUTOHPREGENTIMER TEMPVAR4
setactorvar[CHARACTERARRAY].CHARACTERAUTOEPREGENTIMER 260
setactorvar[CHARACTERARRAY].CHARACTERJUMPSTRENGTH NETHRAJUMPSTRENGTH
setactorvar[CHARACTERARRAY].CHARACTERFALLRESIST NETHRAFALLRESISTANCE

setvar CHARACTERARRAY 11 // Paula
setactorvar[CHARACTERARRAY].CHARACTERLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTEREXPPTS 0
setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 0

ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERMAXHP PAULAHITPOINTSSTARTBETA state setmaxhpmodifier-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERMAXHP PAULAHITPOINTSSTARTFULL state setmaxhpmodifier-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERMAXAP PAULAARMORPOINTSSTARTBETA state setmaxapmodifier-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERMAXAP PAULAARMORPOINTSSTARTFULL state setmaxapmodifier-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERMAXEP PAULAENERGYPOINTSSTARTBETA state setmaxepmodifier-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERMAXEP PAULAENERGYPOINTSSTARTFULL state setmaxepmodifier-setvars }

setactorvar[CHARACTERARRAY].CHARACTERFA 0
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERATTACK PAULAPHYSICALATTACKBETA
                else setactorvar[CHARACTERARRAY].CHARACTERATTACK PAULAPHYSICALATTACKFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERDEFENSE PAULAPHYSICALDEFENSEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERDEFENSE PAULAPHYSICALDEFENSEFULL
setactorvar[CHARACTERARRAY].CHARACTERSTATUS? 0
setactorvar[CHARACTERARRAY].CHARACTERAPABSORB 0
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE PAULACRITCHANCEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE PAULACRITCHANCEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERSPEED PAULASPEEDBETA
                else setactorvar[CHARACTERARRAY].CHARACTERSPEED PAULASPEEDFULL
setactorvar[CHARACTERARRAY].CURRWEAPONCHARACTER 2
setactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD 39
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME PAULAAIRTIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME PAULAAIRTIMEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME PAULAAIRTIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME PAULAAIRTIMEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME PAULAMANTLETIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME PAULAMANTLETIMEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME PAULAMANTLETIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME PAULAMANTLETIMEFULL
setactorvar[CHARACTERARRAY].CHARACTERAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTIME 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERSTEROIDSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERBOOTSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERHOLOTIME 0
setactorvar[CHARACTERARRAY].CHARACTERSCUBATIME 0
setactorvar[CHARACTERARRAY].CHARACTERQUADTIME 0
setactorvar[CHARACTERARRAY].CHARACTERINVULNTIME 0
setactorvar[CHARACTERARRAY].CHARACTERREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERAPREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERVAMPIRETIME 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO2 204
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERSHRINKINGRESIST 40
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 5000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 81 // 8.1%
setactorvar[CHARACTERARRAY].CHARACTERHASTETIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERREFRACTORTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERRAGNAROKTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERAQUAPROTECTTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER 0
// setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE PAULAHPGROWTHCURVE
// setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE PAULAAPGROWTHCURVE
// setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE PAULAATKGROWTHCURVE
// setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE PAULADEFGROWTHCURVE

ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE PAULAHPGROWTHCURVEBETA state sethpcurve-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE PAULAHPGROWTHCURVEFULL state sethpcurve-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE PAULAAPGROWTHCURVEBETA state setapcurve-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE PAULAAPGROWTHCURVEFULL state setapcurve-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE PAULAEPGROWTHCURVEBETA state setepcurve-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE PAULAEPGROWTHCURVEFULL state setepcurve-setvars }

ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE PAULAATKGROWTHCURVEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE PAULAATKGROWTHCURVEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE PAULADEFGROWTHCURVEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE PAULADEFGROWTHCURVEFULL
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTSUSED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTDUKE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTJACK 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTBUBSY 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTAMI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLOWANG 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTESSENCE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTTED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLISA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTCYBANIS 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTNETHRA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTPAULA -1
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLORI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMINAKO 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMYSTERY1 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMAKEN 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 0
setvar temp PAULALIFTSTRENGTHMAX
subvar temp PAULALIFTSTRENGTHMIN
randvarvar TEMPVAR temp
addvar TEMPVAR PAULALIFTSTRENGTHMIN
setactorvar[CHARACTERARRAY].CHARACTERLIFTSTRENGTH TEMPVAR
setactorvar[CHARACTERARRAY].CHARACTERENEMIESKILLED 0
setactorvar[CHARACTERARRAY].CHARACTERDEATHS 0
setactorvar[CHARACTERARRAY].CHARACTERAUTOHPREGENTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERAUTOEPREGENTIMER 390
setactorvar[CHARACTERARRAY].CHARACTERJUMPSTRENGTH PAULAJUMPSTRENGTH
setactorvar[CHARACTERARRAY].CHARACTERFALLRESIST PAULAFALLRESISTANCE

setvar CHARACTERARRAY 12 // Lori
setactorvar[CHARACTERARRAY].CHARACTERLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTEREXPPTS 0
setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 0

setactorvar[CHARACTERARRAY].CHARACTERMAXHP LORIHITPOINTSSTART state setmaxhpmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXAP LORIARMORPOINTSSTART state setmaxapmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXEP LORIENERGYPOINTSSTART state setmaxepmodifier-setvars

setactorvar[CHARACTERARRAY].CHARACTERFA 0
setactorvar[CHARACTERARRAY].CHARACTERATTACK LORIPHYSICALATTACK
setactorvar[CHARACTERARRAY].CHARACTERDEFENSE LORIPHYSICALDEFENSE
setactorvar[CHARACTERARRAY].CHARACTERSTATUS? 0
setactorvar[CHARACTERARRAY].CHARACTERAPABSORB 0
setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE LORICRITCHANCE
setactorvar[CHARACTERARRAY].CHARACTERSPEED LORISPEED
setactorvar[CHARACTERARRAY].CURRWEAPONCHARACTER 9
setactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD 545
setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME LORIAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME LORIAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME LORIMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME LORIMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTIME 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERSTEROIDSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERBOOTSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERHOLOTIME 0
setactorvar[CHARACTERARRAY].CHARACTERSCUBATIME 0
setactorvar[CHARACTERARRAY].CHARACTERQUADTIME 0
setactorvar[CHARACTERARRAY].CHARACTERINVULNTIME 0
setactorvar[CHARACTERARRAY].CHARACTERREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERAPREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERVAMPIRETIME 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO2 102
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO3 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO4 100
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO5 25
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO6 25
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO7 25
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO8 105
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO9 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO10 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO11 100
setactorvar[CHARACTERARRAY].CHARACTERSHRINKINGRESIST 35
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 5000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 81 // 8.1%
setactorvar[CHARACTERARRAY].CHARACTERHASTETIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERREFRACTORTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERRAGNAROKTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERAQUAPROTECTTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER 0

setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE LORIHPGROWTHCURVE state sethpcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE LORIAPGROWTHCURVE state setapcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE LORIEPGROWTHCURVE state setepcurve-setvars

setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE LORIATKGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE LORIDEFGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTSUSED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTDUKE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTJACK 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTBUBSY 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTAMI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLOWANG 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTESSENCE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTTED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLISA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTCYBANIS 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTNETHRA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTPAULA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLORI -1
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMINAKO 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMYSTERY1 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMAKEN 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 0
setvar temp LORILIFTSTRENGTHMAX
subvar temp LORILIFTSTRENGTHMIN
randvarvar TEMPVAR temp
addvar TEMPVAR LORILIFTSTRENGTHMIN
setactorvar[CHARACTERARRAY].CHARACTERLIFTSTRENGTH TEMPVAR
setactorvar[CHARACTERARRAY].CHARACTERENEMIESKILLED 0
setactorvar[CHARACTERARRAY].CHARACTERDEATHS 0
setactorvar[CHARACTERARRAY].CHARACTERAUTOHPREGENTIMER 60
setactorvar[CHARACTERARRAY].CHARACTERAUTOEPREGENTIMER 130
setactorvar[CHARACTERARRAY].CHARACTERJUMPSTRENGTH LORIJUMPSTRENGTH
setactorvar[CHARACTERARRAY].CHARACTERFALLRESIST LORIFALLRESISTANCE

setvar CHARACTERARRAY 13 // Minako
setactorvar[CHARACTERARRAY].CHARACTERLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTEREXPPTS 0
setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 0

setactorvar[CHARACTERARRAY].CHARACTERMAXHP MINAKOHITPOINTSSTART state setmaxhpmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXAP MINAKOARMORPOINTSSTART state setmaxapmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXEP MINAKOENERGYPOINTSSTART state setmaxepmodifier-setvars

setactorvar[CHARACTERARRAY].CHARACTERFA 0
setactorvar[CHARACTERARRAY].CHARACTERATTACK MINAKOPHYSICALATTACK
setactorvar[CHARACTERARRAY].CHARACTERDEFENSE MINAKOPHYSICALDEFENSE
setactorvar[CHARACTERARRAY].CHARACTERSTATUS? 0
setactorvar[CHARACTERARRAY].CHARACTERAPABSORB 0
setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE MINAKOCRITCHANCE
setactorvar[CHARACTERARRAY].CHARACTERSPEED MINAKOSPEED
setactorvar[CHARACTERARRAY].CURRWEAPONCHARACTER 3
setactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD 1517
setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME MINAKOAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME MINAKOAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME MINAKOMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME MINAKOMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTIME 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERSTEROIDSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERBOOTSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERHOLOTIME 0
setactorvar[CHARACTERARRAY].CHARACTERSCUBATIME 0
setactorvar[CHARACTERARRAY].CHARACTERQUADTIME 0
setactorvar[CHARACTERARRAY].CHARACTERINVULNTIME 0
setactorvar[CHARACTERARRAY].CHARACTERREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERAPREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERVAMPIRETIME 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERSHRINKINGRESIST 45
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 5000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 81 // 8.1%
setactorvar[CHARACTERARRAY].CHARACTERHASTETIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERREFRACTORTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERRAGNAROKTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERAQUAPROTECTTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER 0

setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE MINAKOHPGROWTHCURVE state sethpcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE MINAKOAPGROWTHCURVE state setapcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE MINAKOEPGROWTHCURVE state setepcurve-setvars

setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE MINAKOATKGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE MINAKODEFGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTSUSED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTDUKE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTJACK 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTBUBSY 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTAMI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLOWANG 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTESSENCE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTTED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLISA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTCYBANIS 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTNETHRA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTPAULA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLORI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMINAKO -1
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMYSTERY1 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMAKEN 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 0
setvar temp MINAKOLIFTSTRENGTHMAX
subvar temp MINAKOLIFTSTRENGTHMIN
randvarvar TEMPVAR temp
addvar TEMPVAR MINAKOLIFTSTRENGTHMIN
setactorvar[CHARACTERARRAY].CHARACTERLIFTSTRENGTH TEMPVAR
setactorvar[CHARACTERARRAY].CHARACTERENEMIESKILLED 0
setactorvar[CHARACTERARRAY].CHARACTERDEATHS 0
setactorvar[CHARACTERARRAY].CHARACTERAUTOHPREGENTIMER 100
setactorvar[CHARACTERARRAY].CHARACTERAUTOEPREGENTIMER 520
setactorvar[CHARACTERARRAY].CHARACTERJUMPSTRENGTH MINAKOJUMPSTRENGTH
setactorvar[CHARACTERARRAY].CHARACTERFALLRESIST MINAKOFALLRESISTANCE

setvar CHARACTERARRAY 14 // "Mystery Lady"
setactorvar[CHARACTERARRAY].CHARACTERLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTEREXPPTS 0
setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 0

ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERMAXHP MYSTERY1HITPOINTSSTARTBETA state setmaxhpmodifier-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERMAXHP MYSTERY1HITPOINTSSTARTFULL state setmaxhpmodifier-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERMAXAP MYSTERY1ARMORPOINTSSTARTBETA state setmaxapmodifier-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERMAXAP MYSTERY1ARMORPOINTSSTARTFULL state setmaxapmodifier-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERMAXEP MYSTERY1ENERGYPOINTSSTARTBETA state setmaxepmodifier-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERMAXEP MYSTERY1ENERGYPOINTSSTARTFULL state setmaxepmodifier-setvars }

setactorvar[CHARACTERARRAY].CHARACTERFA 0
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERATTACK MYSTERY1PHYSICALATTACKBETA
                else setactorvar[CHARACTERARRAY].CHARACTERATTACK MYSTERY1PHYSICALATTACKFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERDEFENSE MYSTERY1PHYSICALDEFENSEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERDEFENSE MYSTERY1PHYSICALDEFENSEFULL
setactorvar[CHARACTERARRAY].CHARACTERSTATUS? 0
setactorvar[CHARACTERARRAY].CHARACTERAPABSORB 0
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE MYSTERY1CRITCHANCEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE MYSTERY1CRITCHANCEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERSPEED MYSTERY1SPEEDBETA
                else setactorvar[CHARACTERARRAY].CHARACTERSPEED MYSTERY1SPEEDFULL
setactorvar[CHARACTERARRAY].CURRWEAPONCHARACTER 2
setactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD 2047
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME MYSTERY1AIRTIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME MYSTERY1AIRTIMEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME MYSTERY1AIRTIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME MYSTERY1AIRTIMEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME MYSTERY1MANTLETIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME MYSTERY1MANTLETIMEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME MYSTERY1MANTLETIMEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME MYSTERY1MANTLETIMEFULL
setactorvar[CHARACTERARRAY].CHARACTERAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAIRJUMPS 1
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTIME 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERSTEROIDSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERBOOTSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERHOLOTIME 0
setactorvar[CHARACTERARRAY].CHARACTERSCUBATIME 0
setactorvar[CHARACTERARRAY].CHARACTERQUADTIME 0
setactorvar[CHARACTERARRAY].CHARACTERINVULNTIME 0
setactorvar[CHARACTERARRAY].CHARACTERREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERAPREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERVAMPIRETIME 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO2 408
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO3 100
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO4 400
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO5 100
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO6 100
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO7 100
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO8 100
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO9 20
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO10 200
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO11 400
setactorvar[CHARACTERARRAY].CHARACTERSHRINKINGRESIST 85
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 5000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 81 // 8.1%
setactorvar[CHARACTERARRAY].CHARACTERHASTETIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERREFRACTORTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERRAGNAROKTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERAQUAPROTECTTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER 0

ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE MYSTERY1HPGROWTHCURVEBETA state sethpcurve-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE MYSTERY1HPGROWTHCURVEFULL state sethpcurve-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE MYSTERY1APGROWTHCURVEBETA state setapcurve-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE MYSTERY1APGROWTHCURVEFULL state setapcurve-setvars }
ifvare PUBLICBETA? 1 { setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE MYSTERY1EPGROWTHCURVEBETA state setepcurve-setvars }
                else { setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE MYSTERY1EPGROWTHCURVEFULL state setepcurve-setvars }

ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE MYSTERY1ATKGROWTHCURVEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE MYSTERY1ATKGROWTHCURVEFULL
ifvare PUBLICBETA? 1 setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE MYSTERY1DEFGROWTHCURVEBETA
                else setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE MYSTERY1DEFGROWTHCURVEFULL
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTSUSED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTDUKE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTJACK 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTBUBSY 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTAMI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLOWANG 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTESSENCE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTTED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLISA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTCYBANIS 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTNETHRA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTPAULA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLORI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMINAKO 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMYSTERY1 -1
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMAKEN 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 0
setvar temp MYSTERY1LIFTSTRENGTHMAX
subvar temp MYSTERY1LIFTSTRENGTHMIN
randvarvar TEMPVAR temp
addvar TEMPVAR MYSTERY1LIFTSTRENGTHMIN
setactorvar[CHARACTERARRAY].CHARACTERLIFTSTRENGTH TEMPVAR
setactorvar[CHARACTERARRAY].CHARACTERENEMIESKILLED 0
setactorvar[CHARACTERARRAY].CHARACTERDEATHS 0
setactorvar[CHARACTERARRAY].CHARACTERAUTOHPREGENTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERAUTOEPREGENTIMER 650
setactorvar[CHARACTERARRAY].CHARACTERJUMPSTRENGTH MYSTERY1JUMPSTRENGTH
setactorvar[CHARACTERARRAY].CHARACTERFALLRESIST MYSTERY1FALLRESISTANCE

setvar CHARACTERARRAY 15 // Maken
setactorvar[CHARACTERARRAY].CHARACTERLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL 1
setactorvar[CHARACTERARRAY].CHARACTEREXPPTS 0
setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 0

setactorvar[CHARACTERARRAY].CHARACTERMAXHP MAKENHITPOINTSSTART state setmaxhpmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXAP MAKENARMORPOINTSSTART state setmaxapmodifier-setvars
setactorvar[CHARACTERARRAY].CHARACTERMAXEP MAKENENERGYPOINTSSTART state setmaxepmodifier-setvars

setactorvar[CHARACTERARRAY].CHARACTERFA 0
setactorvar[CHARACTERARRAY].CHARACTERATTACK MAKENPHYSICALATTACK
setactorvar[CHARACTERARRAY].CHARACTERDEFENSE MAKENPHYSICALDEFENSE
setactorvar[CHARACTERARRAY].CHARACTERSTATUS? 0
setactorvar[CHARACTERARRAY].CHARACTERAPABSORB 0
setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE MAKENCRITCHANCE
setactorvar[CHARACTERARRAY].CHARACTERSPEED MAKENSPEED
setactorvar[CHARACTERARRAY].CURRWEAPONCHARACTER 3
setactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD 297
setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME MAKENAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME MAKENAIRTIME
setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME MAKENMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME MAKENMANTLETIME
setactorvar[CHARACTERARRAY].CHARACTERAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAIRJUMPS 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTIME 0
setactorvar[CHARACTERARRAY].CHARACTERJETPACKTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME 0
setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTOGGLE 0
setactorvar[CHARACTERARRAY].CHARACTERSTEROIDSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERBOOTSTIME 0
setactorvar[CHARACTERARRAY].CHARACTERHOLOTIME 0
setactorvar[CHARACTERARRAY].CHARACTERSCUBATIME 0
setactorvar[CHARACTERARRAY].CHARACTERQUADTIME 0
setactorvar[CHARACTERARRAY].CHARACTERINVULNTIME 0
setactorvar[CHARACTERARRAY].CHARACTERREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERAPREGENTIME 0
setactorvar[CHARACTERARRAY].CHARACTERVAMPIRETIME 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERAMMO2 12
setactorvar[CHARACTERARRAY].CHARACTERAMMO3 10
setactorvar[CHARACTERARRAY].CHARACTERAMMO4 50
setactorvar[CHARACTERARRAY].CHARACTERAMMO5 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO6 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO7 5
setactorvar[CHARACTERARRAY].CHARACTERAMMO8 15
setactorvar[CHARACTERARRAY].CHARACTERAMMO9 1
setactorvar[CHARACTERARRAY].CHARACTERAMMO10 25
setactorvar[CHARACTERARRAY].CHARACTERAMMO11 20
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO1 0
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO2 24
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO3 20
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO4 100
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO5 10
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO6 10
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO7 10
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO8 30
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO9 2
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO10 50
setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO11 40
setactorvar[CHARACTERARRAY].CHARACTERSHRINKINGRESIST 70
setactorvar[CHARACTERARRAY].CHARACTERHASTETIMER 0
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 5000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 81 // 8.1%
setactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERREFRACTORTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERRAGNAROKTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERAQUAPROTECTTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER 0
setactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER 0

setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE MAKENHPGROWTHCURVE state sethpcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE MAKENAPGROWTHCURVE state setapcurve-setvars
setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE MAKENEPGROWTHCURVE state setepcurve-setvars

setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE MAKENATKGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE MAKENDEFGROWTHCURVE
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTSUSED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTDUKE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTJACK 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTBUBSY 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTAMI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLOWANG 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTESSENCE 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTTED 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLISA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTCYBANIS 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTNETHRA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTPAULA 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTLORI 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMINAKO 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMYSTERY1 0
setactorvar[CHARACTERARRAY].CHARACTERSUPPORTMAKEN -1
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 0 // 5 [Official]
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 0
setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 0
setvar temp MAKENLIFTSTRENGTHMAX
subvar temp MAKENLIFTSTRENGTHMIN
randvarvar TEMPVAR temp
addvar TEMPVAR MAKENLIFTSTRENGTHMIN
setactorvar[CHARACTERARRAY].CHARACTERLIFTSTRENGTH TEMPVAR
setactorvar[CHARACTERARRAY].CHARACTERENEMIESKILLED 0
setactorvar[CHARACTERARRAY].CHARACTERDEATHS 0
setactorvar[CHARACTERARRAY].CHARACTERAUTOHPREGENTIMER 60
setactorvar[CHARACTERARRAY].CHARACTERAUTOEPREGENTIMER 130
setactorvar[CHARACTERARRAY].CHARACTERJUMPSTRENGTH MAKENJUMPSTRENGTH
setactorvar[CHARACTERARRAY].CHARACTERFALLRESIST MAKENFALLRESISTANCE


// NON-PLAYER CHARACTER ARRAYS [ATM ACCOUNTS, ETC]

setvar CHARACTERARRAY 257 // President Clinton [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 857550
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 114 // 11.4%

setvar CHARACTERARRAY 258 // Vice-President Gore [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 328506
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 36
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 106 // 10.6%

setvar CHARACTERARRAY 259 // George Broussard [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 359486
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 27
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 103 // 10.3%

setvar CHARACTERARRAY 260 // Stephen Hornback [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 143862
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 15
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 96 // 9.6%

setvar CHARACTERARRAY 261 // Jim Norwood [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 98387
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 31
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 86 // 8.6%

setvar CHARACTERARRAY 262 // Frank Maddin [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 102641
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 73
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 97 // 9.7%

setvar CHARACTERARRAY 263 // Stephen Cole [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 34854
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 74
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 85 // 8.5%

setvar CHARACTERARRAY 264 // Lani Minella [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 133321
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 31
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 96 // 9.6%

setvar CHARACTERARRAY 265 // Joe Siegler [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 134954
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 83
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 89 // 8.9%

setvar CHARACTERARRAY 266 // Lee Jackson [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 110334
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 66
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 93 // 9.3%

setvar CHARACTERARRAY 267 // Chuck Jones [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 94936
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 69
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 107 // 10.7%

setvar CHARACTERARRAY 268 // Keith Schuler [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 79623
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 88
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 88 // 8.8%

setvar CHARACTERARRAY 269 // Randy Pitchford II [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 239435
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 76
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 125 // 12.5%

setvar CHARACTERARRAY 270 // Brian Martel [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 79438
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 12
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 86 // 8.6%

setvar CHARACTERARRAY 271 // Snake Plissken [Cameo-NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 3664
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 89 // 8.9%

setvar CHARACTERARRAY 272 // Indiana Jones [Cameo-NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 98653
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 32
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 84 // 8.4%

setvar CHARACTERARRAY 273 // Gen. Gregory Graves [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 158302
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 9
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 94 // 9.4%

setvar CHARACTERARRAY 274 // Donald Harrison [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 42750
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 43
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 87 // 8.7%

setvar CHARACTERARRAY 275 // Cameron Bates [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 95000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 118 // 11.8%

setvar CHARACTERARRAY 276 // Kasey Shinkara [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 64500
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 105 // 10.5%

setvar CHARACTERARRAY 277 // Victoria Bates [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 976480
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 55
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 157 // 15.7%

setvar CHARACTERARRAY 278 // Harold Bates [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 16394377
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 85
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 148 // 14.8%

setvar CHARACTERARRAY 279 // John R. Blade [Special 'Joke' Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 0
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 0 // 0.0%

setvar CHARACTERARRAY 280 // Elexis Sinclaire [Special 'Joke' Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 9490041
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 0 // 0.0%

setvar CHARACTERARRAY 281 // Jerold Bates [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 3296421
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 31
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 148 // 14.8%

setvar CHARACTERARRAY 282 // Ness Itoi [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 9999999
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 99
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 122 // 12.2%

setvar CHARACTERARRAY 283 // Veronnica Herrera [Staff Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 700
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 42 // 4.2%

setvar CHARACTERARRAY 284 // "Jason Monroe" [Staff Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 3000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 42 // 4.2%

setvar CHARACTERARRAY 285 // Sean Gauthier [Staff Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 900000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 42 // 4.2%

setvar CHARACTERARRAY 286 // Daniel Gaskill [Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 732576
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 72
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 42 // 4.2%

setvar CHARACTERARRAY 287 // William Gee [Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 333737
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 64
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 42 // 4.2%

setvar CHARACTERARRAY 288 // James Stanfield [Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 75000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 42 // 4.2%

setvar CHARACTERARRAY 289 // Richard Gobeille [Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 1048576
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 32
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 42 // 4.2%

setvar CHARACTERARRAY 290 // Pierre-Loup Griffais [Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 524288
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 64
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 42 // 4.2%

setvar CHARACTERARRAY 291 // Johnathon Fowler [Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 262144
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 80
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 42 // 4.2%

setvar CHARACTERARRAY 292 // Matt Saettler [Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 4194304
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 8
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 42 // 4.2%

setvar CHARACTERARRAY 293 // David Wolfe [Staff Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 2582273
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 49
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 42 // 4.2%

setvar CHARACTERARRAY 294 // Chantelle Sundeen [Staff Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 72756
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 78
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 42 // 4.2%

setvar CHARACTERARRAY 295 // Callum Sanderson [Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 300
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 2
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 42 // 4.2%

setvar CHARACTERARRAY 296 // Ian Burton [Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 99392
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 73
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 42 // 4.2%

setvar CHARACTERARRAY 297 // Daniel Lazar [Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 3141592
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 65
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 42 // 4.2%

setvar CHARACTERARRAY 298 // Merlijn Van Oostrum [Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 6666666
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 66
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 42 // 4.2%

setvar CHARACTERARRAY 299 // Maarten Van Oostrum [Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 15666828
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 42 // 4.2%

setvar CHARACTERARRAY 300 // Cody Dowdle [Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 1000000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 1
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 42 // 4.2%

setvar CHARACTERARRAY 301 // Samuel Lawson [Staff Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 8675309
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 42 // 4.2%

setvar CHARACTERARRAY 302 // Edward Maldoras [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 834
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 23
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 96 // 9.6%

setvar CHARACTERARRAY 303 // Jennifer Maldoras [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 83734
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 98
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 113 // 11.3%

setvar CHARACTERARRAY 304 // Todd Shinkara [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 321
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 87
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 100 // 10.0%

setvar CHARACTERARRAY 305 // Rachel Shinkara [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 285
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 74
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 97 // 9.7%

setvar CHARACTERARRAY 306 // David Walker [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 754
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 10
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 83 // 8.3%

setvar CHARACTERARRAY 307 // Edwina Walker [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 754
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 10
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 78 // 7.8%

setvar CHARACTERARRAY 308 // Daisy Davis [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 4829
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 76
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 89 // 8.9%

setvar CHARACTERARRAY 309 // Duke Davis Sr. [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 38245
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 31
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 127 // 12.7%

setvar CHARACTERARRAY 310 // Francine Davis [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 643
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 99
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 154 // 15.4%

setvar CHARACTERARRAY 311 // Yahnzee Tyrell [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 1947
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 36
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 82 // 8.2%

setvar CHARACTERARRAY 312 // Matei Hakaisha [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 24500
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 6
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 108 // 10.8%

setvar CHARACTERARRAY 313 // Tensi-Yoka Hakaisha [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 907
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 50
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 75 // 7.5%

setvar CHARACTERARRAY 314 // Usagi Tsukino [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 3842
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 35
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 74 // 7.4%

setvar CHARACTERARRAY 315 // Rei Hino [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 2576
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 21
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 72 // 7.2%

setvar CHARACTERARRAY 316 // Makoto Kino [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 5463
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 63
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 88 // 8.8%

setvar CHARACTERARRAY 317 // Torian Stevens [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 1244
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 82
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 89 // 8.9%

setvar CHARACTERARRAY 318 // Kristen Morrison [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 984
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 73
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 90 // 9.0%

setvar CHARACTERARRAY 319 // Larry Cameron [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 1081
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 39
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 88 // 8.8%

setvar CHARACTERARRAY 320 // Anthony Reimos [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 1351
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 73
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 91 // 9.1%

setvar CHARACTERARRAY 321 // Katrina Anderson [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 456
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 37
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 93 // 9.3%

setvar CHARACTERARRAY 322 // Terrance Bobcat [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 873
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 46
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 64 // 6.4%

setvar CHARACTERARRAY 323 // Teresa Bobcat [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 1192
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 42
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 65 // 6.5%

setvar CHARACTERARRAY 324 // Victor Elecmire [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 278652404
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 87 // 8.7%

setvar CHARACTERARRAY 325 // William Blazkowicz II [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 873
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 46
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 76 // 7.6%

setvar CHARACTERARRAY 326 // Mortimer McMire [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 1192
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 42
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 80 // 8.0%

setvar CHARACTERARRAY 327 // Molly McMire [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 78460
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 32
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 147 // 14.7%

setvar CHARACTERARRAY 328 // Merilyn Bates [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 8374513
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 24
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 148 // 14.8%

setvar CHARACTERARRAY 329 // Jesus Medina [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 103
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 34
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 79 // 7.9%

setvar CHARACTERARRAY 330 // Marcus Collier [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 136
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 45
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 83 // 8.3%

setvar CHARACTERARRAY 331 // Larry Huggins [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 98
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 54
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 78 // 7.8%

setvar CHARACTERARRAY 332 // Glenn Cox [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 124
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 24
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 82 // 8.2%

setvar CHARACTERARRAY 333 // Darius Jefferies [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 219
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 92
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 95 // 9.5%

setvar CHARACTERARRAY 334 // Ramone Deggaris [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 205000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 34
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 101 // 10.1%

setvar CHARACTERARRAY 335 // Dillard L. Blake [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 43000
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 93
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 94 // 9.4%

setvar CHARACTERARRAY 336 // Tankanori Zilla [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 38385673
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 34
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 186 // 18.6%

setvar CHARACTERARRAY 337 // Natsuken Zilla [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 924394
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 12
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 101 // 10.1%

setvar CHARACTERARRAY 338 // Caleb Valiant [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 34
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 13
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 65 // 6.5%

setvar CHARACTERARRAY 339 // "John Robert Foster" [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 16
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 2
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 87 // 8.7%

setvar CHARACTERARRAY 340 // Ion Zerman [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 83503
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 32
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 81 // 8.1%

setvar CHARACTERARRAY 341 // Kenneth Fertang [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 36418
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 93
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 82 // 8.2%

setvar CHARACTERARRAY 342 // Quenton Stephens [NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 137800
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 104 // 10.4%

setvar CHARACTERARRAY 343 // Philipp Kutin [Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 681
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 74
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 91 // 9.1%

setvar CHARACTERARRAY 344 // Norwell Dylan [Cameo-NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 124785
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 53
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 80 // 8.0%

setvar CHARACTERARRAY 345 // Barbara Shelman [Cameo-NPC]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 23736
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 87
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 87 // 8.7%

setvar CHARACTERARRAY 346 // Kyle Belanger [Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 584
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 43
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 83 // 8.3%

setvar CHARACTERARRAY 347 // Marc Goldstein [Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 1280
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 64
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 86 // 8.6%

setvar CHARACTERARRAY 348 // Anthony Goldstein [Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 2561
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 28
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 92 // 9.2%

setvar CHARACTERARRAY 349 // Marcus Sparacio [Cameo]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 1621
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 69
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 103 // 10.3%

/*
setvar CHARACTERARRAY ? // ?
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 0 // [not yet determined]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0 // [not yet determined]
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 81 // 8.1%

setvar CHARACTERARRAY ? // ?
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 0 // [not yet determined]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0 // [not yet determined]
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 81 // 8.1%

setvar CHARACTERARRAY ? // ?
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS 0 // [not yet determined]
setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS 0 // [not yet determined]
setactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE 81 // 8.1%
*/


// SET ITEM AMOUNTS

state checktelecoils setvar ITEMARRAYID_AMOUNTTEMP 8 state setitemidarrayamount

// END ARRAYS FOR STATS IN FUTURE

setvarvar TEMPVAR MAXHITPOINTS
mulvarvar TEMPVAR STARTSTATMULTI divvarvar TEMPVAR STARTSTATDIVISOR
ifvarl TEMPVAR 1 setvar TEMPVAR 1
ifvarvarg TEMPVAR STATLIMIT setvarvar TEMPVAR STATLIMIT
setvarvar MAXHITPOINTS TEMPVAR

setvarvar TEMPVAR MAXARMORPOINTS
mulvarvar TEMPVAR STARTSTATMULTI divvarvar TEMPVAR STARTSTATDIVISOR
ifvarl TEMPVAR 1 setvar TEMPVAR 1
ifvarvarg TEMPVAR STATLIMIT setvarvar TEMPVAR STATLIMIT
setvarvar MAXARMORPOINTS TEMPVAR

setvarvar TEMPVAR MAXENERGYPOINTS
mulvarvar TEMPVAR STARTSTATMULTI divvarvar TEMPVAR STARTSTATDIVISOR
ifvarl TEMPVAR 1 setvar TEMPVAR 1
ifvarvarg TEMPVAR STATLIMIT setvarvar TEMPVAR STATLIMIT
setvarvar MAXENERGYPOINTS TEMPVAR

// setvarvar CURRENTHITPOINTS MAXHITPOINTS
// setvarvar CURRENTENERGYPOINTS MAXENERGYPOINTS
addlogvar CURRENTENERGYPOINTS

ends

//

state energycost_check
   // Check for Yin-Yang Orbs [Reduce EP consumption for skills and attacks by 20% each]
   setvar DAMAGEMODIFIER 1000
   ifvarg INVENTORYSLOTMAX 0 getactorvar[SKILLUSERARRAY].CHARACTEREQUIPSLOTITEM1 ENERGYCOST_CHECKER else setvar ENERGYCOST_CHECKER -1
   ifvare ENERGYCOST_CHECKER 27 subvar DAMAGEMODIFIER 200
   ifvarg INVENTORYSLOTMAX 1 getactorvar[SKILLUSERARRAY].CHARACTEREQUIPSLOTITEM2 ENERGYCOST_CHECKER else setvar ENERGYCOST_CHECKER -1
   ifvare ENERGYCOST_CHECKER 27 subvar DAMAGEMODIFIER 200
   ifvarg INVENTORYSLOTMAX 2 getactorvar[SKILLUSERARRAY].CHARACTEREQUIPSLOTITEM3 ENERGYCOST_CHECKER else setvar ENERGYCOST_CHECKER -1
   ifvare ENERGYCOST_CHECKER 27 subvar DAMAGEMODIFIER 200
   ifvarg INVENTORYSLOTMAX 3 getactorvar[SKILLUSERARRAY].CHARACTEREQUIPSLOTITEM4 ENERGYCOST_CHECKER else setvar ENERGYCOST_CHECKER -1
   ifvare ENERGYCOST_CHECKER 27 subvar DAMAGEMODIFIER 200
   ifvarg INVENTORYSLOTMAX 4 getactorvar[SKILLUSERARRAY].CHARACTEREQUIPSLOTITEM5 ENERGYCOST_CHECKER else setvar ENERGYCOST_CHECKER -1
   ifvare ENERGYCOST_CHECKER 27 subvar DAMAGEMODIFIER 200
   ifvarg INVENTORYSLOTMAX 5 getactorvar[SKILLUSERARRAY].CHARACTEREQUIPSLOTITEM6 ENERGYCOST_CHECKER else setvar ENERGYCOST_CHECKER -1
   ifvare ENERGYCOST_CHECKER 27 subvar DAMAGEMODIFIER 200
   ifvarg INVENTORYSLOTMAX 6 getactorvar[SKILLUSERARRAY].CHARACTEREQUIPSLOTITEM7 ENERGYCOST_CHECKER else setvar ENERGYCOST_CHECKER -1
   ifvare ENERGYCOST_CHECKER 27 subvar DAMAGEMODIFIER 200
   ifvarg INVENTORYSLOTMAX 7 getactorvar[SKILLUSERARRAY].CHARACTEREQUIPSLOTITEM8 ENERGYCOST_CHECKER else setvar ENERGYCOST_CHECKER -1
   ifvare ENERGYCOST_CHECKER 27 subvar DAMAGEMODIFIER 200

   ifvarl DAMAGEMODIFIER 0 setvar DAMAGEMODIFIER 0
   mulvarvar ENERGYCOST_TEMP DAMAGEMODIFIER
   divvar ENERGYCOST_TEMP 1000

   // Assures abilities which are toggleable remain free [cost 0 EP] to turn off, even if the EP cheat is turned on,
   setvar TEMP2 0
   ifvarand TEMP 32 addvar TEMP2 1 // Triad Refractor
   ifvarand TEMP 64 addvar TEMP2 1 // Triad Ragnarok
   ifvarand TEMP 256 addvar TEMP2 1 // Mercury Aqua Protection
   ifvarand TEMP 2048 addvar TEMP2 1 // Triad Blitzkrieg
   ifvarg TEMP2 0 { ifvarl ENERGYCOST_TEMP 0 setvar ENERGYCOST_TEMP 0 }
   else { ifvarl ENERGYCOST_TEMP 1 setvar ENERGYCOST_TEMP 1 }
ends

state secretrecipecheck_text
               // Check Secret Recipes [Permenant Boost Item]
               state checksecretrecipes
               ifvarvarg PARTYSIZE ITEMARRAYID_AMOUNTTEMP setvarvar TEMP6 ITEMARRAYID_AMOUNTTEMP else setvarvar TEMP6 PARTYSIZE
               mulvar TEMP6 2 // 2% per item
               addvar TEMP6 100

               mulvarvar TEMP7 TEMP6
               divvar TEMP7 100
ends

state stockownership_check
 // Check Stock Ownerships [Permenant Boost Item]
 state checkstockownerships
 ifvarvarg PARTYSIZE ITEMARRAYID_AMOUNTTEMP setvarvar TEMP6 ITEMARRAYID_AMOUNTTEMP else setvarvar TEMP6 PARTYSIZE
 mulvar TEMP6 2 // 2% per item
 addvar TEMP6 100

 mulvarvar TEMP7 TEMP6
 divvar TEMP7 100
ends

state calcbank_interests2
 getactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS MISCARRAYID_AMOUNTTEMP
 getactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS MISCARRAYID_AMOUNTTEMP2
 getactorvar[CHARACTERARRAY].CHARACTERATMINTERESTRATE TEMP7

 // ONLY PLAYABLK CHARACTERS' ACCOUNTS BENEFIT FROM HAVING STOCK OWNERSHIPS AND THEY MUST BE IN THE GROUP FOR IT TO WORK
 ifvare CHARACTERARRAY 1 { ifvare DUKE? 1 state stockownership_check }
 ifvare CHARACTERARRAY 2 { ifvare JACK? 1 state stockownership_check }
 ifvare CHARACTERARRAY 3 { ifvare BUBSY? 1 state stockownership_check }
 ifvare CHARACTERARRAY 4 { ifvare AMI? 1 state stockownership_check }
 ifvare CHARACTERARRAY 5 { ifvare LOWANG? 1 state stockownership_check }
 ifvare CHARACTERARRAY 6 { ifvare ESSENCE? 1 state stockownership_check }
 ifvare CHARACTERARRAY 7 { ifvare TED? 1 state stockownership_check }
 ifvare CHARACTERARRAY 8 { ifvare LISA? 1 state stockownership_check }
 ifvare CHARACTERARRAY 9 { ifvare CYBANIS? 1 state stockownership_check }
 ifvare CHARACTERARRAY 10 { ifvare NETHRA? 1 state stockownership_check }
 ifvare CHARACTERARRAY 11 { ifvare PAULA? 1 state stockownership_check }
 ifvare CHARACTERARRAY 12 { ifvare LORI? 1 state stockownership_check }
 ifvare CHARACTERARRAY 13 { ifvare MINAKO? 1 state stockownership_check }
 ifvare CHARACTERARRAY 14 { ifvare MYSTERY1? 1 state stockownership_check }
 ifvare CHARACTERARRAY 15 { ifvare MAKEN? 1 state stockownership_check }

 setvarvar TEMP6 MISCARRAYID_AMOUNTTEMP
 ifvarg TEMP6 21474836 setvar TEMP6 21474836
 mulvarvar TEMP6 TEMP7
 divvar TEMP6 1000
 ifvarl MISCARRAYID_AMOUNTTEMP 2000000000 addvarvar MISCARRAYID_AMOUNTTEMP TEMP6
 ifvarg MISCARRAYID_AMOUNTTEMP 2000000000 setvar MISCARRAYID_AMOUNTTEMP 2000000000

 setvarvar TEMP6 MISCARRAYID_AMOUNTTEMP2
 ifvarg TEMP6 21474836 setvar TEMP6 21474836
 mulvarvar TEMP6 TEMP7
 divvar TEMP6 1000
 ifvarl MISCARRAYID_AMOUNTTEMP 2000000000 addvarvar MISCARRAYID_AMOUNTTEMP2 TEMP6
 ifvarg MISCARRAYID_AMOUNTTEMP 1999999999 setvar MISCARRAYID_AMOUNTTEMP2 0

 ifvarg MISCARRAYID_AMOUNTTEMP2 100
 {
  addvar MISCARRAYID_AMOUNTTEMP 1
  subvar MISCARRAYID_AMOUNTTEMP2 100
  ifvarg MISCARRAYID_AMOUNTTEMP 1999999999 setvar MISCARRAYID_AMOUNTTEMP2 0
 }
 setactorvar[CHARACTERARRAY].CHARACTERATMMONEYDOLLARS MISCARRAYID_AMOUNTTEMP
 setactorvar[CHARACTERARRAY].CHARACTERATMMONEYCENTS MISCARRAYID_AMOUNTTEMP2
ends

state safelockboxcheck_atmscreen
  setvarvar TEMP4 INTERESTINTERVAL

  state checksafelockboxes
  ifvarvarg PARTYSIZE ITEMARRAYID_AMOUNTTEMP setvarvar TEMP6 ITEMARRAYID_AMOUNTTEMP else setvarvar TEMP6 PARTYSIZE
  mulvar TEMP6 -2 // 2% per item  
  addvar TEMP6 100
  mulvarvar TEMP4 TEMP6
  divvar TEMP4 100
ends

state safelockboxcheck
  state checksafelockboxes
  ifvarvarg PARTYSIZE ITEMARRAYID_AMOUNTTEMP setvarvar TEMP6 ITEMARRAYID_AMOUNTTEMP else setvarvar TEMP6 PARTYSIZE
  mulvar TEMP6 -2 // 2% per item  
  addvar TEMP6 100
  mulvarvar INTERESTINTERVAL TEMP6
  divvar INTERESTINTERVAL 100
ends

state calcbank_interests
 ifvare mainmenu 0 ifvarn TIMERRAWFORMAT 0
 {
  setvarvar INTERESTTIMER TIMERRAWFORMAT
  ifvare PUBLICBETA? 1
  {
   ifvare SKILLLEVEL 0 setvar INTERESTINTERVAL 9360	// 6 Minutes
   ifvare SKILLLEVEL 1 setvar INTERESTINTERVAL 18720	// 12 Minutes
   ifvare SKILLLEVEL 2 setvar INTERESTINTERVAL 28080	// 18 Minutes
   ifvare SKILLLEVEL 3 setvar INTERESTINTERVAL 37440	// 24 Minutes
   ifvare SKILLLEVEL 4 setvar INTERESTINTERVAL 46800	// 30 Minutes
   ifvare SKILLLEVEL 5 setvar INTERESTINTERVAL 56160	// 36 Minutes
   ifvare SKILLLEVEL 6 setvar INTERESTINTERVAL 65520	// 42 Minutes
   ifvare SKILLLEVEL 7 setvar INTERESTINTERVAL 74880	// 48 Minutes
   ifvare SKILLLEVEL 8 setvar INTERESTINTERVAL 84240 	// 54 Minutes
   ifvare SKILLLEVEL 9 setvar INTERESTINTERVAL 93600 	// 60 Minutes
   // 26=1sec; 1560=1min(60sec); 15600=10min(600sec), 46800=30min(1800sec), 93600=60min(3600sec)
  }
  else setvar INTERESTINTERVAL 51480 // 33 Minutes
//  setvar INTERESTINTERVAL 390 // For Testing Only
  setvarvar INTERESTINTERVAL2 INTERESTINTERVAL

  // NPC/Cameos' Accounts
  modvarvar INTERESTTIMER INTERESTINTERVAL
  ifvare INTERESTTIMER 0
  {
   ifvare DUKE? 0 { setvar CHARACTERARRAY 1 state calcbank_interests2 }
   ifvare JACK? 0 { setvar CHARACTERARRAY 2 state calcbank_interests2 }
   ifvare BUBSY? 0 { setvar CHARACTERARRAY 3 state calcbank_interests2 }
   ifvare AMI? 0 { setvar CHARACTERARRAY 4 state calcbank_interests2 }
   ifvare LOWANG? 0 { setvar CHARACTERARRAY 5 state calcbank_interests2 }
   ifvare ESSENCE? 0 { setvar CHARACTERARRAY 6 state calcbank_interests2 }
   ifvare TED? 0 { setvar CHARACTERARRAY 7 state calcbank_interests2 }
   ifvare LISA? 0 { setvar CHARACTERARRAY 8 state calcbank_interests2 }
   ifvare CYBANIS? 0 { setvar CHARACTERARRAY 9 state calcbank_interests2 }
   ifvare NETHRA? 0 { setvar CHARACTERARRAY 10 state calcbank_interests2 }
   ifvare PAULA? 0 { setvar CHARACTERARRAY 11 state calcbank_interests2 }
   ifvare LORI? 0 { setvar CHARACTERARRAY 12 state calcbank_interests2 }
   ifvare MINAKO? 0 { setvar CHARACTERARRAY 13 state calcbank_interests2 }
   ifvare MYSTERY1? 0 { setvar CHARACTERARRAY 14 state calcbank_interests2 }
   ifvare MAKEN? 0 { setvar CHARACTERARRAY 15 state calcbank_interests2 }
   // Fill in Here
   setvar CHARACTERARRAY 257 state calcbank_interests2
   setvar CHARACTERARRAY 258 state calcbank_interests2
   setvar CHARACTERARRAY 259 state calcbank_interests2
   setvar CHARACTERARRAY 260 state calcbank_interests2
   setvar CHARACTERARRAY 261 state calcbank_interests2
   setvar CHARACTERARRAY 262 state calcbank_interests2
   setvar CHARACTERARRAY 263 state calcbank_interests2
   setvar CHARACTERARRAY 264 state calcbank_interests2
   setvar CHARACTERARRAY 265 state calcbank_interests2
   setvar CHARACTERARRAY 266 state calcbank_interests2
   setvar CHARACTERARRAY 267 state calcbank_interests2
   setvar CHARACTERARRAY 268 state calcbank_interests2
   setvar CHARACTERARRAY 269 state calcbank_interests2
   setvar CHARACTERARRAY 270 state calcbank_interests2
   setvar CHARACTERARRAY 271 state calcbank_interests2
   setvar CHARACTERARRAY 272 state calcbank_interests2
   setvar CHARACTERARRAY 273 state calcbank_interests2
   setvar CHARACTERARRAY 274 state calcbank_interests2
   setvar CHARACTERARRAY 275 state calcbank_interests2
   setvar CHARACTERARRAY 276 state calcbank_interests2
   setvar CHARACTERARRAY 277 state calcbank_interests2
   setvar CHARACTERARRAY 278 state calcbank_interests2
   setvar CHARACTERARRAY 279 state calcbank_interests2
   setvar CHARACTERARRAY 280 state calcbank_interests2
   setvar CHARACTERARRAY 281 state calcbank_interests2
   setvar CHARACTERARRAY 282 state calcbank_interests2
   setvar CHARACTERARRAY 283 state calcbank_interests2
   setvar CHARACTERARRAY 284 state calcbank_interests2
   setvar CHARACTERARRAY 285 state calcbank_interests2
   setvar CHARACTERARRAY 286 state calcbank_interests2
   setvar CHARACTERARRAY 287 state calcbank_interests2
   setvar CHARACTERARRAY 288 state calcbank_interests2
   setvar CHARACTERARRAY 289 state calcbank_interests2
   setvar CHARACTERARRAY 290 state calcbank_interests2
   setvar CHARACTERARRAY 291 state calcbank_interests2
   setvar CHARACTERARRAY 292 state calcbank_interests2
   setvar CHARACTERARRAY 293 state calcbank_interests2
   setvar CHARACTERARRAY 294 state calcbank_interests2
   setvar CHARACTERARRAY 295 state calcbank_interests2
   setvar CHARACTERARRAY 296 state calcbank_interests2
   setvar CHARACTERARRAY 297 state calcbank_interests2
   setvar CHARACTERARRAY 298 state calcbank_interests2
   setvar CHARACTERARRAY 299 state calcbank_interests2
   setvar CHARACTERARRAY 300 state calcbank_interests2
   setvar CHARACTERARRAY 301 state calcbank_interests2
   setvar CHARACTERARRAY 302 state calcbank_interests2
   setvar CHARACTERARRAY 303 state calcbank_interests2
   setvar CHARACTERARRAY 304 state calcbank_interests2
   setvar CHARACTERARRAY 305 state calcbank_interests2
   setvar CHARACTERARRAY 306 state calcbank_interests2
   setvar CHARACTERARRAY 307 state calcbank_interests2
   setvar CHARACTERARRAY 308 state calcbank_interests2
   setvar CHARACTERARRAY 309 state calcbank_interests2
   setvar CHARACTERARRAY 310 state calcbank_interests2
   setvar CHARACTERARRAY 311 state calcbank_interests2
   setvar CHARACTERARRAY 312 state calcbank_interests2
   setvar CHARACTERARRAY 313 state calcbank_interests2
   setvar CHARACTERARRAY 314 state calcbank_interests2
   setvar CHARACTERARRAY 315 state calcbank_interests2
   setvar CHARACTERARRAY 316 state calcbank_interests2
   setvar CHARACTERARRAY 317 state calcbank_interests2
   setvar CHARACTERARRAY 318 state calcbank_interests2
   setvar CHARACTERARRAY 319 state calcbank_interests2
   setvar CHARACTERARRAY 320 state calcbank_interests2
   setvar CHARACTERARRAY 321 state calcbank_interests2
   setvar CHARACTERARRAY 322 state calcbank_interests2
   setvar CHARACTERARRAY 323 state calcbank_interests2
   setvar CHARACTERARRAY 324 state calcbank_interests2
   setvar CHARACTERARRAY 325 state calcbank_interests2
   setvar CHARACTERARRAY 326 state calcbank_interests2
   setvar CHARACTERARRAY 327 state calcbank_interests2
   setvar CHARACTERARRAY 328 state calcbank_interests2
   setvar CHARACTERARRAY 329 state calcbank_interests2
   setvar CHARACTERARRAY 330 state calcbank_interests2
   setvar CHARACTERARRAY 331 state calcbank_interests2
   setvar CHARACTERARRAY 332 state calcbank_interests2
   setvar CHARACTERARRAY 333 state calcbank_interests2
   setvar CHARACTERARRAY 334 state calcbank_interests2
   setvar CHARACTERARRAY 335 state calcbank_interests2
   setvar CHARACTERARRAY 336 state calcbank_interests2
   setvar CHARACTERARRAY 337 state calcbank_interests2
   setvar CHARACTERARRAY 338 state calcbank_interests2
   setvar CHARACTERARRAY 339 state calcbank_interests2
   setvar CHARACTERARRAY 340 state calcbank_interests2
   setvar CHARACTERARRAY 341 state calcbank_interests2
   setvar CHARACTERARRAY 342 state calcbank_interests2
   setvar CHARACTERARRAY 343 state calcbank_interests2
   setvar CHARACTERARRAY 344 state calcbank_interests2
   setvar CHARACTERARRAY 345 state calcbank_interests2
   setvar CHARACTERARRAY 346 state calcbank_interests2
   setvar CHARACTERARRAY 347 state calcbank_interests2
   setvar CHARACTERARRAY 348 state calcbank_interests2
   setvar CHARACTERARRAY 349 state calcbank_interests2
   setvar CHARACTERARRAY 350 state calcbank_interests2
   setvar CHARACTERARRAY 351 state calcbank_interests2
   setvar CHARACTERARRAY 352 state calcbank_interests2
   setvar CHARACTERARRAY 353 state calcbank_interests2
   setvar CHARACTERARRAY 354 state calcbank_interests2
   setvar CHARACTERARRAY 355 state calcbank_interests2
   setvar CHARACTERARRAY 356 state calcbank_interests2
   // Fill in Here
  }

  setvarvar INTERESTTIMER TIMERRAWFORMAT
  ifvare PUBLICBETA? 1
  {
   ifvare SKILLLEVEL 0 setvar INTERESTINTERVAL 9360	// 6 Minutes
   ifvare SKILLLEVEL 1 setvar INTERESTINTERVAL 18720	// 12 Minutes
   ifvare SKILLLEVEL 2 setvar INTERESTINTERVAL 28080	// 18 Minutes
   ifvare SKILLLEVEL 3 setvar INTERESTINTERVAL 37440	// 24 Minutes
   ifvare SKILLLEVEL 4 setvar INTERESTINTERVAL 46800	// 30 Minutes
   ifvare SKILLLEVEL 5 setvar INTERESTINTERVAL 56160	// 36 Minutes
   ifvare SKILLLEVEL 6 setvar INTERESTINTERVAL 65520	// 42 Minutes
   ifvare SKILLLEVEL 7 setvar INTERESTINTERVAL 74880	// 48 Minutes
   ifvare SKILLLEVEL 8 setvar INTERESTINTERVAL 84240 	// 54 Minutes
   ifvare SKILLLEVEL 9 setvar INTERESTINTERVAL 93600 	// 60 Minutes
   // 26=1sec; 1560=1min(60sec); 15600=10min(600sec), 46800=30min(1800sec), 93600=60min(3600sec)
  }
  else setvar INTERESTINTERVAL 51480 // 33 Minutes
//  setvar INTERESTINTERVAL 390 // For Testing Only
  // Check Stock Ownerships [Permenant Boost Item]
  state safelockboxcheck

  // For Playable Characters
  modvarvar INTERESTTIMER INTERESTINTERVAL
  ifvare INTERESTTIMER 0
  {
   ifvare DUKE? 1 { setvar CHARACTERARRAY 1 state calcbank_interests2 }
   ifvare JACK? 1 { setvar CHARACTERARRAY 2 state calcbank_interests2 }
   ifvare BUBSY? 1 { setvar CHARACTERARRAY 3 state calcbank_interests2 }
   ifvare AMI? 1 { setvar CHARACTERARRAY 4 state calcbank_interests2 }
   ifvare LOWANG? 1 { setvar CHARACTERARRAY 5 state calcbank_interests2 }
   ifvare ESSENCE? 1 { setvar CHARACTERARRAY 6 state calcbank_interests2 }
   ifvare TED? 1 { setvar CHARACTERARRAY 7 state calcbank_interests2 }
   ifvare LISA? 1 { setvar CHARACTERARRAY 8 state calcbank_interests2 }
   ifvare CYBANIS? 1 { setvar CHARACTERARRAY 9 state calcbank_interests2 }
   ifvare NETHRA? 1 { setvar CHARACTERARRAY 10 state calcbank_interests2 }
   ifvare PAULA? 1 { setvar CHARACTERARRAY 11 state calcbank_interests2 }
   ifvare LORI? 1 { setvar CHARACTERARRAY 12 state calcbank_interests2 }
   ifvare MINAKO? 1 { setvar CHARACTERARRAY 13 state calcbank_interests2 }
   ifvare MYSTERY1? 1 { setvar CHARACTERARRAY 14 state calcbank_interests2 }
   ifvare MAKEN? 1 { setvar CHARACTERARRAY 15 state calcbank_interests2 }
  }
 }
ends

state determineitemmultipliers
 ifvare PUBLICBETA? 1
 {
  ifrnd 232 nullop
  else
  {
   ifrnd 200 
   {
    getactorvar[RETURN].ACTORFLAGS TEMPVAR
    ifvarand TEMPVAR 128 nullop else addvar TEMPVAR 128
    setactorvar[RETURN].ACTORFLAGS TEMPVAR
   }
   else
   {
    ifrnd 200
    {
     getactorvar[RETURN].ACTORFLAGS TEMPVAR
     ifvarand TEMPVAR 256 nullop else addvar TEMPVAR 256
     setactorvar[RETURN].ACTORFLAGS TEMPVAR
    }
    else
    {
     getactorvar[RETURN].ACTORFLAGS TEMPVAR
     ifvarand TEMPVAR 384 nullop else addvar TEMPVAR 384
     setactorvar[RETURN].ACTORFLAGS TEMPVAR
    }
   }
  }
 }
 else
 {
  ifrnd 248 nullop
  else
  {
   ifrnd 234 
   {
    getactorvar[RETURN].ACTORFLAGS TEMPVAR
    ifvarand TEMPVAR 128 nullop else addvar TEMPVAR 128
    setactorvar[RETURN].ACTORFLAGS TEMPVAR
   }
   else
   {
    ifrnd 234
    {
     getactorvar[RETURN].ACTORFLAGS TEMPVAR
     ifvarand TEMPVAR 256 nullop else addvar TEMPVAR 256
     setactorvar[RETURN].ACTORFLAGS TEMPVAR
    }
    else
    {
     getactorvar[RETURN].ACTORFLAGS TEMPVAR
     ifvarand TEMPVAR 384 nullop else addvar TEMPVAR 384
     setactorvar[RETURN].ACTORFLAGS TEMPVAR
    }
   }
  }
 }
ends

state determinebonussizes
  ifrnd 240 nullop
  else
  {
   ifrnd 212 setactor[RETURN].pal 3
   else setactor[RETURN].pal 9
  }
ends

state scatterdrops
   // Scatters item drops so they're not all on top of each other after spawn
   ifvarn RETURN -1
   {
    setactorvar[RETURN].ITEMDROPPEDTIME 13
    getactor[RETURN].picnum temp
    ifvarg temp 0 ifvarl temp 11 nullop
    else
    {
     setvar MISCARRAYID 227 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // RANDOMSPAWN-MOVEMENT
     setvar MISCARRAYID 224 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP2 // RANDOMSPAWN-X
     getactor[RETURN].x MISCARRAYID_AMOUNTTEMP2
     ifvare temp ENERGYCELL_MEDIUM { randvar MISCARRAYID_AMOUNTTEMP 112 addvar MISCARRAYID_AMOUNTTEMP 16 }
     else ifvare temp ENERGYCELL_LARGE { randvar MISCARRAYID_AMOUNTTEMP 168 addvar MISCARRAYID_AMOUNTTEMP 24 }
     else ifvare temp GEMRINGSILVER { randvar MISCARRAYID_AMOUNTTEMP 140 addvar MISCARRAYID_AMOUNTTEMP 20 }
     else ifvare temp GEMRINGGOLD { randvar MISCARRAYID_AMOUNTTEMP 140 addvar MISCARRAYID_AMOUNTTEMP 20 }
     else { randvar MISCARRAYID_AMOUNTTEMP 56 addvar MISCARRAYID_AMOUNTTEMP 8 }
     randvar TEMPVAR5 4 addvar TEMPVAR5 4
     ifactor MYSTERYBOX mulvarvar MISCARRAYID_AMOUNTTEMP TEMPVAR5
     ifrnd 128 addvarvar MISCARRAYID_AMOUNTTEMP2 MISCARRAYID_AMOUNTTEMP else subvarvar MISCARRAYID_AMOUNTTEMP2 MISCARRAYID_AMOUNTTEMP
     setactor[RETURN].x MISCARRAYID_AMOUNTTEMP2
     setvar MISCARRAYID 224 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP2 // RANDOMSPAWN-X
     setvar MISCARRAYID 227 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // RANDOMSPAWN-MOVEMENT
 
     setvar MISCARRAYID 227 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // RANDOMSPAWN-MOVEMENT
     setvar MISCARRAYID 225 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP2 // RANDOMSPAWN-Y
     getactor[RETURN].y MISCARRAYID_AMOUNTTEMP2
     ifvare temp ENERGYCELL_MEDIUM { randvar MISCARRAYID_AMOUNTTEMP 112 addvar MISCARRAYID_AMOUNTTEMP 16 }
     else ifvare temp ENERGYCELL_LARGE { randvar MISCARRAYID_AMOUNTTEMP 168 addvar MISCARRAYID_AMOUNTTEMP 24 }
     else ifvare temp GEMRINGSILVER { randvar MISCARRAYID_AMOUNTTEMP 140 addvar MISCARRAYID_AMOUNTTEMP 20 }
     else ifvare temp GEMRINGGOLD { randvar MISCARRAYID_AMOUNTTEMP 140 addvar MISCARRAYID_AMOUNTTEMP 20 }
     else { randvar MISCARRAYID_AMOUNTTEMP 56 addvar MISCARRAYID_AMOUNTTEMP 8 }
     randvar TEMPVAR5 4 addvar TEMPVAR5 4
     ifactor MYSTERYBOX mulvarvar MISCARRAYID_AMOUNTTEMP TEMPVAR5
     ifrnd 128 addvarvar MISCARRAYID_AMOUNTTEMP2 MISCARRAYID_AMOUNTTEMP else subvarvar MISCARRAYID_AMOUNTTEMP2 MISCARRAYID_AMOUNTTEMP
     setactor[RETURN].y MISCARRAYID_AMOUNTTEMP2
     setvar MISCARRAYID 225 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP2 // RANDOMSPAWN-Y
     setvar MISCARRAYID 227 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // RANDOMSPAWN-MOVEMENT
    }
    state determineitemmultipliers
   }
ends

state gemring_drops
  // Randomize Jewel Drops
  ifvare oldskoolmode 0
  {
   randvar TEMPVAR3 999 addvar TEMPVAR3 1 // x.x% system [950 = 95.0%]

   // Randomize Ring Type [Silver or Gold?]
   ifvare PUBLICBETA? 0
   {
    ifvare SKILLLEVEL 0 setvar TEMPVAR4 100
    ifvare SKILLLEVEL 1 setvar TEMPVAR4 100
    ifvare SKILLLEVEL 2 setvar TEMPVAR4 50
    ifvare SKILLLEVEL 3 setvar TEMPVAR4 50
    ifvare SKILLLEVEL 4 setvar TEMPVAR4 50
    ifvare SKILLLEVEL 5 setvar TEMPVAR4 50
    ifvare SKILLLEVEL 6 setvar TEMPVAR4 50
    ifvare SKILLLEVEL 7 setvar TEMPVAR4 50
    ifvare SKILLLEVEL 8 setvar TEMPVAR4 50
    ifvare SKILLLEVEL 9 setvar TEMPVAR4 50
   }
   else
   {
    ifvare SKILLLEVEL 0 setvar TEMPVAR4 150
    ifvare SKILLLEVEL 1 setvar TEMPVAR4 150
    ifvare SKILLLEVEL 2 setvar TEMPVAR4 100
    ifvare SKILLLEVEL 3 setvar TEMPVAR4 100
    ifvare SKILLLEVEL 4 setvar TEMPVAR4 100
    ifvare SKILLLEVEL 5 setvar TEMPVAR4 100
    ifvare SKILLLEVEL 6 setvar TEMPVAR4 50
    ifvare SKILLLEVEL 7 setvar TEMPVAR4 50
    ifvare SKILLLEVEL 8 setvar TEMPVAR4 50
    ifvare SKILLLEVEL 9 setvar TEMPVAR4 50
   }

   // Gemstone Crowns [Equippable Item] (Increase chance of Gold Ring drop over Silver Ring drop by 10% each)
   ifvare PLAYEREQUIPSLOTITEM1 20 addvar TEMPVAR4 100
   ifvare PLAYEREQUIPSLOTITEM2 20 addvar TEMPVAR4 100
   ifvare PLAYEREQUIPSLOTITEM3 20 addvar TEMPVAR4 100
   ifvare PLAYEREQUIPSLOTITEM4 20 addvar TEMPVAR4 100
   ifvare PLAYEREQUIPSLOTITEM5 20 addvar TEMPVAR4 100
   ifvare PLAYEREQUIPSLOTITEM6 20 addvar TEMPVAR4 100
   ifvare PLAYEREQUIPSLOTITEM7 20 addvar TEMPVAR4 100
   ifvare PLAYEREQUIPSLOTITEM8 20 addvar TEMPVAR4 100

   ifvarvarg TEMPVAR3 TEMPVAR4 espawn GEMRINGSILVER else espawn GEMRINGGOLD
   ifvarn RETURN -1
   {
    // Randomize Gem Type
    randvar TEMPVAR5 2 addvar TEMPVAR5 1
    ifvarand ACTORFLAGS 512 subvar TEMPVAR5 1
    ifvarl TEMPVAR5 1 setvar TEMPVAR5 1
    ifvarg TEMPVAR5 1 setactor[RETURN].pal 11 // Zircon Gem
    else
    {
     randvar TEMPVAR5 2 addvar TEMPVAR5 1
     ifvarand ACTORFLAGS 512 subvar TEMPVAR5 1
     ifvarl TEMPVAR5 1 setvar TEMPVAR5 1
     ifvarg TEMPVAR5 1 setactor[RETURN].pal 16 // Aquamarine Gem
     else
     {
      randvar TEMPVAR5 2 addvar TEMPVAR5 1
      ifvarand ACTORFLAGS 512 subvar TEMPVAR5 1
      ifvarl TEMPVAR5 1 setvar TEMPVAR5 1
      ifvarg TEMPVAR5 1 setactor[RETURN].pal 0 // Turquiose Gem
      else
      {
       randvar TEMPVAR5 2 addvar TEMPVAR5 1
       ifvarand ACTORFLAGS 512 subvar TEMPVAR5 1
       ifvarl TEMPVAR5 1 setvar TEMPVAR5 1
       ifvarg TEMPVAR5 1 setactor[RETURN].pal 14 // Emerald Gem
       else
       {
        randvar TEMPVAR5 2 addvar TEMPVAR5 1
        ifvarand ACTORFLAGS 512 subvar TEMPVAR5 1
        ifvarl TEMPVAR5 1 setvar TEMPVAR5 1
        ifvarg TEMPVAR5 1 setactor[RETURN].pal 21 // Garnet Gem
        else
        {
         randvar TEMPVAR5 2 addvar TEMPVAR5 1
         ifvarand ACTORFLAGS 512 subvar TEMPVAR5 1
         ifvarl TEMPVAR5 1 setvar TEMPVAR5 1
         ifvarg TEMPVAR5 1 setactor[RETURN].pal 10 // Ruby Gem
         else
         {
          randvar TEMPVAR5 2 addvar TEMPVAR5 1
          ifvarand ACTORFLAGS 512 subvar TEMPVAR5 1
          ifvarl TEMPVAR5 1 setvar TEMPVAR5 1
          ifvarg TEMPVAR5 1 setactor[RETURN].pal 23 // Citrine Gem
          else setactor[RETURN].pal 12 // Diamond Gem
         }
        }
       }
      }
     }
    }
    state scatterdrops
   }   
  }
ends

state enemy_raredrop1
  globalsound RAREDROP_LESSER
ends

state enemy_raredrop2
  globalsound RAREDROP_GREATER
ends

state enemyrare_drops
ifvare oldskoolmode 0
{
 //**************************************
 //*Special/Rare Drops [Monster Specfic]*
 //**************************************
  setvarvar TEMPVAR6 AVERAGELEVEL
  ifvare PUBLICBETA? 1
  {
   mulvar TEMPVAR6 48
   divvar TEMPVAR6 100
   addvar TEMPVAR6 16
  }
  else
  {
   mulvar TEMPVAR6 7 divvar TEMPVAR6 8
   mulvar TEMPVAR6 60 // +12
   divvar TEMPVAR6 125 // +25
   addvar TEMPVAR6 12 // -4
  }

  // Chance of a drop is always 1/16 or greater [on Public-Beta], depending on level
  setvar RNDMIZERLIMIT 256
  subvarvar RNDMIZERLIMIT TEMPVAR6

  ifvare PUBLICBETA? 1 { ifvarl RNDMIZERLIMIT 8 setvar RNDMIZERLIMIT 8 } else { ifvarl RNDMIZERLIMIT 32 setvar RNDMIZERLIMIT 32 }
  state rndmizer256
  ifvarvarg RNDMIZER RNDMIZERLIMIT
  {
   
/*
   addvar SOUNDPITCH 768
   setplayer[THISACTOR].sound_pitch SOUNDPITCH
   globalsound ICE_EXPLODE
   addvar SOUNDPITCH -768
   setplayer[THISACTOR].sound_pitch SOUNDPITCH
*/

   // Shark
   ifactor SHARK
   {
    ifspritepal 24 // BloodTooth Shark
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 250 { state enemy_raredrop1 espawn MEDPACK state scatterdrops }
      else { state enemy_raredrop2 espawn SUNRING state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 244 { state enemy_raredrop1 espawn MEDPACK state scatterdrops }
      else { state enemy_raredrop2 espawn SUNRING state scatterdrops }
     } 
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 238 { state enemy_raredrop1 espawn MEDPACK state scatterdrops }
      else { state enemy_raredrop2 espawn SUNRING state scatterdrops }
     }
    }
    else // Normal Sharks
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 250 { state enemy_raredrop1 espawn COLA state scatterdrops }
      else { state enemy_raredrop2 espawn AQUARING state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 244 { state enemy_raredrop1 espawn COLA state scatterdrops }
      else { state enemy_raredrop2 espawn AQUARING state scatterdrops }
     } 
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 238 { state enemy_raredrop1 espawn COLA state scatterdrops }
      else { state enemy_raredrop2 espawn AQUARING state scatterdrops }
     }
    }
   }

   // Turret Guns
   ifactor ROTATEGUN
   {
    ifspritepal 19 // RPG Turret
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 250 { state enemy_raredrop1 espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 10 setactorvar[RETURN].ARMORISUSED? 1 state scatterdrops } }
      else { state enemy_raredrop2 espawn HOLODUKE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 244 { state enemy_raredrop1 espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 10 setactorvar[RETURN].ARMORISUSED? 1 state scatterdrops } }
      else { state enemy_raredrop2 espawn HOLODUKE state scatterdrops }
     } 
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 238 { state enemy_raredrop1 espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 10 setactorvar[RETURN].ARMORISUSED? 1 state scatterdrops } }
      else { state enemy_raredrop2 espawn HOLODUKE state scatterdrops }
     }
    }
    else
    ifspritepal 17 // Shotgun Turret
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 250 { state enemy_raredrop1 espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 16 setactorvar[RETURN].ARMORISUSED? 1 state scatterdrops } }
      else { state enemy_raredrop2 espawn HOLODUKE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 244 { state enemy_raredrop1 espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 16 setactorvar[RETURN].ARMORISUSED? 1 state scatterdrops } }
      else { state enemy_raredrop2 espawn HOLODUKE state scatterdrops }
     } 
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 238 { state enemy_raredrop1 espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 16 setactorvar[RETURN].ARMORISUSED? 1 state scatterdrops } }
      else { state enemy_raredrop2 espawn HOLODUKE state scatterdrops }
     }
    }
    else // Normal Turret
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 250 { state enemy_raredrop1 espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 14 setactorvar[RETURN].ARMORISUSED? 1 state scatterdrops } }
      else { state enemy_raredrop2 espawn HOLODUKE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 244 { state enemy_raredrop1 espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 14 setactorvar[RETURN].ARMORISUSED? 1 state scatterdrops } }
      else { state enemy_raredrop2 espawn HOLODUKE state scatterdrops }
     } 
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 238 { state enemy_raredrop1 espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 14 setactorvar[RETURN].ARMORISUSED? 1 state scatterdrops } }
      else { state enemy_raredrop2 espawn HOLODUKE state scatterdrops }
     }
    }
   }

   // Scorpion Tank
   ifactor SCORPIONTANK // Energy Incurment [Rare] & Random Riot Tank Capsule [Common]
   {
    ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
    {
     ifrnd 250 { state enemy_raredrop1 espawn REDTANKCAPSULE state scatterdrops espawn BLUETANKCAPSULE state scatterdrops espawn GREENTANKCAPSULE state scatterdrops }
     else { state enemy_raredrop2 espawn ENERGYINCURMENT state scatterdrops }
    }
    else
    ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
    {
     ifrnd 244 { state enemy_raredrop1 espawn REDTANKCAPSULE state scatterdrops espawn BLUETANKCAPSULE state scatterdrops espawn GREENTANKCAPSULE state scatterdrops }
     else { state enemy_raredrop2 espawn ENERGYINCURMENT state scatterdrops }
    } 
    else
    ifvarg AVERAGELEVEL 66
    {
     ifrnd 238 { state enemy_raredrop1 espawn REDTANKCAPSULE state scatterdrops espawn BLUETANKCAPSULE state scatterdrops espawn GREENTANKCAPSULE state scatterdrops }
     else { state enemy_raredrop2 espawn ENERGYINCURMENT state scatterdrops }
    }
   }

   // Riot Tank
   ifactor TANK
   {
    ifspritepal 19 // Red = 8 Red Riot Tank Capsules [Rare] & Red Riot Tank Capsule [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 250 { state enemy_raredrop1 espawn REDTANKCAPSULE state scatterdrops }
      else { state enemy_raredrop2 espawn REDTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn REDTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn REDTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn REDTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 244 { state enemy_raredrop1 espawn REDTANKCAPSULE state scatterdrops }
      else { state enemy_raredrop2 espawn REDTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn REDTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn REDTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn REDTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops }
     } 
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 238 { state enemy_raredrop1 espawn REDTANKCAPSULE state scatterdrops }
      else { state enemy_raredrop2 espawn REDTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn REDTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn REDTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn REDTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops }
     }
    }
    else
    ifspritepal 17 // Blue = 8 Blue Riot Tank Capsules [Rare] & Blue Riot Tank Capsule [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 250 { state enemy_raredrop1 espawn BLUETANKCAPSULE state scatterdrops }
      else { state enemy_raredrop2 espawn BLUETANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn BLUETANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn BLUETANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn BLUETANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 244 { state enemy_raredrop1 espawn BLUETANKCAPSULE state scatterdrops }
      else { state enemy_raredrop2 espawn BLUETANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn BLUETANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn BLUETANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn BLUETANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops }
     } 
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 238 { state enemy_raredrop1 espawn BLUETANKCAPSULE state scatterdrops }
      else { state enemy_raredrop2 espawn BLUETANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn BLUETANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn BLUETANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn BLUETANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops }
     }
    }
    else // 8 Green Riot Tank Capsules [Rare] & Green Riot Tank Capsule [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 250 { state enemy_raredrop1 espawn GREENTANKCAPSULE state scatterdrops }
      else { state enemy_raredrop2 espawn GREENTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn GREENTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn GREENTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn GREENTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 244 { state enemy_raredrop1 espawn GREENTANKCAPSULE state scatterdrops }
      else { state enemy_raredrop2 espawn GREENTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn GREENTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn GREENTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn GREENTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops }
     } 
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 238 { state enemy_raredrop1 espawn GREENTANKCAPSULE state scatterdrops }
      else { state enemy_raredrop2 espawn GREENTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn GREENTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn GREENTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops espawn GREENTANKCAPSULE setactorvar[RETURN].ACTORFLAGS 384 state scatterdrops }
     }
    }
   }

   // Queen
   ifactor BOSS4
   {
    ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
    {
     ifrnd 244 { state enemy_raredrop1 espawn GEMRINGSILVER setactor[RETURN].pal 12 setactorvar[RETURN].ACTORNATURALPAL 12 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
     else { state enemy_raredrop2 espawn GEMRINGGOLD setactor[RETURN].pal 12 setactorvar[RETURN].ACTORNATURALPAL 12 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
    }
    else
    ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
    {
     ifrnd 232 { state enemy_raredrop1 espawn GEMRINGSILVER setactor[RETURN].pal 12 setactorvar[RETURN].ACTORNATURALPAL 12 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
     else { state enemy_raredrop2 espawn GEMRINGGOLD setactor[RETURN].pal 12 setactorvar[RETURN].ACTORNATURALPAL 12 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
    }
    else
    ifvarg AVERAGELEVEL 66
    {
     ifrnd 220 { state enemy_raredrop1 espawn GEMRINGSILVER setactor[RETURN].pal 12 setactorvar[RETURN].ACTORNATURALPAL 12 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
     else { state enemy_raredrop2 espawn GEMRINGGOLD setactor[RETURN].pal 12 setactorvar[RETURN].ACTORNATURALPAL 12 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
    }
   }

   // Protector Drone
   ifactor NEWBEAST
   {
    ifspritepal 20 // Greater = Ruby Ring (Gold) [Rare] & Ruby Ring (Silver) [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 250 { state enemy_raredrop1 espawn GEMRINGSILVER setactor[RETURN].pal 10 setactorvar[RETURN].ACTORNATURALPAL 10 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
      else { state enemy_raredrop2 espawn GEMRINGGOLD setactor[RETURN].pal 10 setactorvar[RETURN].ACTORNATURALPAL 10 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 244 { state enemy_raredrop1 espawn GEMRINGSILVER setactor[RETURN].pal 10 setactorvar[RETURN].ACTORNATURALPAL 10 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
      else { state enemy_raredrop2 espawn GEMRINGGOLD setactor[RETURN].pal 10 setactorvar[RETURN].ACTORNATURALPAL 10 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 238 { state enemy_raredrop1 espawn GEMRINGSILVER setactor[RETURN].pal 10 setactorvar[RETURN].ACTORNATURALPAL 10 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
      else { state enemy_raredrop2 espawn GEMRINGGOLD setactor[RETURN].pal 10 setactorvar[RETURN].ACTORNATURALPAL 10 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
     }
    }
    else
    ifspritepal 17 // Lesser = Garnet Ring (Gold) [Rare] & Garnet Ring (Silver) [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 252 { state enemy_raredrop1 espawn GEMRINGSILVER setactor[RETURN].pal 21 setactorvar[RETURN].ACTORNATURALPAL 21 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
      else { state enemy_raredrop2 espawn GEMRINGGOLD setactor[RETURN].pal 21 setactorvar[RETURN].ACTORNATURALPAL 21 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 248 { state enemy_raredrop1 espawn GEMRINGSILVER setactor[RETURN].pal 21 setactorvar[RETURN].ACTORNATURALPAL 21 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
      else { state enemy_raredrop2 espawn GEMRINGGOLD setactor[RETURN].pal 21 setactorvar[RETURN].ACTORNATURALPAL 21 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 244 { state enemy_raredrop1 espawn GEMRINGSILVER setactor[RETURN].pal 21 setactorvar[RETURN].ACTORNATURALPAL 21 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
      else { state enemy_raredrop2 espawn GEMRINGGOLD setactor[RETURN].pal 21 setactorvar[RETURN].ACTORNATURALPAL 21 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
     }
    }
    else // Normal = Emerald Ring (Gold) [Rare] & Emerald Ring (Silver) [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 254 { state enemy_raredrop1 espawn GEMRINGSILVER setactor[RETURN].pal 14 setactorvar[RETURN].ACTORNATURALPAL 14 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
      else { state enemy_raredrop2 espawn GEMRINGGOLD setactor[RETURN].pal 14 setactorvar[RETURN].ACTORNATURALPAL 14 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 252 { state enemy_raredrop1 espawn GEMRINGSILVER setactor[RETURN].pal 14 setactorvar[RETURN].ACTORNATURALPAL 14 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
      else { state enemy_raredrop2 espawn GEMRINGGOLD setactor[RETURN].pal 14 setactorvar[RETURN].ACTORNATURALPAL 14 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 250 { state enemy_raredrop1 espawn GEMRINGSILVER setactor[RETURN].pal 14 setactorvar[RETURN].ACTORNATURALPAL 14 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
      else { state enemy_raredrop2 espawn GEMRINGGOLD setactor[RETURN].pal 14 setactorvar[RETURN].ACTORNATURALPAL 14 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
     }
    }
   }

   // Overlord
   ifactor BOSS3
   {
    ifspritepal 24 // ESS = EXP Badge [Rare] & Potentylene [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 250 { state enemy_raredrop1 espawn FAUXLEVELUP state scatterdrops }
      else { state enemy_raredrop2 espawn EXPBADGE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 244 { state enemy_raredrop1 espawn FAUXLEVELUP state scatterdrops }
      else { state enemy_raredrop2 espawn EXPBADGE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 238 { state enemy_raredrop1 espawn FAUXLEVELUP state scatterdrops }
      else { state enemy_raredrop2 espawn EXPBADGE state scatterdrops }
     }
    }
    else
    ifspritepal 0 // Normal = EXP Badge [Rare] & "Random Powerup" [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 250 { state enemy_raredrop1 espawn RANDOMPOWERUP state scatterdrops }
      else { state enemy_raredrop2 espawn EXPBADGE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 244 { state enemy_raredrop1 espawn RANDOMPOWERUP state scatterdrops }
      else { state enemy_raredrop2 espawn EXPBADGE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 238 { state enemy_raredrop1 espawn RANDOMPOWERUP state scatterdrops }
      else { state enemy_raredrop2 espawn EXPBADGE state scatterdrops }
     }
    }
    else
    ifspritepal 3 // Normal = EXP Badge [Rare] & "Random Powerup" [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 250 { state enemy_raredrop1 espawn RANDOMPOWERUP state scatterdrops }
      else { state enemy_raredrop2 espawn EXPBADGE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 244 { state enemy_raredrop1 espawn RANDOMPOWERUP state scatterdrops }
      else { state enemy_raredrop2 espawn EXPBADGE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 238 { state enemy_raredrop1 espawn RANDOMPOWERUP state scatterdrops }
      else { state enemy_raredrop2 espawn EXPBADGE state scatterdrops }
     }
    }
    else // Mini = EXP Badge [Rare] & Portable Medikit [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 250 { state enemy_raredrop1 espawn FIRSTAID state scatterdrops }
      else { state enemy_raredrop2 espawn EXPBADGE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 244 { state enemy_raredrop1 espawn FIRSTAID state scatterdrops }
      else { state enemy_raredrop2 espawn EXPBADGE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 238 { state enemy_raredrop1 espawn FIRSTAID state scatterdrops }
      else { state enemy_raredrop2 espawn EXPBADGE state scatterdrops }
     }
    }
   }

   // Battlelord
   ifactor BOSS1
   {
    ifspritepal 24 // ESS = Rank Badge [Rare] & Super Atom [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 250 { state enemy_raredrop1 espawn SUPERATOM state scatterdrops }
      else { state enemy_raredrop2 espawn RANKBADGE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 244 { state enemy_raredrop1 espawn SUPERATOM state scatterdrops }
      else { state enemy_raredrop2 espawn RANKBADGE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 238 { state enemy_raredrop1 espawn SUPERATOM state scatterdrops }
      else { state enemy_raredrop2 espawn RANKBADGE state scatterdrops }
     }
    }
    else
    ifspritepal 0 // Normal = Rank Badge [Rare] & Resurrection Chalice [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 252 { state enemy_raredrop1 espawn RESURRECTIONCHALICE state scatterdrops }
      else { state enemy_raredrop2 espawn RANKBADGE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 248 { state enemy_raredrop1 espawn RESURRECTIONCHALICE state scatterdrops }
      else { state enemy_raredrop2 espawn RANKBADGE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 244 { state enemy_raredrop1 espawn RESURRECTIONCHALICE state scatterdrops }
      else { state enemy_raredrop2 espawn RANKBADGE state scatterdrops }
     }
    }
    else
    ifspritepal 3 // Normal = Rank Badge [Rare] & Resurrection Chalice [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 252 { state enemy_raredrop1 espawn RESURRECTIONCHALICE state scatterdrops }
      else { state enemy_raredrop2 espawn RANKBADGE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 248 { state enemy_raredrop1 espawn RESURRECTIONCHALICE state scatterdrops }
      else { state enemy_raredrop2 espawn RANKBADGE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 244 { state enemy_raredrop1 espawn RESURRECTIONCHALICE state scatterdrops }
      else { state enemy_raredrop2 espawn RANKBADGE state scatterdrops }
     }
    }
    else // Mini = Rank Badge [Rare] & Super Armor [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 252 { state enemy_raredrop1 espawn SUPERSHIELD state scatterdrops }
      else { state enemy_raredrop2 espawn RANKBADGE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 250 { state enemy_raredrop1 espawn SUPERSHIELD state scatterdrops }
      else { state enemy_raredrop2 espawn RANKBADGE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 248 { state enemy_raredrop1 espawn SUPERSHIELD state scatterdrops }
      else { state enemy_raredrop2 espawn RANKBADGE state scatterdrops }
     }
    }
   }

   // Assault Commander
   ifactor COMMANDER
   {
    ifspritepal 24 nullop // Baalo [Boss] = None
    else
    ifspritepal 25 // Leader = Iron Rune [Rare] & Super Armor (Used) [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 248 { state enemy_raredrop1 espawn SUPERSHIELD setactorvar[RETURN].ARMORISUSED? 1 state scatterdrops }
      else { state enemy_raredrop2 espawn IRONRUNE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 240 { state enemy_raredrop1 espawn SUPERSHIELD setactorvar[RETURN].ARMORISUSED? 1 state scatterdrops }
      else { state enemy_raredrop2 espawn IRONRUNE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 232 { state enemy_raredrop1 espawn SUPERSHIELD setactorvar[RETURN].ARMORISUSED? 1 state scatterdrops }
      else { state enemy_raredrop2 espawn IRONRUNE state scatterdrops }
     }
    }
    else
    ifspritepal 14 // General = Iron Rune [Rare] & Random Armor (Used) [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 254 { state enemy_raredrop1 espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 15 setactorvar[RETURN].ARMORISUSED? 1 state scatterdrops } }
      else { state enemy_raredrop2 espawn IRONRUNE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 252 { state enemy_raredrop1 espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 15 setactorvar[RETURN].ARMORISUSED? 1 state scatterdrops } }
      else { state enemy_raredrop2 espawn IRONRUNE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 250 { state enemy_raredrop1 espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 15 setactorvar[RETURN].ARMORISUSED? 1 state scatterdrops } }
      else { state enemy_raredrop2 espawn IRONRUNE state scatterdrops }
     }
    }
    else // Normal = Iron Rune [Rare] & Portable Medikit [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 252 { state enemy_raredrop1 espawn FIRSTAID state scatterdrops }
      else { state enemy_raredrop2 espawn IRONRUNE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 248 { state enemy_raredrop1 espawn FIRSTAID state scatterdrops }
      else { state enemy_raredrop2 espawn IRONRUNE state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 244 { state enemy_raredrop1 espawn FIRSTAID state scatterdrops }
      else { state enemy_raredrop2 espawn IRONRUNE state scatterdrops }
     }
    }
   }

   // Assault Trooper
   ifactor LIZTROOP
   {
    ifspritepal 17 nullop // Zerman [Boss] = None
    else
    ifspritepal 14 // Shrinker = ShockAb Boots [Rare] & Resurrection Chalice [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 248 { state enemy_raredrop1 espawn RESURRECTIONCHALICE state scatterdrops }
      else { state enemy_raredrop2 espawn SHOCKABBOOTPAIR state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 240 { state enemy_raredrop1 espawn RESURRECTIONCHALICE state scatterdrops }
      else { state enemy_raredrop2 espawn SHOCKABBOOTPAIR state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 232 { state enemy_raredrop1 espawn RESURRECTIONCHALICE state scatterdrops }
      else { state enemy_raredrop2 espawn SHOCKABBOOTPAIR state scatterdrops }
     }
    }
    else
    ifspritepal 19 // Ravager = ShockAb Boots [Rare] & Atomic Health [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 250 { state enemy_raredrop1 espawn ATOMICHEALTH state scatterdrops }
      else { state enemy_raredrop2 espawn SHOCKABBOOTPAIR state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 244 { state enemy_raredrop1 espawn ATOMICHEALTH state scatterdrops }
      else { state enemy_raredrop2 espawn SHOCKABBOOTPAIR state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 238 { state enemy_raredrop1 espawn ATOMICHEALTH state scatterdrops }
      else { state enemy_raredrop2 espawn SHOCKABBOOTPAIR state scatterdrops }
     }
    }
    else
    ifspritepal 21 // Captain = ShockAb Boots [Rare] & Protective Boots [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 252 { state enemy_raredrop1 espawn BOOTS state scatterdrops }
      else { state enemy_raredrop2 espawn SHOCKABBOOTPAIR state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 248 { state enemy_raredrop1 espawn BOOTS state scatterdrops }
      else { state enemy_raredrop2 espawn SHOCKABBOOTPAIR state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 244 { state enemy_raredrop1 espawn BOOTS state scatterdrops }
      else { state enemy_raredrop2 espawn SHOCKABBOOTPAIR state scatterdrops }
     }
    }
    else // Normal = ShockAb Boots [Rare] & Random-Class Armor [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 254 { state enemy_raredrop1 espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 15 state scatterdrops } }
      else { state enemy_raredrop2 espawn SHOCKABBOOTPAIR state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 252 { state enemy_raredrop1 espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 15 state scatterdrops } }
      else { state enemy_raredrop2 espawn SHOCKABBOOTPAIR state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 250 { state enemy_raredrop1 espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 15 state scatterdrops } }
      else { state enemy_raredrop2 espawn SHOCKABBOOTPAIR state scatterdrops }
     }
    }
   } 

   // Enforcer
   ifactor LIZMAN
   {
    ifspritepal 17 nullop // Fertang [Boss] = None
    else
    ifspritepal 6 // Bio-Warrior = Jump Boots [Rare] & Hyper Energy Drink [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 250 { state enemy_raredrop1 espawn HYPERENERGYDRINK state scatterdrops }
      else { state enemy_raredrop2 espawn JUMPBOOTPAIR state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 244 { state enemy_raredrop1 espawn HYPERENERGYDRINK state scatterdrops }
      else { state enemy_raredrop2 espawn JUMPBOOTPAIR state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 236 { state enemy_raredrop1 espawn HYPERENERGYDRINK state scatterdrops }
      else { state enemy_raredrop2 espawn JUMPBOOTPAIR state scatterdrops }
     }
    }
    else
    ifspritepal 19 // Laser = Jump Boots [Rare] & Large Energy Drink [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 252 { state enemy_raredrop1 espawn LARGEENERGYDRINK state scatterdrops }
       else { state enemy_raredrop2 espawn JUMPBOOTPAIR state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 248 { state enemy_raredrop1 espawn LARGEENERGYDRINK state scatterdrops }
       else { state enemy_raredrop2 espawn JUMPBOOTPAIR state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 234 { state enemy_raredrop1 espawn LARGEENERGYDRINK state scatterdrops }
      else { state enemy_raredrop2 espawn JUMPBOOTPAIR state scatterdrops }
     }
    }
    else // Normal = Jump Boots [Rare] & Small Energy Drink [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 254 { state enemy_raredrop1 espawn SMALLENERGYDRINK state scatterdrops }
      else { state enemy_raredrop2 espawn JUMPBOOTPAIR state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
       ifrnd 252 { state enemy_raredrop1 espawn SMALLENERGYDRINK state scatterdrops }
       else { state enemy_raredrop2 espawn JUMPBOOTPAIR state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 250 { state enemy_raredrop1 espawn SMALLENERGYDRINK state scatterdrops }
      else { state enemy_raredrop2 espawn JUMPBOOTPAIR state scatterdrops }
     }
    }
   }

   // Sentry Drone
   ifactor DRONE
   {
    ifspritepal 25 // Super = Afas Drop [Rare] & NV Goggles [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 252 { state enemy_raredrop1 espawn HEATSENSOR state scatterdrops }
      else { state enemy_raredrop2 espawn AFAS_DROP state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 248 { state enemy_raredrop1 espawn HEATSENSOR state scatterdrops }
      else { state enemy_raredrop2 espawn AFAS_DROP state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 244 { state enemy_raredrop1 espawn HEATSENSOR state scatterdrops }
      else { state enemy_raredrop2 espawn AFAS_DROP state scatterdrops }
     }
    }
    else // Normal = Afas Drop [Rare] & Coils [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 254 { state enemy_raredrop1 espawn COILS state scatterdrops }
      else { state enemy_raredrop2 espawn AFAS_DROP state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 252 { state enemy_raredrop1 espawn COILS state scatterdrops }
      else { state enemy_raredrop2 espawn AFAS_DROP state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 250 { state enemy_raredrop1 espawn COILS state scatterdrops }
      else { state enemy_raredrop2 espawn AFAS_DROP state scatterdrops }
     }
    }
   }

   // Cycloidians
   ifactor BOSS2
   {
    ifspritepal 24 // Void Annhilator = Serpent Helmet [Rare] & Super Atom [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 250 { state enemy_raredrop1 espawn SUPERATOM state scatterdrops }
      else { state enemy_raredrop2 espawn SERPENTHELMET state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 244 { state enemy_raredrop1 espawn SUPERATOM state scatterdrops }
      else { state enemy_raredrop2 espawn SERPENTHELMET state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 238 { state enemy_raredrop1 espawn SUPERATOM state scatterdrops }
      else { state enemy_raredrop2 espawn SERPENTHELMET state scatterdrops }
     }
    }
    else
    ifspritepal 0 // Normal = Serpent Helmet [Rare] & Hyper Energy Drink [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 252 { state enemy_raredrop1 espawn HYPERENERGYDRINK state scatterdrops }
      else { state enemy_raredrop2 espawn SERPENTHELMET state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 248 { state enemy_raredrop1 espawn HYPERENERGYDRINK state scatterdrops }
      else { state enemy_raredrop2 espawn SERPENTHELMET state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 244 { state enemy_raredrop1 espawn HYPERENERGYDRINK state scatterdrops }
      else { state enemy_raredrop2 espawn SERPENTHELMET state scatterdrops }
     }
    }
    else
    ifspritepal 3 // Normal = Serpent Helmet [Rare] & Hyper Energy Drink [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 252 { state enemy_raredrop1 espawn HYPERENERGYDRINK state scatterdrops }
      else { state enemy_raredrop2 espawn SERPENTHELMET state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 248 { state enemy_raredrop1 espawn HYPERENERGYDRINK state scatterdrops }
      else { state enemy_raredrop2 espawn SERPENTHELMET state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 244 { state enemy_raredrop1 espawn HYPERENERGYDRINK state scatterdrops }
      else { state enemy_raredrop2 espawn SERPENTHELMET state scatterdrops }
     }
    }
    else
    ifspritepal 9 nullop
    else // Minis = Serpent Helmet [Rare] & Vitamin X [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 254 { state enemy_raredrop1 espawn STEROIDS state scatterdrops }
      else { state enemy_raredrop2 espawn SERPENTHELMET state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 252 { state enemy_raredrop1 espawn STEROIDS state scatterdrops }
      else { state enemy_raredrop2 espawn SERPENTHELMET state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 250 { state enemy_raredrop1 espawn STEROIDS state scatterdrops }
      else { state enemy_raredrop2 espawn SERPENTHELMET state scatterdrops }
     }
    }
   }

   // Octabrain
   ifactor OCTABRAIN
   {
    ifspritepal 14 // Octanine = Citrine Ring (Gold) [Rare] & Citrine Ring (Silver) [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 252 { state enemy_raredrop1 espawn GEMRINGSILVER setactor[RETURN].pal 23 setactorvar[RETURN].ACTORNATURALPAL 23 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
      else { state enemy_raredrop2 espawn GEMRINGGOLD setactor[RETURN].pal 23 setactorvar[RETURN].ACTORNATURALPAL 23 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 248 { state enemy_raredrop1 espawn GEMRINGSILVER setactor[RETURN].pal 23 setactorvar[RETURN].ACTORNATURALPAL 23 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
      else { state enemy_raredrop2 espawn GEMRINGGOLD setactor[RETURN].pal 23 setactorvar[RETURN].ACTORNATURALPAL 23 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 244 { state enemy_raredrop1 espawn GEMRINGSILVER setactor[RETURN].pal 23 setactorvar[RETURN].ACTORNATURALPAL 23 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
      else { state enemy_raredrop2 espawn GEMRINGGOLD setactor[RETURN].pal 23 setactorvar[RETURN].ACTORNATURALPAL 23 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
     }
    }
    else // Octabrain = Turquoise Ring (Gold) [Rare] & Turquoise Ring (Silver) [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 252 { state enemy_raredrop1 espawn GEMRINGSILVER setactor[RETURN].pal 0 setactorvar[RETURN].ACTORNATURALPAL 0 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
      else { state enemy_raredrop2 espawn GEMRINGGOLD setactor[RETURN].pal 0 setactorvar[RETURN].ACTORNATURALPAL 0 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 248 { state enemy_raredrop1 espawn GEMRINGSILVER setactor[RETURN].pal 0 setactorvar[RETURN].ACTORNATURALPAL 0 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
      else { state enemy_raredrop2 espawn GEMRINGGOLD setactor[RETURN].pal 0 setactorvar[RETURN].ACTORNATURALPAL 0 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 244 { state enemy_raredrop1 espawn GEMRINGSILVER setactor[RETURN].pal 0 setactorvar[RETURN].ACTORNATURALPAL 0 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
      else { state enemy_raredrop2 espawn GEMRINGGOLD setactor[RETURN].pal 0 setactorvar[RETURN].ACTORNATURALPAL 0 setactorvar[RETURN].SKILLSET? 1 state scatterdrops }
     }
    }
   }

   // Pigcops
   ifactor PIGCOP
   {
    ifspritepal 24 nullop // Ramone [Boss] = [None]
    else ifspritepal 14 // Sargeant = Riot Shield [Rare] & Super Armor [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 252 { state enemy_raredrop1 espawn SUPERSHIELD state scatterdrops }
      else { state enemy_raredrop2 espawn RIOTSHIELD state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 248 { state enemy_raredrop1 espawn SUPERSHIELD state scatterdrops }
      else { state enemy_raredrop2 espawn RIOTSHIELD state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 244 { state enemy_raredrop1 espawn SUPERSHIELD state scatterdrops }
      else { state enemy_raredrop2 espawn RIOTSHIELD state scatterdrops }
     }
    }
    else ifspritepal 21 // Captain = Riot Shield [Rare] & Extra-Large Medikit [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 253 { state enemy_raredrop1 espawn SWBIGMEDIKIT state scatterdrops }
      else { state enemy_raredrop2 espawn RIOTSHIELD state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 250 { state enemy_raredrop1 espawn SWBIGMEDIKIT state scatterdrops }
      else { state enemy_raredrop2 espawn RIOTSHIELD state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 247 { state enemy_raredrop1 espawn SWBIGMEDIKIT state scatterdrops }
      else { state enemy_raredrop2 espawn RIOTSHIELD state scatterdrops }
     }
    }
    else // Normal = Riot Shield [Rare] & Medium Medikit [Common]
    {
     ifvarg AVERAGELEVEL 0 ifvarl AVERAGELEVEL 34
     {
      ifrnd 254 { state enemy_raredrop1 espawn SWMEDIKIT state scatterdrops }
      else { state enemy_raredrop2 espawn RIOTSHIELD state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 33 ifvarl AVERAGELEVEL 67
     {
      ifrnd 252 { state enemy_raredrop1 espawn SWMEDIKIT state scatterdrops }
      else { state enemy_raredrop2 espawn RIOTSHIELD state scatterdrops }
     }
     else
     ifvarg AVERAGELEVEL 66
     {
      ifrnd 250 { state enemy_raredrop1 espawn SWMEDIKIT state scatterdrops }
      else { state enemy_raredrop2 espawn RIOTSHIELD state scatterdrops }
     }
    }
   }
  }
}
ends

state addtokillamounts
 addkills 1

 setvar MISCARRAYID 0 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP addvar MISCARRAYID_AMOUNTTEMP 1 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP
 setvar MISCARRAYID 1 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP addvar MISCARRAYID_AMOUNTTEMP 1 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP
 
 randvar TEMPVAR2 15 addvar TEMPVAR2 1
 ifvarand ACTORFLAGS 512 subvar TEMPVAR2 4
 ifvarl TEMPVAR2 1 setvar TEMPVAR2 1
 ifvare CHARACTERSELECTED? 10
 {
  setvar MISCARRAYID 110 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // NETHRA-FORM?
  ifvare MISCARRAYID_AMOUNTTEMP 1
  {
   ifvarg TEMPVAR2 5 nullop else state gemring_drops // Christina has a 5/16 (31.25%) chance of making enemies drop gems upon death
  }
  else
  {
   ifvarg TEMPVAR2 2 nullop else state gemring_drops // Nethra has a 2/16 (12.5%) chance of making enemies drop gems upon death
  }
 }
 else
 ifvare CHARACTERSELECTED? 14
 {
  ifvarg TEMPVAR2 3 nullop else state gemring_drops // Mystery Lady has a 3/16 (18.75%) chance of making enemies drop gems upon death
 }
 else 
 {
  ifvarg TEMPVAR2 1 nullop else state gemring_drops // All other characters have a 1/16 (12.5%) chance of making enemies drop gems upon death
 }

 // Rare Drops
 state enemyrare_drops

 // Check to see if EnemyID# matches
 ifvarn ENEMYHASSHIKON? 0
 {
  espawn SHIKONJEWEL
  setvar ENEMYHASSHIKON? 0
 }
ends


state drop_randomized_item
   ifrnd 224 randvar RANDOMIZER 245
   else randvar RANDOMIZER 320
   addvar RANDOMIZER 1

   ifvarg RANDOMIZER 0 ifvarl RANDOMIZER 25 { espawn COLA state scatterdrops } // 1-24 [24]
   else ifvarg RANDOMIZER 24 ifvarl RANDOMIZER 47 { espawn SWMEDIKIT state scatterdrops } // 25-46 [22]
   else ifvarg RANDOMIZER 46 ifvarl RANDOMIZER 66 { espawn SIXPAK state scatterdrops } // 47-65 [19]
   else ifvarg RANDOMIZER 65 ifvarl RANDOMIZER 82 { espawn SWBIGMEDIKIT state scatterdrops } // 66-81 [16]
   else ifvarg RANDOMIZER 81 ifvarl RANDOMIZER 94 { espawn MEDPACK state scatterdrops } // 82-93 [12]
   else ifvarg RANDOMIZER 93 ifvarl RANDOMIZER 101 { espawn SURGERYKIT state scatterdrops } // 94-100 [7]
   else ifvarg RANDOMIZER 100 ifvarl RANDOMIZER 111 { espawn EYEDROP state scatterdrops } // 101-110 [10]
   else ifvarg RANDOMIZER 110 ifvarl RANDOMIZER 121 { espawn ANTIDOTE state scatterdrops } // 111-120 [10]
   else ifvarg RANDOMIZER 120 ifvarl RANDOMIZER 131 { espawn FOGHORN state scatterdrops } // 121-130 [10]
   else ifvarg RANDOMIZER 130 ifvarl RANDOMIZER 136 { espawn RESURRECTIONCHALICE state scatterdrops } // 131-135 [5]
   else ifvarg RANDOMIZER 135 ifvarl RANDOMIZER 146 { espawn FIRSTAID state scatterdrops } // 136-145 [10]
   else ifvarg RANDOMIZER 145 ifvarl RANDOMIZER 166 { espawn SHIELD ifrnd 160 { setactorvar[RETURN].ARMORISUSED? 1 } state scatterdrops } // 146-165 [20]
   else ifvarg RANDOMIZER 165 ifvarl RANDOMIZER 174 { espawn SUPERSHIELD ifrnd 224 { setactorvar[RETURN].ARMORISUSED? 1 } state scatterdrops } // 166-173 [8]
   else ifvarg RANDOMIZER 173 ifvarl RANDOMIZER 179 { ifrnd 128 { espawn ATOMICHEALTH state scatterdrops } else { espawn FORTUNECOOKIE state scatterdrops } } // 174-178 [5]
   else ifvarg RANDOMIZER 178 ifvarl RANDOMIZER 181 { espawn SUPERATOM state scatterdrops } // 179-180 [2]
   else ifvarg RANDOMIZER 180 ifvarl RANDOMIZER 186 { espawn ENERGYSHELL state scatterdrops } // 181-185 [5]
   else ifvarg RANDOMIZER 185 ifvarl RANDOMIZER 191 { espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 15 ifrnd 128 { setactorvar[RETURN].ARMORISUSED? 1 } state scatterdrops } } // 186-190 [5]
   else ifvarg RANDOMIZER 190 ifvarl RANDOMIZER 194 { espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 14 ifrnd 128 { setactorvar[RETURN].ARMORISUSED? 1 } state scatterdrops } } // 191-193 [3]
   else ifvarg RANDOMIZER 193 ifvarl RANDOMIZER 197 { espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 16 ifrnd 128 { setactorvar[RETURN].ARMORISUSED? 1 } state scatterdrops } } // 194-196 [3]
   else ifvarg RANDOMIZER 196 ifvarl RANDOMIZER 200 { espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 23 ifrnd 128 { setactorvar[RETURN].ARMORISUSED? 1 } state scatterdrops } } // 197-199 [3]
   else ifvarg RANDOMIZER 199 ifvarl RANDOMIZER 202 { espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 10 ifrnd 128 { setactorvar[RETURN].ARMORISUSED? 1 } state scatterdrops } } // 200-201 [2]
   else ifvarg RANDOMIZER 201 ifvarl RANDOMIZER 204 { espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 13 ifrnd 128 { setactorvar[RETURN].ARMORISUSED? 1 } state scatterdrops } } // 202-203 [2]
   else ifvarg RANDOMIZER 203 ifvarl RANDOMIZER 206 { espawn COLORSHIELD { setactorvar[RETURN].ACTORNATURALPAL 20 ifrnd 128 { setactorvar[RETURN].ARMORISUSED? 1 } state scatterdrops } } // 204-205 [2]
   else ifvarg RANDOMIZER 205 ifvarl RANDOMIZER 211 { ifrnd 16 { espawn ONELIFETSHIRT state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 206-210 [5]
   else ifvarg RANDOMIZER 210 ifvarl RANDOMIZER 215 { ifrnd 10 { espawn TWOLIFETSHIRT state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 211-214 [4]
   else ifvarg RANDOMIZER 214 ifvarl RANDOMIZER 218 { ifrnd 4 { espawn CONTINUEITEM state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 215-217 [3]
   else ifvarg RANDOMIZER 217 ifvarl RANDOMIZER 226 { ifrnd 48 { espawn TELEBEACON state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 218-225 [8]
   else ifvare RANDOMIZER 226 { espawn JETPACK state scatterdrops } // 226 [1]
   else ifvare RANDOMIZER 227 { espawn STEROIDS state scatterdrops } // 227 [1]
   else ifvare RANDOMIZER 228 { espawn AIRTANK state scatterdrops } // 228 [1]
   else ifvare RANDOMIZER 229 { espawn BOOTS state scatterdrops } // 229 [1]
   else ifvare RANDOMIZER 230 { espawn HOLODUKE state scatterdrops } // 230 [1]
   else ifvare RANDOMIZER 231 { espawn HEATSENSOR state scatterdrops } // 231 [1]
   else ifvare RANDOMIZER 232 { espawn RANDOMPOWERUP state scatterdrops } // 232 [1]
   else ifvare RANDOMIZER 233 { espawn COILS state scatterdrops } // 233 [1]
   else ifvare RANDOMIZER 234 { espawn ENERGYCELL_LARGE state scatterdrops } // 234 [1]
   else ifvarg RANDOMIZER 234 ifvarl RANDOMIZER 240 { espawn SMALLENERGYDRINK state scatterdrops } // 235-239 [5]
   else ifvarg RANDOMIZER 239 ifvarl RANDOMIZER 243 { espawn LARGEENERGYDRINK state scatterdrops } // 240-242 [3]
   else ifvare RANDOMIZER 243 { espawn HYPERENERGYDRINK state scatterdrops } // 243 [1]
   else ifvare RANDOMIZER 244 { espawn GREENTANKCAPSULE state scatterdrops } // 244 [1]
   else ifvare RANDOMIZER 245 { espawn BLUETANKCAPSULE state scatterdrops } // 245 [1]
   else ifvare RANDOMIZER 246 { espawn REDTANKCAPSULE state scatterdrops } // 246 [1]

   // Rare Items { 25% chance of attempting to select these }
   else ifvare RANDOMIZER 247 { setvar MISCARRAYID 77 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // HAVE-HACKERVISION?
                                ifvare MISCARRAYID_AMOUNTTEMP 0 { espawn HACKERVISION state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 247 [1]
   else ifvarg RANDOMIZER 247 ifvarl RANDOMIZER 250 { ifrnd 224 { espawn SUNRING state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 248-249 [2]
   else ifvarg RANDOMIZER 249 ifvarl RANDOMIZER 252 { ifrnd 224 { espawn AQUARING state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 250-251 [2]
   else ifvarg RANDOMIZER 251 ifvarl RANDOMIZER 254 { ifrnd 224 { espawn PLASMARING state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 252-253 [2]
   else ifvarg RANDOMIZER 253 ifvarl RANDOMIZER 256 { ifrnd 224 { espawn SPIRITRING state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 254-255 [2]
   else ifvarg RANDOMIZER 255 ifvarl RANDOMIZER 258 { ifrnd 224 { espawn CHARMANKH state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 256-257 [2]
   else ifvarg RANDOMIZER 257 ifvarl RANDOMIZER 260 { ifrnd 224 { espawn MIRRORSHIELD state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 258-259 [2]
   else ifvarg RANDOMIZER 259 ifvarl RANDOMIZER 262 { ifrnd 224 { espawn EXPBADGE state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 260-261 [2]
   else ifvarg RANDOMIZER 261 ifvarl RANDOMIZER 264 { ifrnd 224 { espawn RANKBADGE state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 262-263 [2]
   else ifvarg RANDOMIZER 263 ifvarl RANDOMIZER 266 { ifrnd 224 { espawn MONEYBADGE state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 264-265 [2]
   else ifvarg RANDOMIZER 265 ifvarl RANDOMIZER 268 { ifrnd 224 { espawn RIOTSHIELD state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 266-267 [2]
   else ifvarg RANDOMIZER 267 ifvarl RANDOMIZER 270 { ifrnd 224 { espawn NYXGLOVEPAIR state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 268-269 [2]
   else ifvarg RANDOMIZER 269 ifvarl RANDOMIZER 272 { ifrnd 224 { espawn RABBITSFOOT state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 270-271 [2]
   else ifvarg RANDOMIZER 271 ifvarl RANDOMIZER 274 { ifrnd 224 { espawn JUMPBOOTPAIR state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 272-273 [2]
   else ifvarg RANDOMIZER 273 ifvarl RANDOMIZER 276 { ifrnd 224 { espawn SHOCKABBOOTPAIR state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 274-275 [2]
   else ifvarg RANDOMIZER 275 ifvarl RANDOMIZER 278 { ifrnd 224 { espawn HAPPYSHOEPAIR state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 276-277 [2]
   else ifvarg RANDOMIZER 277 ifvarl RANDOMIZER 280 { ifrnd 224 { espawn STYLESHOEPAIR state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 278-279 [2]
   else ifvarg RANDOMIZER 279 ifvarl RANDOMIZER 282 { ifrnd 224 { espawn CHARMSHOEPAIR state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 280-281 [2]
   else ifvarg RANDOMIZER 281 ifvarl RANDOMIZER 284 { ifrnd 224 { espawn POWERWRIST state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 282-283 [2]
   else ifvarg RANDOMIZER 283 ifvarl RANDOMIZER 286 { ifrnd 224 { espawn HOCKEYMASK state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 284-285 [2]
   else ifvarg RANDOMIZER 285 ifvarl RANDOMIZER 288 { ifrnd 224 { espawn GEMSTONECROWN state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 286-287 [2]
   else ifvarg RANDOMIZER 287 ifvarl RANDOMIZER 290 { ifrnd 224 { espawn IRONRUNE state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 288-289 [2]
   else ifvarg RANDOMIZER 289 ifvarl RANDOMIZER 292 { ifrnd 224 { espawn TWILIGHTCAPE state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 290-291 [2]
   else ifvarg RANDOMIZER 291 ifvarl RANDOMIZER 294 { ifrnd 224 { espawn SNAKEARMBAND state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 292-293 [2]
   else ifvarg RANDOMIZER 293 ifvarl RANDOMIZER 296 { ifrnd 224 { espawn MEDICBAG state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 294-295 [2]
   else ifvarg RANDOMIZER 295 ifvarl RANDOMIZER 298 { ifrnd 224 { espawn SERPENTHELMET state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 296-297 [2]
   else ifvarg RANDOMIZER 297 ifvarl RANDOMIZER 300 { ifrnd 224 { espawn ENERGYINCURMENT state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 298-299 [2]
   else ifvarg RANDOMIZER 299 ifvarl RANDOMIZER 302 { ifrnd 224 { espawn YINYANGORB state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 300-301 [2]
   else ifvarg RANDOMIZER 301 ifvarl RANDOMIZER 304 { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } // 302-303 [2]
   else ifvare RANDOMIZER 304 { ifrnd 240 { espawn AFAS_DROP state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 304 [1]
   else ifvare RANDOMIZER 305 { ifrnd 240 { espawn FAUXLEVELUP state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 305 [1]
   else ifvare RANDOMIZER 306 { ifrnd 128 { espawn ENERGYSHELL_UPGRADED state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 306 [1]
   else ifvare RANDOMIZER 307 { ifrnd 192 { espawn SILKCARNATION setactorvar[RETURN].ACTORNATURALPAL 10 state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 307 [1] 
   else ifvare RANDOMIZER 308 { ifrnd 192 { espawn RAREPIRATEDOUBLOON state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 308 [1] 
   else ifvare RANDOMIZER 309 { ifrnd 192 { espawn FIXEDDICEPAIR state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 309 [1] 
   else ifvare RANDOMIZER 310 { ifrnd 192 { espawn MALAKIANGEM setactorvar[RETURN].ACTORNATURALPAL 17 state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 310 [1] 
   else ifvare RANDOMIZER 311 { ifrnd 192 { espawn SAFELOCKBOX state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 311 [1] 
   else ifvare RANDOMIZER 312 { ifrnd 192 { espawn SECRETRECIPE state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 312 [1] 
   else ifvare RANDOMIZER 313 { ifrnd 192 { espawn SLURPEEMACHINE state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 313 [1] 
   else ifvare RANDOMIZER 314 { ifrnd 192 { espawn STOCKOWNERSHIP state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 314 [1] 
   else ifvare RANDOMIZER 315 { ifrnd 192 { espawn TRANSDIMENSIONALSAFE state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 315 [1] 
   else ifvare RANDOMIZER 316 { ifrnd 192 { espawn BLOODPACTSHIELD state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 316 [1] 
   else ifvare RANDOMIZER 317 { ifrnd 128 { espawn MYSTICSATCHEL state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 317 [1]
   else ifvare RANDOMIZER 318 { setvar MISCARRAYID 68 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // GOT-MONEY-RADAR?
                                ifvare MISCARRAYID_AMOUNTTEMP  0 { espawn MONEYRADAR state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 318 [1]
   else ifvare RANDOMIZER 319 { setvar MISCARRAYID 67 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // GOT-PORTABLE-ATM?
                                ifvare MISCARRAYID_AMOUNTTEMP 0 { espawn PORTABLEATM state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 319 [1]
   else ifvare RANDOMIZER 320 { setvar MISCARRAYID 78 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // HAVE-MERCURY-COMPUTER?
                                ifvare MISCARRAYID_AMOUNTTEMP 0 { espawn MERCURYCOMPUTER state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 320 [1]
   else ifvare RANDOMIZER 321 { setvar MISCARRAYID 76 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // CARD-MEMBERSHIP?
                                ifvarl MISCARRAYID_AMOUNTTEMP 5 { ifrnd 16 { espawn MEMBERSHIPCARD state scatterdrops } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } else { state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops state gemring_drops } } // 321 [1]

ends




state checkkillstatbonus
  // Bloodpact Shield
  state checkbloodpactshields
  ifvarvarg PARTYSIZE ITEMARRAYID_AMOUNTTEMP setvarvar TEMP7 ITEMARRAYID_AMOUNTTEMP else setvarvar TEMP7 PARTYSIZE
  mulvar TEMP7 2 // 2% per item  

  // Make Calculations
  randvar TEMP6 99 addvar TEMP6 1
  // addlogvar TEMP6
  ifvarvarg TEMP6 TEMP7 nullop else
  {
   palfrom 24 64 64 64
   sound STATBONUSGRAB
   sound STATBONUSGRAB
// To fill in here
   randvar TEMPVAR4 1
   ifrnd 128 mulvar TEMPVAR4 -1
   addvar TEMPVAR4 2

   randvar TEMPVAR5 127 addvar TEMPVAR5 1
 //  addlogvar TEMPVAR5
   ifvarg TEMPVAR5 0 ifvarl TEMPVAR5 17 // HP
   {
    setvarvar TEMPHITPOINTS MAXHITPOINTS
    divvar TEMPHITPOINTS 10000
    addvar TEMPHITPOINTS 1
    mulvarvar TEMPHITPOINTS TEMPVAR4
//    setvarvar TEMPHITPOINTS TEMPVAR4
//    addlogvar TEMPHITPOINTS

    addvarvar MAXHITPOINTS TEMPHITPOINTS
    ifvarvarg MAXHITPOINTS STATLIMIT setvarvar MAXHITPOINTS STATLIMIT

    addvarvar HPINCREASED TEMPHITPOINTS
//    addlogvar HPINCREASED
    ifvarg HPINCREASED 0 
    { 
     qsprintf 204 209 HPINCREASED 
     setvar HPLUPDISPLAY 0 
    } 

    addvarvar CURRENTHITPOINTS TEMPHITPOINTS
    ifvarvarg CURRENTHITPOINTS STATLIMITATOMIC setvarvar CURRENTHITPOINTS STATLIMITATOMIC
   }
   ifvarg TEMPVAR5 16 ifvarl TEMPVAR5 33 // AP
   {
    setvarvar TEMPHITPOINTS MAXARMORPOINTS
    divvar TEMPHITPOINTS 10000
    addvar TEMPHITPOINTS 1
    mulvarvar TEMPHITPOINTS TEMPVAR4
//    setvarvar TEMPHITPOINTS TEMPVAR4
//    addlogvar TEMPHITPOINTS

    addvarvar MAXARMORPOINTS TEMPHITPOINTS
    ifvarvarg MAXARMORPOINTS STATLIMIT setvarvar MAXARMORPOINTS STATLIMIT

    addvarvar APINCREASED TEMPHITPOINTS
//    addlogvar APINCREASED
    ifvarg APINCREASED 0 
    { 
     qsprintf 205 210 APINCREASED 
     setvar APLUPDISPLAY 0 
    } 

    addvarvar CURRENTARMORPOINTS TEMPHITPOINTS
    ifvarvarg CURRENTARMORPOINTS STATLIMITATOMIC setvarvar CURRENTARMORPOINTS STATLIMITATOMIC
   }
   ifvarg TEMPVAR5 32 ifvarl TEMPVAR5 49 // EP
   {
    setvarvar TEMPHITPOINTS MAXENERGYPOINTS
    divvar TEMPHITPOINTS 10000
    addvar TEMPHITPOINTS 1
    mulvarvar TEMPHITPOINTS TEMPVAR4
//    setvarvar TEMPHITPOINTS TEMPVAR4
//    addlogvar TEMPHITPOINTS

    addvarvar MAXENERGYPOINTS TEMPHITPOINTS
    ifvarvarg MAXENERGYPOINTS STATLIMIT setvarvar MAXENERGYPOINTS STATLIMIT

    addvarvar EPINCREASED TEMPHITPOINTS
//    addlogvar EPINCREASED
    ifvarg EPINCREASED 0 
    { 
     qsprintf 238 239 EPINCREASED 
     setvar EPLUPDISPLAY 0 
    } 

    addvarvar CURRENTENERGYPOINTS TEMPHITPOINTS
    ifvarvarg CURRENTENERGYPOINTS STATLIMITATOMIC setvarvar CURRENTENERGYPOINTS STATLIMITATOMIC
   }
   ifvarg TEMPVAR5 48 ifvarl TEMPVAR5 65 // Attack
   {
    setvarvar TEMPHITPOINTS PLAYERATTACK
    divvar TEMPHITPOINTS 10000
    addvar TEMPHITPOINTS 1
    mulvarvar TEMPHITPOINTS TEMPVAR4
//    setvarvar TEMPHITPOINTS TEMPVAR4
//    addlogvar TEMPHITPOINTS

    addvarvar PLAYERATTACK TEMPHITPOINTS
    ifvarvarg PLAYERATTACK STATLIMIT setvarvar PLAYERATTACK STATLIMIT

    addvarvar ATKINCREASED TEMPHITPOINTS
//    addlogvar ATKINCREASED
    ifvarg ATKINCREASED 0 
    { 
     qsprintf 206 211 ATKINCREASED 
     setvar ATKLUPDISPLAY 0 
    } 
   }
   ifvarg TEMPVAR5 64 ifvarl TEMPVAR5 81 // Defense
   {
    setvarvar TEMPHITPOINTS PLAYERDEFENSE
    divvar TEMPHITPOINTS 10000
    addvar TEMPHITPOINTS 1
    mulvarvar TEMPHITPOINTS TEMPVAR4
//    setvarvar TEMPHITPOINTS TEMPVAR4
//    addlogvar TEMPHITPOINTS

    addvarvar PLAYERDEFENSE TEMPHITPOINTS
    ifvarvarg PLAYERDEFENSE STATLIMIT setvarvar PLAYERDEFENSE STATLIMIT

    addvarvar DEFINCREASED TEMPHITPOINTS
//    addlogvar DEFINCREASED
    ifvarg DEFINCREASED 0 
    { 
     qsprintf 207 212 DEFINCREASED 
     setvar DEFLUPDISPLAY 0 
    } 
   }
   ifvarg TEMPVAR5 80 ifvarl TEMPVAR5 97 // Speed
   {
    getplayer[THISACTOR].runspeed TEMPHITPOINTS
    subvar TEMPHITPOINTS 46500
    divvar TEMPHITPOINTS 10000
    addvar TEMPHITPOINTS 5
    mulvarvar TEMPHITPOINTS TEMPVAR4
//    setvarvar TEMPHITPOINTS TEMPVAR4
//    addlogvar TEMPHITPOINTS

    getplayer[THISACTOR].runspeed TEMPVAR3
    addvarvar TEMPVAR3 TEMPHITPOINTS
    ifvarvarg TEMPVAR3 61000 setvarvar TEMPVAR3 61000
    setplayer[THISACTOR].runspeed TEMPVAR3

    addvarvar SPDINCREASED TEMPHITPOINTS
//    addlogvar SPDINCREASED
    ifvarg SPDINCREASED 0 
    { 
     qsprintf 208 213 SPDINCREASED
     setvar SPDLUPDISPLAY 0 
    } 
   }
   ifvarg TEMPVAR5 96 ifvarl TEMPVAR5 113 // Mantle
   {
    setvarvar TEMPHITPOINTS MANTLINGTIMERMAX
    divvar TEMPHITPOINTS 10000
    addvar TEMPHITPOINTS 1
    mulvarvar TEMPHITPOINTS TEMPVAR4
//    setvarvar TEMPHITPOINTS TEMPVAR4
//    addlogvar TEMPHITPOINTS

    addvarvar MANTLINGTIMERMAX TEMPHITPOINTS
    addvarvar MANTLINGTIMER TEMPHITPOINTS

    addvarvar MNTINCREASED TEMPHITPOINTS
//    addlogvar MNTINCREASED
    ifvarg MNTINCREASED 0 
    { 
     qsprintf 710 718 MNTINCREASED
     setvar MNTLUPDISPLAY 0 
    } 
   }
   ifvarg TEMPVAR5 112 ifvarl TEMPVAR5 129 // Airtime
   {
    setvarvar TEMPHITPOINTS MAXAIRTIME
    divvar TEMPHITPOINTS 10000
    addvar TEMPHITPOINTS 1
    mulvarvar TEMPHITPOINTS TEMPVAR4
//    setvarvar TEMPHITPOINTS TEMPVAR4
//    addlogvar TEMPHITPOINTS

    addvarvar MAXAIRTIME TEMPHITPOINTS
    addvarvar AIRTIME TEMPHITPOINTS

    addvarvar AIRINCREASED TEMPHITPOINTS
//    addlogvar AIRINCREASED
    ifvarg AIRINCREASED 0 
    { 
     qsprintf 709 717 AIRINCREASED
     setvar AIRLUPDISPLAY 0 
    } 
   }
  }
ends

state subtractfromkillamounts
 addkills -1
 setvar MISCARRAYID 0 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP addvar MISCARRAYID_AMOUNTTEMP -1 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP
 setvar MISCARRAYID 1 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP addvar MISCARRAYID_AMOUNTTEMP -1 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP
ends

state check_a_characters_kills
 getactor[THISACTOR].htowner TEMP
 ifvarvare TEMP PLAYERID
 {
  setvarvar CHARACTERARRAY CHARACTERSELECTED?
  getactorvar[CHARACTERARRAY].CHARACTERENEMIESKILLED TEMP
  addvar TEMP 1
  setactorvar[CHARACTERARRAY].CHARACTERENEMIESKILLED TEMP

  state checkkillstatbonus
 }
ends


state charactervariencebasis1 // Level Up

 ifvare PUBLICBETA? 1
 {
  ifvare SKILLLEVEL 0 setvar tempc 14
  ifvare SKILLLEVEL 1 setvar tempc 13
  ifvare SKILLLEVEL 2 setvar tempc 12
  ifvare SKILLLEVEL 3 setvar tempc 11
  ifvare SKILLLEVEL 4 setvar tempc 10
  ifvare SKILLLEVEL 5 setvar tempc 10
  ifvare SKILLLEVEL 6 setvar tempc 9
  ifvare SKILLLEVEL 7 setvar tempc 8
  ifvare SKILLLEVEL 8 setvar tempc 7
  ifvare SKILLLEVEL 9 setvar tempc 6
  mulvarvar CHARSTATINCREASE tempc
  divvar CHARSTATINCREASE 10
 }

 ifvarg PLAYERTEMPLEVEL 0 ifvarl PLAYERTEMPLEVEL 26 mulvar CHARSTATINCREASE 1
 ifvarg PLAYERTEMPLEVEL 25 ifvarl PLAYERTEMPLEVEL 51 mulvar CHARSTATINCREASE 3
 ifvarg PLAYERTEMPLEVEL 50 ifvarl PLAYERTEMPLEVEL 76 mulvar CHARSTATINCREASE 6
 ifvarg PLAYERTEMPLEVEL 75 ifvarl PLAYERTEMPLEVEL 101 mulvar CHARSTATINCREASE 9
 addvarvar STATINCREASE CHARSTATINCREASE
ends

state charactervarienceattack1 // Determines the differences between character attack-growth curves
 setvar CHARSTATINCREASE 0

 setvarvar CHARACTERARRAY CHARACTERSELECTED?
 getactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE TEMP2
 addvarvar CHARSTATINCREASE TEMP2

 state charactervariencebasis1
ends

state charactervariencedefense1 // Determines the differences between character defense-growth curves
 setvar CHARSTATINCREASE 0

 setvarvar CHARACTERARRAY CHARACTERSELECTED?
 getactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE TEMP2
 addvarvar CHARSTATINCREASE TEMP2

 state charactervariencebasis1
ends

state fullwipe
  setvar DUKE? 0
  setvar JACK? 0
  setvar BUBSY? 0
  setvar AMI? 0
  setvar LOWANG? 0
  setvar ESSENCE? 0
  setvar TED? 0
  setvar LISA? 0
  setvar CYBANIS? 0
  setvar NETHRA? 0
  setvar PAULA? 0
  setvar LORI? 0
  setvar MINAKO? 0
  setvar MYSTERY1? 0
  setvar MAKEN? 0
ends

state justduke
  setvar DUKE? 1
  setvar JACK? 0
  setvar BUBSY? 0
  setvar AMI? 0
  setvar LOWANG? 0
  setvar ESSENCE? 0
  setvar TED? 0
  setvar LISA? 0
  setvar CYBANIS? 0
  setvar NETHRA? 0
  setvar PAULA? 0
  setvar LORI? 0
  setvar MINAKO? 0
  setvar MYSTERY1? 0
  setvar MAKEN? 0
ends

state setexpcheat
   getactorvar[CHARACTERARRAY].CHARACTEREXPPTS TEMP
   ifvarvarl TEMP EXPCHEAT? setactorvar[CHARACTERARRAY].CHARACTEREXPPTS EXPCHEAT?
ends

state experiencecheat
 ifvarg EXPCHEAT? -1
 {
  ifvarvarl EXPPTS EXPCHEAT? setvarvar EXPPTS EXPCHEAT?
  ifvarn CHARACTERSELECTED? 1 { setvar CHARACTERARRAY 1 state setexpcheat }
  ifvarn CHARACTERSELECTED? 2 { setvar CHARACTERARRAY 2 state setexpcheat }
  ifvarn CHARACTERSELECTED? 3 { setvar CHARACTERARRAY 3 state setexpcheat }
  ifvarn CHARACTERSELECTED? 4 { setvar CHARACTERARRAY 4 state setexpcheat }
  ifvarn CHARACTERSELECTED? 5 { setvar CHARACTERARRAY 5 state setexpcheat }
  ifvarn CHARACTERSELECTED? 6 { setvar CHARACTERARRAY 6 state setexpcheat }
  ifvarn CHARACTERSELECTED? 7 { setvar CHARACTERARRAY 7 state setexpcheat }
  ifvarn CHARACTERSELECTED? 8 { setvar CHARACTERARRAY 8 state setexpcheat }
  ifvarn CHARACTERSELECTED? 9 { setvar CHARACTERARRAY 9 state setexpcheat }
  ifvarn CHARACTERSELECTED? 10 { setvar CHARACTERARRAY 10 state setexpcheat }
  ifvarn CHARACTERSELECTED? 11 { setvar CHARACTERARRAY 11 state setexpcheat }
  ifvarn CHARACTERSELECTED? 12 { setvar CHARACTERARRAY 12 state setexpcheat }
  ifvarn CHARACTERSELECTED? 13 { setvar CHARACTERARRAY 13 state setexpcheat }
  ifvarn CHARACTERSELECTED? 14 { setvar CHARACTERARRAY 14 state setexpcheat }
  ifvarn CHARACTERSELECTED? 15 { setvar CHARACTERARRAY 15 state setexpcheat }
  setvar EXPCHEAT? -1
 }
ends

state grpcheatrefill
  getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
  setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
ends

state randomizepartycharactercheat
 ifvare TEMPVAR 1 { ifvare DUKE? 0 { setvar DUKE? 1 subvar RANDOMCHARACTERCHEAT? 1 } else { jump GETCURRADDRESS } }
 ifvare TEMPVAR 2 { ifvare JACK? 0 { setvar JACK? 1 subvar RANDOMCHARACTERCHEAT? 1 } else { jump GETCURRADDRESS } }
 ifvare TEMPVAR 3 { ifvare BUBSY? 0 { setvar BUBSY? 1 subvar RANDOMCHARACTERCHEAT? 1 } else { jump GETCURRADDRESS } }
 ifvare TEMPVAR 4 { ifvare AMI? 0 { setvar AMI? 1 subvar RANDOMCHARACTERCHEAT? 1 } else { jump GETCURRADDRESS } }
 ifvare TEMPVAR 5 { ifvare LOWANG? 0 { setvar LOWANG? 1 subvar RANDOMCHARACTERCHEAT? 1 } else { jump GETCURRADDRESS } }
 ifvare TEMPVAR 6 { ifvare ESSENCE? 0 { setvar ESSENCE? 1 subvar RANDOMCHARACTERCHEAT? 1 } else { jump GETCURRADDRESS } }
 ifvare TEMPVAR 7 { ifvare TED? 0 { setvar TED? 1 subvar RANDOMCHARACTERCHEAT? 1 } else { jump GETCURRADDRESS } }
 ifvare TEMPVAR 8 { ifvare LISA? 0 { setvar LISA? 1 subvar RANDOMCHARACTERCHEAT? 1 } else { jump GETCURRADDRESS } }
 ifvare TEMPVAR 9 { ifvare CYBANIS? 0 { setvar CYBANIS? 1 subvar RANDOMCHARACTERCHEAT? 1 } else { jump GETCURRADDRESS } }
 ifvare TEMPVAR 10 { ifvare NETHRA? 0 { setvar NETHRA? 1 subvar RANDOMCHARACTERCHEAT? 1 } else { jump GETCURRADDRESS } }
 ifvare TEMPVAR 11 { ifvare PAULA? 0 { setvar PAULA? 1 subvar RANDOMCHARACTERCHEAT? 1 } else { jump GETCURRADDRESS } }
 ifvare TEMPVAR 12 { ifvare LORI? 0 { setvar LORI? 1 subvar RANDOMCHARACTERCHEAT? 1 } else { jump GETCURRADDRESS } }
 ifvare TEMPVAR 13 { ifvare MINAKO? 0 { setvar MINAKO? 1 subvar RANDOMCHARACTERCHEAT? 1 } else { jump GETCURRADDRESS } }
 ifvare TEMPVAR 14 { ifvare MYSTERY1? 0 { setvar MYSTERY1? 1 subvar RANDOMCHARACTERCHEAT? 1 } else { jump GETCURRADDRESS } }
 ifvare TEMPVAR 15 { ifvare MAKEN? 0 { setvar MAKEN? 1 subvar RANDOMCHARACTERCHEAT? 1 } else { jump GETCURRADDRESS } }
 ifvarg RANDOMCHARACTERCHEAT? 0 jump GETCURRADDRESS
ends

state groupcheat
 ifvarg RANDOMCHARACTERCHEAT? 0
 {
  setvar DUKE? 0
  setvar JACK? 0
  setvar BUBSY? 0
  setvar AMI? 0
  setvar LOWANG? 0
  setvar ESSENCE? 0
  setvar TED? 0
  setvar LISA? 0
  setvar CYBANIS? 0
  setvar NETHRA? 0
  setvar PAULA? 0
  setvar LORI? 0
  setvar MINAKO? 0
  setvar MYSTERY1? 0
  setvar MAKEN? 0
  ifvarg RANDOMCHARACTERCHEAT? 15 setvar RANDOMCHARACTERCHEAT? 15
  getcurraddress GETCURRADDRESS
  randvar TEMPVAR 14 addvar TEMPVAR 1  
  state randomizepartycharactercheat
 }

/*
 ifvarg SPEEDCHEAT? 0
 {
  getplayer[THISACTOR].runspeed TEMP
  addvar TEMP 145
  setplayer[THISACTOR].runspeed TEMP
  subvar SPEEDCHEAT? 1
 }
 else
 ifvarl SPEEDCHEAT? 0
 {
  getplayer[THISACTOR].runspeed TEMP
  subvar TEMP 145
  setplayer[THISACTOR].runspeed TEMP
  addvar SPEEDCHEAT? 1
 }
*/

 ifvarg CHARACTERCHEAT? 0
 {
  ifvarg gameover? 0
  {
   setvar CHARACTERCHEAT? 0
   break
  }
  else
  {
   setvar CHARACTERARRAY 1 state grpcheatrefill
   setvar CHARACTERARRAY 2 state grpcheatrefill
   setvar CHARACTERARRAY 3 state grpcheatrefill
   setvar CHARACTERARRAY 4 state grpcheatrefill
   setvar CHARACTERARRAY 5 state grpcheatrefill
   setvar CHARACTERARRAY 6 state grpcheatrefill
   setvar CHARACTERARRAY 7 state grpcheatrefill
   setvar CHARACTERARRAY 8 state grpcheatrefill
   setvar CHARACTERARRAY 9 state grpcheatrefill
   setvar CHARACTERARRAY 10 state grpcheatrefill
   setvar CHARACTERARRAY 11 state grpcheatrefill
   setvar CHARACTERARRAY 12 state grpcheatrefill
   setvar CHARACTERARRAY 13 state grpcheatrefill
   setvar CHARACTERARRAY 14 state grpcheatrefill
   setvar CHARACTERARRAY 15 state grpcheatrefill
   setactor[PLAYERID].extra 16384
  }
 }
 ifvare CHARACTERCHEAT? 1 // All Characters
 {
  setvar DUKE? 1
  setvar JACK? 1
  setvar BUBSY? 1
  setvar AMI? 1
  setvar LOWANG? 1
  setvar ESSENCE? 1
  setvar TED? 1
  setvar LISA? 1
  setvar CYBANIS? 1
  setvar NETHRA? 1
  setvar PAULA? 1
  setvar LORI? 1
  setvar MINAKO? 1
  setvar MYSTERY1? 1
  setvar MAKEN? 1
  setvar CHARACTERCHEAT? 0
 }
 ifvare CHARACTERCHEAT? 2 // Duke Only
 {
  state justduke
 }
 ifvare CHARACTERCHEAT? 3 // All Males Only
 {
  setvar DUKE? 1
  setvar JACK? 1
  setvar BUBSY? 1
  setvar AMI? 0
  setvar LOWANG? 1
  setvar ESSENCE? 1
  setvar TED? 1
  setvar LISA? 0
  setvar CYBANIS? 1
  setvar NETHRA? 0
  setvar PAULA? 0
  setvar LORI? 0
  setvar MINAKO? 0
  setvar MYSTERY1? 0
  setvar MAKEN? 0
  setvar CHARACTERCHEAT? 0
 }
 ifvare CHARACTERCHEAT? 4 // All Females Only
 {
  setvar DUKE? 0
  setvar JACK? 0
  setvar BUBSY? 0
  setvar AMI? 1
  setvar LOWANG? 0
  setvar ESSENCE? 0
  setvar TED? 0
  setvar LISA? 1
  setvar CYBANIS? 0
  setvar NETHRA? 1
  setvar PAULA? 1
  setvar LORI? 1
  setvar MINAKO? 1
  setvar MYSTERY1? 1
  setvar MAKEN? 1
  setvar CHARACTERCHEAT? 0
 }
 ifvare CHARACTERCHEAT? 5 // Randomized Group
 {
  randvar DUKE? 1
  randvar JACK? 1
  randvar BUBSY? 1
  randvar AMI? 1
  randvar LOWANG? 1
  randvar ESSENCE? 1
  randvar TED? 1
  randvar LISA? 1
  randvar CYBANIS? 1
  randvar NETHRA? 1
  randvar PAULA? 1
  randvar LORI? 1
  randvar MINAKO? 1
  randvar MYSTERY1? 1
  randvar MAKEN? 1
  setvar CHARACTERCHEAT? 0
 }
 ifvare CHARACTERCHEAT? 6 // Single Non-Duke Character
 {
  state justduke
  randvar TEMPVAR 13
  addvar TEMPVAR 2
  ifvare TEMPVAR 2 setvar JACK? 1
  ifvare TEMPVAR 3 setvar BUBSY? 1
  ifvare TEMPVAR 4 setvar AMI? 1
  ifvare TEMPVAR 5 setvar LOWANG? 1
  ifvare TEMPVAR 6 setvar ESSENCE? 1
  ifvare TEMPVAR 7 setvar TED? 1
  ifvare TEMPVAR 8 setvar LISA? 1
  ifvare TEMPVAR 9 setvar CYBANIS? 1
  ifvare TEMPVAR 10 setvar NETHRA? 1
  ifvare TEMPVAR 11 setvar PAULA? 1
  ifvare TEMPVAR 12 setvar LORI? 1
  ifvare TEMPVAR 13 setvar MINAKO? 1
  ifvare TEMPVAR 14 setvar MYSTERY1? 1
  ifvare TEMPVAR 15 setvar MAKEN? 1
  setvar DUKE? 0
  setvar CHARACTERCHEAT? 0
 }
 ifvare CHARACTERCHEAT? 7 // Inverts the Current Characters list
 {
  ifvarn PARTYSIZE 15
  {
   ifvare DUKE? 0 setvar DUKE? 1 else setvar DUKE? 0
   ifvare JACK? 0 setvar JACK? 1 else setvar JACK? 0
   ifvare BUBSY? 0 setvar BUBSY? 1 else setvar BUBSY? 0
   ifvare AMI? 0 setvar AMI? 1 else setvar AMI? 0
   ifvare LOWANG? 0 setvar LOWANG? 1 else setvar LOWANG? 0
   ifvare ESSENCE? 0 setvar ESSENCE? 1 else setvar ESSENCE? 0
   ifvare TED? 0 setvar TED? 1 else setvar TED? 0
   ifvare LISA? 0 setvar LISA? 1 else setvar LISA? 0
   ifvare CYBANIS? 0 setvar CYBANIS? 1 else setvar CYBANIS? 0
   ifvare NETHRA? 0 setvar NETHRA? 1 else setvar NETHRA? 0
   ifvare PAULA? 0 setvar PAULA? 1 else setvar PAULA? 0
   ifvare LORI? 0 setvar LORI? 1 else setvar LORI? 0
   ifvare MINAKO? 0 setvar MINAKO? 1 else setvar MINAKO? 0
   ifvare MYSTERY1? 0 setvar MYSTERY1? 1 else setvar MYSTERY1? 0
   ifvare MAKEN? 0 setvar MAKEN? 1 else setvar MAKEN? 0
  }
  setvar CHARACTERCHEAT? 0
 }
 ifvare CHARACTERCHEAT? 8 // Randpar
 {
  ifrnd 48 setvar CHARACTERCHEAT? 9
  else ifrnd 96 { ifrnd 128 setvar CHARACTERCHEAT? 3 else setvar CHARACTERCHEAT? 4 }
  else ifrnd 192 setvar CHARACTERCHEAT? 5 // Randomized Group
  else setvar CHARACTERCHEAT? 1 // All-Characters
 }
 ifvare CHARACTERCHEAT? 9 // Single Character
 {
  state fullwipe
  randvar TEMPVAR 14
  addvar TEMPVAR 1
  ifvare TEMPVAR 1 setvar DUKE? 1
  ifvare TEMPVAR 2 setvar JACK? 1
  ifvare TEMPVAR 3 setvar BUBSY? 1
  ifvare TEMPVAR 4 setvar AMI? 1
  ifvare TEMPVAR 5 setvar LOWANG? 1
  ifvare TEMPVAR 6 setvar ESSENCE? 1
  ifvare TEMPVAR 7 setvar TED? 1
  ifvare TEMPVAR 8 setvar LISA? 1
  ifvare TEMPVAR 9 setvar CYBANIS? 1
  ifvare TEMPVAR 10 setvar NETHRA? 1
  ifvare TEMPVAR 11 setvar PAULA? 1
  ifvare TEMPVAR 12 setvar LORI? 1
  ifvare TEMPVAR 13 setvar MINAKO? 1
  ifvare TEMPVAR 14 setvar MYSTERY1? 1
  ifvare TEMPVAR 15 setvar MAKEN? 1
  setvar CHARACTERCHEAT? 0
 }
 ifvare CHARACTERCHEAT? 10 // Remove All But the Current Character
 {
  ifvare CHARACTERSELECTED? 1 nullop else setvar DUKE? 0
  ifvare CHARACTERSELECTED? 2 nullop else setvar JACK? 0

  ifvare CHARACTERSELECTED? 3 nullop else setvar BUBSY? 0
  ifvare CHARACTERSELECTED? 4 nullop else setvar AMI? 0
  ifvare CHARACTERSELECTED? 5 nullop else setvar LOWANG? 0
  ifvare CHARACTERSELECTED? 6 nullop else setvar ESSENCE? 0
  ifvare CHARACTERSELECTED? 7 nullop else setvar TED? 0
  ifvare CHARACTERSELECTED? 8 nullop else setvar LISA? 0
  ifvare CHARACTERSELECTED? 9 nullop else setvar CYBANIS? 0
  ifvare CHARACTERSELECTED? 10 nullop else setvar NETHRA? 0
  ifvare CHARACTERSELECTED? 11 nullop else setvar PAULA? 0
  ifvare CHARACTERSELECTED? 12 nullop else setvar LORI? 0
  ifvare CHARACTERSELECTED? 13 nullop else setvar MINAKO? 0
  ifvare CHARACTERSELECTED? 14 nullop else setvar MYSTERY1? 0
  ifvare CHARACTERSELECTED? 15 nullop else setvar MAKEN? 0
  setvar CHARACTERCHEAT? 0
 }
// Editing the Character Arrays

// Other Cheats
 ifvarn SOUNDCHEAT -1
 {
  setplayer[THISACTOR].sound_pitch PITCHCHEAT
  globalsoundvar SOUNDCHEAT
  setvar SOUNDCHEAT -1
  setvar PITCHCHEAT 0
  setplayer[THISACTOR].sound_pitch 0
 }

ends

state useskillshowvalues1
    ifvare skillidinuse 12
    {
     state pal0
     redefinequote 332 HASTE
    }
    ifvare skillidinuse 13
    {
     state pal0
     redefinequote 332 SHELL
    }
    ifvare skillidinuse 14
    {
     state pal0
     redefinequote 332 BOOSTER
    }
    ifvare skillidinuse 15
    {
     state pal0
     redefinequote 332 BLOODLUST
    }
    ifvare skillidinuse 16
    {
     state pal0
     redefinequote 332 PKSHIELD
    }
ends

state useskillshowvalues2
    ifvare skillidinuse 12
    {
     state pal0
     getactorvar[CHARACTERARRAY].CHARACTERHASTETIMER varname
     divvar varname 26
    }
    ifvare skillidinuse 13
    {
     state pal0
     getactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER varname
     divvar varname 26
    }
    ifvare skillidinuse 14
    {
     state pal0
     getactorvar[CHARACTERARRAY].CHARACTERBOOSTERTIMER varname
     divvar varname 26
    }
    ifvare skillidinuse 15
    {
     state pal0
     getactorvar[CHARACTERARRAY].CHARACTERBLOODLUSTTIMER varname
     divvar varname 26
    }
    ifvare skillidinuse 16
    {
     state pal0
     getactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER varname
    }
ends

state useitemshowinvvalues1
    ifvare itemidinuse 13 // Portable Medikit
    {
     state pal21
     redefinequote 332 FA
    }
    ifvare itemidinuse 14 // Scuba Gear
    {
     state pal16
     redefinequote 332 SCUBA
    }
    ifvare itemidinuse 15 // NV Goggles
    {
     state pal14
     ifvare CHARACTERARRAY 4 redefinequote 332 VRVISOR
     else ifvare CHARACTERARRAY 8
     {
      setvar MISCARRAYID 77 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // HAVE-HACKERVISION?
      ifvare MISCARRAYID_AMOUNTTEMP 1 redefinequote 332 HACKVIS
      else redefinequote 332 NIGHTVIS
     }
     else redefinequote 332 NIGHTVIS
    }
    ifvare itemidinuse 16 // Protective Boots
    {
     state pal15
     redefinequote 332 BOOTS
    }
    ifvare itemidinuse 17 // Holo[name]
    {
     state pal13
     redefinequote 332 HOLOFORM
    }
    ifvare itemidinuse 18 // Jetpack
    {
     state pal20
     redefinequote 332 JETPACK
    }
    ifvare itemidinuse 19 // Vitamin X/Steroids
    {
     state pal23
     redefinequote 332 VITAMINX
    }
    ifvare itemidinuse 42 // Suit of Winter Clothes
    {
     state pal12
     redefinequote 332 COZY
    }
ends

state useitemshowinvvalues2
    ifvare itemidinuse 13 // Portable Medikit
    {
     state pal21
     getactorvar[CHARACTERARRAY].CHARACTERFA varname
    }
    ifvare itemidinuse 14 // Scuba Gear
    {
     state pal16
     getactorvar[CHARACTERARRAY].CHARACTERSCUBATIME varname
     ifvare debugtoggle 0 divvar varname 64
    }
    ifvare itemidinuse 15 // NV Goggles
    {
     state pal14
     ifvare CHARACTERARRAY 4 nullop
     else ifvare CHARACTERARRAY 8
     {
      setvar MISCARRAYID 77 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // HAVE-HACKERVISION?
      ifvare MISCARRAYID_AMOUNTTEMP 1 nullop
      else
      {
       getactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME varname
       ifvare debugtoggle 0 divvar varname 12
      }
     }
     else 
     {
      getactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME varname
      ifvare debugtoggle 0 divvar varname 12
     }
    }
    ifvare itemidinuse 16 // Protective Boots
    {
     state pal15
     getactorvar[CHARACTERARRAY].CHARACTERBOOTSTIME varname
     ifvare debugtoggle 0 divvar varname 2
    }
    ifvare itemidinuse 17 // Holo[name]
    {
     state pal13
     getactorvar[CHARACTERARRAY].CHARACTERHOLOTIME varname
     ifvare debugtoggle 0 divvar varname 24
    }
    ifvare itemidinuse 18 // Jetpack
    {
     state pal20
     getactorvar[CHARACTERARRAY].CHARACTERJETPACKTIME varname
     ifvare debugtoggle 0 divvar varname 16
    }
    ifvare itemidinuse 19 // Vitamin X/Steroids
    {
     state pal23
     getactorvar[CHARACTERARRAY].CHARACTERSTEROIDSTIME varname
     ifvare debugtoggle 0 divvar varname 4
    }
    ifvare itemidinuse 42 // Suit of Winter Clothes
    {
     state pal12
     getactorvar[CHARACTERARRAY].CHARACTERWINTERCLOTHES varname
    }
    // If Ami/Lisa is checked and they have their proper replacements, show "INFINITE" instead of a numeric value
    ifvare itemidinuse 15 // NV Goggles
    {
     state pal14
     ifvare CHARACTERARRAY 4
     {
      addvar digx 196
      setvar tilenum 2822
      redefinequote 332 INFINITE
      state gtz
     }
     else ifvare CHARACTERARRAY 8
     {
      setvar MISCARRAYID 77 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // HAVE-HACKERVISION?
      ifvare MISCARRAYID_AMOUNTTEMP 1
      {
       addvar digx 196
       setvar tilenum 2822
       redefinequote 332 INFINITE
       state gtz
      }
      else
      {
       state dnz
      }
     }
     else 
     {
      state dnz
     }
    }
    else
    {
     state dnz
    }
ends

state itemplate
   state digz65536
   setvar tilenum 8177 
   state pal0
   state rs 
ends

state characterplate
   addvar shade 8
   addvar digx 37
   state orientation2
   state digz65536
   getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
   ifvarand TEMPVAR 1 state pal2 else state pal0
   setvar tilenum 8175
   state rs
   subvar shade 8
   subvar digx 37
   state digz32768
ends

state menudukestats
  ifvarand CHARACTERSAVAILABLE 1 
  { 
   setvar CHARACTERARRAY 1
   ifvare CHARACTERSELECTED? 1 state shadepulse4
   state characterplate
   setvar tilenum 7936 
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1 state pal2 else state pal0
   state rs 

   state orientation2
   state setquote332
   setvar digx 88
   setvar digy 38
   state pal23
   redefinequote 332 DUKE NUKEM
   state mt
   setvar digy 44
   state pal20
   state quote332LEVEL
   state mt
   setvar digy 50
   state pal2
   state quote332HP
   state mt
   setvar digy 56
   state pal17
   state quote332AP
   state mt
   setvar digy 62
   state pal23
   state quote332AT
   state mt
   setvar digx 124
   state pal23
   state quote332DF
   state mt
   setvar digx 126
   setvar digy 50
   state pal2
   state quote332SLASH
   state mt
   setvar digy 56
   state pal17
   state quote332SLASH
   state mt

   setvar digx 104 // 112
   getactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL templeveltemp1
   ifvarg templeveltemp1 -1 ifvarl templeveltemp1 10 addvar digx 2
   else ifvarg templeveltemp1 9 ifvarl templeveltemp1 100 addvar digx 4
   else ifvare templeveltemp1 100 addvar digx 6
   setvar digy 46
   state pal20
   state settile3087
   setvarvar varname templeveltemp1 // DUKELEVEL
   state dn
// Insert Ailment Icons
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1
   {
    state pal0
    setvar digy 46
    setvar digx 119
    setvar digz 12288
    setvar tilenum 8100
    state rs
   }
   state pal0
   getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
   ifvarand TEMPVAR 4 // Slow
   {
    setvar digy 46
    setvar digx 124
    setvar digz 12288
    setvar tilenum 8107
    getactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 1 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 8 // Poison
   {
    setvar digy 46
    setvar digx 129
    setvar digz 12288
    setvar tilenum 8101
    getactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 1 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 16 // Dimness
   {
    setvar digy 46
    setvar digx 134
    setvar digz 12288
    setvar tilenum 8102
    getactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 1 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 128 // Confusion
   {
    setvar digy 46
    setvar digx 139
    setvar digz 12288
    setvar tilenum 8103
    getactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 1 state shadepulse4 else setvar shade 0
   }
//
   ifvare CHARACTERSELECTED? 1 state shadepulse4 else setvar shade 0
   state settile3087
   setvar digx 112
   setvar digy 52
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERHP varname
   state dn
   setvar digy 58
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERAP varname
   state dn
   setvar digy 64
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERATTACK varname
   state dn
   setvar digx 146
   setvar digy 52
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERMAXHP varname
   state dn
   setvar digy 58 // 58
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERMAXAP varname
   state dn
   setvar digy 64 // 64
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERDEFENSE varname
   state dn

   // Show Growth Rates when using Afa's Drop
   ifvare itemidinuse 4
   {
    setvarvar digx 120 // digx_test
    setvarvar digy 44 // digy_test
    // "HP"
    setvar tilenum 2822
    setvar textscale 40960
    state pal21
    redefinequote 332 HP-RATE
    state gtz
    // "AP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AP-RATE
    state gtz
    // "EP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 EP-RATE
    state gtz
    // "ATK"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal10
    redefinequote 332 ATK-RATE
    state gtz
    // "DEF"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal14
    redefinequote 332 DEF-RATE
    state gtz

    setvarvar digx 128 // 94
    setvarvar digy 44 // digy_test
    // "HP Rate" Value
    setvar tilenum 2837
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE varname
    state dnz
    // "AP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal22
    getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE varname
    state dnz
    // "EP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal0
    getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE varname
    state dnz
    // "ATK Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal10
    getactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE varname
    state dnz
    // "DEF Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal14
    getactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE varname
    state dnz
   }

   // Show Inventory Levels or Firstaid when using certain items
   ifvarg itemidinuse 12 ifvarl itemidinuse 20 setvar TEMPVAR6 1
   else ifvare itemidinuse 42 setvar TEMPVAR6 1
   else setvar TEMPVAR6 0
   ifvare TEMPVAR6 1
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 54 // digy_test
    setvar textscale 40960
    state useitemshowinvvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 54 // digy_test
    setvar digz 40960
    state useitemshowinvvalues2
   }

   // Show FA value when using a Super Atom
   ifvare itemidinuse 23
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 51 // digy_test
    setvar textscale 40960
    state pal21
    redefinequote 332 FA
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 51 // digy_test
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERFA varname
    state dnz

    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    // "AB%"
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 57 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AB%
    state gtz

    // "AB% Value"
    setvar tilenum 2822
    setvarvar digx 228 // digx_test
    setvarvar digy 57 // digy_test
    setvar textscale 40960
    state pal22
    setvarvar TEMPVAR2 varname
    divvar TEMPVAR2 10
    setvarvar TEMPVAR3 varname
    modvar TEMPVAR3 10
    redefinequote 332 %ld.%ld%
    qsprintf 332 332 TEMPVAR2 TEMPVAR3

    qstrlen TEMPVAR4 332
    ifvarg TEMPVAR4 0 
    { 
     setvarvar tempb TEMPVAR4
     mulvar tempb 6
     subvarvar digx tempb
     addvar digx 30
    }
    state gtz
   }

   // Show EP Levels when using Energy Drink Items
   ifvarg itemidinuse 38 ifvarl itemidinuse 42
   {
    state setquote332
    state orientation2

    // "EP"
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 54 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 EP
    state gtz

    // "Current EP" Value
    setvar tilenum 2837
    setvarvar digx 94 // 94
    setvarvar digy 54 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTEREP varname
    state dnz

    // "/"
    setvar tilenum 2822
    setvarvar digx 228 // digx_test
    setvarvar digy 54 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 /
    state gtz

    // "Maximum EP" Value
    setvar tilenum 2837
    setvarvar digx 140
    setvarvar digy 54 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTERMAXEP varname
    state dnz
   }

   // Show AB% Levels when using Ted's "Fortify" skills
   setvar TEMP7 0
   ifvarg itemidinuse 10 ifvarl itemidinuse 13 addvar TEMP7 1
   else ifvarg itemidinuse 19 ifvarl itemidinuse 22 addvar TEMP7 1
   else ifvarg itemidinuse 23 ifvarl itemidinuse 38 addvar TEMP7 1
   else ifvarg skillidinuse 8 ifvarl skillidinuse 12 addvar TEMP7 1
   ifvarg TEMP7 0
   {
    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    ifvarg varname -1 // 0
    {
     state setquote332
     state orientation2

     // "AB%"
     setvar tilenum 2822
     setvarvar digx 120 // digx_test
     setvarvar digy 54 // digy_test
     setvar textscale 40960
     state pal22
     redefinequote 332 AB%
     state gtz

     // "AB% Value"
     setvar tilenum 2822
     setvarvar digx 228 // digx_test
     setvarvar digy 54 // digy_test
     setvar textscale 40960
     state pal22
     setvarvar TEMPVAR2 varname
     divvar TEMPVAR2 10
     setvarvar TEMPVAR3 varname
     modvar TEMPVAR3 10
     redefinequote 332 %ld.%ld%
     qsprintf 332 332 TEMPVAR2 TEMPVAR3

     qstrlen TEMPVAR4 332
     ifvarg TEMPVAR4 0 
     { 
      setvarvar tempb TEMPVAR4
      mulvar tempb 6
      subvarvar digx tempb
      addvar digx 30
     }
     state gtz
    }
   }

   // Show "Buff" Timers
   ifvarg skillidinuse 11 ifvarl skillidinuse 17
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 54 // digy_test
    setvar textscale 40960
    state useskillshowvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 54 // digy_test
    setvar digz 40960
    state useskillshowvalues2
    state dnz
   }

   state settile3087
   state shade0
   state digz32768
  } // Show Duke's Info
ends

state menujackstats
  ifvarand CHARACTERSAVAILABLE 2 
  { 
   setvar CHARACTERARRAY 2
   ifvare CHARACTERSELECTED? 2 state shadepulse4
   state characterplate
   setvar tilenum 7937 
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1 state pal2 else state pal0
   state rs 

   state orientation2
   state setquote332
   setvar digx 194
   setvar digy 38
   state pal23
   redefinequote 332 JACK WALKER
   state mt
   setvar digy 44
   state pal20
   state quote332LEVEL
   state mt
   setvar digy 50
   state pal2
   state quote332HP
   state mt
   setvar digy 56
   state pal17
   state quote332AP
   state mt
   setvar digy 62
   state pal23
   state quote332AT
   state mt
   setvar digx 230
   state pal23
   state quote332DF
   state mt
   setvar digx 232
   setvar digy 50
   state pal2
   state quote332SLASH
   state mt
   setvar digy 56
   state pal17
   state quote332SLASH
   state mt
   setvar digx 210 // 232
   getactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL templeveltemp1
   ifvarg templeveltemp1 -1 ifvarl templeveltemp1 10 addvar digx 2
   else ifvarg templeveltemp1 9 ifvarl templeveltemp1 100 addvar digx 4
   else ifvare templeveltemp1 100 addvar digx 6
   setvar digy 46
   state pal20
   state settile3087
   setvarvar varname templeveltemp1
   state dn
// Insert Ailment Icons
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1
   {
    state pal0
    setvar digy 46
    setvar digx 225
    setvar digz 12288
    setvar tilenum 8100
    state rs
   }
   state pal0
   getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
   ifvarand TEMPVAR 4
   {
    setvar digy 46
    setvar digx 230
    setvar digz 12288
    setvar tilenum 8107
    getactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 2 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 8
   {
    setvar digy 46
    setvar digx 235
    setvar digz 12288
    setvar tilenum 8101
    getactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 2 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 16
   {
    setvar digy 46
    setvar digx 240
    setvar digz 12288
    setvar tilenum 8102
    getactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 2 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 128
   {
    setvar digy 46
    setvar digx 245
    setvar digz 12288
    setvar tilenum 8103
    getactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 2 state shadepulse4 else setvar shade 0
   }
//
   ifvare CHARACTERSELECTED? 2 state shadepulse4 else setvar shade 0
   state settile3087
   setvar digx 218
   setvar digy 52
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERHP varname
   state dn
   setvar digy 58
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERAP varname
   state dn
   setvar digy 64
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERATTACK varname
   state dn
   setvar digx 252
   setvar digy 52
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERMAXHP varname
   state dn
   setvar digy 58
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERMAXAP varname
   state dn
   setvar digy 64
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERDEFENSE varname
   state dn

   // Show Growth Rates when using Afa's Drop
   ifvare itemidinuse 4
   {
    setvarvar digx 332 // digx_test
    setvarvar digy 44 // digy_test
    // "HP"
    setvar tilenum 2822
    setvar textscale 40960
    state pal21
    redefinequote 332 HP-RATE
    state gtz
    // "AP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AP-RATE
    state gtz
    // "EP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 EP-RATE
    state gtz
    // "ATK"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal10
    redefinequote 332 ATK-RATE
    state gtz
    // "DEF"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal14
    redefinequote 332 DEF-RATE
    state gtz

    setvarvar digx 234 // 94
    setvarvar digy 44 // digy_test
    // "HP Rate" Value
    setvar tilenum 2837
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE varname
    state dnz
    // "AP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal22
    getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE varname
    state dnz
    // "EP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal0
    getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE varname
    state dnz
    // "ATK Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal10
    getactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE varname
    state dnz
    // "DEF Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal14
    getactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE varname
    state dnz
   }

   // Show Inventory Levels or Firstaid when using certain items
   ifvarg itemidinuse 12 ifvarl itemidinuse 20 setvar TEMPVAR6 1
   else ifvare itemidinuse 42 setvar TEMPVAR6 1
   else setvar TEMPVAR6 0
   ifvare TEMPVAR6 1
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 54 // digy_test
    setvar textscale 40960
    state useitemshowinvvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 54 // digy_test
    setvar digz 40960
    state useitemshowinvvalues2
   }

   // Show FA value when using a Super Atom
   ifvare itemidinuse 23
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 51 // digy_test
    setvar textscale 40960
    state pal21
    redefinequote 332 FA
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 51 // digy_test
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERFA varname
    state dnz

    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    // "AB%"
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 57 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AB%
    state gtz

    // "AB% Value"
    setvar tilenum 2822
    setvarvar digx 440 // digx_test
    setvarvar digy 57 // digy_test
    setvar textscale 40960
    state pal22
    setvarvar TEMPVAR2 varname
    divvar TEMPVAR2 10
    setvarvar TEMPVAR3 varname
    modvar TEMPVAR3 10
    redefinequote 332 %ld.%ld%
    qsprintf 332 332 TEMPVAR2 TEMPVAR3

    qstrlen TEMPVAR4 332
    ifvarg TEMPVAR4 0 
    { 
     setvarvar tempb TEMPVAR4
     mulvar tempb 6
     subvarvar digx tempb
     addvar digx 30
    }
    state gtz
   }

   // Show EP Levels when using Energy Drink Items
   ifvarg itemidinuse 38 ifvarl itemidinuse 42
   {
    state setquote332
    state orientation2

    // "EP"
    setvar tilenum 2822
    setvarvar digx 332 // 120
    setvarvar digy 54 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 EP
    state gtz

    // "Current EP" Value
    setvar tilenum 2837
    setvarvar digx 200 // digy_test // 94
    setvarvar digy 54 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTEREP varname
    state dnz

    // "/"
    setvar tilenum 2822
    setvarvar digx 440 // +108
    setvarvar digy 54 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 /
    state gtz

    // "Maximum EP" Value
    setvar tilenum 2837
    setvarvar digx 246 // +46
    setvarvar digy 54 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTERMAXEP varname
    state dnz
   }

   // Show AB% Levels when using Ted's "Fortify" skills
   setvar TEMP7 0
   ifvarg itemidinuse 10 ifvarl itemidinuse 13 addvar TEMP7 1
   else ifvarg itemidinuse 19 ifvarl itemidinuse 22 addvar TEMP7 1
   else ifvarg itemidinuse 23 ifvarl itemidinuse 38 addvar TEMP7 1
   else ifvarg skillidinuse 8 ifvarl skillidinuse 12 addvar TEMP7 1
   ifvarg TEMP7 0
   {
    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    ifvarg varname -1 // 0
    {
     state setquote332
     state orientation2

     // "AB%"
     setvar tilenum 2822
     setvarvar digx 332 // digx_test
     setvarvar digy 54 // digy_test
     setvar textscale 40960
     state pal22
     redefinequote 332 AB%
     state gtz

     // "AB% Value"
     setvar tilenum 2822
     setvarvar digx 440 // digx_test
     setvarvar digy 54 // digy_test
     setvar textscale 40960
     state pal22
     setvarvar TEMPVAR2 varname
     divvar TEMPVAR2 10
     setvarvar TEMPVAR3 varname
     modvar TEMPVAR3 10
     redefinequote 332 %ld.%ld%
     qsprintf 332 332 TEMPVAR2 TEMPVAR3

     qstrlen TEMPVAR4 332
     ifvarg TEMPVAR4 0 
     { 
      setvarvar tempb TEMPVAR4
      mulvar tempb 6
      subvarvar digx tempb
      addvar digx 30
     }
     state gtz
    }
   }

   // Show "Buff" Timers
   ifvarg skillidinuse 11 ifvarl skillidinuse 17
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 54 // digy_test
    setvar textscale 40960
    state useskillshowvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 54 // digy_test
    setvar digz 40960
    state useskillshowvalues2
    state dnz
   }

   state settile3087
   state shade0
   state digz32768
  } // Show Jack's Info
ends

state menububsystats
  ifvarand CHARACTERSAVAILABLE 4 
  { 
   setvar CHARACTERARRAY 3
   ifvare CHARACTERSELECTED? 3 state shadepulse4
   state characterplate

   setvar MISCARRAYID 103 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // BUBSY-FORM?
   ifvare MISCARRAYID_AMOUNTTEMP 0 setvar tilenum 7938 
   else ifvarg MISCARRAYID_AMOUNTTEMP 0 setvar tilenum 7962 

   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1 state pal2 else state pal0
   state rs 

   state setquote332
   state orientation2
   setvar digx 88
   setvar digy 70 // +32
   state pal23
   redefinequote 332 BUBSY BOBCAT
   state mt
   setvar digy 76
   state pal20
   state quote332LEVEL
   state mt
   setvar digy 82
   state pal2
   state quote332HP
   state mt
   setvar digy 88
   state pal17
   state quote332AP
   state mt
   setvar digy 94
   state pal23
   state quote332AT
   state mt
   setvar digx 124 // x+33
   state pal23
   state quote332DF
   state mt
   setvar digx 126 // x+2
   setvar digy 82
   state pal2
   state quote332SLASH
   state mt
   setvar digy 88
   state pal17
   state quote332SLASH
   state mt
   setvar digx 104 // 126
   getactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL templeveltemp1
   ifvarg templeveltemp1 -1 ifvarl templeveltemp1 10 addvar digx 2
   else ifvarg templeveltemp1 9 ifvarl templeveltemp1 100 addvar digx 4
   else ifvare templeveltemp1 100 addvar digx 6
   setvar digy 78
   state pal20
   state settile3087
   setvarvar varname templeveltemp1
   state dn
// Insert Ailment Icons
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1
   {
    state pal0
    setvar digy 78
    setvar digx 119
    setvar digz 12288
    setvar tilenum 8100
    state rs
   }
   state pal0
   getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
   ifvarand TEMPVAR 4
   {
    setvar digy 78
    setvar digx 124
    setvar digz 12288
    setvar tilenum 8107
    getactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 3 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 8
   {
    setvar digy 78
    setvar digx 129
    setvar digz 12288
    setvar tilenum 8101
    getactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 3 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 16
   {
    setvar digy 78
    setvar digx 134
    setvar digz 12288
    setvar tilenum 8102
    getactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 3 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 128
   {
    setvar digy 78
    setvar digx 139
    setvar digz 12288
    setvar tilenum 8103
    getactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 3 state shadepulse4 else setvar shade 0
   }
 //
   ifvare CHARACTERSELECTED? 3 state shadepulse4 else setvar shade 0
   state settile3087
   setvar digx 112 // x-15
   setvar digy 84
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERHP varname
   state dn
   setvar digy 90
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERAP varname
   state dn
   setvar digy 96
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERATTACK varname
   state dn
   setvar digx 146 // x+33
   setvar digy 84
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERMAXHP varname
   state dn
   setvar digy 90
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERMAXAP varname
   state dn
   setvar digy 96
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERDEFENSE varname
   state dn

   // Show Growth Rates when using Afa's Drop
   ifvare itemidinuse 4
   {
    setvarvar digx 120 // digx_test
    setvarvar digy 76 // digy_test
    // "HP"
    setvar tilenum 2822
    setvar textscale 40960
    state pal21
    redefinequote 332 HP-RATE
    state gtz
    // "AP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AP-RATE
    state gtz
    // "EP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 EP-RATE
    state gtz
    // "ATK"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal10
    redefinequote 332 ATK-RATE
    state gtz
    // "DEF"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal14
    redefinequote 332 DEF-RATE
    state gtz

    setvarvar digx 128 // 94
    setvarvar digy 76 // digy_test
    // "HP Rate" Value
    setvar tilenum 2837
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE varname
    state dnz
    // "AP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal22
    getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE varname
    state dnz
    // "EP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal0
    getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE varname
    state dnz
    // "ATK Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal10
    getactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE varname
    state dnz
    // "DEF Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal14
    getactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE varname
    state dnz
   }

   // Show Inventory Levels or Firstaid when using certain items
   ifvarg itemidinuse 12 ifvarl itemidinuse 20 setvar TEMPVAR6 1
   else ifvare itemidinuse 42 setvar TEMPVAR6 1
   else setvar TEMPVAR6 0
   ifvare TEMPVAR6 1
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 86 // digy_test
    setvar textscale 40960
    state useitemshowinvvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 86 // digy_test
    setvar digz 40960
    state useitemshowinvvalues2
   }

   // Show FA value when using a Super Atom
   ifvare itemidinuse 23
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 83 // digy_test
    setvar textscale 40960
    state pal21
    redefinequote 332 FA
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 83 // digy_test
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERFA varname
    state dnz

    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    // "AB%"
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 89 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AB%
    state gtz

    // "AB% Value"
    setvar tilenum 2822
    setvarvar digx 228 // digx_test
    setvarvar digy 89 // digy_test
    setvar textscale 40960
    state pal22
    setvarvar TEMPVAR2 varname
    divvar TEMPVAR2 10
    setvarvar TEMPVAR3 varname
    modvar TEMPVAR3 10
    redefinequote 332 %ld.%ld%
    qsprintf 332 332 TEMPVAR2 TEMPVAR3

    qstrlen TEMPVAR4 332
    ifvarg TEMPVAR4 0 
    { 
     setvarvar tempb TEMPVAR4
     mulvar tempb 6
     subvarvar digx tempb
     addvar digx 30
    }
    state gtz
   }

   // Show EP Levels when using Energy Drink Items
   ifvarg itemidinuse 38 ifvarl itemidinuse 42
   {
    state setquote332
    state orientation2

    // "EP"
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 86 // 54
    setvar textscale 40960
    state pal0
    redefinequote 332 EP
    state gtz

    // "Current EP" Value
    setvar tilenum 2837
    setvarvar digx 94 // 94
    setvarvar digy 86 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTEREP varname
    state dnz

    // "/"
    setvar tilenum 2822
    setvarvar digx 228 // digx_test
    setvarvar digy 86 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 /
    state gtz

    // "Maximum EP" Value
    setvar tilenum 2837
    setvarvar digx 140
    setvarvar digy 86 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTERMAXEP varname
    state dnz
   }

   // Show AB% Levels when using Ted's "Fortify" skills
   setvar TEMP7 0
   ifvarg itemidinuse 10 ifvarl itemidinuse 13 addvar TEMP7 1
   else ifvarg itemidinuse 19 ifvarl itemidinuse 22 addvar TEMP7 1
   else ifvarg itemidinuse 23 ifvarl itemidinuse 38 addvar TEMP7 1
   else ifvarg skillidinuse 8 ifvarl skillidinuse 12 addvar TEMP7 1
   ifvarg TEMP7 0
   {
    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    ifvarg varname -1 // 0
    {
     state setquote332
     state orientation2

     // "AB%"
     setvar tilenum 2822
     setvarvar digx 120 // digx_test
     setvarvar digy 86 // digy_test
     setvar textscale 40960
     state pal22
     redefinequote 332 AB%
     state gtz

     // "AB% Value"
     setvar tilenum 2822
     setvarvar digx 228 // digx_test
     setvarvar digy 86 // digy_test
     setvar textscale 40960
     state pal22
     setvarvar TEMPVAR2 varname
     divvar TEMPVAR2 10
     setvarvar TEMPVAR3 varname
     modvar TEMPVAR3 10
     redefinequote 332 %ld.%ld%
     qsprintf 332 332 TEMPVAR2 TEMPVAR3

     qstrlen TEMPVAR4 332
     ifvarg TEMPVAR4 0 
     { 
      setvarvar tempb TEMPVAR4
      mulvar tempb 6
      subvarvar digx tempb
      addvar digx 30
     }
     state gtz
    }
   }

   // Show "Buff" Timers
   ifvarg skillidinuse 11 ifvarl skillidinuse 17
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 86 // digy_test
    setvar textscale 40960
    state useskillshowvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 86 // digy_test
    setvar digz 40960
    state useskillshowvalues2
    state dnz
   }

   state settile3087
   state shade0
   state digz32768
  } // Show Bubsy's Info
ends

state menuamistats
  ifvarand CHARACTERSAVAILABLE 8 
  { 
   setvar CHARACTERARRAY 4
   ifvare CHARACTERSELECTED? 4 state shadepulse4
   state characterplate

   setvar MISCARRAYID 104 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // AMI-FORM?
   ifvare MISCARRAYID_AMOUNTTEMP 0 setvar tilenum 7939 else ifvare MISCARRAYID_AMOUNTTEMP 1 setvar tilenum 7963 else ifvarg MISCARRAYID_AMOUNTTEMP 1 setvar tilenum 7966 

   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1 state pal2 else state pal0
   state rs 

   state setquote332
   state orientation2
   setvar digx 194
   setvar digy 70
   state pal23
   redefinequote 332 AMI MIZUNO
   state mt
   setvar digy 76
   state pal20
   state quote332LEVEL
   state mt
   setvar digy 82
   state pal2
   state quote332HP
   state mt
   setvar digy 88
   state pal17
   state quote332AP
   state mt
   setvar digy 94
   state pal23
   state quote332AT
   state mt
   setvar digx 230 // x+33
   state pal23
   state quote332DF
   state mt
   setvar digx 232 // x+2
   setvar digy 82
   state pal2
   state quote332SLASH
   state mt
   setvar digy 88
   state pal17
   state quote332SLASH
   state mt
   setvar digx 210 // 232
   getactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL templeveltemp1
   ifvarg templeveltemp1 -1 ifvarl templeveltemp1 10 addvar digx 2
   else ifvarg templeveltemp1 9 ifvarl templeveltemp1 100 addvar digx 4
   else ifvare templeveltemp1 100 addvar digx 6
   setvar digy 78
   state pal20
   state settile3087
   setvarvar varname templeveltemp1
   state dn
// Insert Ailment Icons
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1
   {
/*
    state pal21
    setvar digy 76
    setvar digx 241
    state settile3087
    redefinequote 332 DEAD
    state setquote332
    state mt
    state pal20
*/
    state pal0
    setvar digy 78
    setvar digx 225
    setvar digz 12288
    setvar tilenum 8100
    state rs
   }
   state pal0
   getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
   ifvarand TEMPVAR 4
   {
    setvar digy 78
    setvar digx 230
    setvar digz 12288
    setvar tilenum 8107
    getactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 4 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 8
   {
    setvar digy 78
    setvar digx 235
    setvar digz 12288
    setvar tilenum 8101
    getactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 4 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 16
   {
    setvar digy 78
    setvar digx 240
    setvar digz 12288
    setvar tilenum 8102
    getactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 4 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 128
   {
    setvar digy 78
    setvar digx 245
    setvar digz 12288
    setvar tilenum 8103
    getactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 4 state shadepulse4 else setvar shade 0
   }
//
   ifvare CHARACTERSELECTED? 4 state shadepulse4 else setvar shade 0
   state settile3087
   setvar digx 218 // x-15
   setvar digy 84
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERHP varname
   state dn
   setvar digy 90
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERAP varname
   state dn
   setvar digy 96
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERATTACK varname
   state dn
   setvar digx 252 // x+33
   setvar digy 84
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERMAXHP varname
   state dn
   setvar digy 90
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERMAXAP varname
   state dn
   setvar digy 96
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERDEFENSE varname
   state dn

   // Show Growth Rates when using Afa's Drop
   ifvare itemidinuse 4
   {
    setvarvar digx 332 // digx_test
    setvarvar digy 76 // digy_test
    // "HP"
    setvar tilenum 2822
    setvar textscale 40960
    state pal21
    redefinequote 332 HP-RATE
    state gtz
    // "AP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AP-RATE
    state gtz
    // "EP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 EP-RATE
    state gtz
    // "ATK"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal10
    redefinequote 332 ATK-RATE
    state gtz
    // "DEF"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal14
    redefinequote 332 DEF-RATE
    state gtz

    setvarvar digx 234 // 94
    setvarvar digy 76 // digy_test
    // "HP Rate" Value
    setvar tilenum 2837
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE varname
    state dnz
    // "AP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal22
    getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE varname
    state dnz
    // "EP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal0
    getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE varname
    state dnz
    // "ATK Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal10
    getactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE varname
    state dnz
    // "DEF Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal14
    getactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE varname
    state dnz
   }

   // Show Inventory Levels or Firstaid when using certain items
   ifvarg itemidinuse 12 ifvarl itemidinuse 20 setvar TEMPVAR6 1
   else ifvare itemidinuse 42 setvar TEMPVAR6 1
   else setvar TEMPVAR6 0
   ifvare TEMPVAR6 1
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 86 // digy_test
    setvar textscale 40960
    state useitemshowinvvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 86 // digy_test
    setvar digz 40960
    state useitemshowinvvalues2
   }

   // Show FA value when using a Super Atom
   ifvare itemidinuse 23
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 83 // digy_test
    setvar textscale 40960
    state pal21
    redefinequote 332 FA
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 83 // digy_test
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERFA varname
    state dnz

    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    // "AB%"
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 89 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AB%
    state gtz

    // "AB% Value"
    setvar tilenum 2822
    setvarvar digx 440 // digx_test
    setvarvar digy 89 // digy_test
    setvar textscale 40960
    state pal22
    setvarvar TEMPVAR2 varname
    divvar TEMPVAR2 10
    setvarvar TEMPVAR3 varname
    modvar TEMPVAR3 10
    redefinequote 332 %ld.%ld%
    qsprintf 332 332 TEMPVAR2 TEMPVAR3

    qstrlen TEMPVAR4 332
    ifvarg TEMPVAR4 0 
    { 
     setvarvar tempb TEMPVAR4
     mulvar tempb 6
     subvarvar digx tempb
     addvar digx 30
    }
    state gtz
   }

   // Show EP Levels when using Energy Drink Items
   ifvarg itemidinuse 38 ifvarl itemidinuse 42
   {
    state setquote332
    state orientation2

    // "EP"
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 86 // 54
    setvar textscale 40960
    state pal0
    redefinequote 332 EP
    state gtz

    // "Current EP" Value
    setvar tilenum 2837
    setvarvar digx 200 // 94
    setvarvar digy 86 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTEREP varname
    state dnz

    // "/"
    setvar tilenum 2822
    setvarvar digx 440 // digx_test
    setvarvar digy 86 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 /
    state gtz

    // "Maximum EP" Value
    setvar tilenum 2837
    setvarvar digx 246
    setvarvar digy 86 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTERMAXEP varname
    state dnz
   }

   // Show AB% Levels when using Ted's "Fortify" skills
   setvar TEMP7 0
   ifvarg itemidinuse 10 ifvarl itemidinuse 13 addvar TEMP7 1
   else ifvarg itemidinuse 19 ifvarl itemidinuse 22 addvar TEMP7 1
   else ifvarg itemidinuse 23 ifvarl itemidinuse 38 addvar TEMP7 1
   else ifvarg skillidinuse 8 ifvarl skillidinuse 12 addvar TEMP7 1
   ifvarg TEMP7 0
   {
    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    ifvarg varname -1 // 0
    {
     state setquote332
     state orientation2

     // "AB%"
     setvar tilenum 2822
     setvarvar digx 332 // digx_test
     setvarvar digy 86 // digy_test
     setvar textscale 40960
     state pal22
     redefinequote 332 AB%
     state gtz

     // "AB% Value"
     setvar tilenum 2822
     setvarvar digx 440 // digx_test
     setvarvar digy 86 // digy_test
     setvar textscale 40960
     state pal22
     setvarvar TEMPVAR2 varname
     divvar TEMPVAR2 10
     setvarvar TEMPVAR3 varname
     modvar TEMPVAR3 10
     redefinequote 332 %ld.%ld%
     qsprintf 332 332 TEMPVAR2 TEMPVAR3

     qstrlen TEMPVAR4 332
     ifvarg TEMPVAR4 0 
     { 
      setvarvar tempb TEMPVAR4
      mulvar tempb 6
      subvarvar digx tempb
      addvar digx 30
     }
     state gtz
    }
   }

   // Show "Buff" Timers
   ifvarg skillidinuse 11 ifvarl skillidinuse 17
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 86 // digy_test
    setvar textscale 40960
    state useskillshowvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 86 // digy_test
    setvar digz 40960
    state useskillshowvalues2
    state dnz
   }

   state settile3087
   state shade0
   state digz32768
  } // Show Ami's Info
ends

state menulowangstats
  ifvarand CHARACTERSAVAILABLE 16 
  { 
   setvar CHARACTERARRAY 5
   ifvare CHARACTERSELECTED? 5 state shadepulse4
   state characterplate
   setvar tilenum 7940 
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1 state pal2 else state pal0
   state rs 

   state setquote332  
   state orientation2
   setvar digx 88
   setvar digy 102
   state pal23
   redefinequote 332 HIGA HAKAISHA
   state mt
   setvar digy 108
   state pal20
   state quote332LEVEL
   state mt
   setvar digy 114
   state pal2
   state quote332HP
   state mt
   setvar digy 120
   state pal17
   state quote332AP
   state mt
   setvar digy 126
   state pal23
   state quote332AT
   state mt
   setvar digx 124 // x+33
   state pal23
   state quote332DF
   state mt
   setvar digx 126 // x+2
   setvar digy 114
   state pal2
   state quote332SLASH
   state mt
   setvar digy 120
   state pal17
   state quote332SLASH
   state mt
   setvar digx 104 // x+3
   getactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL templeveltemp1
   ifvarg templeveltemp1 -1 ifvarl templeveltemp1 10 addvar digx 2
   else ifvarg templeveltemp1 9 ifvarl templeveltemp1 100 addvar digx 4
   else ifvare templeveltemp1 100 addvar digx 6
   setvar digy 110
   state pal20
   state settile3087
   setvarvar varname templeveltemp1
   state dn
// Insert Ailment Icons
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1
   {
/*
    state pal21
    setvar digy 108
    setvar digx 135
    state settile3087
    redefinequote 332 DEAD
    state setquote332
    state mt
    state pal20
*/
    state pal0
    setvar digy 110
    setvar digx 119
    setvar digz 12288
    setvar tilenum 8100
    state rs
   }
   state pal0
   getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
   ifvarand TEMPVAR 4
   {
    setvar digy 110
    setvar digx 124
    setvar digz 12288
    setvar tilenum 8107
    getactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 5 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 8
   {
    setvar digy 110
    setvar digx 129
    setvar digz 12288
    setvar tilenum 8101
    getactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 5 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 16
   {
    setvar digy 110
    setvar digx 134
    setvar digz 12288
    setvar tilenum 8102
    getactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 5 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 128
   {
    setvar digy 110
    setvar digx 139
    setvar digz 12288
    setvar tilenum 8103
    getactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 5 state shadepulse4 else setvar shade 0
   }
//
   ifvare CHARACTERSELECTED? 5 state shadepulse4 else setvar shade 0
   state settile3087
   setvar digx 112 // x-15
   setvar digy 116
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERHP varname
   state dn
   setvar digy 122
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERAP varname
   state dn
   setvar digy 128
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERATTACK varname
   state dn
   setvar digx 146 // x+33
   setvar digy 116
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERMAXHP varname
   state dn
   setvar digy 122
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERMAXAP varname
   state dn
   setvar digy 128
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERDEFENSE varname
   state dn

   // Show Growth Rates when using Afa's Drop
   ifvare itemidinuse 4
   {
    setvarvar digx 120 // digx_test
    setvarvar digy 108 // digy_test
    // "HP"
    setvar tilenum 2822
    setvar textscale 40960
    state pal21
    redefinequote 332 HP-RATE
    state gtz
    // "AP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AP-RATE
    state gtz
    // "EP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 EP-RATE
    state gtz
    // "ATK"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal10
    redefinequote 332 ATK-RATE
    state gtz
    // "DEF"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal14
    redefinequote 332 DEF-RATE
    state gtz

    setvarvar digx 128 // 94
    setvarvar digy 108 // digy_test
    // "HP Rate" Value
    setvar tilenum 2837
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE varname
    state dnz
    // "AP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal22
    getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE varname
    state dnz
    // "EP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal0
    getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE varname
    state dnz
    // "ATK Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal10
    getactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE varname
    state dnz
    // "DEF Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal14
    getactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE varname
    state dnz
   }

   // Show Inventory Levels or Firstaid when using certain items
   ifvarg itemidinuse 12 ifvarl itemidinuse 20 setvar TEMPVAR6 1
   else ifvare itemidinuse 42 setvar TEMPVAR6 1
   else setvar TEMPVAR6 0
   ifvare TEMPVAR6 1
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 118 // digy_test
    setvar textscale 40960
    state useitemshowinvvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 118 // digy_test
    setvar digz 40960
    state useitemshowinvvalues2
   }

   // Show FA value when using a Super Atom
   ifvare itemidinuse 23
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 115 // digy_test
    setvar textscale 40960
    state pal21
    redefinequote 332 FA
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 115 // digy_test
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERFA varname
    state dnz

    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    // "AB%"
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 121 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AB%
    state gtz

    // "AB% Value"
    setvar tilenum 2822
    setvarvar digx 228 // digx_test
    setvarvar digy 121 // digy_test
    setvar textscale 40960
    state pal22
    setvarvar TEMPVAR2 varname
    divvar TEMPVAR2 10
    setvarvar TEMPVAR3 varname
    modvar TEMPVAR3 10
    redefinequote 332 %ld.%ld%
    qsprintf 332 332 TEMPVAR2 TEMPVAR3

    qstrlen TEMPVAR4 332
    ifvarg TEMPVAR4 0 
    { 
     setvarvar tempb TEMPVAR4
     mulvar tempb 6
     subvarvar digx tempb
     addvar digx 30
    }
    state gtz
   }

   // Show EP Levels when using Energy Drink Items
   ifvarg itemidinuse 38 ifvarl itemidinuse 42
   {
    state setquote332
    state orientation2

    // "EP"
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 118 // 54
    setvar textscale 40960
    state pal0
    redefinequote 332 EP
    state gtz

    // "Current EP" Value
    setvar tilenum 2837
    setvarvar digx 94 // 94
    setvarvar digy 118 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTEREP varname
    state dnz

    // "/"
    setvar tilenum 2822
    setvarvar digx 228 // digx_test
    setvarvar digy 118 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 /
    state gtz

    // "Maximum EP" Value
    setvar tilenum 2837
    setvarvar digx 140
    setvarvar digy 118 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTERMAXEP varname
    state dnz
   }

   // Show AB% Levels when using Ted's "Fortify" skills
   setvar TEMP7 0
   ifvarg itemidinuse 10 ifvarl itemidinuse 13 addvar TEMP7 1
   else ifvarg itemidinuse 19 ifvarl itemidinuse 22 addvar TEMP7 1
   else ifvarg itemidinuse 23 ifvarl itemidinuse 38 addvar TEMP7 1
   else ifvarg skillidinuse 8 ifvarl skillidinuse 12 addvar TEMP7 1
   ifvarg TEMP7 0
   {
    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    ifvarg varname -1 // 0
    {
     state setquote332
     state orientation2

     // "AB%"
     setvar tilenum 2822
     setvarvar digx 120 // digx_test
     setvarvar digy 118 // digy_test
     setvar textscale 40960
     state pal22
     redefinequote 332 AB%
     state gtz

     // "AB% Value"
     setvar tilenum 2822
     setvarvar digx 228 // digx_test
     setvarvar digy 118 // digy_test
     setvar textscale 40960
     state pal22
     setvarvar TEMPVAR2 varname
     divvar TEMPVAR2 10
     setvarvar TEMPVAR3 varname
     modvar TEMPVAR3 10
     redefinequote 332 %ld.%ld%
     qsprintf 332 332 TEMPVAR2 TEMPVAR3

     qstrlen TEMPVAR4 332
     ifvarg TEMPVAR4 0 
     { 
      setvarvar tempb TEMPVAR4
      mulvar tempb 6
      subvarvar digx tempb
      addvar digx 30
     }
     state gtz
    }
   }

   // Show "Buff" Timers
   ifvarg skillidinuse 11 ifvarl skillidinuse 17
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 118 // digy_test
    setvar textscale 40960
    state useskillshowvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 118 // digy_test
    setvar digz 40960
    state useskillshowvalues2
    state dnz
   }

   state settile3087
   state shade0
   state digz32768
  } // Show Higa's Info
ends

state menuessencestats
  ifvarand CHARACTERSAVAILABLE 32 
  { 
   setvar CHARACTERARRAY 6
   ifvare CHARACTERSELECTED? 6 state shadepulse4
   state characterplate
   setvar tilenum 7941 
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1 state pal2 else state pal0
   state rs 

   state setquote332  
   state orientation2
   setvar digx 194
   setvar digy 102
   state pal23
   redefinequote 332 ESSENCE MARGALAN
   state mt
   setvar digy 108
   state pal20
   state quote332LEVEL
   state mt
   setvar digy 114
   state pal2
   state quote332HP
   state mt
   setvar digy 120
   state pal17
   state quote332AP
   state mt
   setvar digy 126
   state pal23
   state quote332AT
   state mt
   setvar digx 230 // x+33
   state pal23
   state quote332DF
   state mt
   setvar digx 232 // x+2
   setvar digy 114
   state pal2
   state quote332SLASH
   state mt
   setvar digy 120
   state pal17
   state quote332SLASH
   state mt
   setvar digx 210 // x+3
   getactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL templeveltemp1
   ifvarg templeveltemp1 -1 ifvarl templeveltemp1 10 addvar digx 2
   else ifvarg templeveltemp1 9 ifvarl templeveltemp1 100 addvar digx 4
   else ifvare templeveltemp1 100 addvar digx 6
   setvar digy 110
   state pal20
   state settile3087
   setvarvar varname templeveltemp1
   state dn
// Insert Ailment Icons
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1
   {
/*
    state pal21
    setvar digy 108
    setvar digx 241
    state settile3087
    redefinequote 332 DEAD
    state setquote332
    state mt
    state pal20
*/
    state pal0
    setvar digy 110
    setvar digx 225
    setvar digz 12288
    setvar tilenum 8100
    state rs
   }
   state pal0
   getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
   ifvarand TEMPVAR 4
   {
    setvar digy 110
    setvar digx 230
    setvar digz 12288
    setvar tilenum 8107
    getactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 6 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 8
   {
    setvar digy 110
    setvar digx 235
    setvar digz 12288
    setvar tilenum 8101
    getactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 6 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 16
   {
    setvar digy 110
    setvar digx 240
    setvar digz 12288
    setvar tilenum 8102
    getactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 6 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 128
   {
    setvar digy 110
    setvar digx 245
    setvar digz 12288
    setvar tilenum 8103
    getactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 6 state shadepulse4 else setvar shade 0
   }
//
   ifvare CHARACTERSELECTED? 6 state shadepulse4 else setvar shade 0
   state settile3087
   setvar digx 218 // x-15
   setvar digy 116
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERHP varname
   state dn
   setvar digy 122
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERAP varname
   state dn
   setvar digy 128
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERATTACK varname
   state dn
   setvar digx 252 // x+33
   setvar digy 116
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERMAXHP varname
   state dn
   setvar digy 122
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERMAXAP varname
   state dn
   setvar digy 128
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERDEFENSE varname
   state dn

   // Show Growth Rates when using Afa's Drop
   ifvare itemidinuse 4
   {
    setvarvar digx 332 // digx_test
    setvarvar digy 108 // digy_test
    // "HP"
    setvar tilenum 2822
    setvar textscale 40960
    state pal21
    redefinequote 332 HP-RATE
    state gtz
    // "AP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AP-RATE
    state gtz
    // "EP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 EP-RATE
    state gtz
    // "ATK"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal10
    redefinequote 332 ATK-RATE
    state gtz
    // "DEF"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal14
    redefinequote 332 DEF-RATE
    state gtz

    setvarvar digx 234 // 94
    setvarvar digy 108 // digy_test
    // "HP Rate" Value
    setvar tilenum 2837
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE varname
    state dnz
    // "AP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal22
    getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE varname
    state dnz
    // "EP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal0
    getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE varname
    state dnz
    // "ATK Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal10
    getactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE varname
    state dnz
    // "DEF Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal14
    getactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE varname
    state dnz
   }

   // Show Inventory Levels or Firstaid when using certain items
   ifvarg itemidinuse 12 ifvarl itemidinuse 20 setvar TEMPVAR6 1
   else ifvare itemidinuse 42 setvar TEMPVAR6 1
   else setvar TEMPVAR6 0
   ifvare TEMPVAR6 1
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 118 // digy_test
    setvar textscale 40960
    state useitemshowinvvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 118 // digy_test
    setvar digz 40960
    state useitemshowinvvalues2
   }

   // Show FA value when using a Super Atom
   ifvare itemidinuse 23
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 115 // digy_test
    setvar textscale 40960
    state pal21
    redefinequote 332 FA
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 115 // digy_test
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERFA varname
    state dnz

    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    // "AB%"
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 121 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AB%
    state gtz

    // "AB% Value"
    setvar tilenum 2822
    setvarvar digx 440 // digx_test
    setvarvar digy 121 // digy_test
    setvar textscale 40960
    state pal22
    setvarvar TEMPVAR2 varname
    divvar TEMPVAR2 10
    setvarvar TEMPVAR3 varname
    modvar TEMPVAR3 10
    redefinequote 332 %ld.%ld%
    qsprintf 332 332 TEMPVAR2 TEMPVAR3

    qstrlen TEMPVAR4 332
    ifvarg TEMPVAR4 0 
    { 
     setvarvar tempb TEMPVAR4
     mulvar tempb 6
     subvarvar digx tempb
     addvar digx 30
    }
    state gtz
   }

   // Show EP Levels when using Energy Drink Items
   ifvarg itemidinuse 38 ifvarl itemidinuse 42
   {
    state setquote332
    state orientation2

    // "EP"
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 118 // 54
    setvar textscale 40960
    state pal0
    redefinequote 332 EP
    state gtz

    // "Current EP" Value
    setvar tilenum 2837
    setvarvar digx 200 // 94
    setvarvar digy 118 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTEREP varname
    state dnz

    // "/"
    setvar tilenum 2822
    setvarvar digx 440 // digx_test
    setvarvar digy 118 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 /
    state gtz

    // "Maximum EP" Value
    setvar tilenum 2837
    setvarvar digx 246
    setvarvar digy 118 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTERMAXEP varname
    state dnz
   }

   // Show AB% Levels when using Ted's "Fortify" skills
   setvar TEMP7 0
   ifvarg itemidinuse 10 ifvarl itemidinuse 13 addvar TEMP7 1
   else ifvarg itemidinuse 19 ifvarl itemidinuse 22 addvar TEMP7 1
   else ifvarg itemidinuse 23 ifvarl itemidinuse 38 addvar TEMP7 1
   else ifvarg skillidinuse 8 ifvarl skillidinuse 12 addvar TEMP7 1
   ifvarg TEMP7 0
   {
    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    ifvarg varname -1 // 0
    {
     state setquote332
     state orientation2

     // "AB%"
     setvar tilenum 2822
     setvarvar digx 332 // digx_test
     setvarvar digy 118 // digy_test
     setvar textscale 40960
     state pal22
     redefinequote 332 AB%
     state gtz

     // "AB% Value"
     setvar tilenum 2822
     setvarvar digx 440 // digx_test
     setvarvar digy 118 // digy_test
     setvar textscale 40960
     state pal22
     setvarvar TEMPVAR2 varname
     divvar TEMPVAR2 10
     setvarvar TEMPVAR3 varname
     modvar TEMPVAR3 10
     redefinequote 332 %ld.%ld%
     qsprintf 332 332 TEMPVAR2 TEMPVAR3

     qstrlen TEMPVAR4 332
     ifvarg TEMPVAR4 0 
     { 
      setvarvar tempb TEMPVAR4
      mulvar tempb 6
      subvarvar digx tempb
      addvar digx 30
     }
     state gtz
    }
   }

   // Show "Buff" Timers
   ifvarg skillidinuse 11 ifvarl skillidinuse 17
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 118 // digy_test
    setvar textscale 40960
    state useskillshowvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 118 // digy_test
    setvar digz 40960
    state useskillshowvalues2
    state dnz
   }

   state settile3087
   state shade0
   state digz32768
  } // Show ESSence's Info
ends

state menutedstats
  ifvarand CHARACTERSAVAILABLE 64 
  { 
   setvar CHARACTERARRAY 7
   ifvare CHARACTERSELECTED? 7 state shadepulse4
   state characterplate
   setvar tilenum 7942 
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1 state pal2 else state pal0
   state rs 

   state setquote332  
   state orientation2
   setvar digx 88
   setvar digy 134
   state pal23
   redefinequote 332 TED MALDORAS
   state mt
   setvar digy 140
   state pal20
   state quote332LEVEL
   state mt
   setvar digy 146
   state pal2
   state quote332HP
   state mt
   setvar digy 152
   state pal17
   state quote332AP
   state mt
   setvar digy 158
   state pal23
   state quote332AT
   state mt
   setvar digx 124 // x+33
   state pal23
   state quote332DF
   state mt
   setvar digx 126 // x+2
   setvar digy 146
   state pal2
   state quote332SLASH
   state mt
   setvar digy 152
   state pal17
   state quote332SLASH
   state mt
   setvar digx 104 // x+3
   getactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL templeveltemp1
   ifvarg templeveltemp1 -1 ifvarl templeveltemp1 10 addvar digx 2
   else ifvarg templeveltemp1 9 ifvarl templeveltemp1 100 addvar digx 4
   else ifvare templeveltemp1 100 addvar digx 6
   setvar digy 142
   state pal20
   state settile3087
   setvarvar varname templeveltemp1
   state dn
// Insert Ailment Icons
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1
   {
/*
    state pal21
    setvar digy 140
    setvar digx 135
    state settile3087
    redefinequote 332 DEAD
    state setquote332
    state mt
    state pal20
*/
    state pal0
    setvar digy 142
    setvar digx 119
    setvar digz 12288
    setvar tilenum 8100
    state rs
   }
   state pal0
   getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
   ifvarand TEMPVAR 4
   {
    setvar digy 142
    setvar digx 124
    setvar digz 12288
    setvar tilenum 8107
    getactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 7 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 8
   {
    setvar digy 142
    setvar digx 129
    setvar digz 12288
    setvar tilenum 8101
    getactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 7 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 16
   {
    setvar digy 142
    setvar digx 134
    setvar digz 12288
    setvar tilenum 8102
    getactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 7 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 128
   {
    setvar digy 142
    setvar digx 139
    setvar digz 12288
    setvar tilenum 8103
    getactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 7 state shadepulse4 else setvar shade 0
   }
//
   ifvare CHARACTERSELECTED? 7 state shadepulse4 else setvar shade 0
   state settile3087
   setvar digx 112 // x-15
   setvar digy 148
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERHP varname
   state dn
   setvar digy 154
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERAP varname
   state dn
   setvar digy 160
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERATTACK varname
   state dn
   setvar digx 146 // x+33
   setvar digy 148
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERMAXHP varname
   state dn
   setvar digy 154
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERMAXAP varname
   state dn
   setvar digy 160
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERDEFENSE varname
   state dn

   // Show Growth Rates when using Afa's Drop
   ifvare itemidinuse 4
   {
    setvarvar digx 120 // digx_test
    setvarvar digy 140 // digy_test
    // "HP"
    setvar tilenum 2822
    setvar textscale 40960
    state pal21
    redefinequote 332 HP-RATE
    state gtz
    // "AP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AP-RATE
    state gtz
    // "EP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 EP-RATE
    state gtz
    // "ATK"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal10
    redefinequote 332 ATK-RATE
    state gtz
    // "DEF"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal14
    redefinequote 332 DEF-RATE
    state gtz

    setvarvar digx 128 // 94
    setvarvar digy 140 // digy_test
    // "HP Rate" Value
    setvar tilenum 2837
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE varname
    state dnz
    // "AP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal22
    getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE varname
    state dnz
    // "EP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal0
    getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE varname
    state dnz
    // "ATK Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal10
    getactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE varname
    state dnz
    // "DEF Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal14
    getactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE varname
    state dnz
   }

   // Show Inventory Levels or Firstaid when using certain items
   ifvarg itemidinuse 12 ifvarl itemidinuse 20 setvar TEMPVAR6 1
   else ifvare itemidinuse 42 setvar TEMPVAR6 1
   else setvar TEMPVAR6 0
   ifvare TEMPVAR6 1
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 150 // digy_test
    setvar textscale 40960
    state useitemshowinvvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 150 // digy_test
    setvar digz 40960
    state useitemshowinvvalues2
   }

   // Show FA value when using a Super Atom
   ifvare itemidinuse 23
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 147 // digy_test
    setvar textscale 40960
    state pal21
    redefinequote 332 FA
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 147 // digy_test
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERFA varname
    state dnz

    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    // "AB%"
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 153 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AB%
    state gtz

    // "AB% Value"
    setvar tilenum 2822
    setvarvar digx 228 // digx_test
    setvarvar digy 153 // digy_test
    setvar textscale 40960
    state pal22
    setvarvar TEMPVAR2 varname
    divvar TEMPVAR2 10
    setvarvar TEMPVAR3 varname
    modvar TEMPVAR3 10
    redefinequote 332 %ld.%ld%
    qsprintf 332 332 TEMPVAR2 TEMPVAR3

    qstrlen TEMPVAR4 332
    ifvarg TEMPVAR4 0 
    { 
     setvarvar tempb TEMPVAR4
     mulvar tempb 6
     subvarvar digx tempb
     addvar digx 30
    }
    state gtz
   }

   // Show EP Levels when using Energy Drink Items
   ifvarg itemidinuse 38 ifvarl itemidinuse 42
   {
    state setquote332
    state orientation2

    // "EP"
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 150 // 54
    setvar textscale 40960
    state pal0
    redefinequote 332 EP
    state gtz

    // "Current EP" Value
    setvar tilenum 2837
    setvarvar digx 94 // 94
    setvarvar digy 150 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTEREP varname
    state dnz

    // "/"
    setvar tilenum 2822
    setvarvar digx 228 // digx_test
    setvarvar digy 150 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 /
    state gtz

    // "Maximum EP" Value
    setvar tilenum 2837
    setvarvar digx 140
    setvarvar digy 150 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTERMAXEP varname
    state dnz
   }

   // Show AB% Levels when using Ted's "Fortify" skills
   setvar TEMP7 0
   ifvarg itemidinuse 10 ifvarl itemidinuse 13 addvar TEMP7 1
   else ifvarg itemidinuse 19 ifvarl itemidinuse 22 addvar TEMP7 1
   else ifvarg itemidinuse 23 ifvarl itemidinuse 38 addvar TEMP7 1
   else ifvarg skillidinuse 8 ifvarl skillidinuse 12 addvar TEMP7 1
   ifvarg TEMP7 0
   {
    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    ifvarg varname -1 // 0
    {
     state setquote332
     state orientation2

     // "AB%"
     setvar tilenum 2822
     setvarvar digx 120 // digx_test
     setvarvar digy 150 // digy_test
     setvar textscale 40960
     state pal22
     redefinequote 332 AB%
     state gtz

     // "AB% Value"
     setvar tilenum 2822
     setvarvar digx 228 // digx_test
     setvarvar digy 150 // digy_test
     setvar textscale 40960
     state pal22
     setvarvar TEMPVAR2 varname
     divvar TEMPVAR2 10
     setvarvar TEMPVAR3 varname
     modvar TEMPVAR3 10
     redefinequote 332 %ld.%ld%
     qsprintf 332 332 TEMPVAR2 TEMPVAR3

     qstrlen TEMPVAR4 332
     ifvarg TEMPVAR4 0 
     { 
      setvarvar tempb TEMPVAR4
      mulvar tempb 6
      subvarvar digx tempb
      addvar digx 30
     }
     state gtz
    }
   }

   // Show "Buff" Timers
   ifvarg skillidinuse 11 ifvarl skillidinuse 17
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 150 // digy_test
    setvar textscale 40960
    state useskillshowvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 150 // digy_test
    setvar digz 40960
    state useskillshowvalues2
    state dnz
   }

   state settile3087
   state shade0
   state digz32768
  } // Show Ted's Info
ends

state menulisastats
  ifvarand CHARACTERSAVAILABLE 128 
  { 
   setvar CHARACTERARRAY 8
   ifvare CHARACTERSELECTED? 8 state shadepulse4
   state characterplate
   setvar tilenum 7943 
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1 state pal2 else state pal0
   state rs 

   state setquote332  
   state orientation2
   setvar digx 194
   setvar digy 134
   state pal23
   redefinequote 332 LISA BATES
   state mt
   setvar digy 140
   state pal20
   state quote332LEVEL
   state mt
   setvar digy 146
   state pal2
   state quote332HP
   state mt
   setvar digy 152
   state pal17
   state quote332AP
   state mt
   setvar digy 158
   state pal23
   state quote332AT
   state mt
   setvar digx 230 // x+33
   state pal23
   state quote332DF
   state mt
   setvar digx 232 // x+2
   setvar digy 146
   state pal2
   state quote332SLASH
   state mt
   setvar digy 152
   state pal17
   state quote332SLASH
   state mt
   setvar digx 210 // x+3
   getactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL templeveltemp1
   ifvarg templeveltemp1 -1 ifvarl templeveltemp1 10 addvar digx 2
   else ifvarg templeveltemp1 9 ifvarl templeveltemp1 100 addvar digx 4
   else ifvare templeveltemp1 100 addvar digx 6
   setvar digy 142
   state pal20
   state settile3087
   setvarvar varname templeveltemp1
   state dn
// Insert Ailment Icons
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1
   {
/*
    state pal21
    setvar digy 140
    setvar digx 241
    state settile3087
    redefinequote 332 DEAD
    state setquote332
    state mt
    state pal20
*/
    state pal0
    setvar digy 142
    setvar digx 225
    setvar digz 12288
    setvar tilenum 8100
    state rs
   }
   state pal0
   getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
   ifvarand TEMPVAR 4
   {
    setvar digy 142
    setvar digx 230
    setvar digz 12288
    setvar tilenum 8107
    getactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 8 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 8
   {
    setvar digy 142
    setvar digx 235
    setvar digz 12288
    setvar tilenum 8101
    getactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 8 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 16
   {
    setvar digy 142
    setvar digx 240
    setvar digz 12288
    setvar tilenum 8102
    getactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 8 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 128
   {
    setvar digy 142
    setvar digx 245
    setvar digz 12288
    setvar tilenum 8103
    getactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 8 state shadepulse4 else setvar shade 0
   }
//
   ifvare CHARACTERSELECTED? 8 state shadepulse4 else setvar shade 0
   state settile3087
   setvar digx 218 // x-15
   setvar digy 148
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERHP varname
   state dn
   setvar digy 154
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERAP varname
   state dn
   setvar digy 160
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERATTACK varname
   state dn
   setvar digx 252 // x+33
   setvar digy 148
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERMAXHP varname
   state dn
   setvar digy 154
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERMAXAP varname
   state dn
   setvar digy 160
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERDEFENSE varname
   state dn

   // Show Growth Rates when using Afa's Drop
   ifvare itemidinuse 4
   {
    setvarvar digx 332 // digx_test
    setvarvar digy 140 // digy_test
    // "HP"
    setvar tilenum 2822
    setvar textscale 40960
    state pal21
    redefinequote 332 HP-RATE
    state gtz
    // "AP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AP-RATE
    state gtz
    // "EP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 EP-RATE
    state gtz
    // "ATK"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal10
    redefinequote 332 ATK-RATE
    state gtz
    // "DEF"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal14
    redefinequote 332 DEF-RATE
    state gtz

    setvarvar digx 234 // 94
    setvarvar digy 140 // digy_test
    // "HP Rate" Value
    setvar tilenum 2837
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE varname
    state dnz
    // "AP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal22
    getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE varname
    state dnz
    // "EP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal0
    getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE varname
    state dnz
    // "ATK Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal10
    getactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE varname
    state dnz
    // "DEF Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal14
    getactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE varname
    state dnz
   }

   // Show Inventory Levels or Firstaid when using certain items
   ifvarg itemidinuse 12 ifvarl itemidinuse 20 setvar TEMPVAR6 1
   else ifvare itemidinuse 42 setvar TEMPVAR6 1
   else setvar TEMPVAR6 0
   ifvare TEMPVAR6 1
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 150 // digy_test
    setvar textscale 40960
    state useitemshowinvvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 150 // digy_test
    setvar digz 40960
    state useitemshowinvvalues2
   }

   // Show FA value when using a Super Atom
   ifvare itemidinuse 23
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 147 // digy_test
    setvar textscale 40960
    state pal21
    redefinequote 332 FA
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 147 // digy_test
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERFA varname
    state dnz

    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    // "AB%"
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 153 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AB%
    state gtz

    // "AB% Value"
    setvar tilenum 2822
    setvarvar digx 440 // digx_test
    setvarvar digy 153 // digy_test
    setvar textscale 40960
    state pal22
    setvarvar TEMPVAR2 varname
    divvar TEMPVAR2 10
    setvarvar TEMPVAR3 varname
    modvar TEMPVAR3 10
    redefinequote 332 %ld.%ld%
    qsprintf 332 332 TEMPVAR2 TEMPVAR3

    qstrlen TEMPVAR4 332
    ifvarg TEMPVAR4 0 
    { 
     setvarvar tempb TEMPVAR4
     mulvar tempb 6
     subvarvar digx tempb
     addvar digx 30
    }
    state gtz
   }

   // Show EP Levels when using Energy Drink Items
   ifvarg itemidinuse 38 ifvarl itemidinuse 42
   {
    state setquote332
    state orientation2

    // "EP"
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 150 // 54
    setvar textscale 40960
    state pal0
    redefinequote 332 EP
    state gtz

    // "Current EP" Value
    setvar tilenum 2837
    setvarvar digx 200 // 94
    setvarvar digy 150 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTEREP varname
    state dnz

    // "/"
    setvar tilenum 2822
    setvarvar digx 440 // digx_test
    setvarvar digy 150 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 /
    state gtz

    // "Maximum EP" Value
    setvar tilenum 2837
    setvarvar digx 246
    setvarvar digy 150 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTERMAXEP varname
    state dnz
   }

   // Show AB% Levels when using Ted's "Fortify" skills
   setvar TEMP7 0
   ifvarg itemidinuse 10 ifvarl itemidinuse 13 addvar TEMP7 1
   else ifvarg itemidinuse 19 ifvarl itemidinuse 22 addvar TEMP7 1
   else ifvarg itemidinuse 23 ifvarl itemidinuse 38 addvar TEMP7 1
   else ifvarg skillidinuse 8 ifvarl skillidinuse 12 addvar TEMP7 1
   ifvarg TEMP7 0
   {
    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    ifvarg varname -1 // 0
    {
     state setquote332
     state orientation2

     // "AB%"
     setvar tilenum 2822
     setvarvar digx 332 // digx_test
     setvarvar digy 150 // digy_test
     setvar textscale 40960
     state pal22
     redefinequote 332 AB%
     state gtz

     // "AB% Value"
     setvar tilenum 2822
     setvarvar digx 440 // digx_test
     setvarvar digy 150 // digy_test
     setvar textscale 40960
     state pal22
     setvarvar TEMPVAR2 varname
     divvar TEMPVAR2 10
     setvarvar TEMPVAR3 varname
     modvar TEMPVAR3 10
     redefinequote 332 %ld.%ld%
     qsprintf 332 332 TEMPVAR2 TEMPVAR3

     qstrlen TEMPVAR4 332
     ifvarg TEMPVAR4 0 
     { 
      setvarvar tempb TEMPVAR4
      mulvar tempb 6
      subvarvar digx tempb
      addvar digx 30
     }
     state gtz
    }
   }

   // Show "Buff" Timers
   ifvarg skillidinuse 11 ifvarl skillidinuse 17
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 150 // digy_test
    setvar textscale 40960
    state useskillshowvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 150 // digy_test
    setvar digz 40960
    state useskillshowvalues2
    state dnz
   }

   state settile3087
   state shade0
   state digz32768
  } // Show Lisa's Info
ends

state menucybanisstats
  ifvarand CHARACTERSAVAILABLE 256 
  { 
   setvar CHARACTERARRAY 9
   ifvare CHARACTERSELECTED? 9 state shadepulse4
   state characterplate
   setvar tilenum 7944 
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1 state pal2 else state pal0
   state rs 

   state setquote332
   state orientation2
   setvar digx 88
   setvar digy 38
   state pal23
   redefinequote 332 CYBANIS MORGANDOS
   state mt
   setvar digy 44
   state pal20
   state quote332LEVEL
   state mt
   setvar digy 50
   state pal2
   state quote332HP
   state mt
   setvar digy 56
   state pal17
   state quote332AP
   state mt
   setvar digy 62
   state pal23
   state quote332AT
   state mt
   setvar digx 124 // +3
   state pal23
   state quote332DF
   state mt
   setvar digx 126 // +3
   setvar digy 50
   state pal2
   state quote332SLASH
   state mt
   setvar digy 56
   state pal17
   state quote332SLASH
   state mt
   setvar digx 104 // x+3
   getactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL templeveltemp1
   ifvarg templeveltemp1 -1 ifvarl templeveltemp1 10 addvar digx 2
   else ifvarg templeveltemp1 9 ifvarl templeveltemp1 100 addvar digx 4
   else ifvare templeveltemp1 100 addvar digx 6
   setvar digy 46
   state pal20
   state settile3087
   setvarvar varname templeveltemp1
   state dn
// Insert Ailment Icons
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1
   {
/*
    state pal21
    setvar digy 44
    setvar digx 135
    state settile3087
    redefinequote 332 DEAD
    state setquote332
    state mt
    state pal20
*/
    state pal0
    setvar digy 46
    setvar digx 119
    setvar digz 12288
    setvar tilenum 8100
    state rs
   }
   state pal0
   getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
   ifvarand TEMPVAR 4
   {
    setvar digy 46
    setvar digx 124
    setvar digz 12288
    setvar tilenum 8107
    getactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 9 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 8
   {
    setvar digy 46
    setvar digx 129
    setvar digz 12288
    setvar tilenum 8101
    getactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 9 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 16
   {
    setvar digy 46
    setvar digx 134
    setvar digz 12288
    setvar tilenum 8102
    getactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 9 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 128
   {
    setvar digy 46
    setvar digx 139
    setvar digz 12288
    setvar tilenum 8103
    getactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 9 state shadepulse4 else setvar shade 0
   }
//
   ifvare CHARACTERSELECTED? 9 state shadepulse4 else setvar shade 0
   state settile3087
   setvar digx 112 // +1
   setvar digy 52
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERHP varname
   state dn
   setvar digy 58
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERAP varname
   state dn
   setvar digy 64
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERATTACK varname
   state dn
   setvar digx 146 // +2
   setvar digy 52
   state pal2

   getactorvar[CHARACTERARRAY].CHARACTERMAXHP varname
   state dn
   setvar digy 58
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERMAXAP varname
   state dn
   setvar digy 64
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERDEFENSE varname
   state dn

   // Show Growth Rates when using Afa's Drop
   ifvare itemidinuse 4
   {
    setvarvar digx 120 // digx_test
    setvarvar digy 44 // digy_test
    // "HP"
    setvar tilenum 2822
    setvar textscale 40960
    state pal21
    redefinequote 332 HP-RATE
    state gtz
    // "AP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AP-RATE
    state gtz
    // "EP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 EP-RATE
    state gtz
    // "ATK"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal10
    redefinequote 332 ATK-RATE
    state gtz
    // "DEF"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal14
    redefinequote 332 DEF-RATE
    state gtz

    setvarvar digx 128 // 94
    setvarvar digy 44 // digy_test
    // "HP Rate" Value
    setvar tilenum 2837
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE varname
    state dnz
    // "AP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal22
    getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE varname
    state dnz
    // "EP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal0
    getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE varname
    state dnz
    // "ATK Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal10
    getactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE varname
    state dnz
    // "DEF Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal14
    getactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE varname
    state dnz
   }

   // Show Inventory Levels or Firstaid when using certain items
   ifvarg itemidinuse 12 ifvarl itemidinuse 20 setvar TEMPVAR6 1
   else ifvare itemidinuse 42 setvar TEMPVAR6 1
   else setvar TEMPVAR6 0
   ifvare TEMPVAR6 1
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 54 // digy_test
    setvar textscale 40960
    state useitemshowinvvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 54 // digy_test
    setvar digz 40960
    state useitemshowinvvalues2
   }

   // Show FA value when using a Super Atom
   ifvare itemidinuse 23
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 51 // digy_test
    setvar textscale 40960
    state pal21
    redefinequote 332 FA
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 51 // digy_test
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERFA varname
    state dnz

    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    // "AB%"
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 57 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AB%
    state gtz

    // "AB% Value"
    setvar tilenum 2822
    setvarvar digx 228 // digx_test
    setvarvar digy 57 // digy_test
    setvar textscale 40960
    state pal22
    setvarvar TEMPVAR2 varname
    divvar TEMPVAR2 10
    setvarvar TEMPVAR3 varname
    modvar TEMPVAR3 10
    redefinequote 332 %ld.%ld%
    qsprintf 332 332 TEMPVAR2 TEMPVAR3

    qstrlen TEMPVAR4 332
    ifvarg TEMPVAR4 0 
    { 
     setvarvar tempb TEMPVAR4
     mulvar tempb 6
     subvarvar digx tempb
     addvar digx 30
    }
    state gtz
   }

   // Show EP Levels when using Energy Drink Items
   ifvarg itemidinuse 38 ifvarl itemidinuse 42
   {
    state setquote332
    state orientation2

    // "EP"
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 54 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 EP
    state gtz

    // "Current EP" Value
    setvar tilenum 2837
    setvarvar digx 94 // 94
    setvarvar digy 54 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTEREP varname
    state dnz

    // "/"
    setvar tilenum 2822
    setvarvar digx 228 // digx_test
    setvarvar digy 54 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 /
    state gtz

    // "Maximum EP" Value
    setvar tilenum 2837
    setvarvar digx 140
    setvarvar digy 54 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTERMAXEP varname
    state dnz
   }

   // Show AB% Levels when using Ted's "Fortify" skills
   setvar TEMP7 0
   ifvarg itemidinuse 10 ifvarl itemidinuse 13 addvar TEMP7 1
   else ifvarg itemidinuse 19 ifvarl itemidinuse 22 addvar TEMP7 1
   else ifvarg itemidinuse 23 ifvarl itemidinuse 38 addvar TEMP7 1
   else ifvarg skillidinuse 8 ifvarl skillidinuse 12 addvar TEMP7 1
   ifvarg TEMP7 0
   {
    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    ifvarg varname -1 // 0
    {
     state setquote332
     state orientation2

     // "AB%"
     setvar tilenum 2822
     setvarvar digx 120 // digx_test
     setvarvar digy 54 // digy_test
     setvar textscale 40960
     state pal22
     redefinequote 332 AB%
     state gtz

     // "AB% Value"
     setvar tilenum 2822
     setvarvar digx 228 // digx_test
     setvarvar digy 54 // digy_test
     setvar textscale 40960
     state pal22
     setvarvar TEMPVAR2 varname
     divvar TEMPVAR2 10
     setvarvar TEMPVAR3 varname
     modvar TEMPVAR3 10
     redefinequote 332 %ld.%ld%
     qsprintf 332 332 TEMPVAR2 TEMPVAR3

     qstrlen TEMPVAR4 332
     ifvarg TEMPVAR4 0 
     { 
      setvarvar tempb TEMPVAR4
      mulvar tempb 6
      subvarvar digx tempb
      addvar digx 30
     }
     state gtz
    }
   }

   // Show "Buff" Timers
   ifvarg skillidinuse 11 ifvarl skillidinuse 17
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 54 // digy_test
    setvar textscale 40960
    state useskillshowvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 54 // digy_test
    setvar digz 40960
    state useskillshowvalues2
    state dnz
   }

   state settile3087
   state shade0
   state digz32768
  } // Show Cybanis's Info
ends

state menunethrastats
  ifvarand CHARACTERSAVAILABLE 512 
  { 
   setvar CHARACTERARRAY 10
   ifvare CHARACTERSELECTED? 10 state shadepulse4
   state characterplate
   setvar MISCARRAYID 110 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // NETHRA-FORM?
   ifvare MISCARRAYID_AMOUNTTEMP 0 setvar tilenum 7945 else ifvarg MISCARRAYID_AMOUNTTEMP 0 setvar tilenum 7964 
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1 state pal2 else state pal0
   state rs 

   state setquote332
   state orientation2
   setvar digx 194
   setvar digy 38
   state pal23
   setvar MISCARRAYID 110 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // NETHRA-FORM?
   ifvare MISCARRAYID_AMOUNTTEMP 0 redefinequote 332 NETHRA MABOROSHI
   else ifvare MISCARRAYID_AMOUNTTEMP 1 redefinequote 332 CHRISTINA MITCHELL
   state mt
   setvar digy 44
   state pal20
   state quote332LEVEL
   state mt
   setvar digy 50
   state pal2
   state quote332HP
   state mt
   setvar digy 56
   state pal17
   state quote332AP
   state mt
   setvar digy 62
   state pal23
   state quote332AT
   state mt
   setvar digx 230
   state pal23
   state quote332DF
   state mt
   setvar digx 232
   setvar digy 50
   state pal2
   state quote332SLASH
   state mt
   setvar digy 56
   state pal17
   state quote332SLASH
   state mt
   setvar digx 210
   getactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL templeveltemp1
   ifvarg templeveltemp1 -1 ifvarl templeveltemp1 10 addvar digx 2
   else ifvarg templeveltemp1 9 ifvarl templeveltemp1 100 addvar digx 4
   else ifvare templeveltemp1 100 addvar digx 6
   setvar digy 46
   state pal20
   state settile3087
   setvarvar varname templeveltemp1
   state dn
// Insert Ailment Icons
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1
   {
/*
    state pal21
    setvar digy 44
    setvar digx 241
    state settile3087
    redefinequote 332 DEAD
    state setquote332
    state mt
    state pal20
*/
    state pal0
    setvar digy 46
    setvar digx 225
    setvar digz 12288
    setvar tilenum 8100
    state rs
   }
   state pal0
   getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
   ifvarand TEMPVAR 4
   {
    setvar digy 46
    setvar digx 230
    setvar digz 12288
    setvar tilenum 8107
    getactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 10 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 8
   {
    setvar digy 46
    setvar digx 235
    setvar digz 12288
    setvar tilenum 8101
    getactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 10 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 16
   {
    setvar digy 46
    setvar digx 240
    setvar digz 12288
    setvar tilenum 8102
    getactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 10 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 128
   {
    setvar digy 46
    setvar digx 245
    setvar digz 12288
    setvar tilenum 8103
    getactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 10 state shadepulse4 else setvar shade 0
   }
//
   ifvare CHARACTERSELECTED? 10 state shadepulse4 else setvar shade 0
   state settile3087
   setvar digx 218
   setvar digy 52
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERHP varname
   state dn
   setvar digy 58
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERAP varname
   state dn
   setvar digy 64
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERATTACK varname
   state dn
   setvar digx 252
   setvar digy 52
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERMAXHP varname
   state dn
   setvar digy 58
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERMAXAP varname
   state dn
   setvar digy 64
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERDEFENSE varname
   state dn

   // Show Growth Rates when using Afa's Drop
   ifvare itemidinuse 4
   {
    setvarvar digx 332 // digx_test
    setvarvar digy 44 // digy_test
    // "HP"
    setvar tilenum 2822
    setvar textscale 40960
    state pal21
    redefinequote 332 HP-RATE
    state gtz
    // "AP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AP-RATE
    state gtz
    // "EP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 EP-RATE
    state gtz
    // "ATK"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal10
    redefinequote 332 ATK-RATE
    state gtz
    // "DEF"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal14
    redefinequote 332 DEF-RATE
    state gtz

    setvarvar digx 234 // 94
    setvarvar digy 44 // digy_test
    // "HP Rate" Value
    setvar tilenum 2837
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE varname
    state dnz
    // "AP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal22
    getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE varname
    state dnz
    // "EP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal0
    getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE varname
    state dnz
    // "ATK Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal10
    getactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE varname
    state dnz
    // "DEF Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal14
    getactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE varname
    state dnz
   }

   // Show Inventory Levels or Firstaid when using certain items
   ifvarg itemidinuse 12 ifvarl itemidinuse 20 setvar TEMPVAR6 1
   else ifvare itemidinuse 42 setvar TEMPVAR6 1
   else setvar TEMPVAR6 0
   ifvare TEMPVAR6 1
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 54 // digy_test
    setvar textscale 40960
    state useitemshowinvvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 54 // digy_test
    setvar digz 40960
    state useitemshowinvvalues2
   }

   // Show FA value when using a Super Atom
   ifvare itemidinuse 23
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 51 // digy_test
    setvar textscale 40960
    state pal21
    redefinequote 332 FA
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 51 // digy_test
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERFA varname
    state dnz

    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    // "AB%"
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 57 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AB%
    state gtz

    // "AB% Value"
    setvar tilenum 2822
    setvarvar digx 440 // digx_test
    setvarvar digy 57 // digy_test
    setvar textscale 40960
    state pal22
    setvarvar TEMPVAR2 varname
    divvar TEMPVAR2 10
    setvarvar TEMPVAR3 varname
    modvar TEMPVAR3 10
    redefinequote 332 %ld.%ld%
    qsprintf 332 332 TEMPVAR2 TEMPVAR3

    qstrlen TEMPVAR4 332
    ifvarg TEMPVAR4 0 
    { 
     setvarvar tempb TEMPVAR4
     mulvar tempb 6
     subvarvar digx tempb
     addvar digx 30
    }
    state gtz
   }

   // Show EP Levels when using Energy Drink Items
   ifvarg itemidinuse 38 ifvarl itemidinuse 42
   {
    state setquote332
    state orientation2

    // "EP"
    setvar tilenum 2822
    setvarvar digx 332 // 120
    setvarvar digy 54 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 EP
    state gtz

    // "Current EP" Value
    setvar tilenum 2837
    setvarvar digx 200 // digy_test // 94
    setvarvar digy 54 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTEREP varname
    state dnz

    // "/"
    setvar tilenum 2822
    setvarvar digx 440 // +108
    setvarvar digy 54 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 /
    state gtz

    // "Maximum EP" Value
    setvar tilenum 2837
    setvarvar digx 246 // +46
    setvarvar digy 54 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTERMAXEP varname
    state dnz
   }

   // Show AB% Levels when using Ted's "Fortify" skills
   setvar TEMP7 0
   ifvarg itemidinuse 10 ifvarl itemidinuse 13 addvar TEMP7 1
   else ifvarg itemidinuse 19 ifvarl itemidinuse 22 addvar TEMP7 1
   else ifvarg itemidinuse 23 ifvarl itemidinuse 38 addvar TEMP7 1
   else ifvarg skillidinuse 8 ifvarl skillidinuse 12 addvar TEMP7 1
   ifvarg TEMP7 0
   {
    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    ifvarg varname -1 // 0
    {
     state setquote332
     state orientation2

     // "AB%"
     setvar tilenum 2822
     setvarvar digx 332 // digx_test
     setvarvar digy 54 // digy_test
     setvar textscale 40960
     state pal22
     redefinequote 332 AB%
     state gtz

     // "AB% Value"
     setvar tilenum 2822
     setvarvar digx 440 // digx_test
     setvarvar digy 54 // digy_test
     setvar textscale 40960
     state pal22
     setvarvar TEMPVAR2 varname
     divvar TEMPVAR2 10
     setvarvar TEMPVAR3 varname
     modvar TEMPVAR3 10
     redefinequote 332 %ld.%ld%
     qsprintf 332 332 TEMPVAR2 TEMPVAR3

     qstrlen TEMPVAR4 332
     ifvarg TEMPVAR4 0 
     { 
      setvarvar tempb TEMPVAR4
      mulvar tempb 6
      subvarvar digx tempb
      addvar digx 30
     }
     state gtz
    }
   }

   // Show "Buff" Timers
   ifvarg skillidinuse 11 ifvarl skillidinuse 17
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 54 // digy_test
    setvar textscale 40960
    state useskillshowvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 54 // digy_test
    setvar digz 40960
    state useskillshowvalues2
    state dnz
   }

   state settile3087
   state shade0
   state digz32768
  } // Show Nethra's Info
ends

state menupaulastats
  ifvarand CHARACTERSAVAILABLE 1024 
  { 
   setvar CHARACTERARRAY 11
   ifvare CHARACTERSELECTED? 11 state shadepulse4
   state characterplate
   setvar tilenum 7946 
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1 state pal2 else state pal0
   state rs 

   state setquote332
   state orientation2
   setvar digx 88
   setvar digy 70
   state pal23
   redefinequote 332 PAULA POLESTAR
   state mt
   setvar digy 76
   state pal20
   state quote332LEVEL
   state mt
   setvar digy 82
   state pal2

   state quote332HP
   state mt
   setvar digy 88
   state pal17
   state quote332AP
   state mt
   setvar digy 94
   state pal23
   state quote332AT
   state mt
   setvar digx 124 // x+33
   state pal23
   state quote332DF
   state mt
   setvar digx 126 // x+2
   setvar digy 82
   state pal2
   state quote332SLASH
   state mt
   setvar digy 88
   state pal17
   state quote332SLASH
   state mt
   setvar digx 104 // x+3
   getactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL templeveltemp1
   ifvarg templeveltemp1 -1 ifvarl templeveltemp1 10 addvar digx 2
   else ifvarg templeveltemp1 9 ifvarl templeveltemp1 100 addvar digx 4
   else ifvare templeveltemp1 100 addvar digx 6
   setvar digy 78
   state pal20
   state settile3087
   setvarvar varname templeveltemp1
   state dn
// Insert Ailment Icons
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1
   {
/*
    state pal21
    setvar digy 76
    setvar digx 135
    state settile3087
    redefinequote 332 DEAD
    state setquote332
    state mt
    state pal20
*/
    state pal0
    setvar digy 78
    setvar digx 119
    setvar digz 12288
    setvar tilenum 8100
    state rs
   }
   state pal0
   getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
   ifvarand TEMPVAR 4
   {
    setvar digy 78
    setvar digx 124
    setvar digz 12288
    setvar tilenum 8107
    getactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 11 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 8
   {
    setvar digy 78
    setvar digx 129
    setvar digz 12288
    setvar tilenum 8101
    getactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 11 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 16
   {
    setvar digy 78
    setvar digx 134
    setvar digz 12288
    setvar tilenum 8102
    getactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 11 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 128
   {
    setvar digy 78
    setvar digx 139
    setvar digz 12288
    setvar tilenum 8103
    getactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 11 state shadepulse4 else setvar shade 0
   }
//
   ifvare CHARACTERSELECTED? 11 state shadepulse4 else setvar shade 0
   state settile3087
   setvar digx 112 // x-15
   setvar digy 84
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERHP varname
   state dn
   setvar digy 90
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERAP varname
   state dn
   setvar digy 96
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERATTACK varname
   state dn
   setvar digx 146 // x+33
   setvar digy 84
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERMAXHP varname
   state dn
   setvar digy 90
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERMAXAP varname
   state dn
   setvar digy 96
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERDEFENSE varname
   state dn

   // Show Growth Rates when using Afa's Drop
   ifvare itemidinuse 4
   {
    setvarvar digx 120 // digx_test
    setvarvar digy 76 // digy_test
    // "HP"
    setvar tilenum 2822
    setvar textscale 40960
    state pal21
    redefinequote 332 HP-RATE
    state gtz
    // "AP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AP-RATE
    state gtz
    // "EP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 EP-RATE
    state gtz
    // "ATK"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal10
    redefinequote 332 ATK-RATE
    state gtz
    // "DEF"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal14
    redefinequote 332 DEF-RATE
    state gtz

    setvarvar digx 128 // 94
    setvarvar digy 76 // digy_test
    // "HP Rate" Value
    setvar tilenum 2837
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE varname
    state dnz
    // "AP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal22
    getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE varname
    state dnz
    // "EP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal0
    getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE varname
    state dnz
    // "ATK Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal10
    getactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE varname
    state dnz
    // "DEF Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal14
    getactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE varname
    state dnz
   }

   // Show Inventory Levels or Firstaid when using certain items
   ifvarg itemidinuse 12 ifvarl itemidinuse 20 setvar TEMPVAR6 1
   else ifvare itemidinuse 42 setvar TEMPVAR6 1
   else setvar TEMPVAR6 0
   ifvare TEMPVAR6 1
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 86 // digy_test
    setvar textscale 40960
    state useitemshowinvvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 86 // digy_test
    setvar digz 40960
    state useitemshowinvvalues2
   }

   // Show FA value when using a Super Atom
   ifvare itemidinuse 23
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 83 // digy_test
    setvar textscale 40960
    state pal21
    redefinequote 332 FA
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 83 // digy_test
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERFA varname
    state dnz

    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    // "AB%"
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 89 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AB%
    state gtz

    // "AB% Value"
    setvar tilenum 2822
    setvarvar digx 228 // digx_test
    setvarvar digy 89 // digy_test
    setvar textscale 40960
    state pal22
    setvarvar TEMPVAR2 varname
    divvar TEMPVAR2 10
    setvarvar TEMPVAR3 varname
    modvar TEMPVAR3 10
    redefinequote 332 %ld.%ld%
    qsprintf 332 332 TEMPVAR2 TEMPVAR3

    qstrlen TEMPVAR4 332
    ifvarg TEMPVAR4 0 
    { 
     setvarvar tempb TEMPVAR4
     mulvar tempb 6
     subvarvar digx tempb
     addvar digx 30
    }
    state gtz
   }

   // Show EP Levels when using Energy Drink Items
   ifvarg itemidinuse 38 ifvarl itemidinuse 42
   {
    state setquote332
    state orientation2

    // "EP"
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 86 // 54
    setvar textscale 40960
    state pal0
    redefinequote 332 EP
    state gtz

    // "Current EP" Value
    setvar tilenum 2837
    setvarvar digx 94 // 94
    setvarvar digy 86 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTEREP varname
    state dnz

    // "/"
    setvar tilenum 2822
    setvarvar digx 228 // digx_test
    setvarvar digy 86 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 /
    state gtz

    // "Maximum EP" Value
    setvar tilenum 2837
    setvarvar digx 140
    setvarvar digy 86 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTERMAXEP varname
    state dnz
   }

   // Show AB% Levels when using Ted's "Fortify" skills
   setvar TEMP7 0
   ifvarg itemidinuse 10 ifvarl itemidinuse 13 addvar TEMP7 1
   else ifvarg itemidinuse 19 ifvarl itemidinuse 22 addvar TEMP7 1
   else ifvarg itemidinuse 23 ifvarl itemidinuse 38 addvar TEMP7 1
   else ifvarg skillidinuse 8 ifvarl skillidinuse 12 addvar TEMP7 1
   ifvarg TEMP7 0
   {
    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    ifvarg varname -1 // 0
    {
     state setquote332
     state orientation2

     // "AB%"
     setvar tilenum 2822
     setvarvar digx 120 // digx_test
     setvarvar digy 86 // digy_test
     setvar textscale 40960
     state pal22
     redefinequote 332 AB%
     state gtz

     // "AB% Value"
     setvar tilenum 2822
     setvarvar digx 228 // digx_test
     setvarvar digy 86 // digy_test
     setvar textscale 40960
     state pal22
     setvarvar TEMPVAR2 varname
     divvar TEMPVAR2 10
     setvarvar TEMPVAR3 varname
     modvar TEMPVAR3 10
     redefinequote 332 %ld.%ld%
     qsprintf 332 332 TEMPVAR2 TEMPVAR3

     qstrlen TEMPVAR4 332
     ifvarg TEMPVAR4 0 
     { 
      setvarvar tempb TEMPVAR4
      mulvar tempb 6
      subvarvar digx tempb
      addvar digx 30
     }
     state gtz
    }
   }

   // Show "Buff" Timers
   ifvarg skillidinuse 11 ifvarl skillidinuse 17
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 86 // digy_test
    setvar textscale 40960
    state useskillshowvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 86 // digy_test
    setvar digz 40960
    state useskillshowvalues2
    state dnz
   }

   state settile3087
   state shade0
   state digz32768
  } // Show Paula's Info
ends

state menuloristats
  ifvarand CHARACTERSAVAILABLE 2048 
  { 
   setvar CHARACTERARRAY 12
   ifvare CHARACTERSELECTED? 12 state shadepulse4
   state characterplate
   setvar tilenum 7947 
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1 state pal2 else state pal0
   state rs 

   state setquote332  
   state orientation2
   setvar digx 194
   setvar digy 70
   state pal23
   redefinequote 332 LORI STEPHENS
   state mt
   setvar digy 76
   state pal20
   state quote332LEVEL
   state mt
   setvar digy 82
   state pal2
   state quote332HP
   state mt
   setvar digy 88
   state pal17
   state quote332AP
   state mt
   setvar digy 94
   state pal23
   state quote332AT
   state mt
   setvar digx 230 // x+33
   state pal23
   state quote332DF
   state mt
   setvar digx 232 // x+2
   setvar digy 82
   state pal2
   state quote332SLASH
   state mt
   setvar digy 88
   state pal17
   state quote332SLASH
   state mt
   setvar digx 210 // x+3
   getactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL templeveltemp1
   ifvarg templeveltemp1 -1 ifvarl templeveltemp1 10 addvar digx 2
   else ifvarg templeveltemp1 9 ifvarl templeveltemp1 100 addvar digx 4
   else ifvare templeveltemp1 100 addvar digx 6
   setvar digy 78
   state pal20
   state settile3087
   setvarvar varname templeveltemp1
   state dn
// Insert Ailment Icons
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1
   {
/*
    state pal21
    setvar digy 76
    setvar digx 241
    state settile3087
    redefinequote 332 DEAD
    state setquote332
    state mt
    state pal20
*/
    state pal0
    setvar digy 78
    setvar digx 225
    setvar digz 12288
    setvar tilenum 8100
    state rs
   }
   state pal0
   getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
   ifvarand TEMPVAR 4
   {
    setvar digy 78
    setvar digx 230
    setvar digz 12288
    setvar tilenum 8107
    getactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 12 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 8
   {
    setvar digy 78
    setvar digx 235
    setvar digz 12288
    setvar tilenum 8101
    getactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 12 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 16
   {
    setvar digy 78
    setvar digx 240
    setvar digz 12288
    setvar tilenum 8102
    getactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 12 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 128
   {
    setvar digy 78
    setvar digx 245
    setvar digz 12288
    setvar tilenum 8103
    getactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 12 state shadepulse4 else setvar shade 0
   }
//
   ifvare CHARACTERSELECTED? 12 state shadepulse4 else setvar shade 0
   state settile3087
   setvar digx 218 // x-15
   setvar digy 84
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERHP varname
   state dn
   setvar digy 90
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERAP varname
   state dn
   setvar digy 96
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERATTACK varname
   state dn
   setvar digx 252 // x+33
   setvar digy 84
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERMAXHP varname
   state dn
   setvar digy 90
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERMAXAP varname
   state dn
   setvar digy 96
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERDEFENSE varname
   state dn

   // Show Growth Rates when using Afa's Drop
   ifvare itemidinuse 4
   {
    setvarvar digx 332 // digx_test
    setvarvar digy 76 // digy_test
    // "HP"
    setvar tilenum 2822
    setvar textscale 40960
    state pal21
    redefinequote 332 HP-RATE
    state gtz
    // "AP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AP-RATE
    state gtz
    // "EP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 EP-RATE
    state gtz
    // "ATK"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal10
    redefinequote 332 ATK-RATE
    state gtz
    // "DEF"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal14
    redefinequote 332 DEF-RATE
    state gtz

    setvarvar digx 234 // 94
    setvarvar digy 76 // digy_test
    // "HP Rate" Value
    setvar tilenum 2837
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE varname
    state dnz
    // "AP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal22
    getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE varname
    state dnz
    // "EP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal0
    getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE varname
    state dnz
    // "ATK Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal10
    getactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE varname
    state dnz
    // "DEF Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal14
    getactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE varname
    state dnz
   }

   // Show Inventory Levels or Firstaid when using certain items
   ifvarg itemidinuse 12 ifvarl itemidinuse 20 setvar TEMPVAR6 1
   else ifvare itemidinuse 42 setvar TEMPVAR6 1
   else setvar TEMPVAR6 0
   ifvare TEMPVAR6 1
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 86 // digy_test
    setvar textscale 40960
    state useitemshowinvvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 86 // digy_test
    setvar digz 40960
    state useitemshowinvvalues2
   }

   // Show FA value when using a Super Atom
   ifvare itemidinuse 23
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 83 // digy_test
    setvar textscale 40960
    state pal21
    redefinequote 332 FA
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 83 // digy_test
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERFA varname
    state dnz

    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    // "AB%"
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 89 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AB%
    state gtz

    // "AB% Value"
    setvar tilenum 2822
    setvarvar digx 440 // digx_test
    setvarvar digy 89 // digy_test
    setvar textscale 40960
    state pal22
    setvarvar TEMPVAR2 varname
    divvar TEMPVAR2 10
    setvarvar TEMPVAR3 varname
    modvar TEMPVAR3 10
    redefinequote 332 %ld.%ld%
    qsprintf 332 332 TEMPVAR2 TEMPVAR3

    qstrlen TEMPVAR4 332
    ifvarg TEMPVAR4 0 
    { 
     setvarvar tempb TEMPVAR4
     mulvar tempb 6
     subvarvar digx tempb
     addvar digx 30
    }
    state gtz
   }

   // Show EP Levels when using Energy Drink Items
   ifvarg itemidinuse 38 ifvarl itemidinuse 42
   {
    state setquote332
    state orientation2

    // "EP"
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 86 // 54
    setvar textscale 40960
    state pal0
    redefinequote 332 EP
    state gtz

    // "Current EP" Value
    setvar tilenum 2837
    setvarvar digx 200 // 94
    setvarvar digy 86 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTEREP varname
    state dnz

    // "/"
    setvar tilenum 2822
    setvarvar digx 440 // digx_test
    setvarvar digy 86 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 /
    state gtz

    // "Maximum EP" Value
    setvar tilenum 2837
    setvarvar digx 246
    setvarvar digy 86 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTERMAXEP varname
    state dnz
   }

   // Show AB% Levels when using Ted's "Fortify" skills
   setvar TEMP7 0
   ifvarg itemidinuse 10 ifvarl itemidinuse 13 addvar TEMP7 1
   else ifvarg itemidinuse 19 ifvarl itemidinuse 22 addvar TEMP7 1
   else ifvarg itemidinuse 23 ifvarl itemidinuse 38 addvar TEMP7 1
   else ifvarg skillidinuse 8 ifvarl skillidinuse 12 addvar TEMP7 1
   ifvarg TEMP7 0
   {
    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    ifvarg varname -1 // 0
    {
     state setquote332
     state orientation2

     // "AB%"
     setvar tilenum 2822
     setvarvar digx 332 // digx_test
     setvarvar digy 86 // digy_test
     setvar textscale 40960
     state pal22
     redefinequote 332 AB%
     state gtz

     // "AB% Value"
     setvar tilenum 2822
     setvarvar digx 440 // digx_test
     setvarvar digy 86 // digy_test
     setvar textscale 40960
     state pal22
     setvarvar TEMPVAR2 varname
     divvar TEMPVAR2 10
     setvarvar TEMPVAR3 varname
     modvar TEMPVAR3 10
     redefinequote 332 %ld.%ld%
     qsprintf 332 332 TEMPVAR2 TEMPVAR3

     qstrlen TEMPVAR4 332
     ifvarg TEMPVAR4 0 
     { 
      setvarvar tempb TEMPVAR4
      mulvar tempb 6
      subvarvar digx tempb
      addvar digx 30
     }
     state gtz
    }
   }

   // Show "Buff" Timers
   ifvarg skillidinuse 11 ifvarl skillidinuse 17
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 86 // digy_test
    setvar textscale 40960
    state useskillshowvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 86 // digy_test
    setvar digz 40960
    state useskillshowvalues2
    state dnz
   }

   state settile3087
   state shade0
   state digz32768
  } // Show Lori's Info
ends

state menuminakostats
  ifvarand CHARACTERSAVAILABLE 4096 
  { 
   setvar CHARACTERARRAY 13
   ifvare CHARACTERSELECTED? 13 state shadepulse4
   state characterplate
   setvar MISCARRAYID 113 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // MINAKO-FORM
   ifvare MISCARRAYID_AMOUNTTEMP 0 setvar tilenum 7948 else ifvare MISCARRAYID_AMOUNTTEMP 1 setvar tilenum 7965 else ifvarg MISCARRAYID_AMOUNTTEMP 1 setvar tilenum 7968 
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1 state pal2 else state pal0
   state rs 

   state setquote332  
   state orientation2
   setvar digx 88
   setvar digy 102
   state pal23
   redefinequote 332 MINAKO AINO
   state mt
   setvar digy 108
   state pal20
   state quote332LEVEL
   state mt
   setvar digy 114
   state pal2
   state quote332HP
   state mt
   setvar digy 120
   state pal17
   state quote332AP
   state mt
   setvar digy 126
   state pal23
   state quote332AT
   state mt
   setvar digx 124 // x+33
   state pal23
   state quote332DF
   state mt
   setvar digx 126 // x+2
   setvar digy 114
   state pal2
   state quote332SLASH
   state mt
   setvar digy 120
   state pal17
   state quote332SLASH
   state mt
   setvar digx 104 // x+3
   getactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL templeveltemp1
   ifvarg templeveltemp1 -1 ifvarl templeveltemp1 10 addvar digx 2
   else ifvarg templeveltemp1 9 ifvarl templeveltemp1 100 addvar digx 4
   else ifvare templeveltemp1 100 addvar digx 6
   setvar digy 110
   state pal20
   state settile3087
   setvarvar varname templeveltemp1
   state dn
// Insert Ailment Icons
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1
   {
/*
    state pal21
    setvar digy 108
    setvar digx 135
    state settile3087
    redefinequote 332 DEAD
    state setquote332
    state mt
    state pal20
*/
    state pal0
    setvar digy 110
    setvar digx 119
    setvar digz 12288
    setvar tilenum 8100
    state rs
   }
   state pal0
   getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
   ifvarand TEMPVAR 4
   {
    setvar digy 110
    setvar digx 124
    setvar digz 12288
    setvar tilenum 8107
    getactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 13 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 8
   {
    setvar digy 110
    setvar digx 129
    setvar digz 12288
    setvar tilenum 8101
    getactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 13 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 16
   {
    setvar digy 110
    setvar digx 134
    setvar digz 12288
    setvar tilenum 8102
    getactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 13 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 128
   {
    setvar digy 110
    setvar digx 139
    setvar digz 12288
    setvar tilenum 8103
    getactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 13 state shadepulse4 else setvar shade 0
   }
//
   ifvare CHARACTERSELECTED? 13 state shadepulse4 else setvar shade 0
   state settile3087
   setvar digx 112 // x-15
   setvar digy 116
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERHP varname
   state dn
   setvar digy 122
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERAP varname
   state dn
   setvar digy 128
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERATTACK varname
   state dn
   setvar digx 146 // x+33
   setvar digy 116
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERMAXHP varname
   state dn
   setvar digy 122
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERMAXAP varname
   state dn
   setvar digy 128
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERDEFENSE varname
   state dn

   // Show Growth Rates when using Afa's Drop
   ifvare itemidinuse 4
   {
    setvarvar digx 120 // digx_test
    setvarvar digy 108 // digy_test
    // "HP"
    setvar tilenum 2822
    setvar textscale 40960
    state pal21
    redefinequote 332 HP-RATE
    state gtz
    // "AP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AP-RATE
    state gtz
    // "EP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 EP-RATE
    state gtz
    // "ATK"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal10
    redefinequote 332 ATK-RATE
    state gtz
    // "DEF"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal14
    redefinequote 332 DEF-RATE
    state gtz

    setvarvar digx 128 // 94
    setvarvar digy 108 // digy_test
    // "HP Rate" Value
    setvar tilenum 2837
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE varname
    state dnz
    // "AP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal22
    getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE varname
    state dnz
    // "EP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal0
    getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE varname
    state dnz
    // "ATK Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal10
    getactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE varname
    state dnz
    // "DEF Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal14
    getactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE varname
    state dnz
   }

   // Show Inventory Levels or Firstaid when using certain items
   ifvarg itemidinuse 12 ifvarl itemidinuse 20 setvar TEMPVAR6 1
   else ifvare itemidinuse 42 setvar TEMPVAR6 1
   else setvar TEMPVAR6 0
   ifvare TEMPVAR6 1
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 118 // digy_test
    setvar textscale 40960
    state useitemshowinvvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 118 // digy_test
    setvar digz 40960
    state useitemshowinvvalues2
   }

   // Show FA value when using a Super Atom
   ifvare itemidinuse 23
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 115 // digy_test
    setvar textscale 40960
    state pal21
    redefinequote 332 FA
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 115 // digy_test
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERFA varname
    state dnz

    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    // "AB%"
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 121 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AB%
    state gtz

    // "AB% Value"
    setvar tilenum 2822
    setvarvar digx 228 // digx_test
    setvarvar digy 121 // digy_test
    setvar textscale 40960
    state pal22
    setvarvar TEMPVAR2 varname
    divvar TEMPVAR2 10
    setvarvar TEMPVAR3 varname
    modvar TEMPVAR3 10
    redefinequote 332 %ld.%ld%
    qsprintf 332 332 TEMPVAR2 TEMPVAR3

    qstrlen TEMPVAR4 332
    ifvarg TEMPVAR4 0 
    { 
     setvarvar tempb TEMPVAR4
     mulvar tempb 6
     subvarvar digx tempb
     addvar digx 30
    }
    state gtz
   }

   // Show EP Levels when using Energy Drink Items
   ifvarg itemidinuse 38 ifvarl itemidinuse 42
   {
    state setquote332
    state orientation2

    // "EP"
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 118 // 54
    setvar textscale 40960
    state pal0
    redefinequote 332 EP
    state gtz

    // "Current EP" Value
    setvar tilenum 2837
    setvarvar digx 94 // 94
    setvarvar digy 118 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTEREP varname
    state dnz

    // "/"
    setvar tilenum 2822
    setvarvar digx 228 // digx_test
    setvarvar digy 118 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 /
    state gtz

    // "Maximum EP" Value
    setvar tilenum 2837
    setvarvar digx 140
    setvarvar digy 118 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTERMAXEP varname
    state dnz
   }

   // Show AB% Levels when using Ted's "Fortify" skills
   setvar TEMP7 0
   ifvarg itemidinuse 10 ifvarl itemidinuse 13 addvar TEMP7 1
   else ifvarg itemidinuse 19 ifvarl itemidinuse 22 addvar TEMP7 1
   else ifvarg itemidinuse 23 ifvarl itemidinuse 38 addvar TEMP7 1
   else ifvarg skillidinuse 8 ifvarl skillidinuse 12 addvar TEMP7 1
   ifvarg TEMP7 0
   {
    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    ifvarg varname -1 // 0
    {
     state setquote332
     state orientation2

     // "AB%"
     setvar tilenum 2822
     setvarvar digx 120 // digx_test
     setvarvar digy 118 // digy_test
     setvar textscale 40960
     state pal22
     redefinequote 332 AB%
     state gtz

     // "AB% Value"
     setvar tilenum 2822
     setvarvar digx 228 // digx_test
     setvarvar digy 118 // digy_test
     setvar textscale 40960
     state pal22
     setvarvar TEMPVAR2 varname
     divvar TEMPVAR2 10
     setvarvar TEMPVAR3 varname
     modvar TEMPVAR3 10
     redefinequote 332 %ld.%ld%
     qsprintf 332 332 TEMPVAR2 TEMPVAR3

     qstrlen TEMPVAR4 332
     ifvarg TEMPVAR4 0 
     { 
      setvarvar tempb TEMPVAR4
      mulvar tempb 6
      subvarvar digx tempb
      addvar digx 30
     }
     state gtz
    }
   }

   // Show "Buff" Timers
   ifvarg skillidinuse 11 ifvarl skillidinuse 17
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 118 // digy_test
    setvar textscale 40960
    state useskillshowvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 118 // digy_test
    setvar digz 40960
    state useskillshowvalues2
    state dnz
   }

   state settile3087
   state shade0
   state digz32768
  } // Show Minako's Info
ends

state menumystery1stats
  ifvarand CHARACTERSAVAILABLE 8192 
  { 
   setvar CHARACTERARRAY 14
   ifvare CHARACTERSELECTED? 14 state shadepulse4
   state characterplate
   setvar tilenum 7957 
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1 state pal2 else state pal0
   state rs 

   state setquote332  
   state orientation2
   setvar digx 194
   setvar digy 102
   state pal23
   ifvare debugtoggle 0
   {
    ifvare PUBLICBETA? 1 redefinequote 332 ??????? ?????????
    else redefinequote 332 NAFERIA MABOROSHI
   }
   else
   {
    ifvare PUBLICBETA? 1 redefinequote 332 HINOTORI GENKAI
    else redefinequote 332 NAFERIA MABOROSHI
   }
   state mt
   setvar digy 108
   state pal20
   state quote332LEVEL
   state mt
   setvar digy 114
   state pal2
   state quote332HP
   state mt
   setvar digy 120
   state pal17
   state quote332AP
   state mt
   setvar digy 126
   state pal23
   state quote332AT
   state mt
   setvar digx 230 // x+33
   state pal23
   state quote332DF
   state mt
   setvar digx 232 // x+2
   setvar digy 114
   state pal2
   state quote332SLASH
   state mt
   setvar digy 120
   state pal17
   state quote332SLASH
   state mt
   setvar digx 210 // x+3
   getactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL templeveltemp1
   ifvarg templeveltemp1 -1 ifvarl templeveltemp1 10 addvar digx 2
   else ifvarg templeveltemp1 9 ifvarl templeveltemp1 100 addvar digx 4
   else ifvare templeveltemp1 100 addvar digx 6
   setvar digy 110
   state pal20
   state settile3087
   setvarvar varname templeveltemp1
   state dn
// Insert Ailment Icons
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1
   {
/*
    state pal21
    setvar digy 108
    setvar digx 241
    state settile3087
    redefinequote 332 DEAD
    state setquote332
    state mt
    state pal20
*/
    state pal0
    setvar digy 110
    setvar digx 225
    setvar digz 12288
    setvar tilenum 8100
    state rs
   }
   state pal0
   getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
   ifvarand TEMPVAR 4
   {
    setvar digy 110
    setvar digx 230
    setvar digz 12288
    setvar tilenum 8107
    getactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 14 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 8
   {
    setvar digy 110
    setvar digx 235
    setvar digz 12288
    setvar tilenum 8101
    getactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 14 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 16
   {
    setvar digy 110
    setvar digx 240
    setvar digz 12288
    setvar tilenum 8102
    getactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 14 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 128
   {
    setvar digy 110
    setvar digx 245
    setvar digz 12288
    setvar tilenum 8103
    getactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 14 state shadepulse4 else setvar shade 0
   }
//
   ifvare CHARACTERSELECTED? 14 state shadepulse4 else setvar shade 0
   state settile3087
   setvar digx 218 // x-15
   setvar digy 116
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERHP varname
   state dn
   setvar digy 122
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERAP varname
   state dn
   setvar digy 128
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERATTACK varname
   state dn
   setvar digx 252 // x+33
   setvar digy 116
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERMAXHP varname
   state dn
   setvar digy 122
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERMAXAP varname
   state dn
   setvar digy 128
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERDEFENSE varname
   state dn

   // Show Growth Rates when using Afa's Drop
   ifvare itemidinuse 4
   {
    setvarvar digx 332 // digx_test
    setvarvar digy 108 // digy_test
    // "HP"
    setvar tilenum 2822
    setvar textscale 40960
    state pal21
    redefinequote 332 HP-RATE
    state gtz
    // "AP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AP-RATE
    state gtz
    // "EP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 EP-RATE
    state gtz
    // "ATK"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal10
    redefinequote 332 ATK-RATE
    state gtz
    // "DEF"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal14
    redefinequote 332 DEF-RATE
    state gtz

    setvarvar digx 234 // 94
    setvarvar digy 108 // digy_test
    // "HP Rate" Value
    setvar tilenum 2837
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE varname
    state dnz
    // "AP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal22
    getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE varname
    state dnz
    // "EP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal0
    getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE varname
    state dnz
    // "ATK Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal10
    getactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE varname
    state dnz
    // "DEF Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal14
    getactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE varname
    state dnz
   }

   // Show Inventory Levels or Firstaid when using certain items
   ifvarg itemidinuse 12 ifvarl itemidinuse 20 setvar TEMPVAR6 1
   else ifvare itemidinuse 42 setvar TEMPVAR6 1
   else setvar TEMPVAR6 0
   ifvare TEMPVAR6 1
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 118 // digy_test
    setvar textscale 40960
    state useitemshowinvvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 118 // digy_test
    setvar digz 40960
    state useitemshowinvvalues2
   }

   // Show FA value when using a Super Atom
   ifvare itemidinuse 23
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 115 // digy_test
    setvar textscale 40960
    state pal21
    redefinequote 332 FA
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 115 // digy_test
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERFA varname
    state dnz

    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    // "AB%"
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 121 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AB%
    state gtz

    // "AB% Value"
    setvar tilenum 2822
    setvarvar digx 440 // digx_test
    setvarvar digy 121 // digy_test
    setvar textscale 40960
    state pal22
    setvarvar TEMPVAR2 varname
    divvar TEMPVAR2 10
    setvarvar TEMPVAR3 varname
    modvar TEMPVAR3 10
    redefinequote 332 %ld.%ld%
    qsprintf 332 332 TEMPVAR2 TEMPVAR3

    qstrlen TEMPVAR4 332
    ifvarg TEMPVAR4 0 
    { 
     setvarvar tempb TEMPVAR4
     mulvar tempb 6
     subvarvar digx tempb
     addvar digx 30
    }
    state gtz
   }

   // Show EP Levels when using Energy Drink Items
   ifvarg itemidinuse 38 ifvarl itemidinuse 42
   {
    state setquote332
    state orientation2

    // "EP"
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 118 // 54
    setvar textscale 40960
    state pal0
    redefinequote 332 EP
    state gtz

    // "Current EP" Value
    setvar tilenum 2837
    setvarvar digx 200 // 94
    setvarvar digy 118 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTEREP varname
    state dnz

    // "/"
    setvar tilenum 2822
    setvarvar digx 440 // digx_test
    setvarvar digy 118 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 /
    state gtz

    // "Maximum EP" Value
    setvar tilenum 2837
    setvarvar digx 246
    setvarvar digy 118 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTERMAXEP varname
    state dnz
   }

   // Show AB% Levels when using Ted's "Fortify" skills
   setvar TEMP7 0
   ifvarg itemidinuse 10 ifvarl itemidinuse 13 addvar TEMP7 1
   else ifvarg itemidinuse 19 ifvarl itemidinuse 22 addvar TEMP7 1
   else ifvarg itemidinuse 23 ifvarl itemidinuse 38 addvar TEMP7 1
   else ifvarg skillidinuse 8 ifvarl skillidinuse 12 addvar TEMP7 1
   ifvarg TEMP7 0
   {
    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    ifvarg varname -1 // 0
    {
     state setquote332
     state orientation2

     // "AB%"
     setvar tilenum 2822
     setvarvar digx 332 // digx_test
     setvarvar digy 118 // digy_test
     setvar textscale 40960
     state pal22
     redefinequote 332 AB%
     state gtz

     // "AB% Value"
     setvar tilenum 2822
     setvarvar digx 440 // digx_test
     setvarvar digy 118 // digy_test
     setvar textscale 40960
     state pal22
     setvarvar TEMPVAR2 varname
     divvar TEMPVAR2 10
     setvarvar TEMPVAR3 varname
     modvar TEMPVAR3 10
     redefinequote 332 %ld.%ld%
     qsprintf 332 332 TEMPVAR2 TEMPVAR3

     qstrlen TEMPVAR4 332
     ifvarg TEMPVAR4 0 
     { 
      setvarvar tempb TEMPVAR4
      mulvar tempb 6
      subvarvar digx tempb
      addvar digx 30
     }
     state gtz
    }
   }

   // Show "Buff" Timers
   ifvarg skillidinuse 11 ifvarl skillidinuse 17
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 118 // digy_test
    setvar textscale 40960
    state useskillshowvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 118 // digy_test
    setvar digz 40960
    state useskillshowvalues2
    state dnz
   }

   state settile3087
   state shade0
   state digz32768
  } // Show Mystery Woman's Info
ends

state menumakenstats
  ifvarand CHARACTERSAVAILABLE 16384
  { 
   setvar CHARACTERARRAY 15
   ifvare CHARACTERSELECTED? 15 state shadepulse4
   state characterplate
   setvar tilenum 7971 
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR

   ifvarl TEMPVAR 1 state pal2 else state pal0
   state rs 

   state setquote332  
   state orientation2
   setvar digx 88
   setvar digy 134
   state pal23
   redefinequote 332 MAKEN SHINKARA
   state mt
   setvar digy 140
   state pal20
   state quote332LEVEL
   state mt
   setvar digy 146
   state pal2
   state quote332HP
   state mt
   setvar digy 152
   state pal17
   state quote332AP
   state mt
   setvar digy 158
   state pal23
   state quote332AT
   state mt
   setvar digx 124 // x+33
   state pal23
   state quote332DF
   state mt
   setvar digx 126 // x+2
   setvar digy 146
   state pal2
   state quote332SLASH
   state mt
   setvar digy 152
   state pal17
   state quote332SLASH
   state mt
   setvar digx 104 // x+3
   getactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL templeveltemp1
   ifvarg templeveltemp1 -1 ifvarl templeveltemp1 10 addvar digx 2
   else ifvarg templeveltemp1 9 ifvarl templeveltemp1 100 addvar digx 4
   else ifvare templeveltemp1 100 addvar digx 6
   setvar digy 142
   state pal20
   state settile3087
   setvarvar varname templeveltemp1
   state dn
// Insert Ailment Icons
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1
   {
/*
    state pal21
    setvar digy 140
    setvar digx 135
    state settile3087
    redefinequote 332 DEAD
    state setquote332
    state mt
    state pal20
*/
    state pal0
    setvar digy 142
    setvar digx 119
    setvar digz 12288
    setvar tilenum 8100
    state rs
   }
   state pal0
   getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
   ifvarand TEMPVAR 4
   {
    setvar digy 142
    setvar digx 124
    setvar digz 12288
    setvar tilenum 8107
    getactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 15 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 8
   {
    setvar digy 142
    setvar digx 129
    setvar digz 12288
    setvar tilenum 8101
    getactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 15 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 16
   {
    setvar digy 142
    setvar digx 134
    setvar digz 12288
    setvar tilenum 8102
    getactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 15 state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 128
   {
    setvar digy 142
    setvar digx 139
    setvar digz 12288
    setvar tilenum 8103
    getactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs
    ifvare CHARACTERSELECTED? 15 state shadepulse4 else setvar shade 0
   }
//
   ifvare CHARACTERSELECTED? 15 state shadepulse4 else setvar shade 0
   state settile3087
   setvar digx 112 // x-15
   setvar digy 148
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERHP varname
   state dn
   setvar digy 154
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERAP varname
   state dn
   setvar digy 160
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERATTACK varname
   state dn
   setvar digx 146 // x+33
   setvar digy 148
   state pal2
   getactorvar[CHARACTERARRAY].CHARACTERMAXHP varname
   state dn
   setvar digy 154
   state pal17
   getactorvar[CHARACTERARRAY].CHARACTERMAXAP varname
   state dn
   setvar digy 160
   state pal23
   getactorvar[CHARACTERARRAY].CHARACTERDEFENSE varname
   state dn

   // Show Growth Rates when using Afa's Drop
   ifvare itemidinuse 4
   {
    setvarvar digx 120 // digx_test
    setvarvar digy 140 // digy_test
    // "HP"
    setvar tilenum 2822
    setvar textscale 40960
    state pal21
    redefinequote 332 HP-RATE
    state gtz
    // "AP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AP-RATE
    state gtz
    // "EP"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 EP-RATE
    state gtz
    // "ATK"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal10
    redefinequote 332 ATK-RATE
    state gtz
    // "DEF"
    setvar tilenum 2822
    addvarvar digy 5 // digy_test
    setvar textscale 40960
    state pal14
    redefinequote 332 DEF-RATE
    state gtz

    setvarvar digx 128 // 94
    setvarvar digy 140 // digy_test
    // "HP Rate" Value
    setvar tilenum 2837
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE varname
    state dnz
    // "AP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal22
    getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE varname
    state dnz
    // "EP Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal0
    getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE varname
    state dnz
    // "ATK Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal10
    getactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE varname
    state dnz
    // "DEF Rate" Value
    setvar tilenum 2837
    addvarvar digy 5 // digy_test
    setvar digz 40960
    state pal14
    getactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE varname
    state dnz
   }

   // Show Inventory Levels or Firstaid when using certain items
   ifvarg itemidinuse 12 ifvarl itemidinuse 20 setvar TEMPVAR6 1
   else ifvare itemidinuse 42 setvar TEMPVAR6 1
   else setvar TEMPVAR6 0
   ifvare TEMPVAR6 1
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 150 // digy_test
    setvar textscale 40960
    state useitemshowinvvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 150 // digy_test
    setvar digz 40960
    state useitemshowinvvalues2
   }

   // Show FA value when using a Super Atom
   ifvare itemidinuse 23
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 147 // digy_test
    setvar textscale 40960
    state pal21
    redefinequote 332 FA
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 147 // digy_test
    setvar digz 40960
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERFA varname
    state dnz

    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    // "AB%"
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 153 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AB%
    state gtz

    // "AB% Value"
    setvar tilenum 2822
    setvarvar digx 228 // digx_test
    setvarvar digy 153 // digy_test
    setvar textscale 40960
    state pal22
    setvarvar TEMPVAR2 varname
    divvar TEMPVAR2 10
    setvarvar TEMPVAR3 varname
    modvar TEMPVAR3 10
    redefinequote 332 %ld.%ld%
    qsprintf 332 332 TEMPVAR2 TEMPVAR3

    qstrlen TEMPVAR4 332
    ifvarg TEMPVAR4 0 
    { 
     setvarvar tempb TEMPVAR4
     mulvar tempb 6
     subvarvar digx tempb
     addvar digx 30
    }
    state gtz
   }

   // Show EP Levels when using Energy Drink Items
   ifvarg itemidinuse 38 ifvarl itemidinuse 42
   {
    state setquote332
    state orientation2

    // "EP"
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 150 // 54
    setvar textscale 40960
    state pal0
    redefinequote 332 EP
    state gtz

    // "Current EP" Value
    setvar tilenum 2837
    setvarvar digx 94 // 94
    setvarvar digy 150 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTEREP varname
    state dnz

    // "/"
    setvar tilenum 2822
    setvarvar digx 228 // digx_test
    setvarvar digy 150 // digy_test
    setvar textscale 40960
    state pal0
    redefinequote 332 /
    state gtz

    // "Maximum EP" Value
    setvar tilenum 2837
    setvarvar digx 140
    setvarvar digy 150 // digy_test
    setvar digz 40960
    getactorvar[CHARACTERARRAY].CHARACTERMAXEP varname
    state dnz
   }

   // Show AB% Levels when using Ted's "Fortify" skills
   setvar TEMP7 0
   ifvarg itemidinuse 10 ifvarl itemidinuse 13 addvar TEMP7 1
   else ifvarg itemidinuse 19 ifvarl itemidinuse 22 addvar TEMP7 1
   else ifvarg itemidinuse 23 ifvarl itemidinuse 38 addvar TEMP7 1
   else ifvarg skillidinuse 8 ifvarl skillidinuse 12 addvar TEMP7 1
   ifvarg TEMP7 0
   {
    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB varname
    ifvarg varname -1 // 0
    {
     state setquote332
     state orientation2

     // "AB%"
     setvar tilenum 2822
     setvarvar digx 120 // digx_test
     setvarvar digy 150 // digy_test
     setvar textscale 40960
     state pal22
     redefinequote 332 AB%
     state gtz

     // "AB% Value"
     setvar tilenum 2822
     setvarvar digx 228 // digx_test
     setvarvar digy 150 // digy_test
     setvar textscale 40960
     state pal22
     setvarvar TEMPVAR2 varname
     divvar TEMPVAR2 10
     setvarvar TEMPVAR3 varname
     modvar TEMPVAR3 10
     redefinequote 332 %ld.%ld%
     qsprintf 332 332 TEMPVAR2 TEMPVAR3

     qstrlen TEMPVAR4 332
     ifvarg TEMPVAR4 0 
     { 
      setvarvar tempb TEMPVAR4
      mulvar tempb 6
      subvarvar digx tempb
      addvar digx 30
     }
     state gtz
    }
   }

   // Show "Buff" Timers
   ifvarg skillidinuse 11 ifvarl skillidinuse 17
   {
    setvar tilenum 2822
    setvarvar digx 120 // digx_test
    setvarvar digy 150 // digy_test
    setvar textscale 40960
    state useskillshowvalues1
    state gtz

    setvar tilenum 2837
    setvarvar digx 128 // 94
    setvarvar digy 150 // digy_test
    setvar digz 40960
    state useskillshowvalues2
    state dnz
   }

   state settile3087
   state shade0
   state digz32768
  } // Show Maken's Info
ends

state vehicleplate
   addvar shade 16
   addvar digx 37
   state orientation2
   state digz65536
   state pal0
   setvar tilenum 8176
   state rs
   subvar shade 8
   subvar digx 37
   state digz32768
ends

state menuvehiclestats
  ifvarn VEHICLEID -1
  { 
   state shadepulse4
   state vehicleplate
   ifvare VEHICLETYPE 0 setvar tilenum 7950
   ifvare VEHICLETYPE 1 setvar tilenum 7951 
   ifvare VEHICLETYPE 2 setvar tilenum 7952 
   state pal0
   state rs 

   setvar digx 194
   setvar digy 134
   ifvare VEHICLETYPE 0 state pal22
   ifvare VEHICLETYPE 1 state pal0
   ifvare VEHICLETYPE 2 state pal21
   state setquote332  
   state orientation2
   ifvare VEHICLETYPE 0 redefinequote 332 GREEN RIOT TANK
   ifvare VEHICLETYPE 1 redefinequote 332 BLUE RIOT TANK
   ifvare VEHICLETYPE 2 redefinequote 332 RED RIOT TANK
   state mt
   setvar digy 140
   state pal20
   state quote332LEVEL
   state mt
   setvar digy 146
   state pal2
   state quote332HP
   state mt
   setvar digy 152
   state pal17
   state quote332AP
   state mt
   setvar digy 158
   state pal23
   state quote332AT
   state mt
   setvar digx 230 // x+33
   state pal23
   state quote332DF
   state mt
   setvar digx 232 // x+2

   setvar digy 146
   state pal2
   state quote332SLASH
   state mt
   setvar digy 152
   state pal17
   state quote332SLASH
   state mt
   setvar digx 210 // x+3
   getactorvar[VEHICLEID].ENEMYLEVEL templeveltemp1
   ifvarg templeveltemp1 -1 ifvarl templeveltemp1 10 addvar digx 2
   else ifvarg templeveltemp1 9 ifvarl templeveltemp1 100 addvar digx 4
   else ifvare templeveltemp1 100 addvar digx 6
   setvar digy 142
   state pal20
   state settile3087
   setvarvar varname templeveltemp1
   state dn

   state settile3087
   setvar digx 218 // x-15
   setvar digy 148
   state pal2
   getactorvar[VEHICLEID].ENEMYHP varname
   state dn
   setvar digy 154
   state pal17
   getactorvar[VEHICLEID].ENEMYAP varname
   state dn
   setvar digy 160
   state pal23
   getactorvar[VEHICLEID].ACTORATTACK varname
   state dn
   setvar digx 252 // x+33
   setvar digy 148
   state pal2
   getactorvar[VEHICLEID].ENEMYMAXHP varname
   state dn
   setvar digy 154
   state pal17
   getactorvar[VEHICLEID].ENEMYMAXAP varname
   state dn
   setvar digy 160
   state pal23
   getactorvar[VEHICLEID].ACTORDEFENSE varname
   state dn

   // Show FA value when using a First Aid Kit
   ifvare itemidinuse 13
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 150 // digy_test
    setvar textscale 40960
    state pal21
    redefinequote 332 FA
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 150 // digy_test
    setvar digz 40960
    state pal21
    getactorvar[VEHICLEID].ENEMYFIRSTAID varname
    state dnz
   }

   // Show Scuba value when using Scuba Gear
   ifvare itemidinuse 14 // Scuba Gear
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 150 // digy_test
    setvar textscale 40960
    state pal16
    redefinequote 332 SCUBA
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 150 // digy_test
    setvar digz 40960
    state pal16
    getactorvar[VEHICLEID].ENEMYAIRTANKAMOUNT varname
    divvar varname 64
    state dnz
   }

   // Show Boots value when using Boots
   ifvare itemidinuse 16 // Protective Boots
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 150 // digy_test
    setvar textscale 40960
    state pal15
    redefinequote 332 BOOTS
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 150 // digy_test
    setvar digz 40960
    state pal15
    getactorvar[VEHICLEID].ENEMYBOOTSAMOUNT varname
    divvar varname 2
    state dnz
   }

   // Show FA value when using a Super Atom
   ifvare itemidinuse 23
   {
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 147 // digy_test
    setvar textscale 40960
    state pal21
    redefinequote 332 FA
    state gtz

    setvar tilenum 2837
    setvarvar digx 234 // 94
    setvarvar digy 147 // digy_test
    setvar digz 40960
    state pal21
    getactorvar[VEHICLEID].ENEMYFIRSTAID varname
    state dnz

    getactorvar[VEHICLEID].ENEMYARMORPERCENT varname
    // "AB%"
    setvar tilenum 2822
    setvarvar digx 332 // digx_test
    setvarvar digy 153 // digy_test
    setvar textscale 40960
    state pal22
    redefinequote 332 AB%
    state gtz

    // "AB% Value"
    setvar tilenum 2822
    setvarvar digx 440 // digx_test
    setvarvar digy 153 // digy_test
    setvar textscale 40960
    state pal22
    setvarvar TEMPVAR2 varname
    divvar TEMPVAR2 10
    setvarvar TEMPVAR3 varname
    modvar TEMPVAR3 10
    redefinequote 332 %ld.%ld%
    qsprintf 332 332 TEMPVAR2 TEMPVAR3

    qstrlen TEMPVAR4 332
    ifvarg TEMPVAR4 0 
    { 
     setvarvar tempb TEMPVAR4
     mulvar tempb 6
     subvarvar digx tempb
     addvar digx 30
    }
    state gtz
   }

   // Show AB% Levels when using Ted's "Fortify" skills
   setvar TEMP7 0
   ifvarg itemidinuse 10 ifvarl itemidinuse 13 addvar TEMP7 1
   else ifvarg itemidinuse 19 ifvarl itemidinuse 22 addvar TEMP7 1
   else ifvarg itemidinuse 23 ifvarl itemidinuse 38 addvar TEMP7 1
   else ifvarg skillidinuse 8 ifvarl skillidinuse 12 addvar TEMP7 1
   ifvarg TEMP7 0
   {
    getactorvar[VEHICLEID].ENEMYARMORPERCENT varname
    ifvarg varname -1 // 0
    {
     state setquote332
     state orientation2

     // "AB%"
     setvar tilenum 2822
     setvarvar digx 332 // digx_test
     setvarvar digy 150 // digy_test
     setvar textscale 40960
     state pal22
     redefinequote 332 AB%
     state gtz

     // "AB% Value"
     setvar tilenum 2822
     setvarvar digx 440 // digx_test
     setvarvar digy 150 // digy_test
     setvar textscale 40960
     state pal22
     setvarvar TEMPVAR2 varname
     divvar TEMPVAR2 10
     setvarvar TEMPVAR3 varname
     modvar TEMPVAR3 10
     redefinequote 332 %ld.%ld%
     qsprintf 332 332 TEMPVAR2 TEMPVAR3

     qstrlen TEMPVAR4 332
     ifvarg TEMPVAR4 0 
     { 
      setvarvar tempb TEMPVAR4
      mulvar tempb 6
      subvarvar digx tempb
      addvar digx 30
     }
     state gtz
    }
   }

   state settile3087
   state shade0
   state digz32768
  } // Show VEHICLE's Info
ends

state hackervision
	ifvarn hitsprite -1
	{ // ifvarn hitsprite -1

	 getactor[hitsprite].picnum TARGETSPECIES
       switch TARGETSPECIES

       case 162
       case 163
       case 166
       case 167
       case 1142
       case 1143
	  getactor[hitsprite].hitag TEMPVAR
        state pal20
	  state digx320
	  setvar digy 89
	  setvar tilenum 2822
        redefinequote 332 NEEDS TO BE:
	  state setquote332
	  state orientation27 // 1+2+8
	  state gt
        ifvare TEMPVAR 0 
        {
         state pal10
         redefinequote 332 (OFF)
        }
        else
        {
         state pal22
         redefinequote 332 (ON)
        }
	  state digx320
	  setvar digy 97
	  setvar tilenum 2822
	  state setquote332
	  state orientation27 // 1+2+8
	  state gt
       break

       case 3069
       case 3607
       case 3620
       case 4082
       case 4084
        ifvare TARGETSPECIES 3069
        {
         getactorvar[hitsprite].hitagsav TEMPVAR
         ifvarg TEMPVAR -1
         {
          state pal20
	    state digx320
	    setvar digy 88
	    setvar tilenum 2822
	    redefinequote 332 PASSCODE #:
	    state setquote332
	    state orientation27 // 1+2+8
	    state gt

          state pal10
	    state digx160
	    setvar digy 97
	    setvar tilenum 3461
	    state orientation27 // 1+2+8
	    setvarvar varname TEMPVAR
	    state dn
         }
        }
        else
        {
 	   getactorvar[hitsprite].hitagsav TEMPVAR
         ifvarg TEMPVAR -1
         {
          state pal20
	    setvar digx 202
	    setvar digy 60
	    setvar tilenum 2822
          redefinequote 332 ACCESSABLE BY:
	    state setquote332
	    state orientation27 // 1+2+8
	    state gt

          state pal0
	    setvar diga 0
	    state digz16384        
 
          setvar digy 70
          ifvarand TEMPVAR 1 // Duke
          {
           setvar digx 110
           setvar tilenum 7936
           ifvare DUKE? 1 state shadepulse
           setvar CHARACTERARRAY 1
           getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP2
           ifvarand TEMP2 1 state pal2 else state pal0
           state rs
          }
          state shade0
          ifvarand TEMPVAR 2 // Jack
          {
           setvar digx 130
           setvar tilenum 7937
           ifvare JACK? 1 state shadepulse
           setvar CHARACTERARRAY 2
           getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP2
           ifvarand TEMP2 1 state pal2 else state pal0
           state rs
          }
          state shade0
          ifvarand TEMPVAR 4 // Bubsy
          {
           setvar digx 150

           setvar MISCARRAYID 103 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // BUBSY-FORM?
           ifvare MISCARRAYID_AMOUNTTEMP 0 setvar tilenum 7938 else ifvare MISCARRAYID_AMOUNTTEMP 1 setvar tilenum 7962

           ifvare BUBSY? 1 state shadepulse
           setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP2
           ifvarand TEMP2 1 state pal2 else state pal0
           state rs
          }
          state shade0
          ifvarand TEMPVAR 8 // Ami
          {
           setvar digx 170

           setvar MISCARRAYID 104 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // AMI-FORM?
           ifvare MISCARRAYID_AMOUNTTEMP 0 setvar tilenum 7939 else ifvare MISCARRAYID_AMOUNTTEMP 1 setvar tilenum 7963 else ifvare MISCARRAYID_AMOUNTTEMP 2 setvar tilenum 7966

           ifvare AMI? 1 state shadepulse
           setvar CHARACTERARRAY 4
           getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP2
           ifvarand TEMP2 1 state pal2 else state pal0
           state rs
          }
          state shade0
          ifvarand TEMPVAR 16 // Lo Wang
          {
           setvar digx 190
           setvar tilenum 7940
           ifvare LOWANG? 1 state shadepulse
           setvar CHARACTERARRAY 5
           getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP2
           ifvarand TEMP2 1 state pal2 else state pal0
           state rs
          }
          state shade0
   
          setvar digy 90
          ifvarand TEMPVAR 32 // ESSence
          {
           setvar digx 110
           setvar tilenum 7941
           ifvare ESSENCE? 1 state shadepulse
           setvar CHARACTERARRAY 6
           getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP2
           ifvarand TEMP2 1 state pal2 else state pal0
           state rs
          }
          state shade0
          ifvarand TEMPVAR 64 // Ted
          {
           setvar digx 130
           setvar tilenum 7942
           ifvare TED? 1 state shadepulse
           setvar CHARACTERARRAY 7
           getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP2
           ifvarand TEMP2 1 state pal2 else state pal0
           state rs
          }
          state shade0
          ifvarand TEMPVAR 128 // Lisa
          {
           setvar digx 150
           setvar tilenum 7943
           ifvare LISA? 1 state shadepulse
           setvar CHARACTERARRAY 8
           getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP2
           ifvarand TEMP2 1 state pal2 else state pal0
           state rs
          }
          state shade0
          ifvarand TEMPVAR 256 // Cybanis
          {
           setvar digx 170
           setvar tilenum 7944
           ifvare CYBANIS? 1 state shadepulse
           setvar CHARACTERARRAY 9
           getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP2
           ifvarand TEMP2 1 state pal2 else state pal0
           state rs
          }
          state shade0
          ifvarand TEMPVAR 512 // Nethra
          {
           setvar digx 190
           setvar MISCARRAYID 110 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // NETHRA-FORM?
           ifvare MISCARRAYID_AMOUNTTEMP 0 setvar tilenum 7945 else ifvare MISCARRAYID_AMOUNTTEMP 1 setvar tilenum 7964
           ifvare NETHRA? 1 state shadepulse
           setvar CHARACTERARRAY 10
           getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP2
           ifvarand TEMP2 1 state pal2 else state pal0
           state rs
          }
          state shade0

          setvar digy 110
          ifvarand TEMPVAR 1024 // Paula
          {
           setvar digx 110 // 110
           setvar tilenum 7946
           ifvare PAULA? 1 state shadepulse
           setvar CHARACTERARRAY 11
           getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP2
           ifvarand TEMP2 1 state pal2 else state pal0
           state rs
          }
          state shade0
          ifvarand TEMPVAR 2048 // Lori
          {
           setvar digx 130 // 130
           setvar tilenum 7947
           ifvare LORI? 1 state shadepulse
           setvar CHARACTERARRAY 12
           getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP2
           ifvarand TEMP2 1 state pal2 else state pal0
           state rs
          }
          state shade0
          ifvarand TEMPVAR 4096 // Minako
          {
           setvar digx 150 // 150
           setvar MISCARRAYID 113 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // MINAKO-FORM
           ifvare MISCARRAYID_AMOUNTTEMP 0 setvar tilenum 7948 else ifvare MISCARRAYID_AMOUNTTEMP 1 setvar tilenum 7965 else ifvare MISCARRAYID_AMOUNTTEMP 2 setvar tilenum 7968
           ifvare MINAKO? 1 state shadepulse
           setvar CHARACTERARRAY 13
           getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP2
           ifvarand TEMP2 1 state pal2 else state pal0
           state rs
          }
          state shade0
          ifvarand TEMPVAR 8192 // "Mystery Lady"
          {
           setvar digx 170 // 170
           setvar tilenum 7957
           ifvare MYSTERY1? 1 state shadepulse
           setvar CHARACTERARRAY 14
           getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP2
           ifvarand TEMP2 1 state pal2 else state pal0
           state rs
          }
          state shade0
          ifvarand TEMPVAR 16384 // Maken
          {
           setvar digx 190 // 100
           setvar tilenum 7971
           ifvare MAKEN? 1 state shadepulse
           setvar CHARACTERARRAY 15
           getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP2
           ifvarand TEMP2 1 state pal2 else state pal0
           state rs
          }
          state shade0
         }
        }

        getactorvar[hitsprite].xvelsav TEMP // Check to see if this pad/scanner does security damage
        ifvarn TEMP 0
        {
         getactorvar[hitsprite].extrasav TEMP // Check to see the type of security damage
	   state digx320
	   ifvare TARGETSPECIES 3069 setvar digy 112 else setvar digy 133
	   setvar tilenum 2822
	   ifvare TEMP -1 redefinequote 332 ^0SECURITY TYPE: ^23NORMAL
	   else ifvare TEMP 0 redefinequote 332 ^0SECURITY TYPE: ^20ELECTRICAL
	   else ifvare TEMP 1 redefinequote 332 ^0SECURITY TYPE: ^1FREEZE
	   else ifvare TEMP 2 redefinequote 332 ^0SECURITY TYPE: ^21FIRE
	   else ifvare TEMP 3 redefinequote 332 ^0SECURITY TYPE: ^14POISON
	   else redefinequote 332 ^0SECURITY TYPE: ^22?
	   state setquote332
         state orientation27 // 1+2+8
	   state gt
        }
       break

       endswitch
      }
ends

state cheatersound
 stopsound CHEATER sound CHEATER
ends

state gotmedsyoureallyneeded
 setvar MISCARRAYID 94 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // HP-FACTOR
 ifvarl MISCARRAYID_AMOUNTTEMP 251
 {
  ifvare CHARACTERSELECTED? 1 globalsound DUKE_GOTHEALTHATLOW
  else ifvare CHARACTERSELECTED? 5 globalsound WANG_GOTHEALTHATLOW
  else ifvare CHARACTERSELECTED? 8 globalsound LISA_GOTHEALTHATLOW
  else ifvare CHARACTERSELECTED? 15 globalsound MAKEN_GOTHEALTHATLOW
 }
ends

state randomkeypadbeeps
   ifrnd 128 sound KEYPAD_BEEP1 else sound KEYPAD_BEEP2
ends

state randomatmbeeps
   ifvarand atm_type 4
   {
    randvar TEMPVAR5 3
    ifvare TEMPVAR5 0 addvar SOUNDPITCH 256
    ifvare TEMPVAR5 1 addvar SOUNDPITCH 304
    ifvare TEMPVAR5 2 addvar SOUNDPITCH 352
    ifvare TEMPVAR5 3 addvar SOUNDPITCH 400
    setplayer[THISACTOR].sound_pitch SOUNDPITCH
   }
   ifrnd 128 sound ATM_BEEP1 else sound ATM_BEEP2

   ifvare TEMPVAR5 0 addvar SOUNDPITCH -256
   ifvare TEMPVAR5 1 addvar SOUNDPITCH -304
   ifvare TEMPVAR5 2 addvar SOUNDPITCH -352
   ifvare TEMPVAR5 3 addvar SOUNDPITCH -400
   setplayer[THISACTOR].sound_pitch SOUNDPITCH
ends

state enterdigit 
 ifvarn pad_id -1 
 { 
  ifvarl pnum 10000 // hitags can only reach 65536, so we limit entered codes to 5 digits. 
  {
   state setreturn-1 // Keep in mind that the buttons we are using are serving double-duty as weapon selection. We only disbale that when we are entering a passcode.
   mulvar pnum 10 // This shifts the passcode over a place value to make room for the new digit
   addvarvar pnum param
   state randomkeypadbeeps
  }
  else
  {
   state setreturn-1 // Keep in mind that the buttons we are using are serving double-duty as weapon selection. We only disbale that when we are entering a passcode.
   state randomkeypadbeeps
   state menuerrorsound
  }
 } 
ends

state enterdigitatmacct
 ifvarn atm_id -1 
 { 
  ifvarl atm_acctnum 100000 // acctnumbers are 6 digits
  {
   state setreturn-1 // Keep in mind that the buttons we are using are serving double-duty as weapon selection. We only disbale that when we are entering a passcode.
   mulvar atm_acctnum 10 // This shifts the passcode over a place value to make room for the new digit
   addvarvar atm_acctnum param
   state randomatmbeeps
  }
  else
  {
   state setreturn-1 // Keep in mind that the buttons we are using are serving double-duty as weapon selection. We only disbale that when we are entering a passcode.
   state randomatmbeeps
   ifvare atm_mode 1 state menuerrorsound
  }
 } 
ends

state enterdigitatmpin
 ifvarn atm_id -1 
 { 
  ifvarl atm_pinnum 1000 // acctnumbers are 6 digits
  {
   state setreturn-1 // Keep in mind that the buttons we are using are serving double-duty as weapon selection. We only disbale that when we are entering a passcode.
   mulvar atm_pinnum 10 // This shifts the passcode over a place value to make room for the new digit
   addvarvar atm_pinnum param
   state randomatmbeeps
  }
  else
  {
   state setreturn-1 // Keep in mind that the buttons we are using are serving double-duty as weapon selection. We only disbale that when we are entering a passcode.
   state randomatmbeeps
   ifvare atm_mode 2 state menuerrorsound
  }
 } 
ends

state enterdigitatmwithdraw
 ifvarn atm_id -1 
 { 
  ifvarl atm_amount_all 100000000 // acctnumbers are 6 digits
  {
   state setreturn-1 // Keep in mind that the buttons we are using are serving double-duty as weapon selection. We only disbale that when we are entering a passcode.
   mulvar atm_amount_all 10 // This shifts the passcode over a place value to make room for the new digit
   addvarvar atm_amount_all param
   ifvarg atm_amount_all 500000000 setvar atm_amount_all 500000000
   state randomatmbeeps
  }
  else
  {
   state setreturn-1 // Keep in mind that the buttons we are using are serving double-duty as weapon selection. We only disbale that when we are entering a passcode.
   state randomatmbeeps 
   ifvare atm_mode 4 state menuerrorsound
  }
 } 
ends

state enterdigitatmdeposit
 ifvarn atm_id -1 
 { 
  ifvarl atm_amount_all 100000000 // acctnumbers are 6 digits
  {
   state setreturn-1 // Keep in mind that the buttons we are using are serving double-duty as weapon selection. We only disbale that when we are entering a passcode.
   mulvar atm_amount_all 10 // This shifts the passcode over a place value to make room for the new digit
   addvarvar atm_amount_all param
   ifvarg atm_amount_all 500000000 setvar atm_amount_all 500000000
   state randomatmbeeps
  }
  else
  {
   state setreturn-1 // Keep in mind that the buttons we are using are serving double-duty as weapon selection. We only disbale that when we are entering a passcode.
   state randomatmbeeps
   ifvare atm_mode 5 state menuerrorsound
  }
 } 
ends

state enterdigitatmwiremoney
 ifvarn atm_id -1 
 { 
  ifvarl atm_amount_all 100000000 // acctnumbers are 6 digits
  {
   state setreturn-1 // Keep in mind that the buttons we are using are serving double-duty as weapon selection. We only disbale that when we are entering a passcode.
   mulvar atm_amount_all 10 // This shifts the passcode over a place value to make room for the new digit
   addvarvar atm_amount_all param
   ifvarg atm_amount_all 500000000 setvar atm_amount_all 500000000
   state randomatmbeeps
  }
  else
  {
   state setreturn-1 // Keep in mind that the buttons we are using are serving double-duty as weapon selection. We only disbale that when we are entering a passcode.
   state randomatmbeeps
  ifvare atm_mode 7 state menuerrorsound
  }
 } 
ends

state enterdigitatmwireacct
 ifvarn atm_id -1 
 { 
  ifvarl atm_wacctnum 100000 // acctnumbers are 6 digits
  {
   state setreturn-1 // Keep in mind that the buttons we are using are serving double-duty as weapon selection. We only disbale that when we are entering a passcode.
   mulvar atm_wacctnum 10 // This shifts the passcode over a place value to make room for the new digit
   addvarvar atm_wacctnum param
   state randomatmbeeps
  }
  else
  {
   state setreturn-1 // Keep in mind that the buttons we are using are serving double-duty as weapon selection. We only disbale that when we are entering a passcode.
   state randomatmbeeps
   ifvare atm_mode 8 state menuerrorsound
  }
 } 
ends

state getpartime
 getplayer[THISACTOR].player_par temppartime
ends

state superatom_checkstatsvehicle
           getactorvar[tempvehicleid].ENEMYHP TEMPVAR4
           getactorvar[tempvehicleid].ENEMYMAXHP TEMPVAR5
           mulvar TEMPVAR 2
           ifvarvarl TEMPVAR4 TEMPVAR5 addvar TEMP3 1
           getactorvar[tempvehicleid].ENEMYFIRSTAID TEMPVAR4
           getactorvar[tempvehicleid].ENEMYMAXHP TEMPVAR5
           mulvar TEMPVAR 2
           ifvarvarl TEMPVAR4 TEMPVAR5 addvar TEMP3 1
           getactorvar[tempvehicleid].ENEMYAP TEMPVAR4
           getactorvar[tempvehicleid].ENEMYMAXAP TEMPVAR5
           mulvar TEMPVAR 2
           ifvarvarl TEMPVAR4 TEMPVAR5 addvar TEMP3 1
ends

state superatom_checkstatsplayer
           ifvarvarl CURRENTHITPOINTS MAXHITPOINTSATOMIC addvar TEMP3 1
           ifvarvarl FIRSTAIDCURRENT MAXHITPOINTSATOMIC addvar TEMP3 1
           ifvarvarl CURRENTARMORPOINTS MAXARMORPOINTSATOMIC addvar TEMP3 1
ends

state superatom_checkstatscharacter
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMP4
            getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP5
            mulvar TEMP5 2
            ifvarvarl TEMP4 TEMP5 addvar TEMP3 1
            getactorvar[CHARACTERARRAY].CHARACTERAP TEMP4
            getactorvar[CHARACTERARRAY].CHARACTERMAXAP TEMP5
            mulvar TEMP5 2
            ifvarvarl TEMP4 TEMP5 addvar TEMP3 1
            getactorvar[CHARACTERARRAY].CHARACTERFA TEMP4
            getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP5
            mulvar TEMP5 2
            ifvarvarl TEMP4 TEMP5 addvar TEMP3 1
ends

state superatom_maincheck
          ifvare DUKE? 1 { ifvare CHARACTERSELECTED? 1 { state superatom_checkstatsplayer } else { setvar CHARACTERARRAY 1 state superatom_checkstatscharacter } }
          ifvare JACK? 1 { ifvare CHARACTERSELECTED? 2 { state superatom_checkstatsplayer } else { setvar CHARACTERARRAY 2 state superatom_checkstatscharacter } }
          ifvare BUBSY? 1 { ifvare CHARACTERSELECTED? 3 { state superatom_checkstatsplayer } else { setvar CHARACTERARRAY 3 state superatom_checkstatscharacter } }
          ifvare AMI? 1 { ifvare CHARACTERSELECTED? 4 { state superatom_checkstatsplayer } else { setvar CHARACTERARRAY 4 state superatom_checkstatscharacter } }
          ifvare LOWANG? 1 { ifvare CHARACTERSELECTED? 5 { state superatom_checkstatsplayer } else { setvar CHARACTERARRAY 5 state superatom_checkstatscharacter } }
          ifvare ESSENCE? 1 { ifvare CHARACTERSELECTED? 6 { state superatom_checkstatsplayer } else { setvar CHARACTERARRAY 6 state superatom_checkstatscharacter } }
          ifvare TED? 1 { ifvare CHARACTERSELECTED? 7 { state superatom_checkstatsplayer } else { setvar CHARACTERARRAY 7 state superatom_checkstatscharacter } }
          ifvare LISA? 1 { ifvare CHARACTERSELECTED? 8 { state superatom_checkstatsplayer } else { setvar CHARACTERARRAY 8 state superatom_checkstatscharacter } }
          ifvare CYBANIS? 1 { ifvare CHARACTERSELECTED? 9 { state superatom_checkstatsplayer } else { setvar CHARACTERARRAY 9 state superatom_checkstatscharacter } }
          ifvare NETHRA? 1 { ifvare CHARACTERSELECTED? 10 { state superatom_checkstatsplayer } else { setvar CHARACTERARRAY 10 state superatom_checkstatscharacter } }
          ifvare PAULA? 1 { ifvare CHARACTERSELECTED? 11 { state superatom_checkstatsplayer } else { setvar CHARACTERARRAY 11 state superatom_checkstatscharacter } }
          ifvare LORI? 1 { ifvare CHARACTERSELECTED? 12 { state superatom_checkstatsplayer } else { setvar CHARACTERARRAY 12 state superatom_checkstatscharacter } }
          ifvare MINAKO? 1 { ifvare CHARACTERSELECTED? 13 { state superatom_checkstatsplayer } else { setvar CHARACTERARRAY 13 state superatom_checkstatscharacter } }
          ifvare MYSTERY1? 1 { ifvare CHARACTERSELECTED? 14 { state superatom_checkstatsplayer } else { setvar CHARACTERARRAY 14 state superatom_checkstatscharacter } }
          ifvare MAKEN? 1 { ifvare CHARACTERSELECTED? 15 { state superatom_checkstatsplayer } else { setvar CHARACTERARRAY 15 state superatom_checkstatscharacter } }
ends

state keypress
  ifvare atm_id -1
  {                  
   ifvare param 0 { setvar MISCARRAYID 50 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 6 } // pad-button10timer
   ifvare param 1 { setvar MISCARRAYID 41 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 6 } // pad-button1timer
   ifvare param 2 { setvar MISCARRAYID 42 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 6 } // pad-button2timer
   ifvare param 3 { setvar MISCARRAYID 43 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 6 } // pad-button3timer
   ifvare param 4 { setvar MISCARRAYID 44 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 6 } // pad-button4timer
   ifvare param 5 { setvar MISCARRAYID 45 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 6 } // pad-button5timer
   ifvare param 6 { setvar MISCARRAYID 46 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 6 } // pad-button6timer
   ifvare param 7 { setvar MISCARRAYID 47 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 6 } // pad-button7timer
   ifvare param 8 { setvar MISCARRAYID 48 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 6 } // pad-button8timer
   ifvare param 9 { setvar MISCARRAYID 49 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 6 } // pad-button9timer
   state enterdigit 
  }
  else
  {
   ifvare atm_mode 1 state enterdigitatmacct
   else ifvare atm_mode 2 state enterdigitatmpin
   else ifvare atm_mode 4 state enterdigitatmwithdraw
   else ifvare atm_mode 5 state enterdigitatmdeposit
   else ifvare atm_mode 7 state enterdigitatmwiremoney
   else ifvare atm_mode 8 state enterdigitatmwireacct
   else state setreturn-1
  }
ends

/*
state shift-tipshown-left
ends

state shift-tipshown-right
ends
*/

state shift-inusecharacter-left
ifvare CHARACTERSELECTED? 1 // Duke
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 2 // Jack
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 3 // Bubsy
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 4 // Ami
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 5 // Lo Wang
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 6 // ESSence
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 7 // Ted
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 8 // Lisa
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 9 // Cybanis
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 10 // Christina/Nethra
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 11 // Paula
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 12 // Lori
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 13 // Minako
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 14 // Mystery Lady
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 15 // Maken
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
ends

state shift-inusecharacter-right
ifvare CHARACTERSELECTED? 1 // Duke
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 2 // Jack
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 3 // Bubsy
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 4 // Ami
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 5 // Lo Wang
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 6 // ESSence
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 7 // Ted
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 8 // Lisa
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 9 // Cybanis
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 10 // Christina/Nethra
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 11 // Paula
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 12 // Lori
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 13 // Minako
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 14 // Mystery Lady
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare MAKEN? 1
 {
  setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
else
ifvare CHARACTERSELECTED? 15 // Maken
{
 setvar TEMPVAR2 0
 ifvare TEMPVAR2 0 ifvare DUKE? 1
 {
  setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare JACK? 1
 {
  setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare BUBSY? 1
 {
  setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare AMI? 1
 {
  setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LOWANG? 1
 {
  setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare ESSENCE? 1
 {
  setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare TED? 1
 {
  setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LISA? 1
 {
  setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare CYBANIS? 1
 {
  setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare NETHRA? 1
 {
  setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare PAULA? 1
 {
  setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare LORI? 1
 {
  setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MINAKO? 1
 {
  setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 ifvare MYSTERY1? 1
 {
  setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 ifvarg TEMPVAR3 0 { setvarvar CHARACTERSELECTED? CHARACTERARRAY addvar TEMPVAR2 1 }
 }
 ifvare TEMPVAR2 0 { state menuerrorsound addvar TEMPVAR2 1 }
}
ends

state clearpad 
{
 setvar pad_id -1
 setvar pnum 0 
 ifvare fta 344
 {
  setvar ftq 0
  setvar fta 0
 }
}
ends 

state chargethp
  getactorvar[CHARACTERARRAY].CHARACTERHP temp
  getactorvar[CHARACTERARRAY].CHARACTERMAXHP tempb
ends

state charsethp
  setactorvar[CHARACTERARRAY].CHARACTERHP temp
  setactorvar[CHARACTERARRAY].CHARACTERMAXHP tempb
ends

define BOSS2STAYPUT 2711
define BOSS2SHOOT 2730
define BOSS2BREATH 2740
define BOSS3STAYPUT 2761
define BOSS3LOB 2780

define PRESIDENTCLINTON 3697

define SATCHEL_SMALL 5249
define SATCHEL_LARGE 5250
define MAXHPUP 5251
define MAXHPAPUP 5258
define MAXAPUP 5265
define MAXEPUP 5510
define ATKUP 5291
define DEFUP 5309
define ATKDEFUP 5300
define SPDUP 5331

define HERMIT 6144
define VIDEO1 6237
define VIDEO2 6159
define VIDEO3 6259
define E-GLASS 6226
define WOLFDUDE 6145
define DANCE1 6207
define DANCE2 6212
define DANCE3 6218
define DANCE5 6227
define DANCE6 6234
define DANCE7 6238
define OTTO 6246
define DANCE9 6261
define STAND1 6214
define DEALER 6215 // 3911
define STAND3 6216
define STAND4 6217
define BODY1 6254
define BODY2 6255
define BODY3 6256
define COP1 6396
define PUNKDUDE 6397
define COP2 6398
define SITTINGDUDE 6399

state oldskooltarget
    setvar SHOWTARGETNAME? 1
    setvar SHOWTARGETHEALTH? 1
    setvar SHOWTARGETDEFENSE? 0
ends

state monstertarget
    setvar SHOWTARGETNAME? 1
    setvar SHOWTARGETHEALTH? 1
    setvar SHOWTARGETDEFENSE? 1
ends

state nonametarget
    setvar SHOWTARGETNAME? 0
    setvar SHOWTARGETHEALTH? 0
    setvar SHOWTARGETDEFENSE? 0
    redefinequote 142 _
    state digx160
ends

state oddtarget
    setvar SHOWTARGETNAME? 1
    setvar SHOWTARGETHEALTH? 0
    setvar SHOWTARGETDEFENSE? 0
ends


state liztrooptargetting
    ifvare TARGETPAL 11
    {
     state oldskooltarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 ASSAULT TROOPER
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 PREDATAR [GRUNT]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 10
    {
     state oldskooltarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 ASSAULT CAPTAIN
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 PREDATAR [CAPTAIN]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 21
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 ASSAULT CAPTAIN
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 PREDATAR [CAPTAIN]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 19
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 RAVAGER CAPTAIN
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 PREDATAR [DEMOLITIONIST]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 14
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 SHRINK TROOPER
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 PREDATAR [SHRINKER]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 17
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 COMMANDER ZERMAN
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 COMMANDER ION ZERMAN
     state digx320
     setvar NPC_TYPE 5
    }
    else
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 ASSAULT TROOPER
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 PREDATAR [GRUNT]
     state digx320
     setvar NPC_TYPE 1
    }
ends

state pigcoptargetting
    ifvare TARGETPAL 9
    {
     state oldskooltarget
     redefinequote 142 PIGCOP 
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 21
    {
     state monstertarget
     redefinequote 142 PIGCOP CAPTAIN
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 14
    {
     state monstertarget
     redefinequote 142 PIGCOP SARGEANT
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 24
    {
     state monstertarget
     redefinequote 142 PIGCOP COLONEL RAMONE
     state digx320
     setvar NPC_TYPE 5
    }
    else
    {
     state monstertarget
     redefinequote 142 PIGCOP 
     state digx320
     setvar NPC_TYPE 1
    }
ends

state lizmantargetting
    ifvare TARGETPAL 9
    {
     state oldskooltarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 ENFORCER
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 ANFARCIAR [GRUNT]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 6
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 BIO-WARRIOR ENFORCER
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 ANFARCIAR [ATOMIC]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 19
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 LASER-ENFORCER
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 ANFARCIAR [HYPERBLASTER]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 17
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 COMMANDER FERTANG
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 COMMANDER KENNETH FERTANG
     state digx320
     setvar NPC_TYPE 5
    }
    else
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 ENFORCER
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 ANFARCIAR [GRUNT]
     state digx320
     setvar NPC_TYPE 1
    }
ends

state newbeasttargetting
    ifvare TARGETPAL 9
    {
     state oldskooltarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 PROTECTOR DRONE
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 NAFERLING DRONE [LESSEST]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 17
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 LESSER NAFERIAITE
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 NAFERLING DRONE [MODERATE]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 20
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 GREATER NAFERIAITE
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 NAFERLING DRONE [GREATEST]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 PROTECTOR DRONE
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 NAFERLING DRONE [LESSEST]
     state digx320
     setvar NPC_TYPE 1
    }
ends

state octabraintargetting
    ifvare TARGETPAL 9
    {
     state oldskooltarget
     redefinequote 142 OCTABRAIN
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 14
    {
     state monstertarget
     redefinequote 142 OCTANINE
     state digx320
     setvar NPC_TYPE 1
    }
    else
    {
     state monstertarget
     redefinequote 142 OCTABRAIN
     state digx320
     setvar NPC_TYPE 1
    }
ends

state commandertargetting
    ifvare TARGETPAL 9
    {
     state oldskooltarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 ASSAULT COMMANDER
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 GULTASIAMO [SOLDIER]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 24
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 BAALO THE COLLOSUS
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 BAALO THE COLLOSUS
     state digx320
     setvar NPC_TYPE 5
    }
    else
    ifvare TARGETPAL 25
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 ASSAULT LEADER
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 GULTASIAMO [LEADER]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 14
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 ASSAULT GENERAL
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 GULTASIAMO [GRUNT]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 ASSAULT COMMANDER
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 GULTASIAMO [SOLDIER]
     state digx320
     setvar NPC_TYPE 1
    }
ends

state boss1targetting
    ifvare TARGETPAL 9
    {
     state oldskooltarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 BATTLELORD
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 MEDATARION [FULL GROWN]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 10
    {
     state oldskooltarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 BATTLELORD JR.
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 MEDATARION [ADOLESCENT]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 24
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 ELIMINATION SQUAD SOLDIER
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 MEDATARION [ELIMINATION SQUAD]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 0
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 BATTLELORD
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 MEDATARION [FULL GROWN]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 3
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 BATTLELORD
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 MEDATARION [FULL GROWN]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 BATTLELORD JR.
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 MEDATARION [ADOLESCENT]
     state digx320
     setvar NPC_TYPE 1
    }
ends

state boss3targetting
    ifvare TARGETPAL 9
    {
     state oldskooltarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 OVERLORD
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 KERIONAR [FULL GROWN]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 10
    {
     state oldskooltarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 OVERLORD JR.
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 KERIONAR [ADOLESCENT]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 24
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 MEGATON OVERLORD
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 KERIONAR [ELIMINATION SQUAD]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 0
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 OVERLORD
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 KERIONAR [FULL GROWN]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 3
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 OVERLORD
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 KERIONAR [FULL GROWN]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 OVERLORD JR.
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 KERIONAR [ADOLESCENT]
     state digx320
     setvar NPC_TYPE 1
    }
ends

state boss2targetting
    ifvare TARGETPAL 24
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 CYCLOID VOID-ANNHILATOR
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 CYCLOIDIAN [ELIMINATION SQUAD]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 0
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 CYCLOID EMPEROR
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 CYCLOIDIAN [FULL GROWN]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 3
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 CYCLOID EMPEROR
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 CYCLOIDIAN [FULL GROWN]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 9 // Special Prolouge Boss
    {
     state oldskooltarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 D.C. INVASION'S ALIEN LEADER
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 CYCLOIDIAN [FULL GROWN]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 10
    {
     state oldskooltarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 CYCLOID PRINCE
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 CYCLOIDIAN [ADOLESCENT]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 CYCLOID PRINCE
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 CYCLOIDIAN [ADOLESCENT]
     state digx320
     setvar NPC_TYPE 1
    }
ends

state boss4targetting
    ifvare TARGETPAL 9
    {
     state oldskooltarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 ALIEN QUEEN
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 NAFERLING [FULL GROWN]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 24
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 NAFERIA?!
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 NAFERIA?!
     state digx320
     setvar NPC_TYPE 5
    }
    else
    ifvare TARGETPAL 0
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 ALIEN QUEEN
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 NAFERLING [FULL GROWN]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    ifvare TARGETPAL 3
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 ALIEN QUEEN
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 NAFERLING [FULL GROWN]
     state digx320
     setvar NPC_TYPE 1
    }
    else
    {
     state monstertarget
     ifvare HITSCANNINGNAMES 0 redefinequote 142 ALIEN PRINCESS
     else ifvare HITSCANNINGNAMES 1 redefinequote 142 NAFERLING [ADOLESCENT]
     state digx320
     setvar NPC_TYPE 1
    }
ends

state ammocolors
 ifvare AMMOPERCENTAGE 1000 state pal20
 ifvarl AMMOPERCENTAGE 1000 ifvarg AMMOPERCENTAGE 750 state pal11
 ifvarl AMMOPERCENTAGE 751 ifvarg AMMOPERCENTAGE 500 state pal0
 ifvarl AMMOPERCENTAGE 501 ifvarg AMMOPERCENTAGE 250 state pal23
 ifvarl AMMOPERCENTAGE 251 ifvarg AMMOPERCENTAGE 0 state pal21
 ifvare AMMOPERCENTAGE 0 state pal4
ends

state resetstatusvars
// Shared Items/Money
  setvar DOLLARS 200
  setvar CENTS 0
  state checktelecoils setvar ITEMARRAYID_AMOUNTTEMP 8 state setitemidarrayamount
// Selected-Character Specfic
  setvar RANKPOINTS 0
  setvar RANKPOINTSTEMP 0
  setvar EXPPTS 0
  setvar EXPPTSTEMP 0
  setvar PLAYERLEVEL 1
  setvar PLAYERTEMPLEVEL 1
  setvar PLAYERATTACK 5
  setvar PLAYERDEFENSE 5
  setvar CRITICALHITCHANCE 625
  setvar KNEEDAMAGE 0
  setvar DAMAGERANDOMIZER 0
  setvar MAXHITPOINTS DUKEHITPOINTSSTART
  setvar MAXHITPOINTSATOMIC MAXPLAYERATOMICHEALTH
  setvar MAXARMORPOINTS DUKEARMORPOINTSSTART
  setvar CURRENTARMORPOINTS STARTARMORHEALTH
  setvar MAXENERGYPOINTS DUKEENERGYPOINTSSTART
  setvarvar CURRENTENERGYPOINTS MAXENERGYPOINTS
  setvar FIRSTAIDCURRENT 0
  setvar CHARACTERSPEEDVAR 0
  setvar CHARACTERSPEEDVAL 145 // 155
  setvar TEMPHEALTH 0
  setvar tempb 0
  setvar TEMPHITPOINTS 0
  setvar TEMPVAR 0
  setvar TEMPARMORPOINTS 0
  setvar CHARACTERSELECTED? 1
  setvar MISCARRAYID 82 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT CHARACTERSELECTED? // CHARACTER-OLD
  ifvare CHARACTERSELECTED? 1 setvar MAXAIRTIME DUKEAIRTIME
  ifvare CHARACTERSELECTED? 2 setvar MAXAIRTIME JACKAIRTIME
  ifvare CHARACTERSELECTED? 3 setvar MAXAIRTIME BUBSYAIRTIME
  ifvare CHARACTERSELECTED? 4 setvar MAXAIRTIME AMIAIRTIME
  ifvare CHARACTERSELECTED? 5 setvar MAXAIRTIME LOWANGAIRTIME
  ifvare CHARACTERSELECTED? 6 { ifvare PUBLICBETA? 1 setvar MAXAIRTIME ESSENCEAIRTIMEBETA else setvar MAXAIRTIME ESSENCEAIRTIMEFULL }
  ifvare CHARACTERSELECTED? 7 setvar MAXAIRTIME TEDAIRTIME
  ifvare CHARACTERSELECTED? 8 setvar MAXAIRTIME LISAAIRTIME
  ifvare CHARACTERSELECTED? 9 { ifvare PUBLICBETA? 1 setvar MAXAIRTIME CYBANISAIRTIMEBETA else setvar MAXAIRTIME CYBANISAIRTIMEFULL }
  ifvare CHARACTERSELECTED? 10 { ifvare PUBLICBETA? 1 setvar MAXAIRTIME NETHRAAIRTIMEBETA else setvar MAXAIRTIME NETHRAAIRTIMEFULL }
  ifvare CHARACTERSELECTED? 11 { ifvare PUBLICBETA? 1 setvar MAXAIRTIME PAULAAIRTIMEBETA else setvar MAXAIRTIME PAULAAIRTIMEFULL }
  ifvare CHARACTERSELECTED? 12 setvar MAXAIRTIME LORIAIRTIME
  ifvare CHARACTERSELECTED? 13 setvar MAXAIRTIME MINAKOAIRTIME
  ifvare CHARACTERSELECTED? 14 { ifvare PUBLICBETA? 1 setvar MAXAIRTIME MYSTERY1AIRTIMEBETA else setvar MAXAIRTIME MYSTERY1AIRTIMEFULL }
  ifvare CHARACTERSELECTED? 15 setvar MAXAIRTIME MAKENAIRTIME
  setvarvar AIRTIME MAXAIRTIME
  setvar INVULNTIME 0
  setvar QUADTIME 0
  setvar REGENTIME 0
  setvar VAMPIRETIME 0
  setvar PLAYERDAMAGETEMP 0
  setvar PLAYERDISPLAYDAMAGE 0
  setvar DAMAGETEMP 0
  setvar TARGETDISPLAYDAMAGE 0
  setvar MAXPISTOL MAXPISTOLAMMO
  setvar MAXSHOTGUN MAXSHOTGUNAMMO
  setvar MAXCHAINGUN MAXCHAINGUNAMMO
  setvar MAXRPG MAXRPGAMMO
  setvar MAXPIPEBOMB MAXHANDBOMBAMMO
  setvar MAXSHRINKER MAXSHRINKERAMMO
  setvar MAXEXPANDER MAXGROWAMMO
  setvar MAXDEVASTATOR MAXDEVISTATORAMMO
  setvar MAXTRIPBOMB MAXTRIPBOMBAMMO
  setvar MAXFREEZER MAXFREEZEAMMO
  setvar MISCARRAYID 79 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // AUTO-SWITCH-ATTEMPTS
  smaxammo 1 MAXPISTOL
  smaxammo 2 MAXSHOTGUN
  smaxammo 3 MAXCHAINGUN
  smaxammo 4 MAXRPG
  smaxammo 5 MAXPIPEBOMB
  smaxammo 6 MAXSHRINKER
  smaxammo 11 MAXEXPANDER
  smaxammo 7 MAXDEVASTATOR
  smaxammo 8 MAXTRIPBOMB
  smaxammo 9 MAXFREEZER
  state checkcontinues setvar ITEMARRAYID_AMOUNTTEMP 0 state setitemidarrayamount
  setvar ARMORPERCENT 0
  setvar CHARACTERCHEAT? 7
  state checkbubsylives setvar ITEMARRAYID_AMOUNTTEMP 0 state setitemidarrayamount
  setvar CHARACTERSELECTED? 1
  setvar MISCARRAYID 25 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 1 // SWITCHOVER-DELAY
  setvarvar DAMAGEINCELL ESHIELDDMGFACTOR

  setvar CHARACTERARRAY 1
  getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
  setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR

  setvar CHARACTERARRAY 2
  getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
  setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
  setvar CHARACTERARRAY 3
  getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
  setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
  setvar CHARACTERARRAY 4
  getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
  setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
  setvar CHARACTERARRAY 5
  getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
  setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
  setvar CHARACTERARRAY 6
  getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
  setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
  setvar CHARACTERARRAY 7
  getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
  setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
  setvar CHARACTERARRAY 8
  getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
  setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
  setvar CHARACTERARRAY 9
  getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
  setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
  setvar CHARACTERARRAY 10
  getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
  setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
  setvar CHARACTERARRAY 11
  getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
  setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
  setvar CHARACTERARRAY 12
  getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
  setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
  setvar CHARACTERARRAY 13
  getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
  setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
  setvar CHARACTERARRAY 14
  getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
  setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
  setvar CHARACTERARRAY 15
  getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
  setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR

  setvar MISCARRAYID 0 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // ENEMIES-KILLED-LEVEL
  setvar MISCARRAYID 1 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // ENEMIES-KILLED-GAME
  setvar MISCARRAYID 2 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // MAX-ENEMIES-KILLED-LEVEL
  setvar MISCARRAYID 3 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // MAX-ENEMIES-KILLED-GAME

  setvar MISCARRAYID 4 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // SECRETSFOUND-LEVEL
  setvar MISCARRAYID 5 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // SECRETSFOUND-GAME
  setvar MISCARRAYID 6 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // MAX-SECRETSFOUND-LEVEL
  setvar MISCARRAYID 7 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // MAX-SECRETSFOUND-GAME

  setvar MISCARRAYID 8 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // RANKITEMSFOUND-LEVEL
  setvar MISCARRAYID 9 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // RANKITEMSFOUND-GAME
  setvar MISCARRAYID 10 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // MAX-RANKITEMSFOUND-LEVEL
  setvar MISCARRAYID 11 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // MAX-RANKITEMSFOUND-GAME

  setvar MISCARRAYID 12 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // CIVILIANSSAVED-LEVEL
  setvar MISCARRAYID 13 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // CIVILIANSSAVED-GAME
  setvar MISCARRAYID 14 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // MAX-CIVILIANSSAVED-LEVEL
  setvar MISCARRAYID 15 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // MAX-CIVILIANSSAVED-GAME

  setvar MISCARRAYID 16 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // CIVILIANSKILLED-LEVEL
  setvar MISCARRAYID 17 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // CIVILIANSKILLED-GAME
  setvar MISCARRAYID 18 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // MAX-CIVILIANSKILLED-LEVEL
  setvar MISCARRAYID 19 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 // MAX-CIVILIANSKILLED-GAME

  setvar MISCARRAYID 69 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 1 // IS-MONEYRADAR-ON?

  setvar MISCARRAYID 72 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 1 // FREEZING-MODE?
  setvar MISCARRAYID 73 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 1 // SHOW-MULTI-ICONS?
  setvar MISCARRAYID 74 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 1 // ATTACHED-OBJECTS?

ends

//**********************
//* INITIALIZER STATES *
//**********************

state calciteminits
  setvar INITTYPE 0
  ifvare SKILLLEVEL 0 ifrnd 1 ifrnd 16 setvarvar INITTYPE INITBENEFIT
  ifvare SKILLLEVEL 1 ifrnd 1 ifrnd 32 setvarvar INITTYPE INITBENEFIT
  ifvare SKILLLEVEL 2 ifrnd 1 ifrnd 64 setvarvar INITTYPE INITBENEFIT
  ifvare SKILLLEVEL 3 ifrnd 1 ifrnd 128 setvarvar INITTYPE INITBENEFIT
  ifvare SKILLLEVEL 4 ifrnd 1 setvarvar INITTYPE INITBENEFIT
  ifvare SKILLLEVEL 5 ifrnd 2 setvarvar INITTYPE INITBENEFIT
  ifvare SKILLLEVEL 6 ifrnd 4 setvarvar INITTYPE INITBENEFIT
  ifvare SKILLLEVEL 7 ifrnd 6 setvarvar INITTYPE INITBENEFIT
  ifvare SKILLLEVEL 8 ifrnd 9 setvarvar INITTYPE INITBENEFIT
  ifvare SKILLLEVEL 9 ifrnd 13 ifrnd 128 setvarvar INITTYPE INITBENEFIT
ends

state setenemyfirstaid1
 setvarvar ENEMYFIRSTAID ENEMYMAXHP
ends

state setenemyfirstaid2
 mulvar ENEMYFIRSTAID 2
 ifvarvarg ENEMYFIRSTAID STATLIMITATOMIC setvarvar ENEMYFIRSTAID STATLIMITATOMIC
ends

state monstervariencebasis
 ifvare PUBLICBETA? 1
 {
  ifvare SKILLLEVEL 0 setvar tempc 80
  ifvare SKILLLEVEL 1 setvar tempc 85
  ifvare SKILLLEVEL 2 setvar tempc 90
  ifvare SKILLLEVEL 3 setvar tempc 95
  ifvare SKILLLEVEL 4 setvar tempc 100
  ifvare SKILLLEVEL 5 setvar tempc 100
  ifvare SKILLLEVEL 6 setvar tempc 105
  ifvare SKILLLEVEL 7 setvar tempc 110
  ifvare SKILLLEVEL 8 setvar tempc 115
  ifvare SKILLLEVEL 9 setvar tempc 120

  mulvarvar ENEMYLEVELBENEFIT tempc
  divvar ENEMYLEVELBENEFIT 100
 }

 ifvarg ENEMYTEMPLEVEL 0 ifvarl ENEMYTEMPLEVEL 26 mulvar ENEMYLEVELBENEFIT 1
 ifvarg ENEMYTEMPLEVEL 25 ifvarl ENEMYTEMPLEVEL 51 mulvar ENEMYLEVELBENEFIT 3
 ifvarg ENEMYTEMPLEVEL 50 ifvarl ENEMYTEMPLEVEL 76 mulvar ENEMYLEVELBENEFIT 6
 ifvarg ENEMYTEMPLEVEL 75 ifvarl ENEMYTEMPLEVEL 101 mulvar ENEMYLEVELBENEFIT 9
 ifvarl ENEMYLEVELBENEFIT 1 setvar ENEMYLEVELBENEFIT 1
 addvarvar ENEMYLEVELFACTOR ENEMYLEVELBENEFIT
ends

state calcvaratkdef
       ifvarg ENEMYTEMPLEVEL 0 ifvarl ENEMYTEMPLEVEL 26 divvar ENEMYLEVELFACTOR 2
       ifvarg ENEMYTEMPLEVEL 25 ifvarl ENEMYTEMPLEVEL 51 { mulvar ENEMYLEVELFACTOR 3 divvar ENEMYLEVELFACTOR 4 }
       ifvarg ENEMYTEMPLEVEL 50 ifvarl ENEMYTEMPLEVEL 76 mulvar ENEMYLEVELFACTOR 1
       ifvarg ENEMYTEMPLEVEL 75 ifvarl ENEMYTEMPLEVEL 101 { mulvar ENEMYLEVELFACTOR 3 divvar ENEMYLEVELFACTOR 2 }
ends

state calclevelupdef
 setvarvar ENEMYLEVELFACTOR ENEMYTEMPLEVEL

 setvar ENEMYLEVELBENEFIT 0
 ifvare STATCALCPICNUM SHARK
 {
  ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BLOODSHARKDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT SHARKDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM ROTATEGUN
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT SHOTTURRETDEFGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RPGTURRETDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT ROTTURRETDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOP
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINDEFGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINDEFGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPDEFGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPSTAYPUT
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINDEFGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINDEFGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPDEFGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPJETPACK
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINDEFGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINDEFGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPDEFGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPDUCKING
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINDEFGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINDEFGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPDEFGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPRUNNING
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINDEFGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINDEFGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPDEFGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPSHOOT
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINDEFGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINDEFGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPDEFGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPONTOILET
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINDEFGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINDEFGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPDEFGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPJUSTSIT
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINDEFGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINDEFGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPDEFGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZMAN
 {
  ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT LASERLIZDEFGROWTHCURVE
  else ifvare STATCALCPAL 6 addvar ENEMYLEVELBENEFIT BIOLIZDEFGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT FERTANGDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT LIZDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZMANSTAYPUT
 {
  ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT LASERLIZDEFGROWTHCURVE
  else ifvare STATCALCPAL 6 addvar ENEMYLEVELBENEFIT BIOLIZDEFGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT FERTANGDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT LIZDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZMANSPITTING
 {
  ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT LASERLIZDEFGROWTHCURVE
  else ifvare STATCALCPAL 6 addvar ENEMYLEVELBENEFIT BIOLIZDEFGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT FERTANGDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT LIZDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZMANJUMP
 {
  ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT LASERLIZDEFGROWTHCURVE
  else ifvare STATCALCPAL 6 addvar ENEMYLEVELBENEFIT BIOLIZDEFGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT FERTANGDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT LIZDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM DRONE
 {
  ifvare STATCALCPAL 25 addvar ENEMYLEVELBENEFIT SUPERDRONEDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT DRONEDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM OCTABRAIN
 {
  ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT OCTANINEDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT OCTADEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM OCTABRAINSTAYPUT
 {
  ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT OCTANINEDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT OCTADEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM PIGCOP
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT PIGCAPTAINDEFGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT PIGSARGEANTDEFGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT RAMONEDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT PIGCOPDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM PIGCOPSTAYPUT
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT PIGCAPTAINDEFGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT PIGSARGEANTDEFGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT RAMONEDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT PIGCOPDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM PIGCOPDIVE
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT PIGCAPTAINDEFGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT PIGSARGEANTDEFGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT RAMONEDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT PIGCOPDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS1
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS1DEFGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS1DEFGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS1ESSDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS1PALDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS1STAYPUT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS1DEFGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS1DEFGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS1ESSDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS1PALDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS1SHOOT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS1DEFGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS1DEFGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS1ESSDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS1PALDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS1LOB
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS1DEFGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS1DEFGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS1ESSDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS1PALDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS2
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS2DEFGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS2DEFGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS2MEGADEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS2PALDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS2STAYPUT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS2DEFGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS2DEFGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS2MEGADEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS2PALDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS2SHOOT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS2DEFGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS2DEFGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS2MEGADEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS2PALDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS2BREATH
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS2DEFGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS2DEFGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS2MEGADEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS2PALDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS3
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS3DEFGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS3DEFGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS3VOIDDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS3PALDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS3STAYPUT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS3DEFGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS3DEFGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS3VOIDDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS3PALDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS3LOB
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS3DEFGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS3DEFGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS3VOIDDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS3PALDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM COMMANDER
 {
  ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT GENERALDEFGROWTHCURVE
  else ifvare STATCALCPAL 25 addvar ENEMYLEVELBENEFIT LEADERDEFGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BAALODEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT COMMANDERDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM COMMANDERSTAYPUT
 {
  ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT GENERALDEFGROWTHCURVE
  else ifvare STATCALCPAL 25 addvar ENEMYLEVELBENEFIT LEADERDEFGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BAALODEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT COMMANDERDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM TANK
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT BLUETANKDEFGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT REDTANKDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT GREENTANKDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS4
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS4DEFGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS4DEFGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS4FAKEDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS4PALDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS4STAYPUT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS4DEFGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS4DEFGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS4FAKEDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS4PALDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM NEWBEAST
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT NEWBEAST2LDEFGROWTHCURVE
  else ifvare STATCALCPAL 20 addvar ENEMYLEVELBENEFIT NEWBEAST2GDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT NEWBEASTDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM NEWBEASTSTAYPUT
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT NEWBEAST2LDEFGROWTHCURVE
  else ifvare STATCALCPAL 20 addvar ENEMYLEVELBENEFIT NEWBEAST2GDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT NEWBEASTDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM NEWBEASTJUMP
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT NEWBEAST2LDEFGROWTHCURVE
  else ifvare STATCALCPAL 20 addvar ENEMYLEVELBENEFIT NEWBEAST2GDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT NEWBEASTDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM NEWBEASTHANG
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT NEWBEAST2LDEFGROWTHCURVE
  else ifvare STATCALCPAL 20 addvar ENEMYLEVELBENEFIT NEWBEAST2GDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT NEWBEASTDEFGROWTHCURVE
 }
 ifvare STATCALCPICNUM SCORPIONTANK
 {
  randvar ENEMYLEVELBENEFIT SCORPIONTANKDEFGROWTHCURVERAND
  addvar ENEMYLEVELBENEFIT SCORPIONTANKDEFGROWTHCURVE
 }
// Non-Enemy
 ifvare STATCALCPICNUM EMPTYTANK
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT BLUETANKDEFGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT REDTANKDEFGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT GREENTANKDEFGROWTHCURVE
 }

 state monstervariencebasis

 state calcvaratkdef

 setvarvar TEMPVAR3 ACTORDEFENSE
 divvar TEMPVAR3 100
 ifvarg ENEMYTEMPLEVEL 0 ifvarl ENEMYTEMPLEVEL 12 addvar TEMPVAR3 1
 ifvarg ENEMYTEMPLEVEL 11 ifvarl ENEMYTEMPLEVEL 23 addvar TEMPVAR3 2
 ifvarg ENEMYTEMPLEVEL 22 ifvarl ENEMYTEMPLEVEL 34 addvar TEMPVAR3 3
 ifvarg ENEMYTEMPLEVEL 33 ifvarl ENEMYTEMPLEVEL 45 addvar TEMPVAR3 4
 ifvarg ENEMYTEMPLEVEL 44 ifvarl ENEMYTEMPLEVEL 56 addvar TEMPVAR3 5
 ifvarg ENEMYTEMPLEVEL 55 ifvarl ENEMYTEMPLEVEL 67 addvar TEMPVAR3 6
 ifvarg ENEMYTEMPLEVEL 66 ifvarl ENEMYTEMPLEVEL 78 addvar TEMPVAR3 7
 ifvarg ENEMYTEMPLEVEL 77 ifvarl ENEMYTEMPLEVEL 89 addvar TEMPVAR3 8
 ifvarg ENEMYTEMPLEVEL 88 ifvarl ENEMYTEMPLEVEL 101 addvar TEMPVAR3 9
 randvarvar ENEMYLEVELFACTORVARIENCE TEMPVAR3
 addvarvar ENEMYLEVELFACTOR ENEMYLEVELFACTORVARIENCE

 addvarvar ACTORDEFENSE ENEMYLEVELFACTOR
 ifvarvarg ACTORDEFENSE STATLIMIT setvarvar ACTORDEFENSE STATLIMIT
 addvar ENEMYTEMPLEVEL 1
ends

state calclevelupatk
 setvarvar ENEMYLEVELFACTOR ENEMYTEMPLEVEL

 setvar ENEMYLEVELBENEFIT 0
 ifvare STATCALCPICNUM SHARK
 {
  ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BLOODSHARKATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT SHARKATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM ROTATEGUN
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT SHOTTURRETATKGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RPGTURRETATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT ROTTURRETATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOP
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINATKGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINATKGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPATKGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPSTAYPUT
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINATKGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINATKGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPATKGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPJETPACK
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINATKGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINATKGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPATKGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPDUCKING
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINATKGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINATKGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPATKGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPRUNNING
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINATKGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINATKGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPATKGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPSHOOT
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINATKGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINATKGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPATKGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPONTOILET
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINATKGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINATKGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPATKGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPJUSTSIT
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINATKGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINATKGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPATKGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZMAN
 {
  ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT LASERLIZATKGROWTHCURVE
  else ifvare STATCALCPAL 6 addvar ENEMYLEVELBENEFIT BIOLIZATKGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT FERTANGATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT LIZATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZMANSTAYPUT
 {
  ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT LASERLIZATKGROWTHCURVE
  else ifvare STATCALCPAL 6 addvar ENEMYLEVELBENEFIT BIOLIZATKGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT FERTANGATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT LIZATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZMANSPITTING
 {
  ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT LASERLIZATKGROWTHCURVE
  else ifvare STATCALCPAL 6 addvar ENEMYLEVELBENEFIT BIOLIZATKGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT FERTANGATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT LIZATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZMANJUMP
 {
  ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT LASERLIZATKGROWTHCURVE
  else ifvare STATCALCPAL 6 addvar ENEMYLEVELBENEFIT BIOLIZATKGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT FERTANGATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT LIZATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM DRONE
 {
  ifvare STATCALCPAL 25 addvar ENEMYLEVELBENEFIT SUPERDRONEATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT DRONEATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM OCTABRAIN
 {
  ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT OCTANINEATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT OCTAATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM OCTABRAINSTAYPUT
 {
  ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT OCTANINEATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT OCTAATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM PIGCOP
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT PIGCAPTAINATKGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT PIGSARGEANTATKGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT RAMONEATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT PIGCOPATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM PIGCOPSTAYPUT
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT PIGCAPTAINATKGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT PIGSARGEANTATKGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT RAMONEATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT PIGCOPATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM PIGCOPDIVE
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT PIGCAPTAINATKGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT PIGSARGEANTATKGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT RAMONEATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT PIGCOPATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS1
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS1ATKGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS1ATKGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS1ESSATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS1PALATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS1STAYPUT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS1ATKGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS1ATKGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS1ESSATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS1PALATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS1SHOOT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS1ATKGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS1ATKGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS1ESSATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS1PALATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS1LOB
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS1ATKGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS1ATKGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS1ESSATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS1PALATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS2
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS2ATKGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS2ATKGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS2MEGAATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS2PALATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS2STAYPUT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS2ATKGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS2ATKGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS2MEGAATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS2PALATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS2SHOOT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS2ATKGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS2ATKGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS2MEGAATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS2PALATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS2BREATH
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS2ATKGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS2ATKGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS2MEGAATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS2PALATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS3
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS3ATKGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS3ATKGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS3VOIDATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS3PALATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS3STAYPUT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS3ATKGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS3ATKGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS3VOIDATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS3PALATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS3LOB
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS3ATKGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS3ATKGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS3VOIDATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS3PALATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM COMMANDER
 {
  ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT GENERALATKGROWTHCURVE
  else ifvare STATCALCPAL 25 addvar ENEMYLEVELBENEFIT LEADERATKGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BAALOATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT COMMANDERATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM COMMANDERSTAYPUT
 {
  ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT GENERALATKGROWTHCURVE
  else ifvare STATCALCPAL 25 addvar ENEMYLEVELBENEFIT LEADERATKGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BAALOATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT COMMANDERATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM TANK
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT BLUETANKATKGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT REDTANKATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT GREENTANKATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS4
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS4ATKGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS4ATKGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS4FAKEATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS4PALATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS4STAYPUT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS4ATKGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS4ATKGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS4FAKEATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS4PALATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM NEWBEAST
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT NEWBEAST2LATKGROWTHCURVE
  else ifvare STATCALCPAL 20 addvar ENEMYLEVELBENEFIT NEWBEAST2GATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT NEWBEASTATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM NEWBEASTSTAYPUT
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT NEWBEAST2LATKGROWTHCURVE
  else ifvare STATCALCPAL 20 addvar ENEMYLEVELBENEFIT NEWBEAST2GATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT NEWBEASTATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM NEWBEASTJUMP
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT NEWBEAST2LATKGROWTHCURVE
  else ifvare STATCALCPAL 20 addvar ENEMYLEVELBENEFIT NEWBEAST2GATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT NEWBEASTATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM NEWBEASTHANG
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT NEWBEAST2LATKGROWTHCURVE
  else ifvare STATCALCPAL 20 addvar ENEMYLEVELBENEFIT NEWBEAST2GATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT NEWBEASTATKGROWTHCURVE
 }
 ifvare STATCALCPICNUM SCORPIONTANK
 {
  randvar ENEMYLEVELBENEFIT SCORPIONTANKATKGROWTHCURVERAND
  addvar ENEMYLEVELBENEFIT SCORPIONTANKATKGROWTHCURVE
 }

// Non-Enemy
 ifvare STATCALCPICNUM EMPTYTANK
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT BLUETANKATKGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT REDTANKATKGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT GREENTANKATKGROWTHCURVE
 }

 state monstervariencebasis

 state calcvaratkdef

 setvarvar TEMPVAR3 ACTORATTACK
 divvar TEMPVAR3 100
 ifvarg ENEMYTEMPLEVEL 0 ifvarl ENEMYTEMPLEVEL 12 addvar TEMPVAR3 1
 ifvarg ENEMYTEMPLEVEL 11 ifvarl ENEMYTEMPLEVEL 23 addvar TEMPVAR3 2
 ifvarg ENEMYTEMPLEVEL 22 ifvarl ENEMYTEMPLEVEL 34 addvar TEMPVAR3 3
 ifvarg ENEMYTEMPLEVEL 33 ifvarl ENEMYTEMPLEVEL 45 addvar TEMPVAR3 4
 ifvarg ENEMYTEMPLEVEL 44 ifvarl ENEMYTEMPLEVEL 56 addvar TEMPVAR3 5
 ifvarg ENEMYTEMPLEVEL 55 ifvarl ENEMYTEMPLEVEL 67 addvar TEMPVAR3 6
 ifvarg ENEMYTEMPLEVEL 66 ifvarl ENEMYTEMPLEVEL 78 addvar TEMPVAR3 7
 ifvarg ENEMYTEMPLEVEL 77 ifvarl ENEMYTEMPLEVEL 89 addvar TEMPVAR3 8
 ifvarg ENEMYTEMPLEVEL 88 ifvarl ENEMYTEMPLEVEL 101 addvar TEMPVAR3 9
 randvarvar ENEMYLEVELFACTORVARIENCE TEMPVAR3

 addvarvar ACTORATTACK ENEMYLEVELFACTOR
 ifvarvarg ACTORATTACK STATLIMIT setvarvar ACTORATTACK STATLIMIT
 addvar ENEMYTEMPLEVEL 1
ends

state calcatkdef
  setvar TEMPVAR2 1000
  setvar TEMPVAR3 278
  mulvarvar TEMPVAR3 SKILLLEVEL
  addvarvar TEMPVAR2 TEMPVAR3
  mulvarvar ENEMYSTAT TEMPVAR2
  divvar ENEMYSTAT 1000

  setvar TEMPVAR2 667
  setvar TEMPVAR3 333
  setvar MISCARRAYID 80 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // DISPLAY-EPISODE
  mulvarvar TEMPVAR3 MISCARRAYID_AMOUNTTEMP
  addvarvar TEMPVAR2 TEMPVAR3
  mulvarvar ENEMYSTAT TEMPVAR2
  divvar ENEMYSTAT 1000

  setvar TEMPVAR2 950
  setvar TEMPVAR3 50
  setvar MISCARRAYID 81 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // DISPLAY-LEVEL
  mulvarvar TEMPVAR3 MISCARRAYID_AMOUNTTEMP
  addvarvar TEMPVAR2 TEMPVAR3
  mulvarvar ENEMYSTAT TEMPVAR2
  divvar ENEMYSTAT 1000
ends

state calcleveluphp
 setvarvar ENEMYLEVELFACTOR ENEMYHP
 divvar ENEMYLEVELFACTOR 50
 ifvarl ENEMYLEVELFACTOR 1 setvar ENEMYLEVELFACTOR 1
 setvarvar ENEMYLEVELFACTORVARIENCE ENEMYHP
 divvar ENEMYLEVELFACTORVARIENCE 100
 randvarvar ENEMYLEVELFACTORRAND ENEMYLEVELFACTORVARIENCE
 ifrnd 128 addvarvar ENEMYLEVELFACTOR ENEMYLEVELFACTORRAND else subvarvar ENEMYLEVELFACTOR ENEMYLEVELFACTORRAND 
 ifvarg ENEMYTEMPLEVEL 90 ifvarl ENEMYTEMPLEVEL 100 { mulvar ENEMYLEVELFACTOR 5 divvar ENEMYLEVELFACTOR 2 } 

 setvar ENEMYLEVELBENEFIT 0
 ifvare STATCALCPICNUM SHARK
 {
  ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BLOODSHARKHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT SHARKHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM ROTATEGUN
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT SHOTTURRETHPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RPGTURRETHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT ROTTURRETHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOP
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINHPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINHPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPHPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPSTAYPUT
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINHPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINHPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPHPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPJETPACK
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINHPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINHPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPHPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPRUNNING
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINHPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINHPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPHPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPDUCKING
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINHPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINHPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPHPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPSHOOT
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINHPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINHPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPHPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPONTOILET
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINHPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINHPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPHPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPJUSTSIT
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINHPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINHPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPHPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZMAN
 {
  ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT LASERLIZHPGROWTHCURVE
  else ifvare STATCALCPAL 6 addvar ENEMYLEVELBENEFIT BIOLIZHPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT FERTANGHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT LIZHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZMANSTAYPUT
 {
  ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT LASERLIZHPGROWTHCURVE
  else ifvare STATCALCPAL 6 addvar ENEMYLEVELBENEFIT BIOLIZHPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT FERTANGHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT LIZHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZMANSPITTING
 {
  ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT LASERLIZHPGROWTHCURVE
  else ifvare STATCALCPAL 6 addvar ENEMYLEVELBENEFIT BIOLIZHPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT FERTANGHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT LIZHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZMANJUMP
 {
  ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT LASERLIZHPGROWTHCURVE
  else ifvare STATCALCPAL 6 addvar ENEMYLEVELBENEFIT BIOLIZHPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT FERTANGHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT LIZHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM DRONE
 {
  ifvare STATCALCPAL 25 addvar ENEMYLEVELBENEFIT SUPERDRONEHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT DRONEHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM OCTABRAIN
 {
  ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT OCTANINEHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT OCTAHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM OCTABRAINSTAYPUT
 {
  ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT OCTANINEHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT OCTAHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM PIGCOP
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT PIGCAPTAINHPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT PIGSARGEANTHPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT RAMONEHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT PIGCOPHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM PIGCOPSTAYPUT
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT PIGCAPTAINHPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT PIGSARGEANTHPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT RAMONEHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT PIGCOPHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM PIGCOPDIVE
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT PIGCAPTAINHPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT PIGSARGEANTHPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT RAMONEHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT PIGCOPHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS1
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS1HPGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS1HPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS1ESSHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS1PALHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS1STAYPUT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS1HPGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS1HPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS1ESSHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS1PALHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS1LOB
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS1HPGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS1HPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS1ESSHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS1PALHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS1SHOOT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS1HPGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS1HPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS1ESSHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS1PALHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS2
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS2HPGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS2HPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS2MEGAHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS2PALHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS2STAYPUT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS2HPGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS2HPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS2MEGAHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS2PALHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS2SHOOT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS2HPGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS2HPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS2MEGAHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS2PALHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS2BREATH
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS2HPGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS2HPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS2MEGAHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS2PALHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS3
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS3HPGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS3HPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS3VOIDHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS3PALHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS3STAYPUT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS3HPGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS3HPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS3VOIDHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS3PALHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS3LOB
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS3HPGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS3HPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS3VOIDHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS3PALHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM COMMANDER
 {
  ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT GENERALHPGROWTHCURVE
  else ifvare STATCALCPAL 25 addvar ENEMYLEVELBENEFIT LEADERHPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BAALOHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT COMMANDERHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM COMMANDERSTAYPUT
 {
  ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT GENERALHPGROWTHCURVE
  else ifvare STATCALCPAL 25 addvar ENEMYLEVELBENEFIT LEADERHPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BAALOHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT COMMANDERHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM TANK
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT BLUETANKHPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT REDTANKHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT GREENTANKHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS4
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS4HPGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS4HPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS4FAKEHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS4PALHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS4STAYPUT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS4HPGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS4HPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS4FAKEHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS4PALHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM NEWBEAST
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT NEWBEAST2LHPGROWTHCURVE
  else ifvare STATCALCPAL 20 addvar ENEMYLEVELBENEFIT NEWBEAST2GHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT NEWBEASTHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM NEWBEASTSTAYPUT
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT NEWBEAST2LHPGROWTHCURVE
  else ifvare STATCALCPAL 20 addvar ENEMYLEVELBENEFIT NEWBEAST2GHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT NEWBEASTHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM NEWBEASTHANG
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT NEWBEAST2LHPGROWTHCURVE
  else ifvare STATCALCPAL 20 addvar ENEMYLEVELBENEFIT NEWBEAST2GHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT NEWBEASTHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM NEWBEASTJUMP
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT NEWBEAST2LHPGROWTHCURVE
  else ifvare STATCALCPAL 20 addvar ENEMYLEVELBENEFIT NEWBEAST2GHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT NEWBEASTHPGROWTHCURVE
 }
 ifvare STATCALCPICNUM SCORPIONTANK
 {
  randvar ENEMYLEVELBENEFIT SCORPIONTANKHPGROWTHCURVERAND
  addvar ENEMYLEVELBENEFIT SCORPIONTANKHPGROWTHCURVE
 }
// Non-Enemy
 ifvare STATCALCPICNUM EMPTYTANK
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT BLUETANKHPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT REDTANKHPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT GREENTANKHPGROWTHCURVE
 }

 mulvarvar ENEMYLEVELBENEFIT ENEMYTEMPLEVEL
 divvar ENEMYLEVELBENEFIT 20
 ifvarg ENEMYTEMPLEVEL 90 ifvarl ENEMYTEMPLEVEL 100 { mulvar ENEMYLEVELBENEFIT 5 divvar ENEMYLEVELBENEFIT 2 } 
 addvarvar ENEMYLEVELFACTOR ENEMYLEVELBENEFIT

 ifvare PUBLICBETA? 1
 {
  ifvare SKILLLEVEL 0 setvar tempc 900
  ifvare SKILLLEVEL 1 setvar tempc 925
  ifvare SKILLLEVEL 2 setvar tempc 950
  ifvare SKILLLEVEL 3 setvar tempc 975
  ifvare SKILLLEVEL 4 setvar tempc 1000
  ifvare SKILLLEVEL 5 setvar tempc 1000
  ifvare SKILLLEVEL 6 setvar tempc 1025
  ifvare SKILLLEVEL 7 setvar tempc 1050
  ifvare SKILLLEVEL 8 setvar tempc 1075
  ifvare SKILLLEVEL 9 setvar tempc 1100

  mulvarvar ENEMYLEVELFACTOR tempc
  divvar ENEMYLEVELFACTOR 1000
 }

 ifvarl ENEMYLEVELFACTOR 1 setvar ENEMYLEVELFACTOR 1

 addvarvar ENEMYHP ENEMYLEVELFACTOR
 ifvarvarg ENEMYHP STATLIMITATOMIC setvarvar ENEMYHP STATLIMITATOMIC
 addvar ENEMYTEMPLEVEL 1
ends

state getenemylevel
 
 setvar ENEMYLEVEL 0
 setvar ENEMYLEVELMINIMUM 1
 setvarvar TEMPVAR SKILLLEVEL
 mulvar TEMPVAR 3
 divvar TEMPVAR 2
 addvarvar ENEMYLEVELMINIMUM TEMPVAR // +0 to +13
 setvar MISCARRAYID 80 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // DISPLAY-EPISODE
 setvarvar TEMPVAR MISCARRAYID_AMOUNTTEMP
 subvar TEMPVAR 1
 mulvar TEMPVAR 5
 divvar TEMPVAR 4
 addvarvar ENEMYLEVELMINIMUM TEMPVAR // +0 to +7 (+0 to +20)
 setvar MISCARRAYID 81 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // DISPLAY-LEVEL
 setvarvar TEMPVAR MISCARRAYID_AMOUNTTEMP
 subvar TEMPVAR 1
 mulvar TEMPVAR 2
 divvar TEMPVAR 5
 addvarvar ENEMYLEVELMINIMUM TEMPVAR // +0 to +12 (+0 to +32)

 setvarvar ENEMYLEVEL AVERAGELEVEL

 ifvarl SKILLLEVEL 3
 {
  ifrnd 128 mulvar ENEMYLEVEL 5 else mulvar ENEMYLEVEL 9
  divvar ENEMYLEVEL 8
 }
 else
 ifvarg SKILLLEVEL 2 ifvarl SKILLLEVEL 6
 {
  ifrnd 123 mulvar ENEMYLEVEL 6 else mulvar ENEMYLEVEL 10
  divvar ENEMYLEVEL 8
 }
 else
 ifvarg SKILLLEVEL 5 ifvarl SKILLLEVEL 9
 {
  ifrnd 118 mulvar ENEMYLEVEL 7 else mulvar ENEMYLEVEL 11
  divvar ENEMYLEVEL 8
 }
 else
 ifvarg SKILLLEVEL 8
 {
  ifrnd 113 mulvar ENEMYLEVEL 8 else mulvar ENEMYLEVEL 12
  divvar ENEMYLEVEL 8
 }
 ifvarvarl ENEMYLEVEL ENEMYLEVELMINIMUM setvarvar ENEMYLEVEL ENEMYLEVELMINIMUM

 randvarvar ENEMYLEVELRANDOM PARTYSIZE
 divvar ENEMYLEVELRANDOM 2
 ifrnd 128 addvarvar ENEMYLEVEL ENEMYLEVELRANDOM else { ifrnd 128 subvarvar ENEMYLEVEL ENEMYLEVELRANDOM }

 randvarvar ENEMYLEVELRANDOM PARTYSIZE
 ifvarg SKILLLEVEL 2 { ifrnd 192 addvarvar ENEMYLEVEL ENEMYLEVELRANDOM else { ifrnd 64 subvarvar ENEMYLEVEL ENEMYLEVELRANDOM } }

 randvarvar ENEMYLEVELRANDOM PARTYSIZE
 ifvarg SKILLLEVEL 5 { ifrnd 224 addvarvar ENEMYLEVEL ENEMYLEVELRANDOM else { ifrnd 32 subvarvar ENEMYLEVEL ENEMYLEVELRANDOM } }

 randvarvar ENEMYLEVELRANDOM PARTYSIZE
 ifvare SKILLLEVEL 9 { ifrnd 240 addvarvar ENEMYLEVEL ENEMYLEVELRANDOM else { ifrnd 16 subvarvar ENEMYLEVEL ENEMYLEVELRANDOM } }

 ifvarvarl ENEMYLEVEL ENEMYLEVELMINIMUM setvarvar ENEMYLEVEL ENEMYLEVELMINIMUM
 ifvarg ENEMYLEVEL 100 setvar ENEMYLEVEL 100
ends

state calclevelupap
 setvarvar ENEMYLEVELFACTOR ENEMYMAXAP
 divvar ENEMYLEVELFACTOR 50
 ifvarl ENEMYLEVELFACTOR 1 setvar ENEMYLEVELFACTOR 1
 setvarvar ENEMYLEVELFACTORVARIENCE ENEMYMAXAP
 divvar ENEMYLEVELFACTORVARIENCE 100
 randvarvar ENEMYLEVELFACTORRAND ENEMYLEVELFACTORVARIENCE
 ifrnd 128 addvarvar ENEMYLEVELFACTOR ENEMYLEVELFACTORRAND else subvarvar ENEMYLEVELFACTOR ENEMYLEVELFACTORRAND
 ifvarg ENEMYTEMPLEVEL 90 ifvarl ENEMYTEMPLEVEL 100 { mulvar ENEMYLEVELFACTOR 5 divvar ENEMYLEVELFACTOR 2 }

 setvar ENEMYLEVELBENEFIT 0
 ifvare STATCALCPICNUM SHARK
 {
  ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT 15
  else addvar ENEMYLEVELBENEFIT SHARKAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM ROTATEGUN
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT SHOTTURRETAPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RPGTURRETAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT ROTTURRETAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOP
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINAPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINAPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPAPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPSTAYPUT
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINAPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINAPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPAPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPJETPACK
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINAPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINAPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPAPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPDUCKING
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINAPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINAPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPAPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPRUNNING
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINAPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINAPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPAPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPSHOOT
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINAPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINAPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPAPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPONTOILET
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINAPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINAPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPAPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZTROOPJUSTSIT
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT CAPTAINAPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT RAVAGERCAPTAINAPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT SHRINKTROOPAPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT ZERMANAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT TROOPAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZMAN
 {
  ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT LASERLIZAPGROWTHCURVE
  else ifvare STATCALCPAL 6 addvar ENEMYLEVELBENEFIT BIOLIZAPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT FERTANGAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT LIZAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZMANSTAYPUT
 {
  ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT LASERLIZAPGROWTHCURVE
  else ifvare STATCALCPAL 6 addvar ENEMYLEVELBENEFIT BIOLIZAPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT FERTANGAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT LIZAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZMANSPITTING
 {
  ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT LASERLIZAPGROWTHCURVE
  else ifvare STATCALCPAL 6 addvar ENEMYLEVELBENEFIT BIOLIZAPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT FERTANGAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT LIZAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM LIZMANJUMP
 {
  ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT LASERLIZAPGROWTHCURVE
  else ifvare STATCALCPAL 6 addvar ENEMYLEVELBENEFIT BIOLIZAPGROWTHCURVE
  else ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT FERTANGAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT LIZAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM DRONE
 {
  ifvare STATCALCPAL 25 addvar ENEMYLEVELBENEFIT SUPERDRONEAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT DRONEAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM OCTABRAIN
 {
  ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT OCTANINEAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT OCTAAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM OCTABRAINSTAYPUT
 {
  ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT OCTANINEAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT OCTAAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM PIGCOP
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT PIGCAPTAINAPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT PIGSARGEANTAPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT RAMONEAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT PIGCOPAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM PIGCOPSTAYPUT
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT PIGCAPTAINAPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT PIGSARGEANTAPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT RAMONEAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT PIGCOPAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM PIGCOPDIVE
 {
  ifvare STATCALCPAL 21 addvar ENEMYLEVELBENEFIT PIGCAPTAINAPGROWTHCURVE
  else ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT PIGSARGEANTAPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT RAMONEAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT PIGCOPAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS1
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS1APGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS1APGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS1ESSAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS1PALAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS1STAYPUT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS1APGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS1APGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS1ESSAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS1PALAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS1SHOOT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS1APGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS1APGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS1ESSAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS1PALAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS1LOB
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS1APGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS1APGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS1ESSAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS1PALAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS2
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS2APGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS2APGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS2MEGAAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS2PALAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS2STAYPUT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS2APGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS2APGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS2MEGAAPGROWTHCURVE

  else addvar ENEMYLEVELBENEFIT BOSS2PALAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS2SHOOT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS2APGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS2APGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS2MEGAAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS2PALAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS2BREATH
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS2APGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS2APGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS2MEGAAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS2PALAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS3
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS3APGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS3APGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS3VOIDAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS3PALAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS3STAYPUT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS3APGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS3APGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS3VOIDAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS3PALAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS3LOB
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS3APGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS3APGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS3VOIDAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS3PALAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM COMMANDER
 {
  ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT GENERALAPGROWTHCURVE
  else ifvare STATCALCPAL 25 addvar ENEMYLEVELBENEFIT LEADERAPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BAALOAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT COMMANDERAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM COMMANDERSTAYPUT
 {
  ifvare STATCALCPAL 14 addvar ENEMYLEVELBENEFIT GENERALAPGROWTHCURVE
  else ifvare STATCALCPAL 25 addvar ENEMYLEVELBENEFIT LEADERAPGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BAALOAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT COMMANDERAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM TANK
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT BLUETANKAPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT REDTANKAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT GREENTANKAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS4
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS4APGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS4APGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS4FAKEAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS4PALAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM BOSS4STAYPUT
 {
  ifvare STATCALCPAL 0 addvar ENEMYLEVELBENEFIT BOSS4APGROWTHCURVE
  else ifvare STATCALCPAL 3 addvar ENEMYLEVELBENEFIT BOSS4APGROWTHCURVE
  else ifvare STATCALCPAL 24 addvar ENEMYLEVELBENEFIT BOSS4FAKEAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT BOSS4PALAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM NEWBEAST
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT NEWBEAST2LAPGROWTHCURVE
  else ifvare STATCALCPAL 20 addvar ENEMYLEVELBENEFIT NEWBEAST2GAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT NEWBEASTAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM NEWBEASTSTAYPUT
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT NEWBEAST2LAPGROWTHCURVE
  else ifvare STATCALCPAL 20 addvar ENEMYLEVELBENEFIT NEWBEAST2GAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT NEWBEASTAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM NEWBEASTJUMP
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT NEWBEAST2LAPGROWTHCURVE
  else ifvare STATCALCPAL 20 addvar ENEMYLEVELBENEFIT NEWBEAST2GAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT NEWBEASTAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM NEWBEASTHANG
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT NEWBEAST2LAPGROWTHCURVE
  else ifvare STATCALCPAL 20 addvar ENEMYLEVELBENEFIT NEWBEAST2GAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT NEWBEASTAPGROWTHCURVE
 }
 ifvare STATCALCPICNUM SCORPIONTANK
 {
  randvar ENEMYLEVELBENEFIT SCORPIONTANKAPGROWTHCURVERAND
  addvar ENEMYLEVELBENEFIT SCORPIONTANKAPGROWTHCURVE
 }

// Non-Enemy
 ifvare STATCALCPICNUM EMPTYTANK
 {
  ifvare STATCALCPAL 17 addvar ENEMYLEVELBENEFIT BLUETANKAPGROWTHCURVE
  else ifvare STATCALCPAL 19 addvar ENEMYLEVELBENEFIT REDTANKAPGROWTHCURVE
  else addvar ENEMYLEVELBENEFIT GREENTANKAPGROWTHCURVE
 }

 mulvarvar ENEMYLEVELBENEFIT ENEMYTEMPLEVEL
 divvar ENEMYLEVELBENEFIT 20
 ifvarg ENEMYTEMPLEVEL 90 ifvarl ENEMYTEMPLEVEL 100 { mulvar ENEMYLEVELBENEFIT 5 divvar ENEMYLEVELBENEFIT 2 } 
 addvarvar ENEMYLEVELFACTOR ENEMYLEVELBENEFIT

 ifvare PUBLICBETA? 1
 {
  ifvare SKILLLEVEL 0 setvar tempc 900
  ifvare SKILLLEVEL 1 setvar tempc 925
  ifvare SKILLLEVEL 2 setvar tempc 950
  ifvare SKILLLEVEL 3 setvar tempc 975
  ifvare SKILLLEVEL 4 setvar tempc 1000
  ifvare SKILLLEVEL 5 setvar tempc 1000
  ifvare SKILLLEVEL 6 setvar tempc 1025
  ifvare SKILLLEVEL 7 setvar tempc 1050
  ifvare SKILLLEVEL 8 setvar tempc 1075
  ifvare SKILLLEVEL 9 setvar tempc 1100

  mulvarvar ENEMYLEVELFACTOR tempc
  divvar ENEMYLEVELFACTOR 1000
 }

 ifvarl ENEMYLEVELFACTOR 1 setvar ENEMYLEVELFACTOR 1

 addvarvar ENEMYMAXAP ENEMYLEVELFACTOR
 ifvarvarg ENEMYMAXAP STATLIMIT setvarvar ENEMYMAXAP STATLIMIT
 addvar ENEMYTEMPLEVEL 1
ends

state calcactorcritrate
  ifvarg ENEMYTEMPLEVEL 0 ifvarl ENEMYTEMPLEVEL 26
  {
   randvar CRITICALINCREASEMAIN 10
   addvar CRITICALINCREASEMAIN 10
  }
  else ifvarg ENEMYTEMPLEVEL 25 ifvarl ENEMYTEMPLEVEL 51
  {
   randvar CRITICALINCREASEMAIN 20
   addvar CRITICALINCREASEMAIN 20
  }
  else ifvarg ENEMYTEMPLEVEL 50 ifvarl ENEMYTEMPLEVEL 76
  {
   randvar CRITICALINCREASEMAIN 40
   addvar CRITICALINCREASEMAIN 40
  }
  else ifvarg ENEMYTEMPLEVEL 75 ifvarl ENEMYTEMPLEVEL 101
  {
   randvar CRITICALINCREASEMAIN 80
   addvar CRITICALINCREASEMAIN 80
  }
  addvarvar ACTORCRITICALHITCHANCE CRITICALINCREASEMAIN

  // Add random amount based on monster Type
  ifvare STATCALCPICNUM SHARK
  {
   ifvare STATCALCPAL 24 randvar CRITICALINCREASESECONDARY 4
   else randvar CRITICALINCREASESECONDARY 2
  }
  ifvare STATCALCPICNUM ROTATEGUN
  {
   ifvare STATCALCPAL 17 randvar CRITICALINCREASESECONDARY 3
   else ifvare STATCALCPAL 19 randvar CRITICALINCREASESECONDARY 5
   else randvar CRITICALINCREASESECONDARY 4
  }
  ifvare STATCALCPICNUM LIZTROOP
  {
   ifvare STATCALCPAL 21 randvar CRITICALINCREASESECONDARY 5
   else ifvare STATCALCPAL 19 randvar CRITICALINCREASESECONDARY 6
   else ifvare STATCALCPAL 14 randvar CRITICALINCREASESECONDARY 7
   else ifvare STATCALCPAL 17 randvar CRITICALINCREASESECONDARY 13
   else randvar CRITICALINCREASESECONDARY 3
  }
  ifvare STATCALCPICNUM LIZTROOPSTAYPUT
  {
   ifvare STATCALCPAL 21 randvar CRITICALINCREASESECONDARY 5
   else ifvare STATCALCPAL 19 randvar CRITICALINCREASESECONDARY 6
   else ifvare STATCALCPAL 14 randvar CRITICALINCREASESECONDARY 7
   else ifvare STATCALCPAL 17 randvar CRITICALINCREASESECONDARY 13
   else randvar CRITICALINCREASESECONDARY 3
  }
  ifvare STATCALCPICNUM LIZTROOPJETPACK
  {
   ifvare STATCALCPAL 21 randvar CRITICALINCREASESECONDARY 5
   else ifvare STATCALCPAL 19 randvar CRITICALINCREASESECONDARY 6
   else ifvare STATCALCPAL 14 randvar CRITICALINCREASESECONDARY 7
   else ifvare STATCALCPAL 17 randvar CRITICALINCREASESECONDARY 13
   else randvar CRITICALINCREASESECONDARY 3
  }
  ifvare STATCALCPICNUM LIZTROOPDUCKING
  {
   ifvare STATCALCPAL 21 randvar CRITICALINCREASESECONDARY 5
   else ifvare STATCALCPAL 19 randvar CRITICALINCREASESECONDARY 6
   else ifvare STATCALCPAL 14 randvar CRITICALINCREASESECONDARY 7
   else ifvare STATCALCPAL 17 randvar CRITICALINCREASESECONDARY 13
   else randvar CRITICALINCREASESECONDARY 3
  }
  ifvare STATCALCPICNUM LIZTROOPRUNNING
  {
   ifvare STATCALCPAL 21 randvar CRITICALINCREASESECONDARY 5
   else ifvare STATCALCPAL 19 randvar CRITICALINCREASESECONDARY 6
   else ifvare STATCALCPAL 14 randvar CRITICALINCREASESECONDARY 7
   else ifvare STATCALCPAL 17 randvar CRITICALINCREASESECONDARY 13
   else randvar CRITICALINCREASESECONDARY 3
  }
  ifvare STATCALCPICNUM LIZTROOPSHOOT
  {
   ifvare STATCALCPAL 21 randvar CRITICALINCREASESECONDARY 5
   else ifvare STATCALCPAL 19 randvar CRITICALINCREASESECONDARY 6
   else ifvare STATCALCPAL 14 randvar CRITICALINCREASESECONDARY 7
   else ifvare STATCALCPAL 17 randvar CRITICALINCREASESECONDARY 13
   else randvar CRITICALINCREASESECONDARY 3
  }
  ifvare STATCALCPICNUM LIZTROOPONTOILET
  {
   ifvare STATCALCPAL 21 randvar CRITICALINCREASESECONDARY 5
   else ifvare STATCALCPAL 19 randvar CRITICALINCREASESECONDARY 6
   else ifvare STATCALCPAL 14 randvar CRITICALINCREASESECONDARY 7
   else ifvare STATCALCPAL 17 randvar CRITICALINCREASESECONDARY 13
   else randvar CRITICALINCREASESECONDARY 3
  }
  ifvare STATCALCPICNUM LIZTROOPJUSTSIT
  {
   ifvare STATCALCPAL 21 randvar CRITICALINCREASESECONDARY 5
   else ifvare STATCALCPAL 19 randvar CRITICALINCREASESECONDARY 6
   else ifvare STATCALCPAL 14 randvar CRITICALINCREASESECONDARY 7
   else ifvare STATCALCPAL 17 randvar CRITICALINCREASESECONDARY 13
   else randvar CRITICALINCREASESECONDARY 3
  }
  ifvare STATCALCPICNUM LIZMAN
  {
   ifvare STATCALCPAL 19 randvar CRITICALINCREASESECONDARY 6
   else ifvare STATCALCPAL 6 randvar CRITICALINCREASESECONDARY 9
   else ifvare STATCALCPAL 17 randvar CRITICALINCREASESECONDARY 13
   else randvar CRITICALINCREASESECONDARY 4
  }
  ifvare STATCALCPICNUM LIZMANSTAYPUT
  {
   ifvare STATCALCPAL 19 randvar CRITICALINCREASESECONDARY 6
   else ifvare STATCALCPAL 6 randvar CRITICALINCREASESECONDARY 9
   else ifvare STATCALCPAL 17 randvar CRITICALINCREASESECONDARY 13
   else randvar CRITICALINCREASESECONDARY 4
  }
  ifvare STATCALCPICNUM LIZMANSPITTING
  {
   ifvare STATCALCPAL 19 randvar CRITICALINCREASESECONDARY 6
   else ifvare STATCALCPAL 6 randvar CRITICALINCREASESECONDARY 9
   else ifvare STATCALCPAL 17 randvar CRITICALINCREASESECONDARY 13
   else randvar CRITICALINCREASESECONDARY 4
  }
  ifvare STATCALCPICNUM LIZMANJUMP
  {
   ifvare STATCALCPAL 19 randvar CRITICALINCREASESECONDARY 6
   else ifvare STATCALCPAL 6 randvar CRITICALINCREASESECONDARY 9
   else ifvare STATCALCPAL 17 randvar CRITICALINCREASESECONDARY 13
   else randvar CRITICALINCREASESECONDARY 4
  }
  ifvare STATCALCPICNUM DRONE
  {
   ifvare STATCALCPAL 25 randvar CRITICALINCREASESECONDARY 50
   else randvar CRITICALINCREASESECONDARY 20
  }
  ifvare STATCALCPICNUM OCTABRAIN
  {
   ifvare STATCALCPAL 14 randvar CRITICALINCREASESECONDARY 25
   else randvar CRITICALINCREASESECONDARY 10
  }
  ifvare STATCALCPICNUM OCTABRAINSTAYPUT
  {
   ifvare STATCALCPAL 14 randvar CRITICALINCREASESECONDARY 25
   else randvar CRITICALINCREASESECONDARY 10
  }
  ifvare STATCALCPICNUM PIGCOP
  {
   ifvare STATCALCPAL 21 randvar CRITICALINCREASESECONDARY 7
   else ifvare STATCALCPAL 14 randvar CRITICALINCREASESECONDARY 10
   else ifvare STATCALCPAL 24 randvar CRITICALINCREASESECONDARY 13
   else randvar CRITICALINCREASESECONDARY 5
  }
  ifvare STATCALCPICNUM PIGCOPSTAYPUT
  {
   ifvare STATCALCPAL 21 randvar CRITICALINCREASESECONDARY 7
   else ifvare STATCALCPAL 14 randvar CRITICALINCREASESECONDARY 10
   else ifvare STATCALCPAL 24 randvar CRITICALINCREASESECONDARY 13
   else randvar CRITICALINCREASESECONDARY 5
  }
  ifvare STATCALCPICNUM PIGCOPDIVE
  {
   ifvare STATCALCPAL 21 randvar CRITICALINCREASESECONDARY 7
   else ifvare STATCALCPAL 14 randvar CRITICALINCREASESECONDARY 10
   else ifvare STATCALCPAL 24 randvar CRITICALINCREASESECONDARY 13
   else randvar CRITICALINCREASESECONDARY 5
  }
  ifvare STATCALCPICNUM BOSS1
  {
   ifvare STATCALCPAL 0 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 3 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 24 randvar CRITICALINCREASESECONDARY 24
   else randvar CRITICALINCREASESECONDARY 12
  }
  ifvare STATCALCPICNUM BOSS1STAYPUT
  {
   ifvare STATCALCPAL 0 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 3 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 24 randvar CRITICALINCREASESECONDARY 24
   else randvar CRITICALINCREASESECONDARY 12
  }
  ifvare STATCALCPICNUM BOSS1SHOOT
  {
   ifvare STATCALCPAL 0 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 3 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 24 randvar CRITICALINCREASESECONDARY 24
   else randvar CRITICALINCREASESECONDARY 12
  }
  ifvare STATCALCPICNUM BOSS1LOB
  {
   ifvare STATCALCPAL 0 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 3 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 24 randvar CRITICALINCREASESECONDARY 24
   else randvar CRITICALINCREASESECONDARY 12
  }
  ifvare STATCALCPICNUM BOSS2
  {
   ifvare STATCALCPAL 0 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 3 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 24 randvar CRITICALINCREASESECONDARY 27
   else randvar CRITICALINCREASESECONDARY 9
  }
  ifvare STATCALCPICNUM BOSS2STAYPUT
  {
   ifvare STATCALCPAL 0 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 3 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 24 randvar CRITICALINCREASESECONDARY 27
   else randvar CRITICALINCREASESECONDARY 9
  }
  ifvare STATCALCPICNUM BOSS2SHOOT
  {
   ifvare STATCALCPAL 0 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 3 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 24 randvar CRITICALINCREASESECONDARY 27
   else randvar CRITICALINCREASESECONDARY 9
  }
  ifvare STATCALCPICNUM BOSS2BREATH
  {
   ifvare STATCALCPAL 0 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 3 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 24 randvar CRITICALINCREASESECONDARY 27
   else randvar CRITICALINCREASESECONDARY 9
  }
  ifvare STATCALCPICNUM BOSS3
  {
   ifvare STATCALCPAL 0 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 3 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 24 randvar CRITICALINCREASESECONDARY 21
   else randvar CRITICALINCREASESECONDARY 15
  }
  ifvare STATCALCPICNUM BOSS3STAYPUT
  {
   ifvare STATCALCPAL 0 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 3 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 24 randvar CRITICALINCREASESECONDARY 21
   else randvar CRITICALINCREASESECONDARY 15
  }
  ifvare STATCALCPICNUM BOSS3LOB
  {
   ifvare STATCALCPAL 0 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 3 randvar CRITICALINCREASESECONDARY 18
   else ifvare STATCALCPAL 24 randvar CRITICALINCREASESECONDARY 21
   else randvar CRITICALINCREASESECONDARY 15
  }
  ifvare STATCALCPICNUM COMMANDER
  {
   ifvare STATCALCPAL 14 randvar CRITICALINCREASESECONDARY 5
   else ifvare STATCALCPAL 25 randvar CRITICALINCREASESECONDARY 12
   else ifvare STATCALCPAL 24 randvar CRITICALINCREASESECONDARY 20
   else randvar CRITICALINCREASESECONDARY 8
  }
  ifvare STATCALCPICNUM COMMANDERSTAYPUT
  {
   ifvare STATCALCPAL 14 randvar CRITICALINCREASESECONDARY 5
   else ifvare STATCALCPAL 25 randvar CRITICALINCREASESECONDARY 12
   else ifvare STATCALCPAL 24 randvar CRITICALINCREASESECONDARY 20
   else randvar CRITICALINCREASESECONDARY 8
  }
  ifvare STATCALCPICNUM TANK
  {
   ifvare STATCALCPAL 17 randvar CRITICALINCREASESECONDARY 14
   else ifvare STATCALCPAL 19 randvar CRITICALINCREASESECONDARY 12
   else randvar CRITICALINCREASESECONDARY 10
  }
  ifvare STATCALCPICNUM BOSS4
  {
   ifvare STATCALCPAL 0 randvar CRITICALINCREASESECONDARY 22
   else ifvare STATCALCPAL 3 randvar CRITICALINCREASESECONDARY 22
   else ifvare STATCALCPAL 24 randvar CRITICALINCREASESECONDARY 28
   else randvar CRITICALINCREASESECONDARY 16
  }
  ifvare STATCALCPICNUM BOSS4STAYPUT
  {
   ifvare STATCALCPAL 0 randvar CRITICALINCREASESECONDARY 22
   else ifvare STATCALCPAL 3 randvar CRITICALINCREASESECONDARY 22
   else ifvare STATCALCPAL 24 randvar CRITICALINCREASESECONDARY 28
   else randvar CRITICALINCREASESECONDARY 16
  }
  ifvare STATCALCPICNUM NEWBEAST
  {
   ifvare STATCALCPAL 17 randvar CRITICALINCREASESECONDARY 13
   else ifvare STATCALCPAL 20 randvar CRITICALINCREASESECONDARY 18
   else randvar CRITICALINCREASESECONDARY 9
  }
  ifvare STATCALCPICNUM NEWBEASTSTAYPUT
  {
   ifvare STATCALCPAL 17 randvar CRITICALINCREASESECONDARY 13
   else ifvare STATCALCPAL 20 randvar CRITICALINCREASESECONDARY 18
   else randvar CRITICALINCREASESECONDARY 9
  }
  ifvare STATCALCPICNUM NEWBEASTJUMP
  {
   ifvare STATCALCPAL 17 randvar CRITICALINCREASESECONDARY 13
   else ifvare STATCALCPAL 20 randvar CRITICALINCREASESECONDARY 18
   else randvar CRITICALINCREASESECONDARY 9
  }
  ifvare STATCALCPICNUM NEWBEASTHANG
  {
   ifvare STATCALCPAL 17 randvar CRITICALINCREASESECONDARY 13
   else ifvare STATCALCPAL 20 randvar CRITICALINCREASESECONDARY 18
   else randvar CRITICALINCREASESECONDARY 9
  }
  ifvare STATCALCPICNUM SCORPIONTANK
  {
   randvar CRITICALINCREASESECONDARY 25
  }
  
  ifvarn PUBLICBETA? 0
  {
   ifvare SKILLLEVEL 0 addvar CRITICALINCREASESECONDARY 1
   else ifvarg SKILLLEVEL 0 ifvarl SKILLLEVEL 4 addvar CRITICALINCREASESECONDARY 2
   else ifvarg SKILLLEVEL 3 ifvarl SKILLLEVEL 7 addvar CRITICALINCREASESECONDARY 3
   else ifvarg SKILLLEVEL 6 addvar CRITICALINCREASESECONDARY 4
  }

  ifrnd 3 mulvar CRITICALINCREASESECONDARY 3
  else ifrnd 9 mulvar CRITICALINCREASESECONDARY 2
  else ifrnd 29 divvar CRITICALINCREASESECONDARY 1
  else ifrnd 85 divvar CRITICALINCREASESECONDARY 2
  else divvar CRITICALINCREASESECONDARY 3

  addvarvar ACTORCRITICALHITCHANCE CRITICALINCREASESECONDARY
  setvar CRITICALINCREASEMAIN 0
  setvar CRITICALINCREASESECONDARY 0

 addvar ENEMYTEMPLEVEL 1
ends

state calcrndcritrates
 setvarvar TEMPVAR2 ACTORCRITICALHITCHANCE
 divvar TEMPVAR2 10
 randvarvar TEMPVAR3 TEMPVAR2
 ifrnd 128 mulvar TEMPVAR3 -1
 addvarvar ACTORCRITICALHITCHANCE TEMPVAR3
ends

state calcrndsurvivalrates
 setvarvar TEMPVAR2 ACTORSURVIVALVALUE
 divvar TEMPVAR2 10
 randvarvar TEMPVAR3 TEMPVAR2
 ifrnd 128 mulvar TEMPVAR3 -1
 addvarvar ACTORSURVIVALVALUE TEMPVAR3
ends

state newenemystatcalc-2
 getactor[ARRAYPOSITION].picnum STATCALCPICNUM
 getactor[ARRAYPOSITION].pal STATCALCPAL

// ************************************
// *Calculates Hit Points for Monsters*
// ************************************

 getactorvar[ARRAYPOSITION].SKILLSET? tempd
 ifvarg tempd 0 
 {
  getactorvar[ARRAYPOSITION].ENEMYLEVELPRESET? tempd
  ifvare tempd 0
  {
   setactorvar[ARRAYPOSITION].ENEMYLEVEL 0 
  }
 }

 getactorvar[ARRAYPOSITION].ENEMYLEVEL tempd
 ifvare tempd 0 state getenemylevel else setvarvar ENEMYLEVEL tempd

 // Skill Level has the most influence on enemy HP levels [100.0%-399.7%]
 setvar TEMPVAR2 1000
 setvar TEMPVAR3 333
 mulvarvar TEMPVAR3 SKILLLEVEL
 addvarvar TEMPVAR2 TEMPVAR3
 mulvarvar ENEMYHP TEMPVAR2
 divvar ENEMYHP 1000

 // Episode has the 2nd most influence on enemy HP levels [100.0%-275.0%]
 setvar TEMPVAR2 750
 setvar TEMPVAR3 250
 setvar MISCARRAYID 80 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // DISPLAY-EPISODE
 mulvarvar TEMPVAR3 MISCARRAYID_AMOUNTTEMP
 addvarvar TEMPVAR2 TEMPVAR3
 mulvarvar ENEMYHP TEMPVAR2
 divvar ENEMYHP 1000

 // Level has the least influence on enemy HP levels [100.0%-1700.0%]
 setvar TEMPVAR2 975
 setvar TEMPVAR3 25
 setvar MISCARRAYID 81 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // DISPLAY-LEVEL
 mulvarvar TEMPVAR3 MISCARRAYID_AMOUNTTEMP
 addvarvar TEMPVAR2 TEMPVAR3
 mulvarvar ENEMYHP TEMPVAR2
 divvar ENEMYHP 1000

 mulvarvar ENEMYHP STARTSTATMULTI
 divvarvar ENEMYHP STARTSTATDIVISOR
 ifvarl ENEMYHP 1 setvar ENEMYHP 1
 
 // Enemy's Max AP is set to their new Max HP
 setvarvar ENEMYMAXAP ENEMYHP

 // Determines 10% of the base HP value to use for the varience
 setvarvar SKILLHEALTHCALC ENEMYHP
 mulvar SKILLHEALTHCALC 100
 divvar SKILLHEALTHCALC 1000
 randvarvar TEMPVAR SKILLHEALTHCALC

 ifrnd 128 addvarvar ENEMYHP TEMPVAR else subvarvar ENEMYHP TEMPVAR

//****************
//*Level Ups here*
//****************
 ifvarg ENEMYLEVEL 1
 {
  setvar ENEMYTEMPLEVEL 1
  whilevarvarn ENEMYTEMPLEVEL ENEMYLEVEL state calcleveluphp
 }
//********************
//*End Level Ups here*
//********************

 // Stops HP from Exceeding 'Atomic' max
 ifvarvarg ENEMYHP STATLIMITATOMIC setvarvar ENEMYHP STATLIMITATOMIC
 setvarvar ENEMYMAXHP ENEMYHP

 // Determines based on the skill level if the monster will have atomic health starting out
 ifvare SKILLLEVEL 0 { ifrnd 3 { ifrnd 14 mulvar ENEMYHP 200 else mulvar ENEMYHP 150 } else mulvar ENEMYHP 100 }
 ifvare SKILLLEVEL 1 { ifrnd 6 { ifrnd 17 mulvar ENEMYHP 200 else mulvar ENEMYHP 150 } else mulvar ENEMYHP 100 }
 ifvare SKILLLEVEL 2 { ifrnd 9 { ifrnd 20 mulvar ENEMYHP 200 else mulvar ENEMYHP 150 } else mulvar ENEMYHP 100 }
 ifvare SKILLLEVEL 3 { ifrnd 12 { ifrnd 26 mulvar ENEMYHP 200 else mulvar ENEMYHP 150 } else mulvar ENEMYHP 100 }
 ifvare SKILLLEVEL 4 { ifrnd 15 { ifrnd 35 mulvar ENEMYHP 200 else mulvar ENEMYHP 150 } else mulvar ENEMYHP 100 }
 ifvare SKILLLEVEL 5 { ifrnd 18 { ifrnd 46 mulvar ENEMYHP 200 else mulvar ENEMYHP 150 } else mulvar ENEMYHP 100 }
 ifvare SKILLLEVEL 6 { ifrnd 24 { ifrnd 57 mulvar ENEMYHP 200 else mulvar ENEMYHP 150 } else mulvar ENEMYHP 100 }
 ifvare SKILLLEVEL 7 { ifrnd 30 { ifrnd 73 mulvar ENEMYHP 200 else mulvar ENEMYHP 150 } else mulvar ENEMYHP 100 }
 ifvare SKILLLEVEL 8 { ifrnd 36 { ifrnd 88 mulvar ENEMYHP 200 else mulvar ENEMYHP 150 } else mulvar ENEMYHP 100 }
 ifvare SKILLLEVEL 9 { ifrnd 48 { ifrnd 114 mulvar ENEMYHP 200 else mulvar ENEMYHP 150 } else mulvar ENEMYHP 100 }
 divvar ENEMYHP 100

 // Stops HP from Exceeding 'Atomic' max [again]
 ifvarvarg ENEMYHP STATLIMITATOMIC setvarvar ENEMYHP STATLIMITATOMIC

// **************************************
// *Calculates Armor Points for Monsters*
// **************************************

 setvarvar SKILLARMORCALC ENEMYMAXAP
 mulvar SKILLARMORCALC 100
 divvar SKILLARMORCALC 1000 // Determines 10% of the base AP value to use for the varience
 randvarvar TEMPVAR SKILLARMORCALC

 ifrnd 128 addvarvar ENEMYMAXAP TEMPVAR else subvarvar ENEMYMAXAP TEMPVAR

//****************
//*Level Ups here*
//****************
 ifvarg ENEMYLEVEL 1
 {
  setvar ENEMYTEMPLEVEL 1
  whilevarvarn ENEMYTEMPLEVEL ENEMYLEVEL state calclevelupap
 }
//********************
//*End Level Ups here*
//********************

 ifvarvarg ENEMYMAXAP STATLIMIT setvarvar ENEMYMAXAP STATLIMIT
 setvarvar ENEMYAP ENEMYMAXAP

 setvarvar tempd SKILLLEVEL
 ifvarg SKILLLEVEL 4 subvar tempd 1
 mulvarvar ENEMYAP tempd

 divvar ENEMYAP 4 
 ifvarvarg ENEMYAP STATLIMITATOMIC setvarvar ENEMYAP STATLIMITATOMIC

 ifvarg ENEMYAP 0
 {
  ifvarl SKILLLEVEL 5
  {
   ifrnd 64 setvar ENEMYARMORPERCENT 333
   else ifrnd 85 setvar ENEMYARMORPERCENT 500
   else ifrnd 128 setvar ENEMYARMORPERCENT 667
   else setvar ENEMYARMORPERCENT 900
  }
  else
  {
   ifvarl SKILLLEVEL 8
   {
    ifrnd 85 setvar ENEMYARMORPERCENT 667
    else ifrnd 128 setvar ENEMYARMORPERCENT 900
    else
    {
     randvar ENEMYARMORPERCENT 100
     addvar ENEMYARMORPERCENT 900
    }
   }
   else
   {
    ifrnd 128
    {
     randvar ENEMYARMORPERCENT 100
     addvar ENEMYARMORPERCENT 900
    }
    else setvar ENEMYARMORPERCENT 1000
   }
  }
 }

// ********************************
// *Calculates Attack for Monsters*
// ********************************

  setvarvar ENEMYSTAT ACTORATTACK
  state calcatkdef
  setvarvar ACTORATTACK ENEMYSTAT

  setvarvar SKILLATTACKCALC ACTORATTACK
  mulvar SKILLATTACKCALC 25
  divvar SKILLATTACKCALC 100 // Determines 100% of the base Def value to use for the varience
  randvarvar TEMPVAR SKILLATTACKCALC

  ifrnd 128 addvarvar ACTORATTACK TEMPVAR else subvarvar ACTORATTACK TEMPVAR

//****************
//*Level Ups here*
//****************
 ifvarg ENEMYLEVEL 1
 {
  setvar ENEMYTEMPLEVEL 1
  whilevarvarn ENEMYTEMPLEVEL ENEMYLEVEL state calclevelupatk
 }
//********************
//*End Level Ups here*
//********************

  ifvare STATCALCPAL 9 setvar ACTORATTACK 0

  ifvarvarg ACTORATTACK STATLIMIT setvarvar ACTORATTACK STATLIMIT

// *********************************
// *Calculates Defense for Monsters*
// *********************************

  setvarvar ENEMYSTAT ACTORDEFENSE
  state calcatkdef
  setvarvar ACTORDEFENSE ENEMYSTAT

  setvarvar SKILLDEFENSECALC ACTORDEFENSE
  mulvar SKILLDEFENSECALC 25
  divvar SKILLDEFENSECALC 100 // Determines 100% of the base Def value to use for the varience
  randvarvar TEMPVAR SKILLDEFENSECALC

  ifrnd 128 addvarvar ACTORDEFENSE TEMPVAR else subvarvar ACTORDEFENSE TEMPVAR

//****************
//*Level Ups here*
//****************
 ifvarg ENEMYLEVEL 1
 {
  setvar ENEMYTEMPLEVEL 1
  whilevarvarn ENEMYTEMPLEVEL ENEMYLEVEL state calclevelupdef
 }
//********************
//*End Level Ups here*
//********************

  ifvare STATCALCPAL 9 setvar ACTORDEFENSE 0

  ifvarvarg ACTORDEFENSE STATLIMIT setvarvar ACTORDEFENSE STATLIMIT

//*******************
//*Critical Hit Rate*
//*******************
 state calcrndcritrates
 ifvarg ENEMYLEVEL 1
 {
  setvar ENEMYTEMPLEVEL 1
  whilevarvarn ENEMYTEMPLEVEL ENEMYLEVEL state calcactorcritrate
 }

//***************************
//*Randomizer Survival Rates*
//***************************
 state calcrndsurvivalrates

// ***************************************************
// *Setting Up Possible First Aid Amount for Monsters*
// ***************************************************

  ifvare SKILLLEVEL 0 ifrnd 3 { state setenemyfirstaid1 ifrnd 6 state setenemyfirstaid2 }
  ifvare SKILLLEVEL 1 ifrnd 7 { state setenemyfirstaid1 ifrnd 10 state setenemyfirstaid2 }  
  ifvare SKILLLEVEL 2 ifrnd 13 { state setenemyfirstaid1 ifrnd 12 state setenemyfirstaid2 }  
  ifvare SKILLLEVEL 3 ifrnd 27 { state setenemyfirstaid1 ifrnd 20 state setenemyfirstaid2 }  
  ifvare SKILLLEVEL 4 ifrnd 33 { state setenemyfirstaid1 ifrnd 24 state setenemyfirstaid2 }  
  ifvare SKILLLEVEL 5 ifrnd 49 { state setenemyfirstaid1 ifrnd 48 state setenemyfirstaid2 }  
  ifvare SKILLLEVEL 6 ifrnd 66 { state setenemyfirstaid1 ifrnd 52 state setenemyfirstaid2 }  
  ifvare SKILLLEVEL 7 ifrnd 99 { state setenemyfirstaid1 ifrnd 112 state setenemyfirstaid2 }  
  ifvare SKILLLEVEL 8 ifrnd 118 { state setenemyfirstaid1 ifrnd 172 state setenemyfirstaid2 }  
  ifvare SKILLLEVEL 9 ifrnd 134 { state setenemyfirstaid1 ifrnd 200 state setenemyfirstaid2 }  

// ****************************************
// *Setting Up Possible Boots for Monsters*
// ****************************************

  setvar INITBENEFIT BOOT_AMOUNT
  state calciteminits
  setvarvar ENEMYBOOTSAMOUNT INITTYPE

// *********************************************
// *Setting Up Possible Scuba Gear for Monsters*
// *********************************************

  setvar INITBENEFIT SCUBA_AMOUNT
  state calciteminits
  setvarvar ENEMYAIRTANKAMOUNT INITTYPE

// **********************************************
// *Setting Up Possible Quad Damage for Monsters*
// **********************************************

  setvar INITBENEFIT 780
  state calciteminits
  setvarvar ENEMYQUADTIME INITTYPE

// *******************************************************
// *Setting Up Possible Icon of the Defender for monsters*
// *******************************************************

  setvar INITBENEFIT 780
  state calciteminits
  setvarvar ENEMYINVULNTIME INITTYPE

// ****************************************************
// *Setting Up Possible Regeneration Ankh for monsters*
// ****************************************************

  setvar INITBENEFIT 780
  state calciteminits
  setvarvar ENEMYREGENTIME INITTYPE

// ************************************************
// *Setting Up Possible Shield Emblem for monsters*
// ************************************************

  setvar INITBENEFIT 780
  state calciteminits
  setvarvar ENEMYAPREGENTIME INITTYPE

// ***************************************************
// *Setting Up Possible Vampire Artifact for monsters*
// ***************************************************

  setvar INITBENEFIT 780
  state calciteminits
  setvarvar ENEMYVAMPIRETIME INITTYPE

// ***************************************************
// *Setting Up Possible Winter Clothes for monsters*
// ***************************************************
 ifvarg freezing 0
 {
  ifvare SKILLLEVEL 0 { ifrnd 13 setvar enemywinterclothes 100 else setvar enemywinterclothes 0 }
  ifvare SKILLLEVEL 1 { ifrnd 38 setvar enemywinterclothes 100 else setvar enemywinterclothes 0 }
  ifvare SKILLLEVEL 2 { ifrnd 63 setvar enemywinterclothes 100 else setvar enemywinterclothes 0 }
  ifvare SKILLLEVEL 3 { ifrnd 88 setvar enemywinterclothes 100 else setvar enemywinterclothes 0 }
  ifvare SKILLLEVEL 4 { ifrnd 113 setvar enemywinterclothes 100 else setvar enemywinterclothes 0 }
  ifvare SKILLLEVEL 5 { ifrnd 138 setvar enemywinterclothes 100 else setvar enemywinterclothes 0 }
  ifvare SKILLLEVEL 6 { ifrnd 163 setvar enemywinterclothes 100 else setvar enemywinterclothes 0 }
  ifvare SKILLLEVEL 7 { ifrnd 193 setvar enemywinterclothes 100 else setvar enemywinterclothes 0 }
  ifvare SKILLLEVEL 8 { ifrnd 213 setvar enemywinterclothes 100 else setvar enemywinterclothes 0 }
  ifvare SKILLLEVEL 9 { ifrnd 238 setvar enemywinterclothes 100 else setvar enemywinterclothes 0 }
 }

// ****************************************
// ****************************************
// ** END OF INITIALIZATION CALCULATIONS **
// ****************************************
// ****************************************

  getactorvar[ARRAYPOSITION].ACTORFLAGS TEMPVAR
  ifvarand TEMPVAR 512 // 512 = Elite Monster
  {
   mulvar ENEMYMAXHP 4
   ifvarvarg ENEMYMAXHP STATLIMIT setvarvar ENEMYMAXHP STATLIMIT
   mulvar ENEMYHP 4
   mulvar ENEMYMAXAP 4
   ifvarvarg ENEMYMAXAP STATLIMIT setvarvar ENEMYMAXAP STATLIMIT
   mulvar ENEMYAP 4
   mulvar ENEMYARMORPERCENT 2
   ifvarg ENEMYARMORPERCENT 1000 setvar ENEMYARMORPERCENT 1000
   mulvar ENEMYFIRSTAID 4
   mulvar ENEMYMAXAIRTIME 4
   mulvar ENEMYAIRTIME 4
   mulvar ACTORATTACK 4
   mulvar ACTORDEFENSE 4
   mulvar ENEMYBOOTSAMOUNT 4
   mulvar ENEMYAIRTANKAMOUNT 4
   mulvar ENEMYQUADTIME 4
   mulvar ENEMYINVULNTIME 4
   mulvar ENEMYREGENTIME 4
   mulvar ENEMYAPREGENTIME 4
   mulvar ENEMYVAMPIRETIME 4
   addvar ACTORMAXFALLRESIST 8
   addvar ACTORFALLRESIST 8
  }

  getactorvar[ARRAYPOSITION].ENEMYHASSHIKON? TEMPVAR
  ifvare TEMPVAR 1
  {
   mulvar ACTORFALLRESIST 5
   divvar ACTORFALLRESIST 2
   mulvar ACTORMAXFALLRESIST 5
   divvar ACTORMAXFALLRESIST 2
  }

  getactorvar[ARRAYPOSITION].ACTORFLAGS TEMPVAR
  ifvarand TEMPVAR 4096 // Special Flag #1
  {
   getactor[ARRAYPOSITION].picnum TEMPVAR2
   ifvare TEMPVAR2 LIZTROOP setactorvar[ARRAYPOSITION].ENEMYBOMBER? 1
   else ifvare TEMPVAR2 LIZTROOPSTAYPUT setactorvar[ARRAYPOSITION].ENEMYBOMBER? 1
   else ifvare TEMPVAR2 LIZTROOPDUCKING setactorvar[ARRAYPOSITION].ENEMYBOMBER? 1
   else ifvare TEMPVAR2 LIZTROOPSHOOT setactorvar[ARRAYPOSITION].ENEMYBOMBER? 1
   else ifvare TEMPVAR2 LIZTROOPJETPACK setactorvar[ARRAYPOSITION].ENEMYBOMBER? 1
   else ifvare TEMPVAR2 LIZTROOPRUNNING setactorvar[ARRAYPOSITION].ENEMYBOMBER? 1
   else ifvare TEMPVAR2 LIZTROOPONTOILET setactorvar[ARRAYPOSITION].ENEMYBOMBER? 1
   else ifvare TEMPVAR2 LIZTROOPJUSTSIT setactorvar[ARRAYPOSITION].ENEMYBOMBER? 1
   else
   {
    subvar TEMPVAR 4096
    setactorvar[ARRAYPOSITION].ACTORFLAGS TEMPVAR
   }
  }


  setactorvar[ARRAYPOSITION].ENEMYLEVEL ENEMYLEVEL
  setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
  setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
  setactorvar[ARRAYPOSITION].ENEMYAP ENEMYAP
  setactorvar[ARRAYPOSITION].ENEMYMAXAP ENEMYMAXAP
  setactorvar[ARRAYPOSITION].ENEMYARMORPERCENT ENEMYARMORPERCENT
  setactorvar[ARRAYPOSITION].ENEMYFIRSTAID ENEMYFIRSTAID
  setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
  setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
  setactorvar[ARRAYPOSITION].ACTORATTACK ACTORATTACK
  setactorvar[ARRAYPOSITION].ACTORDEFENSE ACTORDEFENSE
  setactorvar[ARRAYPOSITION].ENEMYBOOTSAMOUNT ENEMYBOOTSAMOUNT
  setactorvar[ARRAYPOSITION].ENEMYAIRTANKAMOUNT ENEMYAIRTANKAMOUNT
  setactorvar[ARRAYPOSITION].ENEMYQUADTIME ENEMYQUADTIME
  setactorvar[ARRAYPOSITION].ENEMYINVULNTIME ENEMYINVULNTIME
  setactorvar[ARRAYPOSITION].ENEMYREGENTIME ENEMYREGENTIME
  setactorvar[ARRAYPOSITION].ENEMYAPREGENTIME ENEMYAPREGENTIME
  setactorvar[ARRAYPOSITION].ENEMYVAMPIRETIME ENEMYVAMPIRETIME
  setactorvar[ARRAYPOSITION].enemywinterclothes enemywinterclothes
  setactorvar[ARRAYPOSITION].ACTORMAXFALLRESIST ACTORMAXFALLRESIST
  setactorvar[ARRAYPOSITION].ACTORFALLRESIST ACTORFALLRESIST
  setactorvar[ARRAYPOSITION].ACTORCRITICALHITCHANCE ACTORCRITICALHITCHANCE
  setactorvar[ARRAYPOSITION].ACTORSURVIVALVALUE ACTORSURVIVALVALUE

  setvar ENEMYLEVEL 0
  setvar ENEMYHP 0
  setvar ENEMYMAXHP 0
  setvar ENEMYAP 0
  setvar ENEMYMAXAP 0
  setvar ENEMYARMORPERCENT 0
  setvar ENEMYFIRSTAID 0
  setvar ENEMYAIRTIME 0
  setvar ENEMYMAXAIRTIME 0
  setvar ACTORATTACK 0
  setvar ACTORDEFENSE 0
  setvar ENEMYBOOTSAMOUNT 0
  setvar ENEMYAIRTANKAMOUNT 0
  setvar ENEMYQUADTIME 0
  setvar ENEMYINVULNTIME 0
  setvar ENEMYREGENTIME 0
  setvar ENEMYAPREGENTIME 0
  setvar ENEMYVAMPIRETIME 0
  setvar ACTORMAXFALLRESIST 4
  setvar ACTORFALLRESIST 4
  setvar ACTORCRITICALHITCHANCE 0
  setvar ACTORSURVIVALVALUE 0
  setactor[ARRAYPOSITION].htowner -1
  
ends

state extloadactor1
   setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
   setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
   setactorvar[ARRAYPOSITION].ACTORATTACK ACTORATTACK
   setactorvar[ARRAYPOSITION].ACTORDEFENSE ACTORDEFENSE
   state newenemystatcalc-2
ends

state cstat2048toeliteflag
  getactor[THISACTOR].cstat TEMP
  ifvarand TEMP 2048
  {
   ifvarand ACTORFLAGS 512 nullop else addvar ACTORFLAGS 512
   subvar TEMP 2048
   setactor[THISACTOR].cstat TEMP
  }
  ifvarand TEMP 4096
  {
   ifvarand ACTORFLAGS 1024 nullop else addvar ACTORFLAGS 1024
   subvar TEMP 4096
   setactor[THISACTOR].cstat TEMP
  }
ends

state addtomaxkills
  getactorvar[ARRAYPOSITION].TALLYSET? TALLYSET-TEMP
  ifvare TALLYSET-TEMP 0
  {
   setvar MISCARRAYID 2 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP addvar MISCARRAYID_AMOUNTTEMP 1 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP
   setvar MISCARRAYID 3 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP addvar MISCARRAYID_AMOUNTTEMP 1 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP
   addvar TALLYSET-TEMP 1
   setactorvar[ARRAYPOSITION].TALLYSET? 1
  }
ends

state checkskillloadenemy
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else ifvarvare SKILLLEVEL TEMP state addtomaxkills
   else ifvarvarg SKILLLEVEL TEMP state addtomaxkills
ends

state load_shark

getactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
ifvarn SKILLSET-TEMP -1
{
  getactor[ARRAYPOSITION].pal TEMP
  ifvare TEMP 9 // Palette 9 is 'Old School' (No abnormal stat calculations)
  {
   state checkskillloadenemy
   setvar ENEMYHP SHARKSTRENGTH
   setvar ENEMYMAXHP SHARKSTRENGTH
   setvar ENEMYMAXAIRTIME SHARKAIRTIME
   setvar ENEMYAIRTIME SHARKAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYLEVEL 0
   setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
   setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
  }
  else
  ifvare TEMP 24
  {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 80
    setactor[ARRAYPOSITION].xrepeat 160
    setactor[ARRAYPOSITION].yrepeat 160
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 80
    setactor[ARRAYPOSITION].xrepeat 160
    setactor[ARRAYPOSITION].yrepeat 160
    state addtomaxkills
   }
   setvar ENEMYHP BLOODSHARKSTRENGTH
   setvar ENEMYMAXAIRTIME BLOODSHARKAIRTIME
   setvar ENEMYAIRTIME BLOODSHARKAIRTIME
   setvar ACTORATTACK BLOODSHARKBASEATTACK
   setvar ACTORDEFENSE BLOODSHARKBASEDEFENSE
   setvar ENEMYMAXAP BLOODSHARKSTRENGTH
   setvar ACTORMAXFALLRESIST 65536
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE SHARKCRITCHANCE
   setvar ACTORSURVIVALVALUE SHARKSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 1 // Fire
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 2 // Ice
  }
  else
  {
   state checkskillloadenemy
   setvar ENEMYHP SHARKSTRENGTH
   setvar ENEMYMAXAIRTIME SHARKAIRTIME
   setvar ENEMYAIRTIME SHARKAIRTIME
   setvar ACTORATTACK SHARKBASEATTACK
   setvar ACTORDEFENSE SHARKBASEDEFENSE
   setvar ENEMYMAXAP SHARKSTRENGTH
   setvar ACTORMAXFALLRESIST 65536
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE BLOODSHARKCRITCHANCE
   setvar ACTORSURVIVALVALUE BLOODSHARKSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 2 // Ice
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 1 // Fire
  }

  addvar SKILLSET-TEMP 1
  setactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
 }
ends

state load_egg
ends

state load_rotategun
getactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
ifvarn SKILLSET-TEMP -1
{
 getactor[ARRAYPOSITION].pal TEMP
  ifvare TEMP 9 // Palette 9 is 'Old School' (No abnormal stat calculations)
  {
   state checkskillloadenemy
   setvar ENEMYHP ROTTURRETSTRENGTH
   setvar ENEMYMAXAIRTIME ROTTURRETAIRTIME
   setvar ENEMYAIRTIME ROTTURRETAIRTIME
   setvar ENEMYMAXHP ROTTURRETSTRENGTH
   setactorvar[ARRAYPOSITION].ENEMYLEVEL 0
   setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
   setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
  }
  else
  ifvare TEMP 19
  {
   state checkskillloadenemy
   setvar ENEMYHP RPGTURRETSTRENGTH
   setvar ENEMYMAXAIRTIME RPGTURRETAIRTIME
   setvar ENEMYAIRTIME RPGTURRETAIRTIME
   setvar ACTORATTACK RPGTURRETBASEATTACK
   setvar ACTORDEFENSE RPGTURRETBASEDEFENSE
   setvar ENEMYMAXAP RPGTURRETSTRENGTH
   setvar ACTORMAXFALLRESIST 65536
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE RPGTURRETCRITCHANCE
   setvar ACTORSURVIVALVALUE RPGTURRETSURVIVALCHANCE
   setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 16 // Explosives
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 10 // Ice, Electric
   state extloadactor1
  }
  else
  ifvare TEMP 17
  {
   state checkskillloadenemy
   setvar ENEMYHP SHOTTURRETSTRENGTH
   setvar ENEMYMAXAIRTIME SHOTTURRETAIRTIME
   setvar ENEMYAIRTIME SHOTTURRETAIRTIME
   setvar ACTORATTACK SHOTTURRETBASEATTACK
   setvar ACTORDEFENSE SHOTTURRETBASEDEFENSE
   setvar ENEMYMAXAP SHOTTURRETSTRENGTH
   setvar ACTORMAXFALLRESIST 65536
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE SHOTTURRETCRITCHANCE
   setvar ACTORSURVIVALVALUE SHOTTURRETSURVIVALCHANCE
   setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 32 // Metal
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 10 // Ice, Electric
   state extloadactor1
  }
  else
  {
   state checkskillloadenemy
   setvar ENEMYHP ROTTURRETSTRENGTH
   setvar ENEMYMAXAIRTIME ROTTURRETAIRTIME
   setvar ENEMYAIRTIME ROTTURRETAIRTIME
   setvar ACTORATTACK ROTTURRETBASEATTACK
   setvar ACTORDEFENSE ROTTURRETBASEDEFENSE
   setvar ENEMYMAXAP ROTTURRETSTRENGTH
   setvar ACTORMAXFALLRESIST 65536
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE ROTTURRETCRITCHANCE
   setvar ACTORSURVIVALVALUE ROTTURRETSURVIVALCHANCE
   setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 257 // Fire, Ion/Energy
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 10 // Ice, Electric
   state extloadactor1
  }

  addvar SKILLSET-TEMP 1
  setactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
}
ends

state load_liztroop
getactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
ifvarn SKILLSET-TEMP -1
{
 setactorvar[ARRAYPOSITION].ENEMYJETPACKAMOUNT JETPACK_AMOUNT
 getactor[ARRAYPOSITION].pal TEMP
 ifvare TEMP 11 // Palette 11 is 'Old School' Trooper (No abnormal stat calculations)
 {
   state checkskillloadenemy
   setvar ENEMYHP TROOPSTRENGTH
   setvar ENEMYMAXAIRTIME TROOPAIRTIME
   setvar ENEMYAIRTIME TROOPAIRTIME
   setvar ENEMYMAXHP TROOPSTRENGTH
   setactorvar[ARRAYPOSITION].ENEMYLEVEL 0
   setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
   setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
 }
 else
 ifvare TEMP 10 // Palette 10 will be 'Old School' Captain (No abnormal stat calculations)
 {
   state checkskillloadenemy
   setvar ENEMYHP CAPTAINSTRENGTH
   setvar ENEMYMAXAIRTIME CAPTAINAIRTIME
   setvar ENEMYAIRTIME CAPTAINAIRTIME
   setvar ENEMYMAXHP CAPTAINSTRENGTH
   setactorvar[ARRAYPOSITION].ENEMYLEVEL 0
   setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
   setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
 }
 else
 ifvare TEMP 14
 {
   state checkskillloadenemy
   setvar ENEMYHP SHRINKTROOPSTRENGTH
   setvar ENEMYMAXAIRTIME SHRINKTROOPAIRTIME
   setvar ENEMYAIRTIME SHRINKTROOPAIRTIME
   setvar ACTORATTACK SHRINKTROOPBASEATTACK
   setvar ACTORDEFENSE SHRINKTROOPBASEDEFENSE
   setvar ENEMYMAXAP SHRINKTROOPSTRENGTH
   setvar ACTORMAXFALLRESIST SHRINKTROOPFALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE SHRINKTROOPCRITCHANCE
   setvar ACTORSURVIVALVALUE SHRINKTROOPSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 257 // Fire, Ion/Energy
 }
 else
 ifvare TEMP 17
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 96
    setactor[ARRAYPOSITION].xrepeat 55
    setactor[ARRAYPOSITION].yrepeat 55
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 96
    setactor[ARRAYPOSITION].xrepeat 55
    setactor[ARRAYPOSITION].yrepeat 55
    state addtomaxkills
   }
   setvar ENEMYHP ZERMANSTRENGTH
   setvar ENEMYMAXAIRTIME ZERMANAIRTIME
   setvar ENEMYAIRTIME ZERMANAIRTIME
   setvar ACTORATTACK ZERMANBASEATTACK
   setvar ACTORDEFENSE ZERMANBASEDEFENSE
   setvar ENEMYMAXAP ZERMANSTRENGTH
   setvar ACTORMAXFALLRESIST ZERMANFALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE ZERMANCRITCHANCE
   setvar ACTORSURVIVALVALUE ZERMANSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 290 // Ice, Metal, Ion/Energy
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 9 // Fire, Electric
 }
 else
 ifvare TEMP 19
 {
   state checkskillloadenemy
   setvar ENEMYHP RAVAGERCAPTAINSTRENGTH
   setvar ENEMYMAXAIRTIME RAVAGERCAPTAINAIRTIME
   setvar ENEMYAIRTIME RAVAGERCAPTAINAIRTIME
   setvar ACTORATTACK RAVAGERCAPTAINBASEATTACK
   setvar ACTORDEFENSE RAVAGERCAPTAINBASEDEFENSE
   setvar ENEMYMAXAP RAVAGERCAPTAINSTRENGTH
   setvar ACTORMAXFALLRESIST RAVAGERCAPTAINFALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE RAVAGERCAPTAINCRITCHANCE
   setvar ACTORSURVIVALVALUE RAVAGERCAPTAINSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 272 // Explosion, Ion/Energy
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 2 // Ice
 }
 else
 ifvare TEMP 21
 {
   state checkskillloadenemy
   setvar ENEMYHP CAPTAINSTRENGTH
   setvar ENEMYMAXAIRTIME CAPTAINAIRTIME
   setvar ENEMYAIRTIME CAPTAINAIRTIME
   setvar ACTORATTACK CAPTAINBASEATTACK
   setvar ACTORDEFENSE CAPTAINBASEDEFENSE
   setvar ENEMYMAXAP CAPTAINSTRENGTH
   setvar ACTORMAXFALLRESIST CAPTAINFALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE CAPTAINCRITCHANCE
   setvar ACTORSURVIVALVALUE CAPTAINSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 256 // Ion/Energy
 }
 else
 {
   state checkskillloadenemy
   setvar ENEMYHP TROOPSTRENGTH
   setvar ENEMYMAXAIRTIME TROOPAIRTIME
   setvar ENEMYAIRTIME TROOPAIRTIME
   setvar ACTORATTACK TROOPBASEATTACK
   setvar ACTORDEFENSE TROOPBASEDEFENSE
   setvar ENEMYMAXAP TROOPSTRENGTH
   setvar ACTORMAXFALLRESIST TROOPFALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE TROOPCRITCHANCE
   setvar ACTORSURVIVALVALUE TROOPSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 256 // Ion/Energy
 }

 addvar SKILLSET-TEMP 1
 setactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
}
ends

state load_drone
getactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
ifvarn SKILLSET-TEMP -1
{
 getactor[ARRAYPOSITION].pal TEMP
 ifvare TEMP 9 // Palette 9 is 'Old School' (No abnormal stat calculations)
 {
  state checkskillloadenemy
  setvar ENEMYHP DRONESTRENGTH
  setvar ENEMYMAXAIRTIME DRONEAIRTIME
  setvar ENEMYAIRTIME DRONEAIRTIME
  setvar ENEMYMAXHP DRONESTRENGTH
  setactorvar[ARRAYPOSITION].ENEMYLEVEL 0
  setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
  setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
  setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
  setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
 }
 else
 ifvare TEMP 25 
 {
  getactor[ARRAYPOSITION].lotag TEMP
  ifvarvarl SKILLLEVEL TEMP nullop
  else
  ifvarvare SKILLLEVEL TEMP
  {
   setactor[ARRAYPOSITION].clipdist 120
   setactor[ARRAYPOSITION].xrepeat 80
   setactor[ARRAYPOSITION].yrepeat 80
   state addtomaxkills
  }
  else
  ifvarvarg SKILLLEVEL TEMP
  {
   setactor[ARRAYPOSITION].clipdist 120

   setactor[ARRAYPOSITION].xrepeat 80
   setactor[ARRAYPOSITION].yrepeat 80
   state addtomaxkills
  }
  setvar ENEMYHP SUPERDRONESTRENGTH
  setvar ENEMYMAXAIRTIME SUPERDRONEAIRTIME
  setvar ENEMYAIRTIME SUPERDRONEAIRTIME
  setvar ACTORATTACK SUPERDRONEBASEATTACK
  setvar ACTORDEFENSE SUPERDRONEBASEDEFENSE
  setvar ENEMYMAXAP SUPERDRONESTRENGTH
  setvar ACTORMAXFALLRESIST 65536
  setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
  setvar ACTORCRITICALHITCHANCE SUPERDRONECRITCHANCE
  setvar ACTORSURVIVALVALUE SUPERDRONESURVIVALCHANCE
  state extloadactor1
  setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 8
 }
 else 
 {
  state checkskillloadenemy
  setvar ENEMYHP DRONESTRENGTH
  setvar ENEMYMAXAIRTIME DRONEAIRTIME
  setvar ENEMYAIRTIME DRONEAIRTIME
  setvar ACTORATTACK DRONEBASEATTACK
  setvar ACTORDEFENSE DRONEBASEDEFENSE
  setvar ENEMYMAXAP DRONESTRENGTH
  setvar ACTORMAXFALLRESIST 65536
  setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
  setvar ACTORCRITICALHITCHANCE DRONECRITCHANCE
  setvar ACTORSURVIVALVALUE DRONESURVIVALCHANCE
  state extloadactor1
  setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 8
 }

 addvar SKILLSET-TEMP 1
 setactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
}
ends

state load_octabrain
getactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
ifvarn SKILLSET-TEMP -1
{
  getactor[ARRAYPOSITION].pal TEMP
  ifvare TEMP 9 // Palette 9 is 'Old School' (No abnormal stat calculations)
  {
   state checkskillloadenemy
   setvar ENEMYHP OCTASTRENGTH
   setvar ENEMYMAXAIRTIME OCTAAIRTIME
   setvar ENEMYAIRTIME OCTAAIRTIME
   setvar ENEMYMAXHP OCTASTRENGTH
   setactorvar[ARRAYPOSITION].ENEMYLEVEL 0
   setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
   setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
  }
  else
  ifvare TEMP 14
  {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 88
    setactor[ARRAYPOSITION].xrepeat 48
    setactor[ARRAYPOSITION].yrepeat 48
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 88
    setactor[ARRAYPOSITION].xrepeat 48
    setactor[ARRAYPOSITION].yrepeat 48
    state addtomaxkills
   }
   setvar ENEMYHP OCTANINESTRENGTH
   setvar ENEMYMAXAIRTIME OCTANINEAIRTIME
   setvar ENEMYAIRTIME OCTANINEAIRTIME
   setvar ACTORATTACK OCTANINEBASEATTACK
   setvar ACTORDEFENSE OCTANINEBASEDEFENSE
   setvar ENEMYMAXAP OCTANINESTRENGTH
   setvar ACTORMAXFALLRESIST 65536
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE OCTANINECRITCHANCE
   setvar ACTORSURVIVALVALUE OCTANINESURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORIMMUNEFLAGS 64 // Psionic
   setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 2 // Ice
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 273 // Fire, Explosion, Ion/Energy
  }
  else
  {
   state checkskillloadenemy
   setvar ENEMYHP OCTASTRENGTH
   setvar ENEMYMAXAIRTIME OCTAAIRTIME
   setvar ENEMYAIRTIME OCTAAIRTIME
   setvar ACTORATTACK OCTABASEATTACK
   setvar ACTORDEFENSE OCTABASEDEFENSE
   setvar ENEMYMAXAP OCTASTRENGTH
   setvar ACTORMAXFALLRESIST 65536
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE OCTACRITCHANCE
   setvar ACTORSURVIVALVALUE OCTASURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORIMMUNEFLAGS 64 // Psionic
   setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 2 // Ice
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 273 // Fire, Explosion, Ion/Energy
  }

 addvar SKILLSET-TEMP 1
 setactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
}
ends

state load_pigcop
getactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
ifvarn SKILLSET-TEMP -1
{
 getactor[ARRAYPOSITION].pal TEMP
 ifvare TEMP 9 // Palette 9 is 'Old School' (No abnormal stat calculations)
 {
  state checkskillloadenemy
  setvar ENEMYHP PIGCOPSTRENGTH
  setvar ENEMYMAXAIRTIME PIGCOPAIRTIME
  setvar ENEMYAIRTIME PIGCOPAIRTIME
  setvar ENEMYMAXHP PIGCOPSTRENGTH
  setactorvar[ARRAYPOSITION].ENEMYLEVEL 0
  setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
  setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
  setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
  setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
 }
 else

 ifvare TEMP 21
 {
  state checkskillloadenemy
  setvar ENEMYHP PIGCAPTAINSTRENGTH
  setvar ENEMYMAXAIRTIME PIGCAPTAINAIRTIME
  setvar ENEMYAIRTIME PIGCAPTAINAIRTIME
  setvar ACTORATTACK PIGCAPTAINBASEATTACK
  setvar ACTORDEFENSE PIGCAPTAINBASEDEFENSE
  setvar ENEMYMAXAP PIGCAPTAINSTRENGTH
  setvar ACTORMAXFALLRESIST PIGCAPTAINFALLRESIST
  setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
  setvar ACTORCRITICALHITCHANCE PIGCAPTAINCRITCHANCE
  setvar ACTORSURVIVALVALUE PIGCAPTAINSURVIVALCHANCE
  state extloadactor1
  setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 48 // Explosive, Metal
 }
 else
 ifvare TEMP 14
 {
  state checkskillloadenemy
  setvar ENEMYHP PIGSARGEANTSTRENGTH
  setvar ENEMYMAXAIRTIME PIGSARGEANTAIRTIME
  setvar ENEMYAIRTIME PIGSARGEANTAIRTIME
  setvar ACTORATTACK PIGSARGEANTBASEATTACK
  setvar ACTORDEFENSE PIGSARGEANTBASEDEFENSE
  setvar ENEMYMAXAP PIGSARGEANTSTRENGTH
  setvar ACTORMAXFALLRESIST PIGSARGEANTFALLRESIST
  setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
  setvar ACTORCRITICALHITCHANCE PIGSARGEANTCRITCHANCE
  setvar ACTORSURVIVALVALUE PIGSARGEANTSURVIVALCHANCE
  state extloadactor1
  setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 48 // Explosive, Metal
 }
 else
 ifvare TEMP 24
 {
  getactor[ARRAYPOSITION].lotag TEMP
  ifvarvarl SKILLLEVEL TEMP nullop
  else
  ifvarvare SKILLLEVEL TEMP
  {
   setactor[ARRAYPOSITION].clipdist 96
   setactor[ARRAYPOSITION].xrepeat 55
   setactor[ARRAYPOSITION].yrepeat 55
   state addtomaxkills
  }
  else
  ifvarvarg SKILLLEVEL TEMP
  {
   setactor[ARRAYPOSITION].clipdist 96
   setactor[ARRAYPOSITION].xrepeat 55
   setactor[ARRAYPOSITION].yrepeat 55
   state addtomaxkills
  }
  setvar ENEMYHP RAMONESTRENGTH
  setvar ENEMYMAXAIRTIME RAMONEAIRTIME
  setvar ENEMYAIRTIME RAMONEAIRTIME
  setvar ACTORATTACK RAMONEBASEATTACK
  setvar ACTORDEFENSE RAMONEBASEDEFENSE
  setvar ENEMYMAXAP RAMONESTRENGTH
  setvar ACTORMAXFALLRESIST RAMONEFALLRESIST
  setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
  setvar ACTORCRITICALHITCHANCE RAMONECRITCHANCE
  setvar ACTORSURVIVALVALUE RAMONESURVIVALCHANCE
  state extloadactor1
  setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 48 // Explosive, Metal
 }
 else
 {
  state checkskillloadenemy
  setvar ENEMYHP PIGCOPSTRENGTH
  setvar ENEMYMAXAIRTIME PIGCOPAIRTIME
  setvar ENEMYAIRTIME PIGCOPAIRTIME
  setvar ACTORATTACK PIGCOPBASEATTACK
  setvar ACTORDEFENSE PIGCOPBASEDEFENSE
  setvar ENEMYMAXAP PIGCOPSTRENGTH
  setvar ACTORMAXFALLRESIST PIGCOPFALLRESIST
  setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
  setvar ACTORCRITICALHITCHANCE PIGCOPCRITCHANCE
  setvar ACTORSURVIVALVALUE PIGCOPSURVIVALCHANCE
  state extloadactor1
  setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 48 // Explosive, Metal
 }

 addvar SKILLSET-TEMP 1
 setactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
}
ends

state load_lizman
getactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
ifvarn SKILLSET-TEMP -1
{
 getactor[ARRAYPOSITION].pal TEMP
 ifvare TEMP 9 // Palette 9 is 'Old School' Trooper (No abnormal stat calculations)
 {
  state checkskillloadenemy
  setvar ENEMYHP LIZSTRENGTH
  setvar ENEMYMAXAIRTIME LIZAIRTIME
  setvar ENEMYAIRTIME LIZAIRTIME
  setvar ENEMYMAXHP LIZSTRENGTH
  setactorvar[ARRAYPOSITION].ENEMYLEVEL 0
  setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
  setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
  setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
  setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
 }
 else
 ifvare TEMP 6
 {
  state checkskillloadenemy
  setvar ENEMYHP BIOLIZSTRENGTH
  setvar ENEMYMAXAIRTIME BIOLIZAIRTIME
  setvar ENEMYAIRTIME BIOLIZAIRTIME
  setvar ACTORATTACK BIOLIZBASEATTACK
  setvar ACTORDEFENSE BIOLIZBASEDEFENSE
  setvar ENEMYMAXAP BIOLIZSTRENGTH
  setvar ACTORMAXFALLRESIST BIOLIZFALLRESIST
  setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
  setvar ACTORCRITICALHITCHANCE BIOLIZCRITCHANCE
  setvar ACTORSURVIVALVALUE BIOLIZSURVIVALCHANCE
  state extloadactor1
  setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 416 // Metal, Poison, Ion/Energy
  setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 2 // Ice
 }
 else
 ifvare TEMP 17
 {
  getactor[ARRAYPOSITION].lotag TEMP
  ifvarvarl SKILLLEVEL TEMP nullop
  else
  ifvarvare SKILLLEVEL TEMP
  {
   setactor[ARRAYPOSITION].clipdist 96
   setactor[ARRAYPOSITION].xrepeat 55
   setactor[ARRAYPOSITION].yrepeat 55
   state addtomaxkills
  }
  else
  ifvarvarg SKILLLEVEL TEMP
  {
   setactor[ARRAYPOSITION].clipdist 96
   setactor[ARRAYPOSITION].xrepeat 55
   setactor[ARRAYPOSITION].yrepeat 55
   state addtomaxkills
  }
  setvar ENEMYHP FERTANGSTRENGTH
  setvar ENEMYMAXAIRTIME FERTANGAIRTIME
  setvar ENEMYAIRTIME FERTANGAIRTIME
  setvar ACTORATTACK FERTANGBASEATTACK
  setvar ACTORDEFENSE FERTANGBASEDEFENSE
  setvar ENEMYMAXAP FERTANGSTRENGTH
  setvar ACTORMAXFALLRESIST FERTANGFALLRESIST
  setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
  setvar ACTORCRITICALHITCHANCE FERTANGCRITCHANCE
  setvar ACTORSURVIVALVALUE FERTANGSURVIVALCHANCE
  state extloadactor1
  setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 416 // Metal, Poison, Ion/Energy
  setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 2 // Ice
 }
 else
 ifvare TEMP 19
 {
  state checkskillloadenemy
  setvar ENEMYHP LASERLIZSTRENGTH
  setvar ENEMYMAXAIRTIME LASERLIZAIRTIME
  setvar ENEMYAIRTIME LASERLIZAIRTIME
  setvar ACTORATTACK FERTANGBASEATTACK
  setvar ACTORDEFENSE LASERLIZBASEDEFENSE
  setvar ENEMYMAXAP LASERLIZSTRENGTH
  setvar ACTORMAXFALLRESIST LASERLIZFALLRESIST
  setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
  setvar ACTORCRITICALHITCHANCE LASERLIZCRITCHANCE
  setvar ACTORSURVIVALVALUE LASERLIZSURVIVALCHANCE
  state extloadactor1
  setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 416 // Metal, Poison, Ion/Energy
  setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 2 // Ice
 }
 else
 {
  state checkskillloadenemy
  setvar ENEMYHP LIZSTRENGTH
  setvar ENEMYMAXAIRTIME LIZAIRTIME
  setvar ENEMYAIRTIME LIZAIRTIME
  setvar ACTORATTACK LIZBASEATTACK
  setvar ACTORDEFENSE LIZBASEDEFENSE
  setvar ENEMYMAXAP LIZSTRENGTH
  setvar ACTORMAXFALLRESIST LIZFALLRESIST
  setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
  setvar ACTORCRITICALHITCHANCE LIZCRITCHANCE
  setvar ACTORSURVIVALVALUE LIZSURVIVALCHANCE
  state extloadactor1
  setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 386 // Ice, Poison, Ion/Energy
 }

 addvar SKILLSET-TEMP 1
 setactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
} 
ends

state load_boss1
getactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
ifvarn SKILLSET-TEMP -1
{
 getactor[ARRAYPOSITION].pal TEMP
 ifvare TEMP 9 // Palette 9 is 'Old School' (No abnormal stat calculations)
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 30
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 30
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   setvar ENEMYHP BOSS1STRENGTH
   setvar ENEMYMAXAIRTIME BOSS1AIRTIME
   setvar ENEMYAIRTIME BOSS1AIRTIME
   setvar ENEMYMAXHP BOSS1STRENGTH
   setactorvar[ARRAYPOSITION].ENEMYLEVEL 0
   setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
   setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
 }
 else
 ifvare TEMP 10 // Palette 10 will be 'Old School' (No abnormal stat calculations)
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 82 // 30
    setactor[ARRAYPOSITION].xrepeat 40
    setactor[ARRAYPOSITION].yrepeat 40
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 82 // 30
    setactor[ARRAYPOSITION].xrepeat 40
    setactor[ARRAYPOSITION].yrepeat 40
    state addtomaxkills
   }
   setvar ENEMYHP BOSS1PALSTRENGTH
   setvar ENEMYMAXAIRTIME BOSS1PALAIRTIME
   setvar ENEMYAIRTIME BOSS1PALAIRTIME
   setvar ENEMYMAXHP BOSS1PALSTRENGTH
   setactorvar[ARRAYPOSITION].ENEMYLEVEL 0
   setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
   setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
 }
 else
 ifvare TEMP 0
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   setvar ENEMYHP BOSS1STRENGTH
   setvar ENEMYMAXAIRTIME BOSS1AIRTIME
   setvar ENEMYAIRTIME BOSS1AIRTIME
   setvar ACTORATTACK BOSS1BASEATTACK
   setvar ACTORDEFENSE BOSS1BASEDEFENSE
   setvar ENEMYMAXAP BOSS1STRENGTH
   setvar ACTORMAXFALLRESIST BOSS1FALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE BOSS1CRITCHANCE
   setvar ACTORSURVIVALVALUE BOSS1SURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 2 // Ice
 }
 else
 ifvare TEMP 3
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   setvar ENEMYHP BOSS1STRENGTH
   setvar ENEMYMAXAIRTIME BOSS1AIRTIME
   setvar ENEMYAIRTIME BOSS1AIRTIME
   setvar ACTORATTACK BOSS1BASEATTACK
   setvar ACTORDEFENSE BOSS1BASEDEFENSE
   setvar ENEMYMAXAP BOSS1STRENGTH
   setvar ACTORMAXFALLRESIST BOSS1FALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE BOSS1CRITCHANCE
   setvar ACTORSURVIVALVALUE BOSS1SURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 2 // Ice
 }
 else
 ifvare TEMP 24
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 98 // 36
    setactor[ARRAYPOSITION].xrepeat 48
    setactor[ARRAYPOSITION].yrepeat 48
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 98 // 36
    setactor[ARRAYPOSITION].xrepeat 48
    setactor[ARRAYPOSITION].yrepeat 48
    state addtomaxkills
   }
   setvar ENEMYHP BOSS1ESSSTRENGTH
   setvar ENEMYMAXAIRTIME BOSS1ESSAIRTIME
   setvar ENEMYAIRTIME BOSS1ESSAIRTIME
   setvar ACTORATTACK BOSS1ESSBASEATTACK
   setvar ACTORDEFENSE BOSS1ESSBASEDEFENSE
   setvar ENEMYMAXAP BOSS1ESSSTRENGTH
   setvar ACTORMAXFALLRESIST BOSS1ESSFALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE BOSS1ESSCRITCHANCE
   setvar ACTORSURVIVALVALUE BOSS1ESSSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 2 // Ice
 }
 else
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 82 // 30
    setactor[ARRAYPOSITION].xrepeat 40
    setactor[ARRAYPOSITION].yrepeat 40
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 82 // 30
    setactor[ARRAYPOSITION].xrepeat 40
    setactor[ARRAYPOSITION].yrepeat 40
    state addtomaxkills
   }
   setvar ENEMYHP BOSS1PALSTRENGTH
   setvar ENEMYMAXAIRTIME BOSS1PALAIRTIME
   setvar ENEMYAIRTIME BOSS1PALAIRTIME
   setvar ACTORATTACK BOSS1PALBASEATTACK
   setvar ACTORDEFENSE BOSS1PALBASEDEFENSE
   setvar ENEMYMAXAP BOSS1PALSTRENGTH
   setvar ACTORMAXFALLRESIST BOSS1PALFALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE BOSS1PALCRITCHANCE
   setvar ACTORSURVIVALVALUE BOSS1PALSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 2 // Ice
 }

 addvar SKILLSET-TEMP 1
 setactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
}
ends

state load_boss2
getactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
ifvarn SKILLSET-TEMP -1
{
 getactor[ARRAYPOSITION].pal TEMP
 ifvare TEMP 10 // Palette 10 will be 'Old School' (No abnormal stat calculations)
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 82 // 30
    setactor[ARRAYPOSITION].xrepeat 40
    setactor[ARRAYPOSITION].yrepeat 40
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 82 // 30
    setactor[ARRAYPOSITION].xrepeat 40
    setactor[ARRAYPOSITION].yrepeat 40
    state addtomaxkills
   }
   setvar ENEMYHP BOSS2PALSTRENGTH
   setvar ENEMYMAXAIRTIME BOSS2PALAIRTIME
   setvar ENEMYAIRTIME BOSS2PALAIRTIME
   setvar ENEMYMAXHP BOSS2PALSTRENGTH
   setactorvar[ARRAYPOSITION].ENEMYLEVEL 0
   setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
   setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
 }
 else
 ifvare TEMP 0
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   setvar ENEMYHP BOSS2STRENGTH
   setvar ENEMYMAXAIRTIME BOSS2AIRTIME
   setvar ENEMYAIRTIME BOSS2AIRTIME
   setvar ACTORATTACK BOSS2BASEATTACK
   setvar ACTORDEFENSE BOSS2BASEDEFENSE
   setvar ENEMYMAXAP BOSS2STRENGTH
   setvar ACTORMAXFALLRESIST BOSS2FALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE BOSS2CRITCHANCE
   setvar ACTORSURVIVALVALUE BOSS2SURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 2 // Ice
 }
 else
 ifvare TEMP 3
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   setvar ENEMYHP BOSS2STRENGTH
   setvar ENEMYMAXAIRTIME BOSS2AIRTIME
   setvar ENEMYAIRTIME BOSS2AIRTIME
   setvar ACTORATTACK BOSS2BASEATTACK
   setvar ACTORDEFENSE BOSS2BASEDEFENSE
   setvar ENEMYMAXAP BOSS2STRENGTH
   setvar ACTORMAXFALLRESIST BOSS2FALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE BOSS2CRITCHANCE
   setvar ACTORSURVIVALVALUE BOSS2SURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 2 // Ice
 }
 else
 ifvare TEMP 9
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   setvar ENEMYHP BOSS2STRENGTH
   setvar ENEMYMAXAIRTIME BOSS2AIRTIME
   setvar ENEMYAIRTIME BOSS2AIRTIME
   setvar ENEMYMAXHP BOSS2STRENGTH
   setvar ACTORATTACK BOSS2PROLOUGEBASEATTACK
   setvar ACTORDEFENSE BOSS2PROLOUGEBASEDEFENSE
   setactorvar[ARRAYPOSITION].ENEMYLEVEL 0
   setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
   setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
   setactorvar[ARRAYPOSITION].ACTORATTACK ACTORATTACK
   setactorvar[ARRAYPOSITION].ACTORDEFENSE ACTORDEFENSE
 }
 else
 ifvare TEMP 24
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 98 // 36
    setactor[ARRAYPOSITION].xrepeat 48
    setactor[ARRAYPOSITION].yrepeat 48
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 98 // 36
    setactor[ARRAYPOSITION].xrepeat 48
    setactor[ARRAYPOSITION].yrepeat 48
    state addtomaxkills
   }
   setvar ENEMYHP BOSS2MEGATONSTRENGTH
   setvar ENEMYMAXAIRTIME BOSS2MEGATONAIRTIME
   setvar ENEMYAIRTIME BOSS2MEGATONAIRTIME
   setvar ACTORATTACK BOSS2MEGATONBASEATTACK
   setvar ACTORDEFENSE BOSS2MEGATONBASEDEFENSE
   setvar ENEMYMAXAP BOSS2MEGATONSTRENGTH
   setvar ACTORMAXFALLRESIST BOSS2MEGATONFALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE BOSS2MEGACRITCHANCE
   setvar ACTORSURVIVALVALUE BOSS2MEGASURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 2 // Ice
 }
 else
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 82 // 30
    setactor[ARRAYPOSITION].xrepeat 40
    setactor[ARRAYPOSITION].yrepeat 40
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 82 // 30
    setactor[ARRAYPOSITION].xrepeat 40
    setactor[ARRAYPOSITION].yrepeat 40
    state addtomaxkills
   }
   setvar ENEMYHP BOSS2PALSTRENGTH
   setvar ENEMYMAXAIRTIME BOSS2PALAIRTIME
   setvar ENEMYAIRTIME BOSS2PALAIRTIME
   setvar ACTORATTACK BOSS2PALBASEATTACK
   setvar ACTORDEFENSE BOSS2PALBASEDEFENSE
   setvar ENEMYMAXAP BOSS2PALSTRENGTH
   setvar ACTORMAXFALLRESIST BOSS2PALFALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE BOSS2PALCRITCHANCE
   setvar ACTORSURVIVALVALUE BOSS2PALSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 2 // Ice
 }

 addvar SKILLSET-TEMP 1
 setactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
}
ends

state load_boss3
getactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
ifvarn SKILLSET-TEMP -1
{
 getactor[ARRAYPOSITION].pal TEMP
 ifvare TEMP 9 // Palette 9 is 'Old School' (No abnormal stat calculations)
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   setvar ENEMYHP BOSS3STRENGTH
   setvar ENEMYMAXAIRTIME BOSS3AIRTIME
   setvar ENEMYAIRTIME BOSS3AIRTIME
   setvar ENEMYMAXHP BOSS3STRENGTH
   setactorvar[ARRAYPOSITION].ENEMYLEVEL 0
   setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
   setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
 }
 else
 ifvare TEMP 10 // Palette 10 will be 'Old School' (No abnormal stat calculations)
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 82 // 30
    setactor[ARRAYPOSITION].xrepeat 40
    setactor[ARRAYPOSITION].yrepeat 40
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 82 // 30
    setactor[ARRAYPOSITION].xrepeat 40
    setactor[ARRAYPOSITION].yrepeat 40
    state addtomaxkills
   }
   setvar ENEMYHP BOSS3PALSTRENGTH
   setvar ENEMYMAXAIRTIME BOSS3PALAIRTIME
   setvar ENEMYAIRTIME BOSS3PALAIRTIME
   setvar ENEMYMAXHP BOSS3PALSTRENGTH
   setactorvar[ARRAYPOSITION].ENEMYLEVEL 0
   setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
   setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
 }
 else
 ifvare TEMP 0
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   setvar ENEMYHP BOSS3STRENGTH
   setvar ENEMYMAXAIRTIME BOSS3AIRTIME
   setvar ENEMYAIRTIME BOSS3AIRTIME
   setvar ACTORATTACK BOSS3BASEATTACK
   setvar ACTORDEFENSE BOSS3BASEDEFENSE
   setvar ENEMYMAXAP BOSS3STRENGTH
   setvar ACTORMAXFALLRESIST BOSS3FALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE BOSS3CRITCHANCE
   setvar ACTORSURVIVALVALUE BOSS3SURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 2 // Ice
 }
 else
 ifvare TEMP 3
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   setvar ENEMYHP BOSS3STRENGTH
   setvar ENEMYMAXAIRTIME BOSS3AIRTIME
   setvar ENEMYAIRTIME BOSS3AIRTIME
   setvar ACTORATTACK BOSS3BASEATTACK
   setvar ACTORDEFENSE BOSS3BASEDEFENSE
   setvar ENEMYMAXAP BOSS3STRENGTH
   setvar ACTORMAXFALLRESIST BOSS3FALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE BOSS3CRITCHANCE
   setvar ACTORSURVIVALVALUE BOSS3SURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 2 // Ice
 }
 else
 ifvare TEMP 24
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 98 // 36
    setactor[ARRAYPOSITION].xrepeat 48
    setactor[ARRAYPOSITION].yrepeat 48
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 98 // 36
    setactor[ARRAYPOSITION].xrepeat 48
    setactor[ARRAYPOSITION].yrepeat 48
    state addtomaxkills
   }
   setvar ENEMYHP BOSS3VOIDSTRENGTH
   setvar ENEMYMAXAIRTIME BOSS3VOIDAIRTIME
   setvar ENEMYAIRTIME BOSS3VOIDAIRTIME
   setvar ACTORATTACK BOSS3VOIDBASEATTACK
   setvar ACTORDEFENSE BOSS3VOIDBASEDEFENSE
   setvar ENEMYMAXAP BOSS3VOIDSTRENGTH
   setvar ACTORMAXFALLRESIST BOSS3VOIDFALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE BOSS3VOIDCRITCHANCE
   setvar ACTORSURVIVALVALUE BOSS3VOIDSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 2 // Ice
 }
 else
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 82 // 30
    setactor[ARRAYPOSITION].xrepeat 40
    setactor[ARRAYPOSITION].yrepeat 40
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 82 // 30
    setactor[ARRAYPOSITION].xrepeat 40
    setactor[ARRAYPOSITION].yrepeat 40
    state addtomaxkills
   }
   setvar ENEMYHP BOSS3PALSTRENGTH
   setvar ENEMYMAXAIRTIME BOSS3PALAIRTIME
   setvar ENEMYAIRTIME BOSS3PALAIRTIME
   setvar ACTORATTACK BOSS3PALBASEATTACK
   setvar ACTORDEFENSE BOSS3PALBASEDEFENSE
   setvar ENEMYMAXAP BOSS3PALSTRENGTH
   setvar ACTORMAXFALLRESIST BOSS3PALFALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE BOSS3PALCRITCHANCE
   setvar ACTORSURVIVALVALUE BOSS3PALSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORWEAKNESSFLAGS 2 // Ice
 }

 addvar SKILLSET-TEMP 1
 setactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
}
ends

state load_commander
getactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
ifvarn SKILLSET-TEMP -1
{
 getactor[ARRAYPOSITION].pal TEMP
 ifvare TEMP 9 // Palette 9 is 'Old School' (No abnormal stat calculations)
 {
  state checkskillloadenemy
  setvar ENEMYHP COMMANDERSTRENGTH
  setvar ENEMYMAXHP COMMANDERSTRENGTH
  setvar ENEMYMAXAIRTIME COMMANDERAIRTIME
  setvar ENEMYAIRTIME COMMANDERAIRTIME
  setactorvar[ARRAYPOSITION].ENEMYLEVEL 0
  setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
  setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
  setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
  setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
 }
 else
 ifvare TEMP 14
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 60
    setactor[ARRAYPOSITION].xrepeat 30
    setactor[ARRAYPOSITION].yrepeat 30
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 60
    setactor[ARRAYPOSITION].xrepeat 30
    setactor[ARRAYPOSITION].yrepeat 30
    state addtomaxkills
   }
   setvar ENEMYHP GENERALSTRENGTH
   setvar ENEMYMAXAIRTIME GENERALAIRTIME
   setvar ENEMYAIRTIME GENERALAIRTIME
   setvar ACTORATTACK GENERALBASEATTACK
   setvar ACTORDEFENSE GENERALBASEDEFENSE
   setvar ENEMYMAXAP GENERALSTRENGTH
   setvar ACTORMAXFALLRESIST 65536
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE GENERALCRITCHANCE
   setvar ACTORSURVIVALVALUE GENERALSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 17 // Fire, Explosions
 }
 else
 ifvare TEMP 25
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 100
    setactor[ARRAYPOSITION].xrepeat 60
    setactor[ARRAYPOSITION].yrepeat 60
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 100
    setactor[ARRAYPOSITION].xrepeat 60
    setactor[ARRAYPOSITION].yrepeat 60
    state addtomaxkills
   }
   setvar ENEMYHP LEADERSTRENGTH
   setvar ENEMYMAXAIRTIME LEADERAIRTIME
   setvar ENEMYAIRTIME LEADERAIRTIME
   setvar ACTORATTACK LEADERBASEATTACK
   setvar ACTORDEFENSE LEADERBASEDEFENSE
   setvar ENEMYMAXAP LEADERSTRENGTH
   setvar ACTORMAXFALLRESIST 65536
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE LEADERCRITCHANCE
   setvar ACTORSURVIVALVALUE LEADERSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 17 // Fire, Explosions
 }
 else
 ifvare TEMP 24
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 120
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 120
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   setvar ENEMYHP BAALOSTRENGTH
   setvar ENEMYMAXAIRTIME BAALOAIRTIME
   setvar ENEMYAIRTIME BAALOAIRTIME
   setvar ACTORATTACK BAALOBASEATTACK
   setvar ACTORDEFENSE BAALOBASEDEFENSE
   setvar ENEMYMAXAP BAALOSTRENGTH
   setvar ACTORMAXFALLRESIST 65536
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE BAALOCRITCHANCE
   setvar ACTORSURVIVALVALUE BAALOSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 17 // Fire, Explosions
 }
 else
 {
   state checkskillloadenemy
   setvar ENEMYHP COMMANDERSTRENGTH
   setvar ENEMYMAXAIRTIME COMMANDERAIRTIME
   setvar ENEMYAIRTIME COMMANDERAIRTIME
   setvar ACTORATTACK COMMANDERBASEATTACK
   setvar ACTORDEFENSE COMMANDERBASEDEFENSE
   setvar ENEMYMAXAP COMMANDERSTRENGTH
   setvar ACTORMAXFALLRESIST 65536
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE COMMANDERCRITCHANCE
   setvar ACTORSURVIVALVALUE COMMANDERSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 17 // Fire, Explosions
 }

 addvar SKILLSET-TEMP 1
 setactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
}
ends

state load_tank
getactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
ifvarn SKILLSET-TEMP -1
{
 getactor[ARRAYPOSITION].pal TEMP
  ifvare TEMP 9 // Palette 9 is 'Old School' (No abnormal stat calculations)
  {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].xrepeat 60
    setactor[ARRAYPOSITION].yrepeat 60
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].xrepeat 60
    setactor[ARRAYPOSITION].yrepeat 60
    state addtomaxkills
   }
   setvar ENEMYHP TANKSTRENGTH
   setvar ENEMYMAXAIRTIME TANKAIRTIME
   setvar ENEMYAIRTIME TANKAIRTIME
   setvar ENEMYMAXHP TANKSTRENGTH
   setactorvar[ARRAYPOSITION].ENEMYLEVEL 0
   setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
   setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
  }
  else
  {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].xrepeat 60
    setactor[ARRAYPOSITION].yrepeat 60
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].xrepeat 60
    setactor[ARRAYPOSITION].yrepeat 60
    state addtomaxkills
   }
   setvar ENEMYHP TANKSTRENGTH
   setvar ENEMYMAXAIRTIME TANKAIRTIME
   setvar ENEMYAIRTIME TANKAIRTIME
   setvar ACTORATTACK TANKBASEATTACK
   setvar ACTORDEFENSE TANKBASEDEFENSE
   setvar ENEMYMAXAP TANKSTRENGTH
   setvar ACTORMAXFALLRESIST TANKFALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE TANKCRITCHANCE
   setvar ACTORSURVIVALVALUE TANKSURVIVALCHANCE
   state extloadactor1
   ifvare TEMP 17 setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 32 // Metal
   else ifvare TEMP 19 setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 16 // Explosives
   else setactorvar[ARRAYPOSITION].ACTORSTRONGFLAGS 257 // Fire, Ion/Energy
  }

 addvar SKILLSET-TEMP 1
 setactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
}
ends

state load_boss4
getactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
ifvarn SKILLSET-TEMP -1
{
 getactor[ARRAYPOSITION].pal TEMP
 ifvare TEMP 9 // Palette 10 will be 'Old School' (No abnormal stat calculations)
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   setvar ENEMYHP BOSS4STRENGTH
   setvar ENEMYMAXAIRTIME BOSS4AIRTIME
   setvar ENEMYAIRTIME BOSS4AIRTIME
   setvar ENEMYMAXHP BOSS4STRENGTH
   setactorvar[ARRAYPOSITION].ENEMYLEVEL 0
   setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
   setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
 }
 else
 ifvare TEMP 0
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   setvar ENEMYHP BOSS4STRENGTH
   setvar ENEMYMAXAIRTIME BOSS4AIRTIME
   setvar ENEMYAIRTIME BOSS4AIRTIME
   setvar ACTORATTACK BOSS4BASEATTACK
   setvar ACTORDEFENSE BOSS4BASEDEFENSE
   setvar ENEMYMAXAP BOSS4STRENGTH
   setvar ACTORMAXFALLRESIST BOSS4FALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE BOSS4CRITCHANCE
   setvar ACTORSURVIVALVALUE BOSS4SURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORABSORBFLAGS 8 // Electric
 }
 else
 ifvare TEMP 3 // Non Game-Ending Version
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 164 // 60
    setactor[ARRAYPOSITION].xrepeat 80
    setactor[ARRAYPOSITION].yrepeat 80
    state addtomaxkills
   }
   setvar ENEMYHP BOSS4STRENGTH
   setvar ENEMYMAXAIRTIME BOSS4AIRTIME
   setvar ENEMYAIRTIME BOSS4AIRTIME
   setvar ACTORATTACK BOSS4BASEATTACK
   setvar ACTORDEFENSE BOSS4BASEDEFENSE
   setvar ENEMYMAXAP BOSS4STRENGTH
   setvar ACTORMAXFALLRESIST BOSS4FALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE BOSS4CRITCHANCE
   setvar ACTORSURVIVALVALUE BOSS4SURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORABSORBFLAGS 8 // Electric
 }
 else
 ifvare TEMP 24
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 123 // 45
    setactor[ARRAYPOSITION].xrepeat 60
    setactor[ARRAYPOSITION].yrepeat 60
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 123 // 45
    setactor[ARRAYPOSITION].xrepeat 60
    setactor[ARRAYPOSITION].yrepeat 60
    state addtomaxkills
   }
   setvar ENEMYHP BOSS4FAKESTRENGTH
   setvar ENEMYMAXAIRTIME BOSS4FAKEAIRTIME
   setvar ENEMYAIRTIME BOSS4FAKEAIRTIME
   setvar ACTORATTACK BOSS4FAKEBASEATTACK
   setvar ACTORDEFENSE BOSS4FAKEBASEDEFENSE
   setvar ENEMYMAXAP BOSS4FAKESTRENGTH
   setvar ACTORMAXFALLRESIST BOSS4FAKEFALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE BOSS4FAKECRITCHANCE
   setvar ACTORSURVIVALVALUE BOSS4FAKESURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORABSORBFLAGS 8 // Electric
 }
 else
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 82 // 30
    setactor[ARRAYPOSITION].xrepeat 40
    setactor[ARRAYPOSITION].yrepeat 40
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 82 // 30
    setactor[ARRAYPOSITION].xrepeat 40
    setactor[ARRAYPOSITION].yrepeat 40
    state addtomaxkills
   }
   setvar ENEMYHP BOSS4PALSTRENGTH
   setvar ENEMYMAXAIRTIME BOSS4PALAIRTIME
   setvar ENEMYAIRTIME BOSS4PALAIRTIME
   setvar ACTORATTACK BOSS4PALBASEATTACK
   setvar ACTORDEFENSE BOSS4PALBASEDEFENSE
   setvar ENEMYMAXAP BOSS4PALSTRENGTH
   setvar ACTORMAXFALLRESIST BOSS4PALFALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE BOSS4PALCRITCHANCE
   setvar ACTORSURVIVALVALUE BOSS4PALSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORABSORBFLAGS 8 // Electric
 }

 addvar SKILLSET-TEMP 1
 setactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
}
ends

state load_newbeast
getactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
ifvarn SKILLSET-TEMP -1
{
 getactor[ARRAYPOSITION].pal TEMP
 ifvare TEMP 9 // Palette 9 is 'Old School' (No abnormal stat calculations)
 {
  getactor[ARRAYPOSITION].lotag TEMP
  ifvarvarl SKILLLEVEL TEMP nullop
  else
  ifvarvare SKILLLEVEL TEMP
  {
   setactor[ARRAYPOSITION].xrepeat 40
   setactor[ARRAYPOSITION].yrepeat 40
   state addtomaxkills
  }
  else
  ifvarvarg SKILLLEVEL TEMP
  {
   setactor[ARRAYPOSITION].xrepeat 40
   setactor[ARRAYPOSITION].yrepeat 40
   state addtomaxkills
  }
  setvar ENEMYHP NEWBEASTSTRENGTH
  setvar ENEMYMAXAIRTIME NEWBEASTAIRTIME
  setvar ENEMYAIRTIME NEWBEASTAIRTIME
  setvar ENEMYMAXHP NEWBEASTSTRENGTH
  setactorvar[ARRAYPOSITION].ENEMYLEVEL 0
  setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
  setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
  setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
  setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
 }
 else
 ifvare TEMP 17
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 90
    setactor[ARRAYPOSITION].xrepeat 50
    setactor[ARRAYPOSITION].yrepeat 50
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 90
    setactor[ARRAYPOSITION].xrepeat 50
    setactor[ARRAYPOSITION].yrepeat 50
    state addtomaxkills
   }
   setvar ENEMYHP NEWBEAST2LSTRENGTH
   setvar ENEMYMAXAIRTIME NEWBEAST2LAIRTIME
   setvar ENEMYAIRTIME NEWBEAST2LAIRTIME
   setvar ACTORATTACK NEWBEAST2LBASEATTACK
   setvar ACTORDEFENSE NEWBEAST2LBASEDEFENSE
   setvar ENEMYMAXAP NEWBEAST2LSTRENGTH
   setvar ACTORMAXFALLRESIST NEWBEAST2LFALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE NEWBEAST2LCRITCHANCE
   setvar ACTORSURVIVALVALUE NEWBEAST2LSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORABSORBFLAGS 8 // Electric
 }
 else
 ifvare TEMP 20
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 100
    setactor[ARRAYPOSITION].xrepeat 60
    setactor[ARRAYPOSITION].yrepeat 60
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 100
    setactor[ARRAYPOSITION].xrepeat 60
    setactor[ARRAYPOSITION].yrepeat 60
    state addtomaxkills
   }
   setvar ENEMYHP NEWBEAST2GSTRENGTH
   setvar ENEMYMAXAIRTIME NEWBEAST2GAIRTIME
   setvar ENEMYAIRTIME NEWBEAST2GAIRTIME
   setvar ACTORATTACK NEWBEAST2GBASEATTACK
   setvar ACTORDEFENSE NEWBEAST2GBASEDEFENSE
   setvar ENEMYMAXAP NEWBEAST2GSTRENGTH
   setvar ACTORMAXFALLRESIST NEWBEAST2GFALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE NEWBEAST2GCRITCHANCE
   setvar ACTORSURVIVALVALUE NEWBEAST2GSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORABSORBFLAGS 8 // Electric
 }
 else
 {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].xrepeat 40
    setactor[ARRAYPOSITION].yrepeat 40
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].xrepeat 40
    setactor[ARRAYPOSITION].yrepeat 40
    state addtomaxkills
   }
   setvar ENEMYHP NEWBEASTSTRENGTH
   setvar ENEMYMAXAIRTIME NEWBEASTAIRTIME
   setvar ENEMYAIRTIME NEWBEASTAIRTIME
   setvar ACTORATTACK NEWBEASTBASEATTACK
   setvar ACTORDEFENSE NEWBEASTBASEDEFENSE
   setvar ENEMYMAXAP NEWBEASTSTRENGTH
   setvar ACTORMAXFALLRESIST NEWBEASTFALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE NEWBEASTCRITCHANCE
   setvar ACTORSURVIVALVALUE NEWBEASTSURVIVALCHANCE
   state extloadactor1
   setactorvar[ARRAYPOSITION].ACTORABSORBFLAGS 8 // Electric
 }

 addvar SKILLSET-TEMP 1
 setactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
}
ends

state load_scorpiontank
getactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
ifvarn SKILLSET-TEMP -1
{
 getactor[ARRAYPOSITION].pal TEMP
  ifvare TEMP 9 // Palette 9 is 'Old School' (No abnormal stat calculations)
  {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 112
    setactor[ARRAYPOSITION].xrepeat 60
    setactor[ARRAYPOSITION].yrepeat 60
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 112
    setactor[ARRAYPOSITION].xrepeat 60
    setactor[ARRAYPOSITION].yrepeat 60
    state addtomaxkills
   }
   setvar ENEMYHP SCORPIONTANKSTRENGTH
   setvar ENEMYMAXAIRTIME SCORPIONTANKAIRTIME
   setvar ENEMYAIRTIME SCORPIONTANKAIRTIME
   setvar ENEMYMAXHP SCORPIONTANKSTRENGTH
   setactorvar[ARRAYPOSITION].ENEMYLEVEL 0
   setactorvar[ARRAYPOSITION].ENEMYHP ENEMYHP
   setactorvar[ARRAYPOSITION].ENEMYMAXAIRTIME ENEMYMAXAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYAIRTIME ENEMYAIRTIME
   setactorvar[ARRAYPOSITION].ENEMYMAXHP ENEMYMAXHP
  }
  else
  {
   getactor[ARRAYPOSITION].lotag TEMP
   ifvarvarl SKILLLEVEL TEMP nullop
   else
   ifvarvare SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 112
    setactor[ARRAYPOSITION].xrepeat 60
    setactor[ARRAYPOSITION].yrepeat 60
    state addtomaxkills
   }
   else
   ifvarvarg SKILLLEVEL TEMP
   {
    setactor[ARRAYPOSITION].clipdist 112
    setactor[ARRAYPOSITION].xrepeat 60
    setactor[ARRAYPOSITION].yrepeat 60
    state addtomaxkills
   }
   setvar ENEMYHP SCORPIONTANKSTRENGTH
   setvar ENEMYMAXAIRTIME SCORPIONTANKAIRTIME
   setvar ENEMYAIRTIME SCORPIONTANKAIRTIME
   setvar ACTORATTACK SCORPIONTANKBASEATTACK
   setvar ACTORDEFENSE SCORPIONTANKBASEDEFENSE
   setvar ENEMYMAXAP SCORPIONTANKSTRENGTH
   setvar ACTORMAXFALLRESIST SCORPIONTANKFALLRESIST
   setvarvar ACTORFALLRESIST ACTORMAXFALLRESIST
   setvar ACTORCRITICALHITCHANCE SCORPIONTANKCRITCHANCE
   setvar ACTORSURVIVALVALUE SCORPIONTANKSURVIVALCHANCE
   state extloadactor1
  }

 addvar SKILLSET-TEMP 1
 setactorvar[ARRAYPOSITION].SKILLSET? SKILLSET-TEMP
}
ends
/*
state load_evilninja
ends

state load_coolieghost
ends

state load_coolie
ends

state load_guardian
ends

state load_koi
ends

state load_hornet
ends

state load_ripper
ends

state load_ripperbaby
ends

state load_femaleninja
ends

state load_sumo
ends

state load_serpentgod
ends

state load_bettymine
ends

state load_accursedhead
ends

state load_essence_boss
ends

state load_cybanis_boss
ends

state load_tzilla1
ends

state load_zerman
ends

state load_fertang
ends

state load_ramone
ends

state load_baalo
ends

state load_tzilla2
ends

state load_naferia1
ends

state load_doppelganger
ends

state load_nzilla1
ends

state load_matei
ends

state load_elektrovaren1
ends

state load_doppelganger2
ends

state load_hanomothas
ends

state load_elektrovaren2
ends

state load_naferia2
ends
*/

state refreshenemystatsonlevel
 setvar ARRAYPOSITION 0
 whilevarn ARRAYPOSITION 16383
 {
  // Thing IDs -.-
  ifvarl ARRAYPOSITION 16384
  {
   getactor[ARRAYPOSITION].statnum tempc 
   ifvarn tempc 1024
   {
    getactor[ARRAYPOSITION].picnum tempc 
 
    ifvare tempc SHARK state load_shark
    else ifvare tempc ROTATEGUN state load_rotategun 
    else ifvare tempc LIZTROOP state load_liztroop   
    else ifvare tempc LIZTROOPSTAYPUT state load_liztroop   
    else ifvare tempc LIZTROOPJETPACK state load_liztroop   
    else ifvare tempc LIZTROOPDUCKING state load_liztroop
    else ifvare tempc LIZTROOPRUNNING state load_liztroop   
    else ifvare tempc LIZTROOPSHOOT state load_liztroop   
    else ifvare tempc LIZTROOPONTOILET state load_liztroop   
    else ifvare tempc LIZTROOPJUSTSIT state load_liztroop   
    else ifvare tempc PIGCOP state load_pigcop  
    else ifvare tempc PIGCOPDIVE state load_pigcop
    else ifvare tempc PIGCOPSTAYPUT state load_pigcop
    else ifvare tempc LIZMAN state load_lizman
    else ifvare tempc LIZMANSTAYPUT state load_lizman
    else ifvare tempc LIZMANSPITTING state load_lizman
    else ifvare tempc LIZMANJUMP state load_lizman
    else ifvare tempc DRONE state load_drone
    else ifvare tempc OCTABRAIN state load_octabrain
    else ifvare tempc OCTABRAINSTAYPUT state load_octabrain
    else ifvare tempc BOSS1 state load_boss1
    else ifvare tempc BOSS1STAYPUT state load_boss1
    else ifvare tempc BOSS1SHOOT state load_boss1
    else ifvare tempc BOSS1LOB state load_boss1
    else ifvare tempc BOSS2 state load_boss2
    else ifvare tempc BOSS2STAYPUT state load_boss2
    else ifvare tempc BOSS2SHOOT state load_boss2
    else ifvare tempc BOSS2BREATH state load_boss2
    else ifvare tempc BOSS3 state load_boss3
    else ifvare tempc BOSS3STAYPUT state load_boss3
    else ifvare tempc BOSS3LOB state load_boss3
    else ifvare tempc COMMANDER state load_commander
    else ifvare tempc COMMANDERSTAYPUT state load_commander
    else ifvare tempc TANK state load_tank
    else ifvare tempc BOSS4 state load_boss4
    else ifvare tempc BOSS4STAYPUT state load_boss4
    else ifvare tempc NEWBEAST state load_newbeast
    else ifvare tempc NEWBEASTSTAYPUT state load_newbeast
    else ifvare tempc NEWBEASTJUMP state load_newbeast
    else ifvare tempc NEWBEASTHANG state load_newbeast
    else ifvare tempc SCORPIONTANK state load_scorpiontank
   }
  }

  // End
  addvar ARRAYPOSITION 1
  ifvarg ARRAYPOSITION 16383 break
 }
ends

state getexpmetertable
      ifvare PLAYERTEMPLEVEL 1 { setvar TEMPVAR3 0 setvar TEMPVAR4 80 }
      ifvare PLAYERTEMPLEVEL 2 { setvar TEMPVAR3 80 setvar TEMPVAR4 200 }
      ifvare PLAYERTEMPLEVEL 3 { setvar TEMPVAR3 200 setvar TEMPVAR4 360 }
      ifvare PLAYERTEMPLEVEL 4 { setvar TEMPVAR3 360 setvar TEMPVAR4 560 }
      ifvare PLAYERTEMPLEVEL 5 { setvar TEMPVAR3 560 setvar TEMPVAR4 800 }
      ifvare PLAYERTEMPLEVEL 6 { setvar TEMPVAR3 800 setvar TEMPVAR4 1080 }
      ifvare PLAYERTEMPLEVEL 7 { setvar TEMPVAR3 1080 setvar TEMPVAR4 1400 }
      ifvare PLAYERTEMPLEVEL 8 { setvar TEMPVAR3 1400 setvar TEMPVAR4 1760 }
      ifvare PLAYERTEMPLEVEL 9 { setvar TEMPVAR3 1760 setvar TEMPVAR4 2160 }
      ifvare PLAYERTEMPLEVEL 10 { setvar TEMPVAR3 2160 setvar TEMPVAR4 2600 }

      ifvare PLAYERTEMPLEVEL 11 { setvar TEMPVAR3 2600 setvar TEMPVAR4 3080 }
      ifvare PLAYERTEMPLEVEL 12 { setvar TEMPVAR3 3080 setvar TEMPVAR4 3600 }
      ifvare PLAYERTEMPLEVEL 13 { setvar TEMPVAR3 3600 setvar TEMPVAR4 4160 }
      ifvare PLAYERTEMPLEVEL 14 { setvar TEMPVAR3 4160 setvar TEMPVAR4 4760 }
      ifvare PLAYERTEMPLEVEL 15 { setvar TEMPVAR3 4760 setvar TEMPVAR4 5200 }
      ifvare PLAYERTEMPLEVEL 16 { setvar TEMPVAR3 5200 setvar TEMPVAR4 5880 }
      ifvare PLAYERTEMPLEVEL 17 { setvar TEMPVAR3 5880 setvar TEMPVAR4 6600 }
      ifvare PLAYERTEMPLEVEL 18 { setvar TEMPVAR3 6600 setvar TEMPVAR4 7360 }
      ifvare PLAYERTEMPLEVEL 19 { setvar TEMPVAR3 7360 setvar TEMPVAR4 8160 }
      ifvare PLAYERTEMPLEVEL 20 { setvar TEMPVAR3 8160 setvar TEMPVAR4 9000 }

      ifvare PLAYERTEMPLEVEL 21 { setvar TEMPVAR3 9000 setvar TEMPVAR4 9880 }
      ifvare PLAYERTEMPLEVEL 22 { setvar TEMPVAR3 9880 setvar TEMPVAR4 10800 }
      ifvare PLAYERTEMPLEVEL 23 { setvar TEMPVAR3 10800 setvar TEMPVAR4 11760 }
      ifvare PLAYERTEMPLEVEL 24 { setvar TEMPVAR3 11760 setvar TEMPVAR4 12760 }
      ifvare PLAYERTEMPLEVEL 25 { setvar TEMPVAR3 12760 setvar TEMPVAR4 13840 }
      ifvare PLAYERTEMPLEVEL 26 { setvar TEMPVAR3 13840 setvar TEMPVAR4 15000 }
      ifvare PLAYERTEMPLEVEL 27 { setvar TEMPVAR3 15000 setvar TEMPVAR4 16240 }
      ifvare PLAYERTEMPLEVEL 28 { setvar TEMPVAR3 16240 setvar TEMPVAR4 17560 }
      ifvare PLAYERTEMPLEVEL 29 { setvar TEMPVAR3 17560 setvar TEMPVAR4 18960 }
      ifvare PLAYERTEMPLEVEL 30 { setvar TEMPVAR3 18960 setvar TEMPVAR4 20440 }

      ifvare PLAYERTEMPLEVEL 31 { setvar TEMPVAR3 20440 setvar TEMPVAR4 22000 }
      ifvare PLAYERTEMPLEVEL 32 { setvar TEMPVAR3 22000 setvar TEMPVAR4 23640 }
      ifvare PLAYERTEMPLEVEL 33 { setvar TEMPVAR3 23640 setvar TEMPVAR4 25360 }
      ifvare PLAYERTEMPLEVEL 34 { setvar TEMPVAR3 25360 setvar TEMPVAR4 27160 }
      ifvare PLAYERTEMPLEVEL 35 { setvar TEMPVAR3 27160 setvar TEMPVAR4 29040 }
      ifvare PLAYERTEMPLEVEL 36 { setvar TEMPVAR3 29040 setvar TEMPVAR4 33120 }
      ifvare PLAYERTEMPLEVEL 37 { setvar TEMPVAR3 33120 setvar TEMPVAR4 35400 }
      ifvare PLAYERTEMPLEVEL 38 { setvar TEMPVAR3 35400 setvar TEMPVAR4 37740 }
      ifvare PLAYERTEMPLEVEL 39 { setvar TEMPVAR3 37740 setvar TEMPVAR4 40340 }
      ifvare PLAYERTEMPLEVEL 40 { setvar TEMPVAR3 40430 setvar TEMPVAR4 43100 }

      ifvare PLAYERTEMPLEVEL 41 { setvar TEMPVAR3 43100 setvar TEMPVAR4 45900 }
      ifvare PLAYERTEMPLEVEL 42 { setvar TEMPVAR3 45900 setvar TEMPVAR4 49160 }
      ifvare PLAYERTEMPLEVEL 43 { setvar TEMPVAR3 49160 setvar TEMPVAR4 52760 }
      ifvare PLAYERTEMPLEVEL 44 { setvar TEMPVAR3 52760 setvar TEMPVAR4 56600 }
      ifvare PLAYERTEMPLEVEL 45 { setvar TEMPVAR3 56600 setvar TEMPVAR4 61120 }
      ifvare PLAYERTEMPLEVEL 46 { setvar TEMPVAR3 61120 setvar TEMPVAR4 65280 }
      ifvare PLAYERTEMPLEVEL 47 { setvar TEMPVAR3 65280 setvar TEMPVAR4 71080 }
      ifvare PLAYERTEMPLEVEL 48 { setvar TEMPVAR3 71080 setvar TEMPVAR4 77440 }
      ifvare PLAYERTEMPLEVEL 49 { setvar TEMPVAR3 77440 setvar TEMPVAR4 84520 }
      ifvare PLAYERTEMPLEVEL 50 { setvar TEMPVAR3 84520 setvar TEMPVAR4 91240 }

      ifvare PLAYERTEMPLEVEL 51 { setvar TEMPVAR3 91240 setvar TEMPVAR4 99600 }
      ifvare PLAYERTEMPLEVEL 52 { setvar TEMPVAR3 99600 setvar TEMPVAR4 108600 }
      ifvare PLAYERTEMPLEVEL 53 { setvar TEMPVAR3 108600 setvar TEMPVAR4 118400 }
      ifvare PLAYERTEMPLEVEL 54 { setvar TEMPVAR3 118400 setvar TEMPVAR4 129000 }
      ifvare PLAYERTEMPLEVEL 55 { setvar TEMPVAR3 129000 setvar TEMPVAR4 140800 }
      ifvare PLAYERTEMPLEVEL 56 { setvar TEMPVAR3 140800 setvar TEMPVAR4 154200 }
      ifvare PLAYERTEMPLEVEL 57 { setvar TEMPVAR3 154200 setvar TEMPVAR4 209600 }
      ifvare PLAYERTEMPLEVEL 58 { setvar TEMPVAR3 209600 setvar TEMPVAR4 227400 }
      ifvare PLAYERTEMPLEVEL 59 { setvar TEMPVAR3 227400 setvar TEMPVAR4 248000 }
      ifvare PLAYERTEMPLEVEL 60 { setvar TEMPVAR3 248000 setvar TEMPVAR4 271800 }

      ifvare PLAYERTEMPLEVEL 61 { setvar TEMPVAR3 271800 setvar TEMPVAR4 299200 }
      ifvare PLAYERTEMPLEVEL 62 { setvar TEMPVAR3 299200 setvar TEMPVAR4 320600 }
      ifvare PLAYERTEMPLEVEL 63 { setvar TEMPVAR3 320600 setvar TEMPVAR4 356400 }
      ifvare PLAYERTEMPLEVEL 64 { setvar TEMPVAR3 356400 setvar TEMPVAR4 397000 }
      ifvare PLAYERTEMPLEVEL 65 { setvar TEMPVAR3 397000 setvar TEMPVAR4 442800 }
      ifvare PLAYERTEMPLEVEL 66 { setvar TEMPVAR3 442800 setvar TEMPVAR4 494200 }
      ifvare PLAYERTEMPLEVEL 67 { setvar TEMPVAR3 494200 setvar TEMPVAR4 551600 }
      ifvare PLAYERTEMPLEVEL 68 { setvar TEMPVAR3 551600 setvar TEMPVAR4 615400 }
      ifvare PLAYERTEMPLEVEL 69 { setvar TEMPVAR3 615400 setvar TEMPVAR4 676000 }
      ifvare PLAYERTEMPLEVEL 70 { setvar TEMPVAR3 676000 setvar TEMPVAR4 753800 }

      ifvare PLAYERTEMPLEVEL 71 { setvar TEMPVAR3 753800 setvar TEMPVAR4 839200 }
      ifvare PLAYERTEMPLEVEL 72 { setvar TEMPVAR3 839200 setvar TEMPVAR4 932600 }
      ifvare PLAYERTEMPLEVEL 73 { setvar TEMPVAR3 932600 setvar TEMPVAR4 1034400 }
      ifvare PLAYERTEMPLEVEL 74 { setvar TEMPVAR3 1034400 setvar TEMPVAR4 1145000 }
      ifvare PLAYERTEMPLEVEL 75 { setvar TEMPVAR3 1145000 setvar TEMPVAR4 1254800 }
      ifvare PLAYERTEMPLEVEL 76 { setvar TEMPVAR3 1254800 setvar TEMPVAR4 1384200 }
      ifvare PLAYERTEMPLEVEL 77 { setvar TEMPVAR3 1384200 setvar TEMPVAR4 1513600 }
      ifvare PLAYERTEMPLEVEL 78 { setvar TEMPVAR3 1513600 setvar TEMPVAR4 1663600 }
      ifvare PLAYERTEMPLEVEL 79 { setvar TEMPVAR3 1663600 setvar TEMPVAR4 1823600 }
      ifvare PLAYERTEMPLEVEL 80 { setvar TEMPVAR3 1823600 setvar TEMPVAR4 1993600 }

      ifvare PLAYERTEMPLEVEL 81 { setvar TEMPVAR3 1993600 setvar TEMPVAR4 2173600 }
      ifvare PLAYERTEMPLEVEL 82 { setvar TEMPVAR3 2173600 setvar TEMPVAR4 2363600 }
      ifvare PLAYERTEMPLEVEL 83 { setvar TEMPVAR3 2363600 setvar TEMPVAR4 2563600 }
      ifvare PLAYERTEMPLEVEL 84 { setvar TEMPVAR3 2563600 setvar TEMPVAR4 2783600 }
      ifvare PLAYERTEMPLEVEL 85 { setvar TEMPVAR3 2783600 setvar TEMPVAR4 3023600 }
      ifvare PLAYERTEMPLEVEL 86 { setvar TEMPVAR3 3023600 setvar TEMPVAR4 3283600 }
      ifvare PLAYERTEMPLEVEL 87 { setvar TEMPVAR3 3283600 setvar TEMPVAR4 3563600 }
      ifvare PLAYERTEMPLEVEL 88 { setvar TEMPVAR3 3563600 setvar TEMPVAR4 3863600 }
      ifvare PLAYERTEMPLEVEL 89 { setvar TEMPVAR3 3863600 setvar TEMPVAR4 4183600 }
      ifvare PLAYERTEMPLEVEL 90 { setvar TEMPVAR3 4183600 setvar TEMPVAR4 4523600 }

      ifvare PLAYERTEMPLEVEL 91 { setvar TEMPVAR3 4523600 setvar TEMPVAR4 4883600 }
      ifvare PLAYERTEMPLEVEL 92 { setvar TEMPVAR3 4883600 setvar TEMPVAR4 5263600 }
      ifvare PLAYERTEMPLEVEL 93 { setvar TEMPVAR3 5263600 setvar TEMPVAR4 5663600 }
      ifvare PLAYERTEMPLEVEL 94 { setvar TEMPVAR3 5663600 setvar TEMPVAR4 6103600 }
      ifvare PLAYERTEMPLEVEL 95 { setvar TEMPVAR3 6103600 setvar TEMPVAR4 6583600 }
      ifvare PLAYERTEMPLEVEL 96 { setvar TEMPVAR3 6583600 setvar TEMPVAR4 7103600 }
      ifvare PLAYERTEMPLEVEL 97 { setvar TEMPVAR3 7103600 setvar TEMPVAR4 7663600 }
      ifvare PLAYERTEMPLEVEL 98 { setvar TEMPVAR3 7663600 setvar TEMPVAR4 8263600 }
      ifvare PLAYERTEMPLEVEL 99 { setvar TEMPVAR3 8263600 setvar TEMPVAR4 9163600 }
      ifvare PLAYERTEMPLEVEL 100 { setvar TEMPVAR3 9163600 setvar TEMPVAR4 9163600 }
ends

state getcharacterexptable
   getactorvar[CHARACTERARRAY].CHARACTEREXPPTS temp
   ifvarl temp 80 // +80
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 80
   }
   else
   ifvarl temp 200 // +120 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 200
   }
   else
   ifvarl temp 360 // +160 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 360
   }
   else
   ifvarl temp 560 // +200 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 560
   }
   else
   ifvarl temp 800 // +240 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 800
   }
   else
   ifvarl temp 1080 // +280 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1080
   }
   else
    ifvarl temp 1400 // +320 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1400
   }
   else
    ifvarl temp 1760 // +360 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1760
   }
   else
    ifvarl temp 2160 // +400 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 2160
   }
   else
    ifvarl temp 2600 // +440 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 2600
   }
   else
    ifvarl temp 3080 // +480 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 3080
   }
   else
    ifvarl temp 3600 // +520 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 3600
   }
   else
    ifvarl temp 4160 // +560 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 4160
   }
   else
    ifvarl temp 4760 // +600 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 4760
   }
   else
    ifvarl temp 5200 // +640 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 5200
   }
   else
    ifvarl temp 5880 // +680 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 5880
   }
   else
    ifvarl temp 6600 // +720 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 6600
   }
   else
    ifvarl temp 7360 // +760 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 7360
   }
   else
    ifvarl temp 8160 // +800 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 8160
   }
   else
    ifvarl temp 9000 // +840 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 9000
   }
   else
    ifvarl temp 9880 // +880 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 9880
   }
   else
    ifvarl temp 10800 // +920 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 10800
   }
   else
    ifvarl temp 11760 // +960 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 11760
   }
   else
    ifvarl temp 12760 // +1000 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 12760
   }
   else
    ifvarl temp 13840 // +1080 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 13840
   }
   else
    ifvarl temp 15000 // +1160 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 15000
   }
   else
    ifvarl temp 16240 // +1240 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 16240
   }
   else
    ifvarl temp 17560 // +1320 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 17560
   }
   else
    ifvarl temp 18960 // +1400 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 18960
   }
   else
    ifvarl temp 20440 // +1480 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 20440
   }
   else
    ifvarl temp 22000 // +1560 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 22000
   }
   else
    ifvarl temp 23640 // +1640 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 23640
   }
   else
    ifvarl temp 25360 // +1720 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 25360
   }
   else
    ifvarl temp 27160 // +1800 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 27160
   }
   else
    ifvarl temp 29040 // +1880 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 29040
   }
   else
    ifvarl temp 33120 // +2120 (160)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 33120
   }
   else
    ifvarl temp 35400 // +2280 (160)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 35400
   }
   else
    ifvarl temp 37740 // +2440 (160)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 37740
   }
   else
    ifvarl temp 40340 // +2600 (160)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 40340
   }
   else
    ifvarl temp 43100 // +2760 (160)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 43100
   }
   else
    ifvarl temp 45920 // +2920 (160)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 45900
   }
   else
    ifvarl temp 49160 // +3240 (320)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 49160
   }
   else
    ifvarl temp 52720 // +3560 (320)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 52760
   }
   else
    ifvarl temp 56600 // +3880 (320)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 56600
   }
   else
    ifvarl temp 61120 // +4520 (640)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 61120
   }
   else
    ifvarl temp 65280 // +5160 (640)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 65280
   }
   else
    ifvarl temp 71080 // +5800 (640)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 71080
   }
   else
    ifvarl temp 77440 // +6440 (640)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 77440
   }
   else
    ifvarl temp 84520 // +7080 (640)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 84520
   }
   else
    ifvarl temp 91240 // +7720 (640)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 91240
   }
   else
    ifvarl temp 99600 // +8360 (640)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 99600
   }
   else
    ifvarl temp 108600 // +9000 (640)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 108600
   }
   else
    ifvarl temp 118400 // +9800 (800)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 118400
   }
   else
    ifvarl temp 129000 // +10600 (800)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 129000
   }
   else
    ifvarl temp 140800 // +11800 (1200)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 140800
   }
   else
    ifvarl temp 154200 // +13400 (1600)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 154200
   }
   else
    ifvarl temp 209600 // +15400 (2000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 209600
   }
   else
    ifvarl temp 227400 // +17800 (2400)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 227400
   }
   else
    ifvarl temp 248000 // +20600 (2800)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 248000
   }
   else
    ifvarl temp 271800 // +23800 (3200)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 271800
   }
   else
    ifvarl temp 299200 // +27400 (3600)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 299200
   }
   else
    ifvarl temp 320600 // +31400 (4000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 320600
   }
   else
    ifvarl temp 356400 // +35800 (4400)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 356400
   }
   else
    ifvarl temp 397000 // +40600 (4800)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 397000
   }
   else
    ifvarl temp 442800 // +45800 (5200)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 442800
   }
   else
    ifvarl temp 494200 // +51400 (5600)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 494200
   }
   else
    ifvarl temp 551600 // +57400 (6000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 551600
   }
   else
    ifvarl temp 615400 // +63800 (6400)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 615400
   }
   else
    ifvarl temp 676000 // +70600 (6800)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 676000
   }
   else
    ifvarl temp 753800 // +77800 (7200)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 753800
   }
   else
    ifvarl temp 839200 // +85400 (7600)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 839200
   }
   else
    ifvarl temp 932600 // +93400 (8000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 932600
   }
   else
    ifvarl temp 1034400 // +101800 (8400)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1034400
   }
   else
    ifvarl temp 1145000 // +110600 (8800)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1145000
   }
   else
    ifvarl temp 1254800 // +119800 (9200)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1254800
   }
   else
    ifvarl temp 1384200 // +129400 (9600)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1384200
   }
   else
    ifvarl temp 1513600 // +139400 (10000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1513600
   }
   else
    ifvarl temp 1663600 // +150000 (10600)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1663600
   }
   else
    ifvarl temp 1823600 // +160000 (10000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1823600
   }
   else
    ifvarl temp 1993600 // +170000 (10000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1993600
   }
   else
    ifvarl temp 2173600 // +180000 (10000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 2173600
   }
   else
    ifvarl temp 2363600 // +190000 (10000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 2363600
   }
   else
    ifvarl temp 2563600 // +200000 (10000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 2563600
   }
   else
    ifvarl temp 2783600 // +220000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 2783600
   }
   else
    ifvarl temp 3023600 // +240000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 3023600
   }
   else
    ifvarl temp 3283600 // +260000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 3283600
   }
   else
    ifvarl temp 3563600 // +280000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 3563600
   }
   else
    ifvarl temp 3863600 // +300000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 3863600
   }
   else
    ifvarl temp 4183600 // +320000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 4183600
   }
   else
    ifvarl temp 4523600 // +340000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 4523600
   }
   else
    ifvarl temp 4883600 // +360000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 4883600
   }
   else
    ifvarl temp 5263600 // +380000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 5263600
   }
   else
    ifvarl temp 5663600 // +400000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 5663600
   }
   else
    ifvarl temp 6103600 // +440000 (40000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 6103600
   }
   else
    ifvarl temp 6583600 // +480000 (40000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 6583600
   }
   else
    ifvarl temp 7103600 // +520000 (40000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 7103600
   }
   else
    ifvarl temp 7663600 // +560000 (40000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 7663600
   }
   else
    ifvarl temp 8263600 // +600000 (40000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 8263600
   }
   else
    ifvarl temp 9163600 // +900000 (300000)
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 9163600
   }
   else
    ifvarg temp 9163599
   {
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTS 9163600
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 9163600
   }
ends


state enemyhitscanchecker
          ifvare CHARACTERSELECTED? 4
          {
           ifvarl AUTOMAPMODE 2
           {
            ifvarg CURRENTHITPOINTS 0
            {
             ifvare NIGHTVISION 1 setvar TEMPVAR5 1 else setvar TEMPVAR5 0
            }
            else setvar TEMPVAR5 0
           }
           else setvar TEMPVAR5 0
          }
          else setvar TEMPVAR5 0
ends

state paletteflasher
     setvar MISCARRAYID 89 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // shade-pulse-timer
     getplayer[THISACTOR].player_par MISCARRAYID_AMOUNTTEMP
     modvar MISCARRAYID_AMOUNTTEMP 24
     switch MISCARRAYID_AMOUNTTEMP
     case 0 case 1 state pal13 break
     case 2 case 3 case 22 case 23 state pal12 break
     case 4 case 5 case 20 case 21 state pal17 break
     case 6 case 7 case 18 case 19 state pal21 break
     case 8 case 9 case 16 case 17 state pal15 break
     case 10 case 11 case 14 case 15 state pal14 break
     case 12 case 13 state pal16 break
     endswitch
     setvar MISCARRAYID 89 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // shade-pulse-timer
ends

state shownoskills
    state digx160
    setvar digy 100
    state pal21
    state orientation2
    state setquote332
    redefinequote 332 NO SKILLS YET
    qstrlen TEMPVAR 332
    ifvarg TEMPVAR 0 
    { 
     setvarvar tempb TEMPVAR
     mulvar tempb 2
     subvarvar digx tempb
     subvar digx 4
    }
    state mt
ends

state showepskillsmenu
    // Display EN/EP Amounts
    setvar digx 50
    setvar digy 166
    state pal0
    state orientation2
    state setquote332
    redefinequote 332 EP
    state mt

    addvar digx 1
    getactorvar[CHARACTERARRAY].CHARACTEREP varname
    ifvarg varname -1 ifvarl varname 10 addvar digx 12
    else ifvarg varname 9 ifvarl varname 100 addvar digx 14
    else ifvarg varname 99 ifvarl varname 1000 addvar digx 16
    else ifvarg varname 999 ifvarl varname 10000 addvar digx 18
    else ifvarg varname 9999 ifvarl varname 100000 addvar digx 20
    else ifvarg varname 99999 ifvarl varname 1000000 addvar digx 22
    else ifvarg varname 999999 ifvarl varname 10000000 addvar digx 24
    else ifvarg varname 9999999 ifvarl varname 100000000 addvar digx 26
    addvar digy 2
    state pal0
    state orientation2
    state dn

    ifvarg varname -1 ifvarl varname 10 addvar digx 4
    else ifvarg varname 9 ifvarl varname 100 addvar digx 6
    else ifvarg varname 99 ifvarl varname 1000 addvar digx 8
    else ifvarg varname 999 ifvarl varname 10000 addvar digx 10
    else ifvarg varname 9999 ifvarl varname 100000 addvar digx 12
    else ifvarg varname 99999 ifvarl varname 1000000 addvar digx 14
    else ifvarg varname 999999 ifvarl varname 10000000 addvar digx 16
    else ifvarg varname 9999999 ifvarl varname 100000000 addvar digx 18
    subvar digy 2
    state pal0
    state orientation2
    state setquote332
    redefinequote 332 /
    state mt

    getactorvar[CHARACTERARRAY].CHARACTERMAXEP varname
    ifvarg varname -1 ifvarl varname 10 addvar digx 10
    else ifvarg varname 9 ifvarl varname 100 addvar digx 12
    else ifvarg varname 99 ifvarl varname 1000 addvar digx 14
    else ifvarg varname 999 ifvarl varname 10000 addvar digx 16
    else ifvarg varname 9999 ifvarl varname 100000 addvar digx 18
    else ifvarg varname 99999 ifvarl varname 1000000 addvar digx 20
    else ifvarg varname 999999 ifvarl varname 10000000 addvar digx 22
    else ifvarg varname 9999999 ifvarl varname 100000000 addvar digx 24
    addvar digy 2
    state pal0
    state orientation2
    state dn
ends

state statusscreenlist
// Status
    setvar digx 54 // 88 (-34)
    setvar digy 70 // 50 (+26)
    state pal23
    state setquote332
    redefinequote 332 STATUS
    state mt
    // Insert Ailment Icons

   state pal0
   setvar digy 72 // 46
   state digz20480 // 24576
   setvar digz 12288
   getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
   ifvarl TEMPVAR 1
   {
    setvar digx 100 // 124
    setvar tilenum 8100
    state rs
   }
   getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
   ifvarand TEMPVAR 2 // Haste
   {
    setvar digx 105 // 124
    setvar tilenum 8106
    getactorvar[CHARACTERARRAY].CHARACTERHASTETIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs

    setvar tilenum 3087 // Blue Digital Text
    setvar pal 0 // Buffs are Positive
    addvar digx 1
    subvar digy 5
    setvar textscale 38619
    setvarvar varname TEMPVAR2
    divvar varname 26
    state dnz

    subvar digx 1 // +25
    addvar digy 5 // +25
    setvar pal 0
    ifvarvare CHARACTERSELECTED? CHARACTERARRAY state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 4 // Slow
   {
    setvar digx 105
    setvar tilenum 8107
    getactorvar[CHARACTERARRAY].CHARACTERSLOWTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs

    setvar tilenum 3087 // Blue Digital Text
    setvar pal 21 // Ailments are Negative
    addvar digx 1
    subvar digy 5
    setvar textscale 38619 // 45056
    setvarvar varname TEMPVAR2
    divvar varname 26
    state dnz

    subvar digx 1 // +25
    addvar digy 5 // +25
    setvar pal 0
    ifvarvare CHARACTERSELECTED? CHARACTERARRAY state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 8 // Poison
   {
    setvar digx 110
    setvar tilenum 8101
    getactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs

    setvar tilenum 3087 // Blue Digital Text
    setvar pal 21 // Ailments are Negative
    addvar digx 1
    subvar digy 5
    setvar textscale 38619 // 45056
    setvarvar varname TEMPVAR2
    divvar varname 26
    state dnz

    subvar digx 1 // +25
    addvar digy 5 // +25
    setvar pal 0
    ifvarvare CHARACTERSELECTED? CHARACTERARRAY state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 16 // Dimness
   {
    setvar digx 115
    setvar tilenum 8102
    getactorvar[CHARACTERARRAY].CHARACTERDIMNESSTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs

    setvar tilenum 3087 // Blue Digital Text
    setvar pal 21 // Ailments are Negative
    addvar digx 1
    subvar digy 5
    setvar textscale 38619 // 45056
    setvarvar varname TEMPVAR2
    divvar varname 26
    state dnz

    subvar digx 1 // +25
    addvar digy 5 // +25
    setvar pal 0
    ifvarvare CHARACTERSELECTED? CHARACTERARRAY state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 32 // Triad Refractor
   {
    setvar digx 120
    setvar tilenum 8104
    getactorvar[CHARACTERARRAY].CHARACTERREFRACTORTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs

    setvar tilenum 3087 // Blue Digital Text
    setvar pal 0 // Buffs are Positive
    addvar digx 1
    subvar digy 5
    setvar textscale 38619 // 45056
    setvarvar varname TEMPVAR2
    divvar varname 26
    state dnz

    subvar digx 1 // +25
    addvar digy 5 // +25
    setvar pal 0
    ifvarvare CHARACTERSELECTED? CHARACTERARRAY state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 64 // Triad Ragnarok
   {
    setvar digx 125
    setvar tilenum 8105
    getactorvar[CHARACTERARRAY].CHARACTERRAGNAROKTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs

    setvar tilenum 3087 // Blue Digital Text
    setvar pal 20 // Ragnarok is double-edged
    addvar digx 1
    subvar digy 5
    setvar textscale 38619 // 45056
    setvarvar varname TEMPVAR2
    divvar varname 26
    state dnz

    subvar digx 1 // +25
    addvar digy 5 // +25
    setvar pal 0
    ifvarvare CHARACTERSELECTED? CHARACTERARRAY state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 128 // Confusion
   {
    setvar digx 130
    setvar tilenum 8103
    getactorvar[CHARACTERARRAY].CHARACTERCONFUSIONTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs

    setvar tilenum 3087 // Blue Digital Text
    setvar pal 21 // Ailments are Negative
    addvar digx 1
    subvar digy 5
    setvar textscale 38619 // 45056
    setvarvar varname TEMPVAR2
    divvar varname 26
    state dnz

    subvar digx 1 // +25
    addvar digy 5 // +25
    setvar pal 0
    ifvarvare CHARACTERSELECTED? CHARACTERARRAY state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 256 // Aqua Protection
   {
    setvar digx 135
    setvar tilenum 8109
    getactorvar[CHARACTERARRAY].CHARACTERAQUAPROTECTTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs

    setvar tilenum 3087 // Blue Digital Text
    setvar pal 20 // Aqua-Protection is double-edged
    addvar digx 1
    subvar digy 5
    setvar textscale 38619 // 45056
    setvarvar varname TEMPVAR2
    divvar varname 26
    state dnz

    subvar digx 1 // +25
    addvar digy 5 // +25
    setvar pal 0
    ifvarvare CHARACTERSELECTED? CHARACTERARRAY state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 512 // Damage Shell
   {
    setvar digx 140
    setvar tilenum 8108
    getactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs

    setvar tilenum 3087 // Blue Digital Text
    setvar pal 0 // Buffs are Positive
    addvar digx 1
    subvar digy 5
    setvar textscale 38619 // 45056
    setvarvar varname TEMPVAR2
    divvar varname 26
    state dnz

    subvar digx 1 // +25
    addvar digy 5 // +25
    setvar pal 0
    ifvarvare CHARACTERSELECTED? CHARACTERARRAY state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 1024 // Psychic Shield
   {
    setvar digx 145
    setvar tilenum 8110
    getactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER TEMPVAR2
    ifvarl TEMPVAR2 2 state shadepulse2
    state rs

    setvar tilenum 3087 // Blue Digital Text
    setvar pal 0 // Buffs are Positive
    addvar digx 1
    subvar digy 5
    setvar textscale 38619 // 45056
    setvarvar varname TEMPVAR2
    state dnz

    subvar digx 1 // +25
    addvar digy 5 // +25
    setvar pal 0
    ifvarvare CHARACTERSELECTED? CHARACTERARRAY state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 2048 // Triad Blitzkrieg
   {
    setvar digx 150
    setvar tilenum 8111
    getactorvar[CHARACTERARRAY].CHARACTERBLITZKRIEGTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs

    setvar tilenum 3087 // Blue Digital Text
    setvar pal 0 // Buffs are Positive
    addvar digx 1
    subvar digy 5
    setvar textscale 38619 // 45056
    setvarvar varname TEMPVAR2
    divvar varname 26
    state dnz

    subvar digx 1 // +25
    addvar digy 5 // +25
    setvar pal 0
    ifvarvare CHARACTERSELECTED? CHARACTERARRAY state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 4096 // Triad Booster
   {
    setvar digx 155
    setvar tilenum 8112
    getactorvar[CHARACTERARRAY].CHARACTERBOOSTERTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs

    setvar tilenum 3087 // Blue Digital Text
    setvar pal 0 // Buffs are Positive
    addvar digx 1
    subvar digy 5
    setvar textscale 38619 // 45056
    setvarvar varname TEMPVAR2
    divvar varname 26
    state dnz

    subvar digx 1 // +25
    addvar digy 5 // +25
    setvar pal 0
    ifvarvare CHARACTERSELECTED? CHARACTERARRAY state shadepulse4 else setvar shade 0
   }
   ifvarand TEMPVAR 8192 // Bloodlusting
   {
    setvar digx 160
    setvar tilenum 8113
    getactorvar[CHARACTERARRAY].CHARACTERBLOODLUSTTIMER TEMPVAR2
    ifvarl TEMPVAR2 130 state shadepulse2
    state rs

    setvar tilenum 3087 // Blue Digital Text
    setvar pal 0 // Buffs are Positive
    addvar digx 1
    subvar digy 5
    setvar textscale 38619 // 45056
    setvarvar varname TEMPVAR2
    divvar varname 26
    state dnz

    subvar digx 1 // +25
    addvar digy 5 // +25
    setvar pal 0
    ifvarvare CHARACTERSELECTED? CHARACTERARRAY state shadepulse4 else setvar shade 0
   }
    ifvarvare CHARACTERSELECTED? CHARACTERARRAY state shadepulse4 else setvar shade 0
// Steroids
    setvar digx 90 // 54
    setvar digy 46 // 44 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERSTEROIDSTIME varname
    ifvarg varname 0 state pal0 else state pal10
    state setquote332
    redefinequote 332 VITAMINX
    state mt
    setvar digx 136 // 145
    setvar digy 48 // 46 (+26)
    ifvarg varname 0 state pal0 else state pal10
    state settile3087
    ifvare debugtoggle 0 divvar varname 4
    state dn
// Nightvision
  ifvare mainmenupage 3
  {
    state pal0
    setvar digx 150 // 54
    setvar digy 46 // 44 (+26)
    state setquote332
    redefinequote 332 VRGOGGLE
    state mt
    setvar digx 194 // 126 (-34)
    setvar digy 48 // 50 (+26)
    state pal0
    state digz98304
    setvar tilenum 8182
    state rs
  }
  else
  {
   ifvare mainmenupage 7
   {
    setvar MISCARRAYID 77 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // HAVE-HACKERVISION?
    ifvare MISCARRAYID_AMOUNTTEMP 1
    {
     setvar digx 150 // 54
     setvar digy 46 // 44 (+26)
     getactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME varname
     ifvarg varname 0 state pal0 else state pal10
     state setquote332
     redefinequote 332 HACKVIS
     state mt
     setvar digx 194 // 126 (-34)
     setvar digy 48 // 50 (+26)
     ifvarg varname 0 state pal0 else state pal10
     state digz98304
     setvar tilenum 8182
     state rs
    }
    else
    {
     setvar digx 150 // 54
     setvar digy 46 // 44 (+26)
     getactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME varname
     ifvarg varname 0 state pal0 else state pal10
     state setquote332
     redefinequote 332 NIGHTVIS
     state mt
     setvar digx 196 // 145
     setvar digy 48 // 46 (+26)
     ifvarg varname 0 state pal0 else state pal10
     state settile3087
     ifvare debugtoggle 0 divvar varname 12
     state dn
    }
   }
   else
   {
    setvar digx 150 // 54
    setvar digy 46 // 44 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME varname
    ifvarg varname 0 state pal0 else state pal10
    state setquote332
    redefinequote 332 NIGHTVIS
    state mt
    setvar digx 196 // 145
    setvar digy 48 // 46 (+26)
    ifvarg varname 0 state pal0 else state pal10
    state settile3087
    ifvare debugtoggle 0 divvar varname 12
    state dn
   }
  }
// Jetpack
    setvar digx 90 // 54
    setvar digy 52 // 44 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERJETPACKTIME varname
    ifvarg varname 0 state pal0 else state pal10
    state setquote332
    redefinequote 332 JETPACK
    state mt
    setvar digx 136 // 145
    setvar digy 54 // 46 (+26)
    ifvarg varname 0 state pal0 else state pal10
    state settile3087
    ifvare debugtoggle 0 divvar varname 16
    state dn
// Holoform
    setvar digx 150 // 54
    setvar digy 52 // 44 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERHOLOTIME varname
    ifvarg varname 0 state pal0 else state pal10
    state setquote332
    redefinequote 332 HOLOFORM
    state mt
    setvar digx 196 // 145
    setvar digy 54 // 46 (+26)
    ifvarg varname 0 state pal0 else state pal10
    state settile3087
    ifvare debugtoggle 0 divvar varname 24
    state dn
// Scuba
    setvar digx 90 // 54
    setvar digy 58 // 44 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERSCUBATIME varname
    ifvarg varname 0 state pal0 else state pal10
    state setquote332
    redefinequote 332 SCUBA
    state mt
    setvar digx 136 // 145
    setvar digy 60 // 46 (+26)
    ifvarg varname 0 state pal0 else state pal10
    state settile3087
    ifvare debugtoggle 0 divvar varname 64
    state dn
// Boots
    setvar digx 150 // 54
    setvar digy 58 // 44 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERBOOTSTIME varname
    ifvarg varname 0 state pal0 else state pal10
    state setquote332
    redefinequote 332 BOOTS
    state mt
    setvar digx 196 // 145
    setvar digy 60 // 46 (+26)
    ifvarg varname 0 state pal0 else state pal10
    state settile3087
    ifvare debugtoggle 0 divvar varname 2
    state dn
// Quad
    setvar digx 210 // 54
    setvar digy 43 // 44 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERQUADTIME varname
    ifvarg varname 0 state pal0 else state pal4
    state setquote332
    redefinequote 332 QUAD
    state mt
    setvar digx 256 // 145
    setvar digy 45 // 46 (+26)
    ifvarg varname 0 state pal0 else state pal4
    state settile3087
    ifvare debugtoggle 0 divvar varname 26
    state dn
// Invuln
    setvar digx 210 // 54
    setvar digy 49 // 44 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERINVULNTIME varname
    ifvarg varname 0 state pal23 else state pal4
    state setquote332
    redefinequote 332 INVULN
    state mt
    setvar digx 256 // 145
    setvar digy 51 // 46 (+26)
    ifvarg varname 0 state pal23 else state pal4
    state settile3087
    ifvare debugtoggle 0 divvar varname 26
    state dn
// Regen
    setvar digx 210 // 54
    setvar digy 55 // 44 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERREGENTIME varname
    ifvarg varname 0 state pal21 else state pal4
    state setquote332
    redefinequote 332 REGEN
    state mt
    setvar digx 256 // 145
    setvar digy 57 // 46 (+26)
    ifvarg varname 0 state pal21 else state pal4
    state settile3087
    ifvare debugtoggle 0 divvar varname 26
    state dn
// APRegen
    setvar digx 210 // 54
    setvar digy 61 // 44 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERAPREGENTIME varname
    ifvarg varname 0 state pal22 else state pal4

    state setquote332
    redefinequote 332 APREGEN
    state mt
    setvar digx 256 // 145
    setvar digy 63 // 46 (+26)
    ifvarg varname 0 state pal22 else state pal4
    state settile3087
    ifvare debugtoggle 0 divvar varname 26
    state dn
// Vampire
    setvar digx 210 // 54
    setvar digy 67 // 44 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERVAMPIRETIME varname
    ifvarg varname 0 state pal10 else state pal4
    state setquote332
    redefinequote 332 VAMPIRE
    state mt
    setvar digx 256 // 145
    setvar digy 69 // 46 (+26)
    ifvarg varname 0 state pal10 else state pal4
    state settile3087
    ifvare debugtoggle 0 divvar varname 26
    state dn
// Level
    setvar digx 54 // 88 (-34)
    setvar digy 76 // 44 (+26)
    state pal20
    state setquote332
    redefinequote 332 LEVEL
    state mt
    setvar digx 124 // 145 // 104 (-26)
    setvar digy 78 // 46 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL templeveltemp1
    state pal20
    state settile3087
    setvarvar varname templeveltemp1 // DUKELEVEL
    state dn
// EXP
    setvar digx 54 // 88 (-34)
    setvar digy 82 // 50 (+26)
    state pal0
    state setquote332
    redefinequote 332 EXPERIENCE
    state mt
    state settile3087
    setvar digx 124 // 112 (-26)
    setvar digy 84 // 52 (+26)
    state pal0
    getactorvar[CHARACTERARRAY].CHARACTEREXPPTS TEMPVAR
    setvarvar varname TEMPVAR
    state dn
    setvar digx 142 // 126 (-34)
    setvar digy 82 // 50 (+26)
    state pal0
    state setquote332
    state quote332SLASH
    state mt
    setvar digx 164 // 146 (-26)
    setvar digy 84 // 52 (+26)
    state pal0
    state getcharacterexptable
    getactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT TEMPVAR
    setvarvar varname TEMPVAR
    state dn
// Critical Hit %
    setvar digx 185 // 88 (-34)
    setvar digy 82 // 50 (+26)
    state pal23
    state setquote332
    redefinequote 332 CRIT%
    getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
    ifvarand TEMPVAR 8192 state paletteflasher
    state mt
    state settile3087
    setvar digx 238 // 112 (-26)
    setvar digy 82 // 52 (+26)
    state pal23
    getactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE TEMPVAR
//
//
//
    // Support Boost [Lisa's Support Type]
    setvar TEMPMOD 1000
    ifvarn CHARACTERARRAY 8
    {
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTLISA TEMP
     ifvarg TEMP 0 addvar TEMPMOD 50
     ifvarg TEMP 1 addvar TEMPMOD 75
     ifvarg TEMP 2 addvar TEMPMOD 100
     ifvarg TEMP 3 addvar TEMPMOD 125
     ifvarg TEMP 4 addvar TEMPMOD 350
    }
    else
    {
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTDUKE TEMP
     ifvarg TEMP 3 addvar TEMPMOD 125
     ifvarg TEMP 4 addvar TEMPMOD 350
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTJACK TEMP
     ifvarg TEMP 3 addvar TEMPMOD 125
     ifvarg TEMP 4 addvar TEMPMOD 350
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTBUBSY TEMP
     ifvarg TEMP 3 addvar TEMPMOD 125
     ifvarg TEMP 4 addvar TEMPMOD 350
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTAMI TEMP
     ifvarg TEMP 3 addvar TEMPMOD 125
     ifvarg TEMP 4 addvar TEMPMOD 350
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTLOWANG TEMP
     ifvarg TEMP 3 addvar TEMPMOD 125
     ifvarg TEMP 4 addvar TEMPMOD 350
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTESSENCE TEMP
     ifvarg TEMP 3 addvar TEMPMOD 125
     ifvarg TEMP 4 addvar TEMPMOD 350
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTTED TEMP
     ifvarg TEMP 3 addvar TEMPMOD 125
     ifvarg TEMP 4 addvar TEMPMOD 350
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTCYBANIS TEMP
     ifvarg TEMP 3 addvar TEMPMOD 125
     ifvarg TEMP 4 addvar TEMPMOD 350
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTNETHRA TEMP
     ifvarg TEMP 3 addvar TEMPMOD 125
     ifvarg TEMP 4 addvar TEMPMOD 350
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTPAULA TEMP
     ifvarg TEMP 3 addvar TEMPMOD 125
     ifvarg TEMP 4 addvar TEMPMOD 350
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTLORI TEMP
     ifvarg TEMP 3 addvar TEMPMOD 125
     ifvarg TEMP 4 addvar TEMPMOD 350
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTMINAKO TEMP
     ifvarg TEMP 3 addvar TEMPMOD 125
     ifvarg TEMP 4 addvar TEMPMOD 350
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTMYSTERY1 TEMP
     ifvarg TEMP 3 addvar TEMPMOD 125
     ifvarg TEMP 4 addvar TEMPMOD 350
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTMAKEN TEMP
     ifvarg TEMP 3 addvar TEMPMOD 125
     ifvarg TEMP 4 addvar TEMPMOD 350
    }
    ifvarl TEMPMOD 0 setvar TEMPMOD 0
    mulvarvar TEMPVAR TEMPMOD
    divvar TEMPVAR 1000
    ifvarl TEMPVAR 1 setvar TEMPVAR 1
    ifvarg TEMPVAR 640001 setvar TEMPVAR 640001

    // Bloodlusting "Buff" - Cybanis's Skill
    getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR5
    ifvarand TEMPVAR5 8192
    {
     // Step1: +1/4 Rate
     getactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE TEMPVAR
     setvarvar TEMPVAR4 TEMPVAR
     divvar TEMPVAR4 4
     addvarvar TEMPVAR TEMPVAR4

     // Step2: Add the level-specfic extra bonus
     setvar TEMPVAR2 2000 // 20.00% [base amount]
     setvar TEMPVAR3 25 // 0.25% [base increase]

     // Character's Level / 2 = Addition to Base increase
     getactorvar[CHARACTERARRAY].CHARACTERLEVEL TEMP
     setvarvar TEMPVAR4 TEMP
     divvar TEMPVAR4 2 

     addvarvar TEMPVAR3 TEMPVAR4

     // Cybanis's Level * Base Increase = Extra Increase
     setvar TEMP 9
     getactorvar[TEMP].CHARACTERLEVEL TEMPVAR4
     mulvarvar TEMPVAR4 TEMPVAR3

     // 20% + Extra Increase = Full Increase Bonus
     addvarvar TEMPVAR2 TEMPVAR4
 
     // Step3: Final Calculations
     addvarvar TEMPVAR TEMPVAR2
     addvar TEMPVAR 1

    }
    ifvarl TEMPVAR 1 setvar TEMPVAR 1
    ifvarg TEMPVAR 640001 setvar TEMPVAR 640001

//
//
//
    subvar TEMPVAR 1
    setvarvar tempb TEMPVAR
    divvar tempb 100
    setvarvar tempc TEMPVAR
    modvar tempc 100
    ifvarg tempc -1
     ifvarl tempc 10
    {
     redefinequote 555 %d.0%d%
     redefinequote 556 %d.0%d%
    }
    else
    {
     redefinequote 555 %d.%d%
     redefinequote 556 %d.%d%
    }
    qsprintf 555 556 tempb tempc
    setvar temp 555
    qstrlen tempd 555
    ifvare tempd 1 setvar digx 250
    ifvare tempd 2 setvar digx 246
    ifvare tempd 3 setvar digx 242
    ifvare tempd 4 setvar digx 238
    ifvare tempd 5 setvar digx 234
    ifvare tempd 6 setvar digx 230
    ifvare tempd 7 setvar digx 226
    ifvare tempd 8 setvar digx 222
    ifvare tempd 9 setvar digx 218
    ifvare tempd 10 setvar digx 214
    getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
    ifvarand TEMPVAR 8192 state paletteflasher
    state mt
// Kills
    setvar digx 185 // 88 (-34)
    setvar digy 76 // 50 (+26)
    state pal15
    state setquote332
    redefinequote 332 KILLS
    state mt
    state settile3087
    setvar digx 245 // 112 (-26)
    setvar digy 78 // 52 (+26)
    state pal15
    getactorvar[CHARACTERARRAY].CHARACTERENEMIESKILLED TEMPVAR
    setvarvar varname TEMPVAR
    state dn
// Deaths
    setvar digx 185 // 88 (-34)
    setvar digy 100 // 50 (+26)
    state pal20
    state setquote332
    redefinequote 332 DEATHS
    state mt
    state settile3087
    setvar digx 245 // 112 (-26)
    setvar digy 102 // 52 (+26)
    state pal20
    getactorvar[CHARACTERARRAY].CHARACTERDEATHS TEMPVAR
    setvarvar varname TEMPVAR
    state dn
// HP
    setvar digx 54 // 88 (-34)
    setvar digy 88 // 50 (+26)
    state pal2
    state setquote332
    redefinequote 332 HIT POINTS
    state mt
    state settile3087
    setvar digx 124 // 112 (-26)
    setvar digy 90 // 52 (+26)
    state pal2
    getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
    setvarvar varname TEMPVAR
    state dn
    setvar digx 142 // 126 (-34)
    setvar digy 88 // 50 (+26)
    state pal2
    state setquote332
    state quote332SLASH
    state mt
    setvar digx 164 // 146 (-26)
    setvar digy 90 // 52 (+26)
    state pal2
    getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
    setvarvar varname TEMPVAR
    state dn
// FA
    setvar digx 185 // 88 (-34)
    setvar digy 88 // 50 (+26)
    state pal21
    state setquote332
    redefinequote 332 FIRST AID
    state mt
    state settile3087
    setvar digx 245 // 112 (-26)
    setvar digy 90 // 52 (+26)
    state pal21
    getactorvar[CHARACTERARRAY].CHARACTERFA TEMPVAR
    setvarvar varname TEMPVAR
    state dn
// AP
    setvar digx 54 // 88 (-34)
    setvar digy 94 // 50 (+26)
    state pal17
    state setquote332
    redefinequote 332 ARMOR POINTS
    state mt
    setvar digx 124 // 112 (-26)
    setvar digy 96 // 52 (+26)
    state pal17
    getactorvar[CHARACTERARRAY].CHARACTERAP TEMPVAR
    setvarvar varname TEMPVAR
    state dn
    setvar digx 142 // 126 (-34)
    setvar digy 94 // 50 (+26)
    state pal17
    state setquote332
    state quote332SLASH
    state mt
    setvar digx 164 // 146 (-26)
    setvar digy 96 // 52 (+26)
    state pal17
    getactorvar[CHARACTERARRAY].CHARACTERMAXAP TEMPVAR
    setvarvar varname TEMPVAR
    state dn
// AB
    setvar digx 185 // 88 (-34)
    setvar digy 94 // 50 (+26)
    state pal17
    state setquote332
    redefinequote 332 ABSORB %
    state mt
    state settile3087
    setvar digx 238 // 112 (-26)
    setvar digy 94 // 52 (+26)
    state pal17
    getactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR
    setvarvar tempb TEMPVAR
    divvar tempb 10
    setvarvar tempc TEMPVAR
    modvar tempc 10
    qsprintf 222 223 tempb tempc
    setvar temp 222
    qstrlen tempd 222
    ifvare tempd 1 setvar digx 250
    ifvare tempd 2 setvar digx 246
    ifvare tempd 3 setvar digx 242
    ifvare tempd 4 setvar digx 238
    ifvare tempd 5 setvar digx 234
    ifvare tempd 6 setvar digx 230
    ifvare tempd 7 setvar digx 226
    ifvare tempd 8 setvar digx 222
    ifvare tempd 9 setvar digx 218
    ifvare tempd 10 setvar digx 214
    state mt
// EP
    setvar digx 54 // 88 (-34)
    setvar digy 100 // 50 (+26)
    state pal0
    state setquote332
    redefinequote 332 ENERGY PTS
    state mt
    setvar digx 124 // 112 (-26)
    setvar digy 102 // 52 (+26)
    state pal0
    getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR
    setvarvar varname TEMPVAR
    state dn
    setvar digx 142 // 126 (-34)
    setvar digy 100 // 50 (+26)
    state pal0
    state setquote332
    state quote332SLASH
    state mt
    setvar digx 164 // 146 (-26)
    setvar digy 102 // 52 (+26)
    state pal0
    getactorvar[CHARACTERARRAY].CHARACTERMAXEP TEMPVAR
    setvarvar varname TEMPVAR
    state dn
// ATK
    setvar digx 54 // 88 (-34)
    setvar digy 106  // 44 (+26)
    state pal23
    state setquote332
    redefinequote 332 ATTACK
    state mt
    setvar digx 145 // 104 (-26)
    setvar digy 108 // 46 (+26)
    state pal23
    getactorvar[CHARACTERARRAY].CHARACTERATTACK TEMPVAR
    setvarvar varname TEMPVAR
    state dn
// DEF
    setvar digx 54 // 88 (-34)
    setvar digy 112 // 44 (+26)
    state pal23
    state setquote332
    redefinequote 332 DEFENSE
    state mt
    setvar digx 145 // 104 (-26)
    setvar digy 114 // 46 (+26)
    state pal23
    getactorvar[CHARACTERARRAY].CHARACTERDEFENSE TEMPVAR
    setvarvar varname TEMPVAR
    state dn
// SPD
    setvar digx 54 // 88 (-34)
    setvar digy 118 // 44 (+26)
    state pal20
    state setquote332
    redefinequote 332 SPEED
    getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
    ifvarand TEMPVAR 2 state paletteflasher else ifvarand TEMPVAR 4 { state shadepulse4 addvar shade 10 }
    state mt
    state pal20
    addvar shade -10
    ifvarvare CHARACTERSELECTED? CHARACTERARRAY state shadepulse4
    setvar digx 145 // 104 (-26)
    setvar digy 120 // 46 (+26)
    state pal20
    getactorvar[CHARACTERARRAY].CHARACTERSPEED TEMPVAR
    ifvarn debugtoggle 0
    {
     getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR5
     setvarvar TEMPVAR4 TEMPVAR
     subvar TEMPVAR4 46500

     mulvar TEMPVAR4 25 divvar TEMPVAR4 100
     ifvarand TEMPVAR5 2 addvarvar TEMPVAR TEMPVAR4
     else ifvarand TEMPVAR5 4 subvarvar TEMPVAR TEMPVAR4

     setvarvar varname TEMPVAR
    }
    else
    {
     setvarvar TEMP TEMPVAR
     subvar TEMP 46500
     getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR5
     ifvarand TEMPVAR5 2 { mulvar TEMP 125 divvar TEMP 100 } else ifvarand TEMPVAR5 4 { mulvar TEMP 75 divvar TEMP 100 }
     ifvarn CHARACTERSPEEDVAL 0 { divvarvar TEMP CHARACTERSPEEDVAL }
     setvarvar varname TEMP
    }
    getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
    ifvarand TEMPVAR 2 state paletteflasher else ifvarand TEMPVAR 4 { state shadepulse4 addvar shade 10 }
    state dn
    state pal22
    addvar shade -10
    ifvarvare CHARACTERSELECTED? CHARACTERARRAY state shadepulse4
// AIRJUMPS
    setvar digx 54 // 88 (-34)
    setvar digy 124 // 50 (+26)
    state pal22
    state setquote332
    redefinequote 332 AIR-JUMPS
    state mt
    state settile3087
    setvar digx 124 // 112 (-26)
    setvar digy 126 // 52 (+26)
    state pal22
    getactorvar[CHARACTERARRAY].CHARACTERMAXAIRJUMPS TEMP
    getactorvar[CHARACTERARRAY].CHARACTERAIRJUMPS TEMPVAR
    setvarvar varname TEMP
    subvarvar varname TEMPVAR
    state dn
    setvar digx 142 // 126 (-34)
    setvar digy 124 // 50 (+26)
    state pal22
    state setquote332
    state quote332SLASH
    state mt
    setvar digx 164 // 146 (-26)
    setvar digy 126 // 52 (+26)
    state pal22
    getactorvar[CHARACTERARRAY].CHARACTERMAXAIRJUMPS TEMPVAR
    setvarvar varname TEMPVAR
    state dn

// Weapon 2
    setvar digx 54 // 88 (-34)
    setvar digy 130 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 2 state pal0 else state pal10
    state setquote332
    redefinequote 332 WEAPON2
    state mt
    setvar digx 99 // 112 (-26)
    setvar digy 132 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 2 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERAMMO2 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
    setvar digx 112 // 126 (-34)
    setvar digy 130 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 2 state pal0 else state pal10
    state setquote332
    state quote332SLASH
    state mt
    setvar digx 129 // 146 (-26)
    setvar digy 132 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 2 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO2 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
// Weapon 3
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD tempb
    setvar digx 164 // 54 (-34)
    setvar digy 130 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 4 state pal0 else state pal10
    state setquote332
    redefinequote 332 WEAPON3
    state mt
    setvar digx 209 // 114 (-26)
    setvar digy 132 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 4 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERAMMO3 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
    setvar digx 222 // 127 (-34)
    setvar digy 130 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 4 state pal0 else state pal10
    state setquote332
    state quote332SLASH
    state mt
    setvar digx 239 // 144 (-26)
    setvar digy 132 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 4 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO3 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
// Weapon 4
    setvar digx 54 // 88 (-34)
    setvar digy 136 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 8 state pal0 else state pal10
    state setquote332
    redefinequote 332 WEAPON4
    state mt
    setvar digx 99 // 112 (-26)
    setvar digy 138 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 8 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERAMMO4 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
    setvar digx 112 // 126 (-34)
    setvar digy 136 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 8 state pal0 else state pal10
    state setquote332
    state quote332SLASH
    state mt
    setvar digx 129 // 146 (-26)
    setvar digy 138 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 8 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO4 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
// Weapon 5
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD tempb
    setvar digx 164 // 54 (-34)
    setvar digy 136 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 16 state pal0 else state pal10
    state setquote332
    redefinequote 332 WEAPON5
    state mt
    setvar digx 209 // 114 (-26)
    setvar digy 138 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 16 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERAMMO5 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
    setvar digx 222 // 127 (-34)
    setvar digy 136 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 16 state pal0 else state pal10
    state setquote332
    state quote332SLASH
    state mt
    setvar digx 239 // 144 (-26)
    setvar digy 138 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 16 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO5 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
// Weapon 6
    setvar digx 54 // 88 (-34)
    setvar digy 142 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 32 state pal0 else state pal10
    state setquote332
    redefinequote 332 WEAPON6
    state mt
    setvar digx 99 // 112 (-26)
    setvar digy 144 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 32 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERAMMO6 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
    setvar digx 112 // 126 (-34)
    setvar digy 142 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 32 state pal0 else state pal10
    state setquote332
    state quote332SLASH
    state mt
    setvar digx 129 // 146 (-26)
    setvar digy 144 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 32 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO6 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
// Weapon 7
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD tempb
    setvar digx 164 // 54 (-34)
    setvar digy 142 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 64 state pal0 else state pal10
    state setquote332
    redefinequote 332 WEAPON7
    state mt
    setvar digx 209 // 114 (-26)
    setvar digy 144 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 64 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERAMMO7 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
    setvar digx 222 // 127 (-34)
    setvar digy 142 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 64 state pal0 else state pal10
    state setquote332
    state quote332SLASH
    state mt
    setvar digx 239 // 144 (-26)
    setvar digy 144 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 64 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO7 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
// Weapon 8
    setvar digx 54 // 88 (-34)
    setvar digy 148 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 128 state pal0 else state pal10
    state setquote332
    redefinequote 332 WEAPON8
    state mt
    setvar digx 99 // 112 (-26)
    setvar digy 150 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 128 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERAMMO8 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
    setvar digx 112 // 126 (-34)
    setvar digy 148 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 128 state pal0 else state pal10
    state setquote332
    state quote332SLASH
    state mt
    setvar digx 129 // 146 (-26)
    setvar digy 150 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 128 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO8 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
// Weapon 9
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD tempb
    setvar digx 164 // 54 (-34)
    setvar digy 148 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 256 state pal0 else state pal10
    state setquote332
    redefinequote 332 WEAPON9
    state mt
    setvar digx 209 // 114 (-26)
    setvar digy 150 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 256 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERAMMO9 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
    setvar digx 222 // 127 (-34)
    setvar digy 148 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 256 state pal0 else state pal10
    state setquote332
    state quote332SLASH
    state mt
    setvar digx 239 // 144 (-26)
    setvar digy 150 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 256 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO9 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
// Weapon 10
    setvar digx 54 // 88 (-34)
    setvar digy 154 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 512 state pal0 else state pal10
    state setquote332
    redefinequote 332 WEAPON10
    state mt
    setvar digx 99 // 112 (-26)
    setvar digy 156 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 512 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERAMMO10 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
    setvar digx 112 // 126 (-34)
    setvar digy 154 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 512 state pal0 else state pal10
    state setquote332
    state quote332SLASH
    state mt
    setvar digx 129 // 146 (-26)
    setvar digy 156 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 512 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO10 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
// Weapon 11
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD tempb
    setvar digx 164 // 54 (-34)
    setvar digy 154 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 1024 state pal0 else state pal10
    state setquote332
    redefinequote 332 WEAPON11
    state mt
    setvar digx 209 // 114 (-26)
    setvar digy 156 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 1024 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERAMMO11 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
    setvar digx 222 // 127 (-34)
    setvar digy 154 // 50 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 1024 state pal0 else state pal10
    state setquote332
    state quote332SLASH
    state mt
    setvar digx 239 // 144 (-26)
    setvar digy 156 // 52 (+26)
    getactorvar[CHARACTERARRAY].CHARACTERWEAPBITFIELD TEMP
    ifvarand TEMP 1024 state pal0 else state pal10
    getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO11 TEMPVAR
    setvarvar varname TEMPVAR
    state dn
// Airtime
    setvar digx 54 // 88 (-34)
    setvar digy 160 // 50 (+26)
    state pal16
    state setquote332
    redefinequote 332 AIR-TIME
    state mt
    setvar digx 99 // 112 (-26)
    setvar digy 162 // 52 (+26)
    state pal16
    getactorvar[CHARACTERARRAY].CHARACTERBREATHTIME TEMPVAR
    setvarvar varname TEMPVAR
    ifvare debugtoggle 0 divvar varname 26
    state dn
    setvar digx 112 // 126 (-34)
    setvar digy 160 // 50 (+26)
    state pal16
    state setquote332
    state quote332SLASH
    state mt
    setvar digx 129 // 146 (-26)
    setvar digy 162 // 52 (+26)
    state pal16
    getactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME TEMPVAR
    setvarvar varname TEMPVAR
    ifvare debugtoggle 0 divvar varname 26
    state dn
// Mantle Time
    setvar digx 164 // 88 (-34)
    setvar digy 160 // 50 (+26)
    state pal14
    state setquote332
    redefinequote 332 MANT-STR
    state mt
    setvar digx 209 // 112 (-26)
    setvar digy 162 // 52 (+26)
    state pal14
   ifvare mainmenupage 8
   {
    setvar digx 222 // 126 (-34)
    setvar digy 162 // 50 (+26)
    state pal14
    state digz98304
    setvar tilenum 8182
    state rs
   }
   else
   {
    getactorvar[CHARACTERARRAY].CHARACTERMANTLETIME TEMPVAR
    setvarvar varname TEMPVAR
    ifvare debugtoggle 0 divvar varname 26
    state dn
    setvar digx 222 // 126 (-34)
    setvar digy 160 // 50 (+26)
    state pal14
    state setquote332
    state quote332SLASH
    state mt
    setvar digx 239 // 146 (-26)
    setvar digy 162 // 52 (+26)
    state pal14
    getactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME TEMPVAR
    setvarvar varname TEMPVAR
    ifvare debugtoggle 0 divvar varname 26
    state dn
   }
ends

state vrvisorflashhp
        getactorvar[hitsprite].EDISPLAYHPFLASHTIMER TEMP3
        ifvarg TEMP3 -29 ifvarl TEMP3 -24 state pal0
        else ifvarg TEMP3 -25 ifvarl TEMP3 -20 state pal21
        else ifvarg TEMP3 -21 ifvarl TEMP3 -16 state pal0
        else ifvarg TEMP3 -17 ifvarl TEMP3 -12 state pal21
        else ifvarg TEMP3 -13 ifvarl TEMP3 -8 state pal0
        else ifvarg TEMP3 -9 ifvarl TEMP3 -4 state pal21
        else ifvarg TEMP3 -5 ifvarl TEMP3 0 state pal0
        else ifvare TEMP3 0 state pal21
        else ifvarg TEMP3 0 ifvarl TEMP3 5 state pal18
        else ifvarg TEMP3 4 ifvarl TEMP3 9 state pal21
        else ifvarg TEMP3 8 ifvarl TEMP3 13 state pal18
        else ifvarg TEMP3 12 ifvarl TEMP3 17 state pal21
        else ifvarg TEMP3 16 ifvarl TEMP3 21 state pal18
        else ifvarg TEMP3 20 ifvarl TEMP3 25 state pal21
        else ifvarg TEMP3 24 ifvarl TEMP3 29 state pal18
ends

state vrvisorflashfa
        getactorvar[hitsprite].EDISPLAYFAFLASHTIMER TEMP3
        ifvarg TEMP3 -29 ifvarl TEMP3 -24 state pal0
        else ifvarg TEMP3 -25 ifvarl TEMP3 -20 state pal21
        else ifvarg TEMP3 -21 ifvarl TEMP3 -16 state pal0
        else ifvarg TEMP3 -17 ifvarl TEMP3 -12 state pal21
        else ifvarg TEMP3 -13 ifvarl TEMP3 -8 state pal0
        else ifvarg TEMP3 -9 ifvarl TEMP3 -4 state pal21
        else ifvarg TEMP3 -5 ifvarl TEMP3 0 state pal0
        else ifvare TEMP3 0 state pal21
        else ifvarg TEMP3 0 ifvarl TEMP3 5 state pal18
        else ifvarg TEMP3 4 ifvarl TEMP3 9 state pal21
        else ifvarg TEMP3 8 ifvarl TEMP3 13 state pal18
        else ifvarg TEMP3 12 ifvarl TEMP3 17 state pal21
        else ifvarg TEMP3 16 ifvarl TEMP3 21 state pal18
        else ifvarg TEMP3 20 ifvarl TEMP3 25 state pal21
        else ifvarg TEMP3 24 ifvarl TEMP3 29 state pal18
ends

state vrvisorflashap
        getactorvar[hitsprite].EDISPLAYAPFLASHTIMER TEMP3
        ifvarg TEMP3 -29 ifvarl TEMP3 -24 state pal0
        else ifvarg TEMP3 -25 ifvarl TEMP3 -20 state pal22
        else ifvarg TEMP3 -21 ifvarl TEMP3 -16 state pal0
        else ifvarg TEMP3 -17 ifvarl TEMP3 -12 state pal22
        else ifvarg TEMP3 -13 ifvarl TEMP3 -8 state pal0
        else ifvarg TEMP3 -9 ifvarl TEMP3 -4 state pal22
        else ifvarg TEMP3 -5 ifvarl TEMP3 0 state pal0
        else ifvare TEMP3 0 state pal22
        else ifvarg TEMP3 0 ifvarl TEMP3 5 state pal18
        else ifvarg TEMP3 4 ifvarl TEMP3 9 state pal22
        else ifvarg TEMP3 8 ifvarl TEMP3 13 state pal18
        else ifvarg TEMP3 12 ifvarl TEMP3 17 state pal22
        else ifvarg TEMP3 16 ifvarl TEMP3 21 state pal18
        else ifvarg TEMP3 20 ifvarl TEMP3 25 state pal22
        else ifvarg TEMP3 24 ifvarl TEMP3 29 state pal18
ends


// **********************************
// * The Following is for Level Ups *
// **********************************
state calcextracrit // Character Level
       ifvare CHARACTERARRAY 1 randvar TEMPVAR2 7 addvar TEMPVAR2 2		 // +0.02%-0.09% [Duke]
       ifvare CHARACTERARRAY 2 randvar TEMPVAR2 4 addvar TEMPVAR2 1		 // +0.01%-0.05% [Jack]
       ifvare CHARACTERARRAY 3 randvar TEMPVAR2 11 addvar TEMPVAR2 2	 // +0.02%-0.12% [Bubsy]
       ifvare CHARACTERARRAY 4 randvar TEMPVAR2 2 addvar TEMPVAR2 1		 // +0.01%-0.03% [Ami]
       ifvare CHARACTERARRAY 5 randvar TEMPVAR2 6 addvar TEMPVAR2 1		 // +0.01%-0.06% [Higa]
       ifvare CHARACTERARRAY 6 randvar TEMPVAR2 9 addvar TEMPVAR2 1		 // +0.01%-0.09% [ESSence]
       ifvare CHARACTERARRAY 7 randvar TEMPVAR2 7 addvar TEMPVAR2 1		 // +0.01%-0.08% [Ted]
       ifvare CHARACTERARRAY 8 randvar TEMPVAR2 21 addvar TEMPVAR2 3	 // +0.03%-0.24% [Lisa]
       ifvare CHARACTERARRAY 9 randvar TEMPVAR2 11 addvar TEMPVAR2 2	 // +0.01%-0.13% [Cybanis]
       ifvare CHARACTERARRAY 10 randvar TEMPVAR2 4 addvar TEMPVAR2 1	 // +0.01%-0.05% [Christina/Nethra]
       ifvare CHARACTERARRAY 11 randvar TEMPVAR2 19 addvar TEMPVAR2 4	 // +0.04%-0.23% [Paula]
       ifvare CHARACTERARRAY 12 randvar TEMPVAR2 12 addvar TEMPVAR2 1	 // +0.01%-0.13% [Lori]
       ifvare CHARACTERARRAY 13 randvar TEMPVAR2 12 addvar TEMPVAR2 2	 // +0.02%-0.14% [Minako]
       ifvare CHARACTERARRAY 14 randvar TEMPVAR2 9 	addvar TEMPVAR2 1	 // +0.01%-0.10% [Mystery1]
       ifvare CHARACTERARRAY 15 randvar TEMPVAR2 19 addvar TEMPVAR2 2	 // +0.02%-0.21% [Maken]

       ifvarn PUBLICBETA? 0
       {
        ifvare SKILLLEVEL 0 addvar TEMPVAR2 4							 // +0.04%
        else ifvarg SKILLLEVEL 0 ifvarl SKILLLEVEL 4 addvar TEMPVAR2 3	 // +0.03%
        else ifvarg SKILLLEVEL 3 ifvarl SKILLLEVEL 7 addvar TEMPVAR2 2	 // +0.02%
        else ifvarg SKILLLEVEL 6 addvar TEMPVAR2 1						 // +0.01%
       }
       else
       {
        ifvare SKILLLEVEL 0 addvar TEMPVAR2 2							 // +0.02%
        else ifvarg SKILLLEVEL 0 ifvarl SKILLLEVEL 4 addvar TEMPVAR2 2	 // +0.02%
        else ifvarg SKILLLEVEL 3 ifvarl SKILLLEVEL 7 addvar TEMPVAR2 1	 // +0.01%
        else ifvarg SKILLLEVEL 6 addvar TEMPVAR2 1						 // +0.01%
       }

       ifrnd 3 mulvar TEMPVAR2 3										 // Multiply Increase by 3
       else ifrnd 9 mulvar TEMPVAR2 2									 // Multiply Increase by 2
       else ifrnd 29 nullop												 // Don't Multiply or Divide Increase
       else ifrnd 85 divvar TEMPVAR2 2									 // Divide Increase by 2
       else divvar TEMPVAR2 3											 // Divide Increase by 3

       ifvarl TEMPVAR2 1 setvar TEMPVAR2 1								 // Min-Caps at 0.01%
       ifvarg TEMPVAR2 100 setvar TEMPVAR2 100							 // Max-Caps at 1.00%

       getactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE temp			 // Get Character's Current Crit Rate
       addvarvar temp TEMPVAR2
       setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE temp			 // Set Character's Current Crit Rate
ends

state checkactorpickupamounts
       ifvarand CALCVAR2 128 setvar CALCVAR3 2 else setvar CALCVAR3 1
       ifvarand CALCVAR2 256 setvar CALCVAR4 4 else setvar CALCVAR4 1
       setvarvar TEMPVAR4 CALCVAR3
       mulvarvar TEMPVAR4 CALCVAR4
       ifvarg TEMPVAR4 1
       {
        redefinequote 143 [%d]
        qsprintf 143 143 TEMPVAR4
        qstrcat 142 143
       }
ends

state charaddairjump // Character Level
       getactorvar[CHARACTERARRAY].CHARACTERMAXAIRJUMPS temp 
       addvar temp 1 
       setactorvar[CHARACTERARRAY].CHARACTERMAXAIRJUMPS temp
       addvar JUMINCTEMP 1
ends

state chardisplaystatups // Character Level
       setvarvar SPDINCTEMPWHOLE SPDINCTEMP
       ifvarn SPDINCTEMPDIV 0 divvarvar SPDINCTEMPWHOLE SPDINCTEMPDIV
       setvarvar SPDINCTEMPPART SPDINCTEMP
       modvarvar SPDINCTEMPPART SPDINCTEMPDIV
       setvarvar AIRINCTEMPWHOLE AIRINCTEMP
       ifvarn AIRINCTEMPDIV 0 divvarvar AIRINCTEMPWHOLE AIRINCTEMPDIV
       setvarvar AIRINCTEMPPART AIRINCTEMP
       modvarvar AIRINCTEMPPART AIRINCTEMPDIV
       setvarvar MNTINCTEMPWHOLE MNTINCTEMP
       ifvarn MNTINCTEMPDIV 0 divvarvar MNTINCTEMPWHOLE MNTINCTEMPDIV
       setvarvar MNTINCTEMPPART MNTINCTEMP
       modvarvar MNTINCTEMPPART MNTINCTEMPDIV
/*
       ifvare debugtoggle 1
       {
        redefinequote 748 ^21HP+%d^22/^17AP+%d^22/^10ATK+%d^22/^14DEF+%d^22/
        redefinequote 749 ^20SPD+%d^22/^1AIR+%d^22/^14MNT+%d^22/^12JUM+%d^22)
        qsprintf 748 751 HPINCTEMP APINCTEMP ATKINCTEMP DEFINCTEMP
        qsprintf 749 752 SPDINCTEMP AIRINCTEMP MNTINCTEMP JUMINCTEMP
        qstrcat 747 748
        qstrcat 747 749
       }
       else
       {
        redefinequote 748 ^21HP+%d^22/^17AP+%d^22/^10ATK+%d^22/^14DEF+%d^22/
        redefinequote 761 ^20SPD+%d %d/%d^22/
        redefinequote 762 ^1AIR+%d %d/%d^22/
        redefinequote 763 ^14MNT+%d %d/%d^22/
        redefinequote 764 ^22JUM+%d^22)
        qsprintf 748 751 HPINCTEMP APINCTEMP ATKINCTEMP DEFINCTEMP
        qsprintf 761 771 SPDINCTEMPWHOLE SPDINCTEMPPART SPDINCTEMPDIV
        qsprintf 762 772 AIRINCTEMPWHOLE AIRINCTEMPPART AIRINCTEMPDIV
        qsprintf 763 773 MNTINCTEMPWHOLE MNTINCTEMPPART MNTINCTEMPDIV
        qsprintf 764 774 JUMINCTEMP
        qstrcat 747 748
        qstrcat 747 761
        qstrcat 747 762
        qstrcat 747 763
        qstrcat 747 764
       }
*/
        redefinequote 748 ^13LEVEL^22 ^20%d^22!)
        addvar templeveltemp1 1
        qsprintf 748 748 templeveltemp1
        subvar templeveltemp1 1
        qstrcat 747 748
        userquote 747

        setvar HPINCTEMP 0 setvar APINCTEMP 0 setvar ATKINCTEMP 0 setvar DEFINCTEMP 0
        setvar SPDINCTEMP 0 setvar AIRINCTEMP 0 setvar MNTINCTEMP 0 setvar JUMINCTEMP 0

        globalsound LEVELUP setvar LEVELUPTIMER 65 

        setvar MISCARRAYID 63  // SOMEONE-LEVELS?
        getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP
        addvar MISCARRAYID_AMOUNTTEMP 1
        setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP

        addvar templeveltemp1 1
        setactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL templeveltemp1
ends

// *************************************************************************************************************************
// *Character Level-UP Table for EXP [used for when the character is not the current character in play and in the reserves]*
// *************************************************************************************************************************
state getcharacterexptablelvlup // Character Level
   getactorvar[CHARACTERARRAY].CHARACTERLEVEL templevel1
   getactorvar[CHARACTERARRAY].CHARACTERTEMPLEVEL templeveltemp1

   getactorvar[CHARACTERARRAY].CHARACTEREXPPTS temp
   ifvarl temp 80 // +80
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 1
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 80
   }
   else
   ifvarl temp 200 // +120 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 2
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 200
   }
   else
   ifvarl temp 360 // +160 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 3
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 360
   }
   else
   ifvarl temp 560 // +200 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 4
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 560
   }
   else
   ifvarl temp 800 // +240 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 5
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 800
   }
   else
   ifvarl temp 1080 // +280 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 6
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1080
   }
   else
    ifvarl temp 1400 // +320 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 7
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1400
   }
   else
    ifvarl temp 1760 // +360 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 8
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1760
   }
   else
    ifvarl temp 2160 // +400 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 9
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 2160

   }
   else
    ifvarl temp 2600 // +440 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 10
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 2600
   }
   else
    ifvarl temp 3080 // +480 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 11
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 3080
   }
   else
    ifvarl temp 3600 // +520 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 12
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 3600
   }
   else
    ifvarl temp 4160 // +560 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 13
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 4160
   }
   else
    ifvarl temp 4760 // +600 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 14
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 4760
   }
   else
    ifvarl temp 5200 // +640 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 15
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 5200
   }
   else
    ifvarl temp 5880 // +680 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 16
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 5880
   }
   else
    ifvarl temp 6600 // +720 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 17
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 6600
   }
   else
    ifvarl temp 7360 // +760 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 18
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 7360
   }
   else
    ifvarl temp 8160 // +800 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 19
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 8160
   }
   else
    ifvarl temp 9000 // +840 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 20
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 9000
   }
   else
    ifvarl temp 9880 // +880 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 21
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 9880
   }
   else
    ifvarl temp 10800 // +920 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 22
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 10800
   }
   else
    ifvarl temp 11760 // +960 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 23
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 11760
   }
   else
    ifvarl temp 12760 // +1000 (40)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 24
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 12760
   }
   else
    ifvarl temp 13840 // +1080 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 25
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 13840
   }
   else
    ifvarl temp 15000 // +1160 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 26
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 15000
   }
   else
    ifvarl temp 16240 // +1240 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 27
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 16240
   }
   else
    ifvarl temp 17560 // +1320 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 28
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 17560
   }
   else
    ifvarl temp 18960 // +1400 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 29
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 18960
   }
   else
    ifvarl temp 20440 // +1480 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 30
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 20440
   }
   else
    ifvarl temp 22000 // +1560 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 31
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 22000
   }
   else
    ifvarl temp 23640 // +1640 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 32
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 23640
   }
   else
    ifvarl temp 25360 // +1720 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 33
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 25360
   }
   else
    ifvarl temp 27160 // +1800 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 34
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 27160
   }
   else
    ifvarl temp 29040 // +1880 (80)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 35
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 29040
   }
   else
    ifvarl temp 33120 // +2120 (160)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 36
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 33120
   }
   else
    ifvarl temp 35400 // +2280 (160)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 37
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 35400
   }
   else
    ifvarl temp 37740 // +2440 (160)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 38
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 37740
   }
   else
    ifvarl temp 40340 // +2600 (160)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 39
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 40340
   }
   else
    ifvarl temp 43100 // +2760 (160)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 40
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 43100
   }
   else
    ifvarl temp 45920 // +2920 (160)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 41
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 45900
   }
   else
    ifvarl temp 49160 // +3240 (320)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 42
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 49160
   }
   else
    ifvarl temp 52720 // +3560 (320)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 43
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 52760
   }
   else
    ifvarl temp 56600 // +3880 (320)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 44
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 56600
   }
   else
    ifvarl temp 61120 // +4520 (640)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 45
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 61120
   }
   else
    ifvarl temp 65280 // +5160 (640)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 46
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 65280
   }
   else
    ifvarl temp 71080 // +5800 (640)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 47
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 71080
   }
   else
    ifvarl temp 77440 // +6440 (640)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 48
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 77440
   }
   else
    ifvarl temp 84520 // +7080 (640)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 49
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 84520
   }
   else
    ifvarl temp 91240 // +7720 (640)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 50
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 91240
   }
   else
    ifvarl temp 99600 // +8360 (640)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 51
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 99600
   }
   else
    ifvarl temp 108600 // +9000 (640)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 52
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 108600
   }
   else
    ifvarl temp 118400 // +9800 (800)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 53
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 118400
   }
   else
    ifvarl temp 129000 // +10600 (800)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 54
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 129000
   }
   else
    ifvarl temp 140800 // +11800 (1200)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 55
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 140800
   }
   else
    ifvarl temp 154200 // +13400 (1600)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 56
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 154200
   }
   else
    ifvarl temp 209600 // +15400 (2000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 57
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 209600
   }
   else
    ifvarl temp 227400 // +17800 (2400)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 58
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 227400
   }
   else
    ifvarl temp 248000 // +20600 (2800)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 59
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 248000
   }
   else
    ifvarl temp 271800 // +23800 (3200)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 60
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 271800
   }
   else
    ifvarl temp 299200 // +27400 (3600)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 61
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 299200
   }
   else
    ifvarl temp 320600 // +31400 (4000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 62
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 320600
   }
   else
    ifvarl temp 356400 // +35800 (4400)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 63
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 356400
   }
   else
    ifvarl temp 397000 // +40600 (4800)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 64
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 397000
   }
   else
    ifvarl temp 442800 // +45800 (5200)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 65
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 442800
   }
   else
    ifvarl temp 494200 // +51400 (5600)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 66
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 494200
   }
   else
    ifvarl temp 551600 // +57400 (6000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 67
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 551600
   }
   else
    ifvarl temp 615400 // +63800 (6400)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 68
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 615400
   }
   else
    ifvarl temp 676000 // +70600 (6800)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 69
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 676000
   }
   else
    ifvarl temp 753800 // +77800 (7200)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 70
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 753800
   }
   else
    ifvarl temp 839200 // +85400 (7600)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 71
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 839200
   }
   else
    ifvarl temp 932600 // +93400 (8000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 72
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 932600
   }
   else
    ifvarl temp 1034400 // +101800 (8400)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 73
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1034400
   }
   else
    ifvarl temp 1145000 // +110600 (8800)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 74
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1145000
   }
   else
    ifvarl temp 1254800 // +119800 (9200)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 75
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1254800
   }
   else
    ifvarl temp 1384200 // +129400 (9600)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 76
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1384200
   }
   else
    ifvarl temp 1513600 // +139400 (10000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 77
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1513600
   }
   else
    ifvarl temp 1663600 // +150000 (10000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 78
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1663600
   }
   else
    ifvarl temp 1823600 // +160000 (10000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 79
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1823600
   }
   else
    ifvarl temp 1993600 // +170000 (10000)
   {

    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 80
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 1993600
   }
   else
    ifvarl temp 2173600 // +180000 (10000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 81
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 2173600
   }
   else
    ifvarl temp 2363600 // +190000 (10000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 82
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 2363600
   }
   else
    ifvarl temp 2563600 // +200000 (10000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 83
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 2563600
   }
   else
    ifvarl temp 2783600 // +220000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 84
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 2783600
   }
   else
    ifvarl temp 3023600 // +240000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 85
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 3023600
   }
   else
    ifvarl temp 3283600 // +260000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 86
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 3283600
   }
   else
    ifvarl temp 3563600 // +280000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 87
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 3563600
   }
   else
    ifvarl temp 3863600 // +300000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 88
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 3863600
   }
   else
    ifvarl temp 4183600 // +320000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 89
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 4183600
   }
   else
    ifvarl temp 4523600 // +340000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 90
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 4523600
   }
   else
    ifvarl temp 4883600 // +360000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 91
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 4883600
   }
   else
    ifvarl temp 5263600 // +380000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 92
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 5263600
   }
   else
    ifvarl temp 5663600 // +400000 (20000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 93
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 5663600
   }
   else
    ifvarl temp 6103600 // +440000 (40000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 94
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 6103600
   }
   else
    ifvarl temp 6583600 // +480000 (40000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 95
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 6583600
   }
   else
    ifvarl temp 7103600 // +520000 (40000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 96
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 7103600
   }
   else
    ifvarl temp 7663600 // +560000 (40000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 97
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 7663600
   }
   else
    ifvarl temp 8263600 // +600000 (40000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 98
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 8263600
   }
   else
    ifvarl temp 9163600 // +900000 (300000)
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 99
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 9163600
   }
   else
    ifvarg temp 9163599
   {
    setactorvar[CHARACTERARRAY].CHARACTERLEVEL 100
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTS 9163600
    setactorvar[CHARACTERARRAY].CHARACTEREXPPTSTONEXT 9163600
   }
ends

state charlvlupcalcatkdefcheck // Character Level
         setvarvar STATINCREASE templeveltemp1

         ifvare PUBLICBETA? 1
         {
          ifvare SKILLLEVEL 0 setvar tempc 14
          ifvare SKILLLEVEL 1 setvar tempc 13
          ifvare SKILLLEVEL 2 setvar tempc 12
          ifvare SKILLLEVEL 3 setvar tempc 11
          ifvare SKILLLEVEL 4 setvar tempc 10
          ifvare SKILLLEVEL 5 setvar tempc 10
          ifvare SKILLLEVEL 6 setvar tempc 9
          ifvare SKILLLEVEL 7 setvar tempc 8
          ifvare SKILLLEVEL 8 setvar tempc 7
          ifvare SKILLLEVEL 9 setvar tempc 6

          mulvarvar CHARSTATINCREASE tempc
          divvar CHARSTATINCREASE 10
         }

         ifvarg templeveltemp1 0 ifvarl templeveltemp1 26 mulvar CHARSTATINCREASE 1
         ifvarg templeveltemp1 25 ifvarl templeveltemp1 51 mulvar CHARSTATINCREASE 3
         ifvarg templeveltemp1 50 ifvarl templeveltemp1 76 mulvar CHARSTATINCREASE 6
         ifvarg templeveltemp1 75 ifvarl templeveltemp1 101 mulvar CHARSTATINCREASE 9
         addvarvar STATINCREASE CHARSTATINCREASE
ends

state charlvlupcalcmost // Character Level [for NON-ACTIVE characters leveling up]
      // *******************
      // *Increasing Max HP*
      // *******************
      getactorvar[CHARACTERARRAY].CHARACTERMAXHP temp
      setvarvar TEMPHITPOINTS temp		// Sets TempHP to current Max Hit points...
      divvar TEMPHITPOINTS 50			// ...and divides by 50
      setvarvar TEMPVAR temp			// Sets varience to current Max Hit points...
      divvar TEMPVAR 100				// ...and divides by 100
      randvarvar tempb TEMPVAR			// determines the true varience based on a random amount between 0 and TEMPVAR
      ifrnd 128 addvarvar TEMPHITPOINTS tempb else subvarvar TEMPHITPOINTS tempb	// Randomly adds or subtracts the varience from the increase
      ifvarg templeveltemp1 90 ifvarl templeveltemp1 101 { mulvar TEMPHITPOINTS 5 divvar TEMPHITPOINTS 2 } // If Level is 91-100, multiply increase by 2.5x

      setvar CHARSTATINCREASE 0
      getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE TEMP2
      addvarvar CHARSTATINCREASE TEMP2
      mulvarvar CHARSTATINCREASE templeveltemp1
      divvar CHARSTATINCREASE 20
      ifvarg templeveltemp1 90 ifvarl templeveltemp1 101 { mulvar CHARSTATINCREASE 5 divvar CHARSTATINCREASE 2 } 
      addvarvar TEMPHITPOINTS CHARSTATINCREASE

      state checker
      mulvarvar TEMPHITPOINTS tempc
      divvar TEMPHITPOINTS 100
      ifvarl TEMPHITPOINTS 1 setvar TEMPHITPOINTS 1

      setvarvar TEMPVAR temp
      addvarvar TEMPVAR TEMPHITPOINTS
      ifvarvarg TEMPVAR STATLIMIT
      { 
       setvarvar temp STATLIMIT
       setvarvar TEMPHITPOINTS 0 
      } 
      else 
      { 
       addvarvar temp TEMPHITPOINTS
       addvarvar HPINCTEMP TEMPHITPOINTS 
      }
      setactorvar[CHARACTERARRAY].CHARACTERMAXHP temp

      getactorvar[CHARACTERARRAY].CHARACTERHP temp
      ifvarvarg HPINCTEMP STATLIMIT setvarvar HPINCTEMP STATLIMIT
      addvarvar temp TEMPHITPOINTS 									// TEMPHITPOINTS is for adding to the current health level on a level up
      ifvarvarg temp STATLIMITATOMIC setvarvar temp STATLIMITATOMIC	// It will add the same amount to current health as to maximum health.
      setactorvar[CHARACTERARRAY].CHARACTERHP temp

      getactorvar[CHARACTERARRAY].CHARACTERFA temp
      ifvarg temp 0 // Only perform the following if FA is higher than 0
      {
       addvarvar temp TEMPHITPOINTS
       ifvarvarg temp STATLIMITATOMIC setvarvar temp STATLIMITATOMIC
      }
      setactorvar[CHARACTERARRAY].CHARACTERFA temp

      // *******************
      // *Increasing Max AP*
      // *******************
      getactorvar[CHARACTERARRAY].CHARACTERMAXAP temp
      setvarvar TEMPARMORPOINTS temp	// Sets TempAP to current Max Armor points
      divvar TEMPARMORPOINTS 50			// And divides by 50
      setvarvar TEMPVAR temp			// Sets varience to current Max Armor points
      divvar TEMPVAR 100				// And divides by 100
      randvarvar tempb TEMPVAR
      ifrnd 128 addvarvar TEMPARMORPOINTS tempb else subvarvar TEMPARMORPOINTS tempb	// Randomly adds or subtracts the varience from the increase
      ifvarg templeveltemp1 90 ifvarl templeveltemp1 101 { mulvar TEMPARMORPOINTS 5 divvar TEMPARMORPOINTS 2 } // If Level is 91-100, multiply increase by 2.5x

      setvar CHARSTATINCREASE 0
      getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE TEMP2
      addvarvar CHARSTATINCREASE TEMP2
      mulvarvar CHARSTATINCREASE templeveltemp1
      divvar CHARSTATINCREASE 20
      ifvarg templeveltemp1 90 ifvarl templeveltemp1 101 { mulvar CHARSTATINCREASE 5 divvar CHARSTATINCREASE 2 } 
      addvarvar TEMPARMORPOINTS CHARSTATINCREASE

      state checker
      mulvarvar TEMPARMORPOINTS tempc
      divvar TEMPARMORPOINTS 100
      ifvarl TEMPARMORPOINTS 1 setvar TEMPARMORPOINTS 1

      setvarvar TEMPVAR temp
      addvarvar TEMPVAR TEMPARMORPOINTS
      ifvarvarg TEMPVAR STATLIMIT 
      { 
       setvarvar temp STATLIMIT
       setvarvar TEMPARMORPOINTS 0 
      } 
      else 
      { 
       addvarvar temp TEMPARMORPOINTS
       addvarvar APINCTEMP TEMPARMORPOINTS 
      }
      setactorvar[CHARACTERARRAY].CHARACTERMAXAP temp

      getactorvar[CHARACTERARRAY].CHARACTERAP temp
      ifvarvarg APINCTEMP STATLIMIT setvarvar APINCTEMP STATLIMIT
      ifvarg temp 0 addvarvar temp TEMPARMORPOINTS // TEMPARMOR is for adding to the current armor level on a level up
      ifvarvarg temp STATLIMITATOMIC setvarvar temp STATLIMITATOMIC
      setactorvar[CHARACTERARRAY].CHARACTERAP temp

      // *******************
      // *Increasing Max EP*
      // *******************
      getactorvar[CHARACTERARRAY].CHARACTERMAXEP temp
      setvarvar TEMPHITPOINTS temp		// Sets TempHP to current Max Energy points
      divvar TEMPHITPOINTS 75			// And divides by 75
      setvarvar TEMPVAR temp			// Sets varience to current Max Energy points
      divvar TEMPVAR 150				// And divides by 150
      randvarvar tempb TEMPVAR
      ifrnd 128 addvarvar TEMPHITPOINTS tempb else subvarvar TEMPHITPOINTS tempb 
      ifvarg templeveltemp1 90 ifvarl templeveltemp1 101 { mulvar TEMPHITPOINTS 5 divvar TEMPHITPOINTS 2 } 

      setvar CHARSTATINCREASE 0
      getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE TEMP2
      addvarvar CHARSTATINCREASE TEMP2
      mulvarvar CHARSTATINCREASE templeveltemp1
      divvar CHARSTATINCREASE 30
      ifvarg templeveltemp1 90 ifvarl templeveltemp1 101 { mulvar CHARSTATINCREASE 5 divvar CHARSTATINCREASE 2 } 
      addvarvar TEMPHITPOINTS CHARSTATINCREASE

      ifvarl TEMPHITPOINTS 1 setvar TEMPHITPOINTS 1

      setvarvar TEMPVAR temp
      addvarvar TEMPVAR TEMPHITPOINTS
      ifvarvarg TEMPVAR STATLIMIT
      { 
       setvarvar temp STATLIMIT
       setvarvar TEMPHITPOINTS 0 
      } 
      else 
      { 
       addvarvar temp TEMPHITPOINTS
       addvarvar EPINCTEMP TEMPHITPOINTS 
      }
      setactorvar[CHARACTERARRAY].CHARACTERMAXEP temp

      getactorvar[CHARACTERARRAY].CHARACTEREP temp
      ifvarvarg EPINCTEMP STATLIMIT setvarvar EPINCTEMP STATLIMIT
      addvarvar temp TEMPHITPOINTS // TEMPHEALTH is for adding to the current health level on a level up
      ifvarvarg temp STATLIMITATOMIC setvarvar temp STATLIMITATOMIC // It will add the same amount to current health as to maximum health.
      setactorvar[CHARACTERARRAY].CHARACTEREP temp


      // ************************
      // *Increasing Max AirTime*
      // ************************
       setvar TEMPVAR2 0
       ifvare CHARACTERARRAY 1 // Duke
       {
        ifvarg templeveltemp1 -1 { ifrnd 120 randvar TEMPVAR2 2 }
        ifvarg templeveltemp1 24 { ifrnd 180 randvar TEMPVAR2 3 }
        ifvarg templeveltemp1 49 { ifrnd 240 randvar TEMPVAR2 3 }
        ifvarg templeveltemp1 74 { randvar TEMPVAR2 4 ifrnd 104 addvar TEMPVAR2 2 }
       }
       ifvare CHARACTERARRAY 2 // Jack
       {
        ifvarg templeveltemp1 -1 { ifrnd 104 randvar TEMPVAR2 2 }
        ifvarg templeveltemp1 24 { ifrnd 156 randvar TEMPVAR2 2 }
        ifvarg templeveltemp1 49 { ifrnd 228 randvar TEMPVAR2 2 }
        ifvarg templeveltemp1 74 { randvar TEMPVAR2 3 ifrnd 86 addvar TEMPVAR2 1 }
       }
       ifvare CHARACTERARRAY 3 // Bubsy
       {
        ifvarg templeveltemp1 -1 { ifrnd 96 randvar TEMPVAR2 1 }
        ifvarg templeveltemp1 24 { ifrnd 144 randvar TEMPVAR2 2 }
        ifvarg templeveltemp1 49 { ifrnd 216 randvar TEMPVAR2 2 }
        ifvarg templeveltemp1 74 { randvar TEMPVAR2 3 ifrnd 68 addvar TEMPVAR2 1 }
       }
       ifvare CHARACTERARRAY 4 // Ami
       {
        ifvarg templeveltemp1 -1 { ifrnd 240 randvar TEMPVAR2 4 }
        ifvarg templeveltemp1 24 { randvar TEMPVAR2 4 ifrnd 104 addvar TEMPVAR2 2 }
        ifvarg templeveltemp1 49 { randvar TEMPVAR2 4 ifrnd 156 addvar TEMPVAR2 2 }
        ifvarg templeveltemp1 74 { randvar TEMPVAR2 5 ifrnd 232 addvar TEMPVAR2 3 }
       }
       ifvare CHARACTERARRAY 5 // Lo Wang
       {
        ifvarg templeveltemp1 -1 { ifrnd 128 randvar TEMPVAR2 2 }
        ifvarg templeveltemp1 24 { ifrnd 192 randvar TEMPVAR2 3 }
        ifvarg templeveltemp1 49 { randvar TEMPVAR2 3 ifrnd 32 addvar TEMPVAR2 1 }
        ifvarg templeveltemp1 74 { randvar TEMPVAR2 3 ifrnd 48 addvar TEMPVAR2 1 }
       }
       ifvare CHARACTERARRAY 6 // ESSence
       {
        ifvarg templeveltemp1 -1 { ifrnd 64 randvar TEMPVAR2 1 }
        ifvarg templeveltemp1 24 { ifrnd 96 randvar TEMPVAR2 1 }
        ifvarg templeveltemp1 49 { ifrnd 144 randvar TEMPVAR2 2 }
        ifvarg templeveltemp1 74 { ifrnd 216 randvar TEMPVAR2 3 }
       }
       ifvare CHARACTERARRAY 7 // Ted
       {
        ifvarg templeveltemp1 -1 { ifrnd 124 randvar TEMPVAR2 2 }
        ifvarg templeveltemp1 24 { ifrnd 186 randvar TEMPVAR2 3 }
        ifvarg templeveltemp1 49 { randvar TEMPVAR2 3 ifrnd 23 addvar TEMPVAR2 1 }
        ifvarg templeveltemp1 74 { randvar TEMPVAR2 3 ifrnd 34 addvar TEMPVAR2 1 }
       }
       ifvare CHARACTERARRAY 8 // Lisa
       {
        ifvarg templeveltemp1 -1 { ifrnd 136 randvar TEMPVAR2 2 }
        ifvarg templeveltemp1 24 { ifrnd 204 randvar TEMPVAR2 3 }
        ifvarg templeveltemp1 49 { randvar TEMPVAR2 3 ifrnd 50 addvar TEMPVAR2 1 }
        ifvarg templeveltemp1 74 { randvar TEMPVAR2 3 ifrnd 75 addvar TEMPVAR2 1 }
       }
       ifvare CHARACTERARRAY 9 // Cybanis
       {
        ifvarg templeveltemp1 -1 { ifrnd 56 randvar TEMPVAR2 1 }
        ifvarg templeveltemp1 24 { ifrnd 84 randvar TEMPVAR2 1 }
        ifvarg templeveltemp1 49 { ifrnd 126 randvar TEMPVAR2 2 }
        ifvarg templeveltemp1 74 { ifrnd 189 randvar TEMPVAR2 3 }
       }
       ifvare CHARACTERARRAY 10 // Nethra
       {
        ifvarg templeveltemp1 -1 { ifrnd 144 randvar TEMPVAR2 2 }
        ifvarg templeveltemp1 24 { ifrnd 216 randvar TEMPVAR2 3 }
        ifvarg templeveltemp1 49 { randvar TEMPVAR2 3 ifrnd 68 addvar TEMPVAR2 1 }
        ifvarg templeveltemp1 74 { randvar TEMPVAR2 4 ifrnd 104 addvar TEMPVAR2 2 }
       }
       ifvare CHARACTERARRAY 11 // Paula
       {
        ifvarg templeveltemp1 -1 { ifrnd 136 randvar TEMPVAR2 2 }
        ifvarg templeveltemp1 24 { ifrnd 204 randvar TEMPVAR2 3 }
        ifvarg templeveltemp1 49 { randvar TEMPVAR2 3 ifrnd 50 addvar TEMPVAR2 1 }
        ifvarg templeveltemp1 74 { randvar TEMPVAR2 3 ifrnd 75 addvar TEMPVAR2 1 }
       }
       ifvare CHARACTERARRAY 12 // Lori
       {
        ifvarg templeveltemp1 -1 { ifrnd 156 randvar TEMPVAR2 2 }
        ifvarg templeveltemp1 24 { ifrnd 234 randvar TEMPVAR2 3 }
        ifvarg templeveltemp1 49 { randvar TEMPVAR2 3 ifrnd 95 addvar TEMPVAR2 1 }
        ifvarg templeveltemp1 74 { randvar TEMPVAR2 3 ifrnd 142 addvar TEMPVAR2 2 }
       }
       ifvare CHARACTERARRAY 13 // Minako
       {
        ifvarg templeveltemp1 -1 { ifrnd 160 randvar TEMPVAR2 3 }
        ifvarg templeveltemp1 24 { ifrnd 240 randvar TEMPVAR2 4 }
        ifvarg templeveltemp1 49 { randvar TEMPVAR2 4 ifrnd 104 addvar TEMPVAR2 2 }
        ifvarg templeveltemp1 74 { randvar TEMPVAR2 4 ifrnd 156 addvar TEMPVAR2 2 }
       }
       ifvare CHARACTERARRAY 14 // Mystery Lady
       {
        ifvarg templeveltemp1 -1 { ifrnd 208 randvar TEMPVAR2 3 }
        ifvarg templeveltemp1 24 { randvar TEMPVAR2 3 ifrnd 56 addvar TEMPVAR2 1 }
        ifvarg templeveltemp1 49 { randvar TEMPVAR2 3 ifrnd 84 addvar TEMPVAR2 1 }
        ifvarg templeveltemp1 74 { randvar TEMPVAR2 3 ifrnd 126 addvar TEMPVAR2 2 }
       }
       ifvare CHARACTERARRAY 15 // Maken
       {
        ifvarg templeveltemp1 -1 { ifrnd 128 randvar TEMPVAR2 2 }
        ifvarg templeveltemp1 24 { ifrnd 196 randvar TEMPVAR2 3 }
        ifvarg templeveltemp1 49 { randvar TEMPVAR2 3 ifrnd 32 addvar TEMPVAR2 1 }
        ifvarg templeveltemp1 74 { randvar TEMPVAR2 3 ifrnd 48 addvar TEMPVAR2 1 }
       }

      getactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME temp
      setvarvar TEMPHITPOINTS temp
      divvar TEMPHITPOINTS 256               // And divides by 256
      setvarvar TEMPVAR temp    // Sets varience to current Max Air Time
      divvar TEMPVAR 512                     // And divides by 512
      randvarvar tempb TEMPVAR
      ifrnd 128 addvarvar TEMPHITPOINTS tempb else subvarvar TEMPHITPOINTS tempb
      // Calc Character-Specfic Bonus
      addvarvar TEMPHITPOINTS TEMPVAR2
      setvar TEMPVAR2 0
      // End Calc Character Specfic Bonus
      ifvarg templeveltemp1 70 ifvarl templeveltemp1 81 { mulvar TEMPHITPOINTS 3 divvar TEMPHITPOINTS 2 }
      ifvarg templeveltemp1 80 ifvarl templeveltemp1 91 { mulvar TEMPHITPOINTS 4 divvar TEMPHITPOINTS 2 }
      ifvarg templeveltemp1 90 ifvarl templeveltemp1 101 { mulvar TEMPHITPOINTS 5 divvar TEMPHITPOINTS 2 }
      ifvarl TEMPHITPOINTS 1 { setvar TEMPHITPOINTS 1 }
      addvarvar temp TEMPHITPOINTS
      setactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME temp
      getactorvar[CHARACTERARRAY].CHARACTERBREATHTIME temp
      addvarvar temp TEMPHITPOINTS
      setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME temp
      addvarvar AIRINCTEMP TEMPHITPOINTS
      setvarvar TEMPHITPOINTS 0 

      // ***************************
      // *Increasing Max MantleTime*
      // ***************************
      setvar STATINCREASE 0
      ifvare CHARACTERARRAY 1 // Duke
      {
       ifvarg templeveltemp1 -1 { randvar STATVARIENCE 2 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 24 { randvar STATVARIENCE 2 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 49 { randvar STATVARIENCE 2 addvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 74 { randvar STATVARIENCE 3 addvar STATVARIENCE 3 addvarvar STATINCREASE STATVARIENCE }
      }
      ifvare CHARACTERARRAY 2 // Jack
      {
       ifvarg templeveltemp1 -1 { ifrnd 149 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 24 { ifrnd 149 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 49 { ifrnd 224 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 } addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 74 { randvar STATVARIENCE 2 addvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
      }
      ifvare CHARACTERARRAY 3 // Bubsy
      {
       ifvarg templeveltemp1 -1 { ifrnd 171 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 24 { ifrnd 171 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 49 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 74 { randvar STATVARIENCE 1 addvar STATVARIENCE 2 addvarvar STATINCREASE STATVARIENCE }
      }
      ifvare CHARACTERARRAY 4 // Ami
      {
       ifvarg templeveltemp1 -1 { ifrnd 107 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 24 { ifrnd 107 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 49 { ifrnd 160 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 } addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 74 { ifrnd 214 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 } addvarvar STATINCREASE STATVARIENCE }
      }
      ifvare CHARACTERARRAY 5 // Lo Wang
      {
       ifvarg templeveltemp1 -1 { ifrnd 213 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 24 { ifrnd 213 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 49 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 74 { randvar STATVARIENCE 2 addvar STATVARIENCE 2 addvarvar STATINCREASE STATVARIENCE }
      }
      ifvare CHARACTERARRAY 6 // ESSence
      {
       ifvarg templeveltemp1 -1 { randvar STATVARIENCE 2 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 24 { randvar STATVARIENCE 3 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 49 { randvar STATVARIENCE 3 addvar STATVARIENCE 2 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 74 { randvar STATVARIENCE 4 addvar STATVARIENCE 4 addvarvar STATINCREASE STATVARIENCE }
      }
      ifvare CHARACTERARRAY 7 // Ted
      {
       ifvarg templeveltemp1 -1 { ifrnd 234 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 24 { ifrnd 234 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 49 { randvar STATVARIENCE 2 addvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 74 { randvar STATVARIENCE 3 addvar STATVARIENCE 2 addvarvar STATINCREASE STATVARIENCE }
      }
      ifvare CHARACTERARRAY 8 // Lisa
      {
       ifvarg templeveltemp1 -1 { ifrnd 176 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 24 { ifrnd 176 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 49 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 74 { randvar STATVARIENCE 2 addvar STATVARIENCE 2 addvarvar STATINCREASE STATVARIENCE }
      }
      ifvare CHARACTERARRAY 9 // Cybanis
      {
       ifvarg templeveltemp1 -1 { randvar STATVARIENCE 2 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 24 { randvar STATVARIENCE 3 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 49 { randvar STATVARIENCE 3 addvar STATVARIENCE 2 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 74 { randvar STATVARIENCE 5 addvar STATVARIENCE 5 addvarvar STATINCREASE STATVARIENCE }
      }
      ifvare CHARACTERARRAY 10 // Nethra
      {
       ifvarg templeveltemp1 -1 { ifrnd 139 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 24 { ifrnd 139 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 49 { ifrnd 209 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 } addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 74 { randvar STATVARIENCE 2 addvar STATVARIENCE 2 addvarvar STATINCREASE STATVARIENCE }
      }
      ifvare CHARACTERARRAY 11 // Paula
      {
       ifvarg templeveltemp1 -1 { ifrnd 128 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 24 { ifrnd 128 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 49 { ifrnd 192 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 } addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 74 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
      }
      ifvare CHARACTERARRAY 12 // Lori
      {
       ifvarg templeveltemp1 -1 { ifrnd 192 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 24 { ifrnd 192 randvar STATVARIENCE 2 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 49 { randvar STATVARIENCE 3 addvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 74 { randvar STATVARIENCE 9 addvar STATVARIENCE 3 addvarvar STATINCREASE STATVARIENCE }
      }
      ifvare CHARACTERARRAY 13 // Minako
      {
       ifvarg templeveltemp1 -1 { ifrnd 223 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 24 { ifrnd 223 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 49 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 74 { randvar STATVARIENCE 2 addvar STATVARIENCE 2 addvarvar STATINCREASE STATVARIENCE }
      }
      ifvare CHARACTERARRAY 14 // Mystery Lady
      {
       ifvarg templeveltemp1 -1 { randvar STATVARIENCE 3 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 24 { randvar STATVARIENCE 4 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 49 { randvar STATVARIENCE 4 addvar STATVARIENCE 4 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 74 { randvar STATVARIENCE 8 addvar STATVARIENCE 7 addvarvar STATINCREASE STATVARIENCE }
      }
      ifvare CHARACTERARRAY 15 // Maken
      {
       ifvarg templeveltemp1 -1 { ifrnd 160 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 24 { ifrnd 160 randvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 49 { ifrnd 241 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 } addvarvar STATINCREASE STATVARIENCE }
       ifvarg templeveltemp1 74 { randvar STATVARIENCE 2 addvar STATVARIENCE 1 addvarvar STATINCREASE STATVARIENCE }
      }

      getactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME temp
      addvarvar temp STATINCREASE
      setactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME temp
      getactorvar[CHARACTERARRAY].CHARACTERMANTLETIME temp
      addvarvar temp STATINCREASE
      setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME temp
      addvarvar MNTINCTEMP STATINCREASE

/*
      // **************************
      // *Increasing Lift Strength*
      // **************************
       setvar STATINCREASE 0
       ifvare CHARACTERARRAY 1 // Duke
       {
       }
       ifvare CHARACTERARRAY 2 // Jack
       {
       }
       ifvare CHARACTERARRAY 3 // Bubsy
       {
       }
       ifvare CHARACTERARRAY 4 // Ami
       {
       }
       ifvare CHARACTERARRAY 5 // Lo Wang
       {
       }
       ifvare CHARACTERARRAY 6 // ESSence
       {
       }
       ifvare CHARACTERARRAY 7 // Ted
       {
       }
       ifvare CHARACTERARRAY 8 // Lisa
       {
       }
       ifvare CHARACTERARRAY 9 // Cybanis
       {
       }
       ifvare CHARACTERARRAY 10 // Nethra
       {
       }
       ifvare CHARACTERARRAY 11 // Paula
       {
       }
       ifvare CHARACTERARRAY 12 // Lori
       {
       }
       ifvare CHARACTERARRAY 13 // Minako
       {
       }
       ifvare CHARACTERARRAY 14 // Mystery Lady
       {
       }
       ifvare CHARACTERARRAY 15 // Maken
       {
       }
       getactorvar[CHARACTERARRAY].CHARACTERLIFTSTRENGTH temp
       addvarvar temp STATINCREASE
       setactorvar[CHARACTERARRAY].CHARACTERLIFTSTRENGTH temp

      // *****************************
      // *Increasing Jumping Strength*
      // *****************************
       setvar STATINCREASE 0
       ifvare CHARACTERARRAY 1 // Duke
       {
       }
       ifvare CHARACTERARRAY 2 // Jack
       {
       }
       ifvare CHARACTERARRAY 3 // Bubsy
       {
       }
       ifvare CHARACTERARRAY 4 // Ami
       {
       }
       ifvare CHARACTERARRAY 5 // Lo Wang
       {
       }
       ifvare CHARACTERARRAY 6 // ESSence
       {
       }
       ifvare CHARACTERARRAY 7 // Ted
       {
       }
       ifvare CHARACTERARRAY 8 // Lisa
       {
       }
       ifvare CHARACTERARRAY 9 // Cybanis
       {
       }
       ifvare CHARACTERARRAY 10 // Nethra
       {
       }
       ifvare CHARACTERARRAY 11 // Paula
       {
       }
       ifvare CHARACTERARRAY 12 // Lori
       {
       }
       ifvare CHARACTERARRAY 13 // Minako
       {
       }
       ifvare CHARACTERARRAY 14 // Mystery Lady
       {
       }
       ifvare CHARACTERARRAY 15 // Maken
       {
       }
       getactorvar[CHARACTERARRAY].CHARACTERJUMPSTRENGTH temp
       addvarvar temp STATINCREASE
       setactorvar[CHARACTERARRAY].CHARACTERJUMPSTRENGTH temp
*/

       // *************************************************
       // * This Part is for increasing Air-Jump Maximums *
       // *************************************************
       ifvare CHARACTERARRAY 1 // Duke
       {
        ifvare templeveltemp1 29 state charaddairjump
        ifvare templeveltemp1 59 state charaddairjump
        ifvare templeveltemp1 89 state charaddairjump
       }
       ifvare CHARACTERARRAY 2 // Jack
       {
        ifvare templeveltemp1 27 state charaddairjump
        ifvare templeveltemp1 55 state charaddairjump
        ifvare templeveltemp1 83 state charaddairjump
       }
       ifvare CHARACTERARRAY 3 // Bubsy
       {
        ifvare templeveltemp1 30 state charaddairjump
        ifvare templeveltemp1 61 state charaddairjump
        ifvare templeveltemp1 92 state charaddairjump
       }
       ifvare CHARACTERARRAY 4 // Ami
       {
        ifvare templeveltemp1 28 state charaddairjump
        ifvare templeveltemp1 57 state charaddairjump
        ifvare templeveltemp1 86 state charaddairjump
       }
       ifvare CHARACTERARRAY 5 // Higa
       {
        ifvare templeveltemp1 24 state charaddairjump
        ifvare templeveltemp1 49 state charaddairjump
        ifvare templeveltemp1 74 state charaddairjump
        ifvare templeveltemp1 99 state charaddairjump
       }
       ifvare CHARACTERARRAY 6 // ESSence
       {
        ifvare templeveltemp1 21 state charaddairjump
        ifvare templeveltemp1 43 state charaddairjump
        ifvare templeveltemp1 65 state charaddairjump
        ifvare templeveltemp1 87 state charaddairjump
       }
       ifvare CHARACTERARRAY 7 // Ted
       {
        ifvare templeveltemp1 17 state charaddairjump
        ifvare templeveltemp1 35 state charaddairjump
        ifvare templeveltemp1 53 state charaddairjump
        ifvare templeveltemp1 71 state charaddairjump
        ifvare templeveltemp1 89 state charaddairjump
       }
       ifvare CHARACTERARRAY 8 // Lisa
       {
        ifvare templeveltemp1 23 state charaddairjump
        ifvare templeveltemp1 47 state charaddairjump
        ifvare templeveltemp1 71 state charaddairjump
        ifvare templeveltemp1 95 state charaddairjump
       }
       ifvare CHARACTERARRAY 9 // Cybanis
       {
        ifvare templeveltemp1 18 state charaddairjump
        ifvare templeveltemp1 37 state charaddairjump
        ifvare templeveltemp1 56 state charaddairjump
        ifvare templeveltemp1 75 state charaddairjump
        ifvare templeveltemp1 94 state charaddairjump
       }
       ifvare CHARACTERARRAY 10 // Nethra/Christina
       {
        ifvare templeveltemp1 22 state charaddairjump
        ifvare templeveltemp1 45 state charaddairjump
        ifvare templeveltemp1 68 state charaddairjump
        ifvare templeveltemp1 91 state charaddairjump
       }
       ifvare CHARACTERARRAY 11 // Paula
       {
        ifvare templeveltemp1 25 state charaddairjump
        ifvare templeveltemp1 51 state charaddairjump
        ifvare templeveltemp1 77 state charaddairjump
       }
       ifvare CHARACTERARRAY 12 // Lori
       {
        ifvare templeveltemp1 20 state charaddairjump
        ifvare templeveltemp1 41 state charaddairjump
        ifvare templeveltemp1 62 state charaddairjump
        ifvare templeveltemp1 83 state charaddairjump
       }
       ifvare CHARACTERARRAY 13 // Minako
       {
        ifvare templeveltemp1 16 state charaddairjump
        ifvare templeveltemp1 33 state charaddairjump
        ifvare templeveltemp1 50 state charaddairjump
        ifvare templeveltemp1 67 state charaddairjump
        ifvare templeveltemp1 84 state charaddairjump
       }
       ifvare CHARACTERARRAY 14 // Mystery 1
       {
        ifvare templeveltemp1 26 state charaddairjump
        ifvare templeveltemp1 53 state charaddairjump
        ifvare templeveltemp1 80 state charaddairjump
       }
       ifvare CHARACTERARRAY 15 // Maken
       {
        ifvare templeveltemp1 19 state charaddairjump
        ifvare templeveltemp1 39 state charaddairjump
        ifvare templeveltemp1 59 state charaddairjump
        ifvare templeveltemp1 79 state charaddairjump
        ifvare templeveltemp1 99 state charaddairjump
       }

      // *******************
      // *Increasing Attack*
      // *******************
      setvar STATINCREASE 0
      setvar STATVARIENCE 0
      getactorvar[CHARACTERARRAY].CHARACTERATTACK temp
      setvar CHARSTATINCREASE 0
      getactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE TEMP2
      addvarvar CHARSTATINCREASE TEMP2
      ifvarg templeveltemp1 0 ifvarl templeveltemp1 26
      {
       state charlvlupcalcatkdefcheck
       divvar STATINCREASE 2 // 50%
       randvar TEMPVAR 10
       addvar TEMPVAR 10
      }
      else
      ifvarg templeveltemp1 25 ifvarl templeveltemp1 51
      {
       state charlvlupcalcatkdefcheck
       mulvar STATINCREASE 3 divvar STATINCREASE 4 // 75%
       randvar TEMPVAR 20
       addvar TEMPVAR 20
      }
      else
      ifvarg templeveltemp1 50 ifvarl templeveltemp1 76
      {
       state charlvlupcalcatkdefcheck
       mulvar STATINCREASE 1 // 100%
       randvar TEMPVAR 40
       addvar TEMPVAR 40
      }
      else
      ifvarg templeveltemp1 75 ifvarl templeveltemp1 101
      {
       state charlvlupcalcatkdefcheck
       mulvar STATINCREASE 3 divvar STATINCREASE 2 // 150%
       randvar TEMPVAR 80
       addvar TEMPVAR 80
      }
      addvarvar STATINCREASE STATVARIENCE

      getactorvar[CHARACTERARRAY].CHARACTERATTACK temp
      setvarvar TEMPVAR3 temp
      divvar TEMPVAR3 100
      ifvarg templeveltemp1 0 ifvarl templeveltemp1 12 addvar TEMPVAR3 1
      ifvarg templeveltemp1 11 ifvarl templeveltemp1 23 addvar TEMPVAR3 2
      ifvarg templeveltemp1 22 ifvarl templeveltemp1 34 addvar TEMPVAR3 3
      ifvarg templeveltemp1 33 ifvarl templeveltemp1 45 addvar TEMPVAR3 4
      ifvarg templeveltemp1 44 ifvarl templeveltemp1 56 addvar TEMPVAR3 5
      ifvarg templeveltemp1 55 ifvarl templeveltemp1 67 addvar TEMPVAR3 6
      ifvarg templeveltemp1 66 ifvarl templeveltemp1 78 addvar TEMPVAR3 7
      ifvarg templeveltemp1 77 ifvarl templeveltemp1 89 addvar TEMPVAR3 8
      ifvarg templeveltemp1 88 ifvarl templeveltemp1 101 addvar TEMPVAR3 9
      randvarvar STATVARIENCE TEMPVAR3
      addvarvar STATINCREASE STATVARIENCE

      addvarvar temp STATINCREASE
      setactorvar[CHARACTERARRAY].CHARACTERATTACK temp

      getactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE temp
      addvarvar temp TEMPVAR
      setactorvar[CHARACTERARRAY].CHARACTERCRITHITCHANCE temp
      state calcextracrit // Increases the character's critical hit rate >.>

      addvarvar ATKINCTEMP STATINCREASE
      ifvarvarg ATKINCTEMP STATLIMIT setvarvar ATKINCTEMP STATLIMIT

      // ********************
      // *Increasing Defense*
      // ********************
      setvar STATINCREASE 0
      setvar STATVARIENCE 0
      getactorvar[CHARACTERARRAY].CHARACTERDEFENSE temp
      setvar CHARSTATINCREASE 0
      getactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE TEMP2
      addvarvar CHARSTATINCREASE TEMP2
      ifvarg templeveltemp1 0 ifvarl templeveltemp1 26
      {
       state charlvlupcalcatkdefcheck
       divvar STATINCREASE 2
       randvar STATVARIENCE 1
      }
      else
      ifvarg templeveltemp1 25 ifvarl templeveltemp1 51
      {
       state charlvlupcalcatkdefcheck
       mulvar STATINCREASE 3 divvar STATINCREASE 4
       randvar STATVARIENCE 2
      }
      else
      ifvarg templeveltemp1 50 ifvarl templeveltemp1 76
      {
       state charlvlupcalcatkdefcheck
       mulvar STATINCREASE 1
       randvar STATVARIENCE 4
      }
      ifvarg templeveltemp1 75 ifvarl templeveltemp1 101
      {
       state charlvlupcalcatkdefcheck
       mulvar STATINCREASE 3 divvar STATINCREASE 2
       randvar STATVARIENCE 8
      }
      addvarvar STATINCREASE STATVARIENCE

      getactorvar[CHARACTERARRAY].CHARACTERDEFENSE temp
      setvarvar TEMPVAR3 temp
      divvar TEMPVAR3 100
      ifvarg templeveltemp1 0 ifvarl templeveltemp1 12 addvar TEMPVAR3 1
      ifvarg templeveltemp1 11 ifvarl templeveltemp1 23 addvar TEMPVAR3 2
      ifvarg templeveltemp1 22 ifvarl templeveltemp1 34 addvar TEMPVAR3 3
      ifvarg templeveltemp1 33 ifvarl templeveltemp1 45 addvar TEMPVAR3 4
      ifvarg templeveltemp1 44 ifvarl templeveltemp1 56 addvar TEMPVAR3 5
      ifvarg templeveltemp1 55 ifvarl templeveltemp1 67 addvar TEMPVAR3 6
      ifvarg templeveltemp1 66 ifvarl templeveltemp1 78 addvar TEMPVAR3 7
      ifvarg templeveltemp1 77 ifvarl templeveltemp1 89 addvar TEMPVAR3 8
      ifvarg templeveltemp1 88 ifvarl templeveltemp1 101 addvar TEMPVAR3 9
      randvarvar STATVARIENCE TEMPVAR3
      addvarvar STATINCREASE STATVARIENCE

      addvarvar temp STATINCREASE
      setactorvar[CHARACTERARRAY].CHARACTERDEFENSE temp

      addvarvar DEFINCTEMP STATINCREASE
      ifvarvarg DEFINCTEMP STATLIMIT setvarvar DEFINCTEMP STATLIMIT

      // ******************
      // *Increasing Speed*
      // ******************
      ifvare templeveltemp1 100
      {
       // 0-1 (Easiest)
       ifvarg SKILLLEVEL -1 ifvarl SKILLLEVEL 2 setvar TEMPVAR5 580
       // 2-3 (Easy)
       ifvarg SKILLLEVEL 1 ifvarl SKILLLEVEL 4 setvar TEMPVAR5 508
       // 4-5 (Default)
       ifvarg SKILLLEVEL 3 ifvarl SKILLLEVEL 6 setvar TEMPVAR5 435
       // 6-7 (Hard)
       ifvarg SKILLLEVEL 5 ifvarl SKILLLEVEL 8 setvar TEMPVAR5 362
       // 8-9 (Hardest)
       ifvarg SKILLLEVEL 7 ifvarl SKILLLEVEL 10 setvar TEMPVAR5 290
       setvarvar TEMPVAR TEMPVAR5
       divvar TEMPVAR 3
       randvarvar TEMPVAR4 TEMPVAR
      }
      else
      {
       // 0-1 (Easiest)
       ifvarg SKILLLEVEL -1 ifvarl SKILLLEVEL 2 setvar TEMPVAR5 65
       // 2-3 (Easy)
       ifvarg SKILLLEVEL 1 ifvarl SKILLLEVEL 4 setvar TEMPVAR5 57
       // 4-5 (Default)
       ifvarg SKILLLEVEL 3 ifvarl SKILLLEVEL 6 setvar TEMPVAR5 49
       // 6-7 (Hard)
       ifvarg SKILLLEVEL 5 ifvarl SKILLLEVEL 8 setvar TEMPVAR5 41
       // 8-9 (Hardest)
       ifvarg SKILLLEVEL 7 ifvarl SKILLLEVEL 10 setvar TEMPVAR5 33
       setvarvar TEMPVAR TEMPVAR5
       divvar TEMPVAR 2
       randvarvar TEMPVAR4 TEMPVAR
       addvar TEMPVAR4 1
      }
       setvarvar TEMP TEMPVAR5
       ifrnd 128 addvarvar TEMP TEMPVAR4 else subvarvar TEMP TEMPVAR4
       getactorvar[CHARACTERARRAY].CHARACTERSPEED temp
       addvarvar temp TEMP
       ifvarg temp 61000 setvar temp 61000
       setactorvar[CHARACTERARRAY].CHARACTERSPEED temp
       addvarvar SPDINCTEMP TEMP

      // Ammo
      // ********************************************
      // * This Part Calculates Maximum Pistol Ammo *
      // ********************************************
      getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO2 temp
      ifvarl templeveltemp1 34 ifrnd 85 addvar temp PISTOLAMMOAMOUNT
      ifvarg templeveltemp1 33 ifvarl templeveltemp1 67 ifrnd 170 addvar temp PISTOLAMMOAMOUNT
      ifvarg templeveltemp1 66 addvar temp PISTOLAMMOAMOUNT
      setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO2 temp
      // ********************************************
      // * This Part Calculates Maximum Shotgun Ammo *
      // ********************************************
      getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO3 temp
      ifvarl templeveltemp1 34 ifrnd 85 addvar temp SHOTGUNAMMOAMOUNT
      ifvarg templeveltemp1 33 ifvarl templeveltemp1 67 ifrnd 170 addvar temp SHOTGUNAMMOAMOUNT
      ifvarg templeveltemp1 66 addvar temp SHOTGUNAMMOAMOUNT
      setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO3 temp
      // **********************************************
      // * This Part Calculates Maximum Chaingun Ammo *
      // **********************************************
      getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO4 temp
      ifvarl templeveltemp1 34 ifrnd 85 addvar temp CHAINGUNAMMOAMOUNT
      ifvarg templeveltemp1 33 ifvarl templeveltemp1 67 ifrnd 170 addvar temp CHAINGUNAMMOAMOUNT
      ifvarg templeveltemp1 66 addvar temp CHAINGUNAMMOAMOUNT
      setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO4 temp
      // *****************************************
      // * This Part Calculates Maximum RPG Ammo *
      // *****************************************
      getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO5 temp
      ifvarl templeveltemp1 34 ifrnd 85 addvar temp RPGAMMOBOX
      ifvarg templeveltemp1 33 ifvarl templeveltemp1 67 ifrnd 170 addvar temp RPGAMMOBOX
      ifvarg templeveltemp1 66 addvar temp RPGAMMOBOX
      setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO5 temp
      // **********************************************
      // * This Part Calculates Maximum Pipebomb Ammo *
      // **********************************************
      getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO6 temp
      ifvarl templeveltemp1 34 ifrnd 85 addvar temp HANDBOMBBOX
      ifvarg templeveltemp1 33 ifvarl templeveltemp1 67 ifrnd 170 addvar temp HANDBOMBBOX
      ifvarg templeveltemp1 66 addvar temp HANDBOMBBOX
      setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO6 temp
      // **********************************************
      // * This Part Calculates Maximum Shrinker Ammo *
      // **********************************************
      getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO7 temp
      ifvarl templeveltemp1 34 ifrnd 85 addvar temp CRYSTALAMMOAMOUNT
      ifvarg templeveltemp1 33 ifvarl templeveltemp1 67 ifrnd 170 addvar temp CRYSTALAMMOAMOUNT
      ifvarg templeveltemp1 66 addvar temp CRYSTALAMMOAMOUNT
      setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO7 temp
      // **********************************************
      // * This Part Calculates Maximum Expander Ammo *
      // **********************************************
      getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO11 temp
      ifvarl templeveltemp1 34 ifrnd 85 addvar temp GROWCRYSTALAMMOAMOUNT
      ifvarg templeveltemp1 33 ifvarl templeveltemp1 67 ifrnd 170 addvar temp GROWCRYSTALAMMOAMOUNT
      ifvarg templeveltemp1 66 addvar temp GROWCRYSTALAMMOAMOUNT
      setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO11 temp
      // ************************************************
      // * This Part Calculates Maximum Devastator Ammo *
      // ************************************************
      getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO8 temp
      ifvarl templeveltemp1 34 ifrnd 85 addvar temp DEVISTATORAMMOAMOUNT
      ifvarg templeveltemp1 33 ifvarl templeveltemp1 67 ifrnd 170 addvar temp DEVISTATORAMMOAMOUNT
      ifvarg templeveltemp1 66 addvar temp DEVISTATORAMMOAMOUNT
      setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO8 temp
      // **********************************************
      // * This Part Calculates Maximum Tripbomb Ammo *
      // **********************************************
      getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO9 temp
      ifvarl templeveltemp1 34 addvar temp 1
      ifvarg templeveltemp1 33 ifvarl templeveltemp1 67 addvar temp 2
      ifvarg templeveltemp1 66 addvar temp 4
      setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO9 temp
      // *********************************************
      // * This Part Calculates Maximum Freezer Ammo *
      // *********************************************
      getactorvar[CHARACTERARRAY].CHARACTERMAXAMMO10 temp
      ifvarl templeveltemp1 34 ifrnd 85 addvar temp FREEZEAMMOAMOUNT
      ifvarg templeveltemp1 33 ifvarl templeveltemp1 67 ifrnd 170 addvar temp FREEZEAMMOAMOUNT
      ifvarg templeveltemp1 66 addvar temp FREEZEAMMOAMOUNT
      setactorvar[CHARACTERARRAY].CHARACTERMAXAMMO10 temp
ends

state nonactivecharstatcalc
   state getcharacterexptablelvlup

   ifvare mainmenu 0
   {
    ifvarg templevel1 1
     whilevarvarn templeveltemp1 templevel1
     {
       // **********************************************************************************************************
       // * This Part Calculates Maximum Health, Armor, Air Time, Mantling Time, Attack, Defense, Speed & Max Ammo *
       // **********************************************************************************************************
       state charlvlupcalcmost

       // **************************************************
       // * This Part Calculates Maximum Cells (Lisa Only) *
       // **************************************************
       ifvare CHARACTERARRAY 8 // Lisa
       {
        ifvarl templeveltemp1 34 addvar MAXCELLS 5
        ifvarg templeveltemp1 33 addvar MAXCELLS 10
        ifvarg templeveltemp1 66 addvar MAXCELLS 25
       }

       // *************************************************************
       // * This Part Calculates Bio-Shield Damage Factor (Lisa Only) *
       // *************************************************************
       ifvare CHARACTERARRAY 8 // Lisa
       {
        ifvarg templeveltemp1 -1 { ifvare PUBLICBETA? 0 { ifrnd 137 addvar ESHIELDDMGFACTOR 1 } else { ifrnd 85 addvar ESHIELDDMGFACTOR 1 } }
        ifvarg templeveltemp1 24 { ifvare PUBLICBETA? 0 { ifrnd 137 addvar ESHIELDDMGFACTOR 1 } else { ifrnd 85 addvar ESHIELDDMGFACTOR 1 } }
        ifvarg templeveltemp1 49 { ifvare PUBLICBETA? 0 { ifrnd 137 addvar ESHIELDDMGFACTOR 1 } else { ifrnd 85 addvar ESHIELDDMGFACTOR 1 } }
        ifvarg templeveltemp1 74 { ifvare PUBLICBETA? 0 { ifrnd 137 addvar ESHIELDDMGFACTOR 1 } else { ifrnd 85 addvar ESHIELDDMGFACTOR 1 } }
       }

       // ***********************
       // * Quotes and displays *
       // ***********************
       ifvare CHARACTERARRAY 1 redefinequote 747 ^22DUKE LEVELS UP! (
       ifvare CHARACTERARRAY 2 redefinequote 747 ^22JACK LEVELS UP! (
       ifvare CHARACTERARRAY 3 redefinequote 747 ^22BUBSY LEVELS UP! (
       ifvare CHARACTERARRAY 4 redefinequote 747 ^22AMI LEVELS UP! (
       ifvare CHARACTERARRAY 5 redefinequote 747 ^22HIGA LEVELS UP! (
       ifvare CHARACTERARRAY 6 redefinequote 747 ^22ESSENCE LEVELS UP! (
       ifvare CHARACTERARRAY 7 redefinequote 747 ^22TED LEVELS UP! (
       ifvare CHARACTERARRAY 8 redefinequote 747 ^22LISA LEVELS UP! (
       ifvare CHARACTERARRAY 9 redefinequote 747 ^22CYBANIS LEVELS UP! (
       ifvare CHARACTERARRAY 10 
       { 
        setvar MISCARRAYID 110 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // NETHRA-FORM?
        ifvare MISCARRAYID_AMOUNTTEMP 0 redefinequote 747 ^22NETHRA LEVELS UP! (
        else ifvare MISCARRAYID_AMOUNTTEMP 1 redefinequote 747 ^22CHRISTINA LEVELS UP! (
       }
       ifvare CHARACTERARRAY 11 redefinequote 747 ^22PAULA LEVELS UP! (
       ifvare CHARACTERARRAY 12 redefinequote 747 ^22LORI LEVELS UP! (
       ifvare CHARACTERARRAY 13 redefinequote 747 ^22MINAKO LEVELS UP! (
       ifvare CHARACTERARRAY 14
       {
        ifvare debugtoggle 0 redefinequote 747 ^22??????? LEVELS UP! (
        else redefinequote 747 ^22HINOTORI LEVELS UP! (
       }
       ifvare CHARACTERARRAY 15 redefinequote 747 ^22MAKEN LEVELS UP! (
       ifvarg CHARACTERARRAY 0 ifvarl CHARACTERARRAY 16 state chardisplaystatups
     }
   }
ends

state playerstatcalcmost
      // HP
      setvarvar TEMPHITPOINTS MAXHITPOINTS
      divvar TEMPHITPOINTS 50                // And divides by 50
      setvarvar TEMPVAR MAXHITPOINTS           // Sets varience to current Max Hit points
      divvar TEMPVAR 100                       // And divides by 100
      randvarvar tempb TEMPVAR
      ifrnd 128 addvarvar TEMPHITPOINTS tempb else subvarvar TEMPHITPOINTS tempb 
      ifvarg PLAYERTEMPLEVEL 90 ifvarl PLAYERTEMPLEVEL 101 { mulvar TEMPHITPOINTS 5 divvar TEMPHITPOINTS 2 } 

      setvar CHARSTATINCREASE 0
      setvarvar CHARACTERARRAY CHARACTERSELECTED?
      getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE TEMP2
      addvarvar CHARSTATINCREASE TEMP2

      mulvarvar CHARSTATINCREASE PLAYERTEMPLEVEL
      divvar CHARSTATINCREASE 20
      ifvarg PLAYERTEMPLEVEL 90 ifvarl PLAYERTEMPLEVEL 101 { mulvar CHARSTATINCREASE 5 divvar CHARSTATINCREASE 2 } 
      addvarvar TEMPHITPOINTS CHARSTATINCREASE

      ifvare PUBLICBETA? 1
      {
       state checker
       mulvarvar TEMPHITPOINTS tempc
       divvar TEMPHITPOINTS 100
      }
      ifvarl TEMPHITPOINTS 1 setvar TEMPHITPOINTS 1

      setvarvar TEMPVAR MAXHITPOINTS
      addvarvar TEMPVAR TEMPHITPOINTS
      ifvarvarg TEMPVAR STATLIMIT 
      { 
       setvarvar MAXHITPOINTS STATLIMIT
       setvarvar TEMPHITPOINTS 0 
      } 
      else 
      { 
       addvarvar MAXHITPOINTS TEMPHITPOINTS
       addvarvar HPINCREASED TEMPHITPOINTS 
      }

      ifvarvarg HPINCREASED STATLIMIT setvarvar HPINCREASED STATLIMIT
      addvarvar TEMPHEALTH TEMPHITPOINTS // TEMPHEALTH is for adding to the current health level on a level up
      ifvarvarg TEMPHEALTH STATLIMITATOMIC setvarvar TEMPHEALTH STATLIMITATOMIC
      setvarvar CURRENTHITPOINTS TEMPHEALTH

      ifvarg FIRSTAIDCURRENT 0
      { 
       addvarvar FIRSTAIDCURRENT TEMPHITPOINTS
       ifvarvarg FIRSTAIDCURRENT STATLIMITATOMIC setvarvar FIRSTAIDCURRENT STATLIMITATOMIC
      }

      // AP
      setvarvar TEMPARMORPOINTS MAXARMORPOINTS
      divvar TEMPARMORPOINTS 50                // And divides by 50
      setvarvar TEMPVAR MAXARMORPOINTS           // Sets varience to current Max Hit points
      divvar TEMPVAR 100                       // And divides by 100
      randvarvar tempb TEMPVAR
      ifrnd 128 addvarvar TEMPARMORPOINTS tempb else subvarvar TEMPARMORPOINTS tempb
      ifvarg PLAYERTEMPLEVEL 90 ifvarl PLAYERTEMPLEVEL 101 { mulvar TEMPARMORPOINTS 5 divvar TEMPARMORPOINTS 2 }

      setvar CHARSTATINCREASE 0
      setvarvar CHARACTERARRAY CHARACTERSELECTED?
      getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE TEMP2
      addvarvar CHARSTATINCREASE TEMP2

      mulvarvar CHARSTATINCREASE PLAYERTEMPLEVEL
      divvar CHARSTATINCREASE 20
      ifvarg PLAYERTEMPLEVEL 90 ifvarl PLAYERTEMPLEVEL 101 { mulvar CHARSTATINCREASE 5 divvar CHARSTATINCREASE 2 } 
      addvarvar TEMPARMORPOINTS CHARSTATINCREASE

      ifvare PUBLICBETA? 1
      {
       state checker
       mulvarvar TEMPARMORPOINTS tempc
       divvar TEMPARMORPOINTS 100
      }
      ifvarl TEMPARMORPOINTS 1 setvar TEMPARMORPOINTS 1

      setvarvar TEMPVAR MAXARMORPOINTS
      addvarvar TEMPVAR TEMPARMORPOINTS
      ifvarvarg TEMPVAR STATLIMIT 
      { 
       setvarvar MAXARMORPOINTS STATLIMIT
       setvarvar TEMPARMORPOINTS 0 
      } 
      else 
      { 
       addvarvar MAXARMORPOINTS TEMPARMORPOINTS
       addvarvar APINCREASED TEMPARMORPOINTS 
      }

      ifvarvarg APINCREASED STATLIMIT setvarvar APINCREASED STATLIMIT
      ifvarg TEMPARMOR 0 addvarvar TEMPARMOR TEMPARMORPOINTS // TEMPARMOR is for adding to the current armor level on a level up
      ifvarvarg TEMPARMOR STATLIMITATOMIC setvarvar TEMPARMOR STATLIMITATOMIC
      setvarvar CURRENTARMORPOINTS TEMPARMOR

      // Energy
      setvarvar TEMPHITPOINTS MAXENERGYPOINTS
      divvar TEMPHITPOINTS 75                // And divides by 50
      setvarvar TEMPVAR MAXENERGYPOINTS           // Sets varience to current Max Hit points
      divvar TEMPVAR 150                       // And divides by 100
      randvarvar tempb TEMPVAR
      ifrnd 128 addvarvar TEMPHITPOINTS tempb else subvarvar TEMPHITPOINTS tempb 
      ifvarg PLAYERTEMPLEVEL 90 ifvarl PLAYERTEMPLEVEL 101 { mulvar TEMPHITPOINTS 5 divvar TEMPHITPOINTS 2 } 

      setvar CHARSTATINCREASE 0
      setvarvar CHARACTERARRAY CHARACTERSELECTED?
      getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE TEMP2
      addvarvar CHARSTATINCREASE TEMP2

      mulvarvar CHARSTATINCREASE PLAYERTEMPLEVEL
      divvar CHARSTATINCREASE 30
      ifvarg PLAYERTEMPLEVEL 90 ifvarl PLAYERTEMPLEVEL 101 { mulvar CHARSTATINCREASE 5 divvar CHARSTATINCREASE 2 } 
      addvarvar TEMPHITPOINTS CHARSTATINCREASE

      ifvare PUBLICBETA? 1
      {
       state checker
       mulvarvar TEMPHITPOINTS tempc
       divvar TEMPHITPOINTS 100
      }
      ifvarl TEMPHITPOINTS 1 setvar TEMPHITPOINTS 1

      setvarvar TEMPVAR MAXENERGYPOINTS
      addvarvar TEMPVAR TEMPHITPOINTS
      ifvarvarg TEMPVAR STATLIMIT 
      { 
       setvarvar MAXENERGYPOINTS STATLIMIT
       setvarvar TEMPHITPOINTS 0 
      } 
      else 
      { 
       addvarvar MAXENERGYPOINTS TEMPHITPOINTS
       addvarvar EPINCREASED TEMPHITPOINTS 
      }

      ifvarvarg EPINCREASED STATLIMIT setvarvar EPINCREASED STATLIMIT
      setvarvar TEMPENERGY CURRENTENERGYPOINTS
      addvarvar TEMPENERGY TEMPHITPOINTS // TEMPHEALTH is for adding to the current health level on a level up
      ifvarvarg TEMPENERGY STATLIMITATOMIC setvarvar TEMPENERGY STATLIMITATOMIC
      setvarvar CURRENTENERGYPOINTS TEMPENERGY

      // Airtime
      setvarvar TEMPHITPOINTS MAXAIRTIME
      divvar TEMPHITPOINTS 256               // And divides by 256
      setvarvar TEMPVAR MAXAIRTIME           // Sets varience to current Max Air Time
      divvar TEMPVAR 512                     // And divides by 512
      randvarvar tempb TEMPVAR
      ifrnd 128 addvarvar TEMPHITPOINTS tempb else subvarvar TEMPHITPOINTS tempb
      // Character Specfic Air-Bonuses
       setvar STATVARIENCE 0

       ifvarg PLAYERTEMPLEVEL -1
       {
        ifvare CHARACTERSELECTED? 1 { ifrnd 120 randvar STATVARIENCE 2 } // 390 (15s)
        ifvare CHARACTERSELECTED? 2 { ifrnd 104 randvar STATVARIENCE 2 } // 260 (10s)
        ifvare CHARACTERSELECTED? 3 { ifrnd 96 randvar STATVARIENCE 1 } // 195 (7.5s)
        ifvare CHARACTERSELECTED? 4 { ifrnd 240 randvar STATVARIENCE 4 } // 4680 (180s)
        ifvare CHARACTERSELECTED? 5 { ifrnd 128 randvar STATVARIENCE 2 } // 390 (15s)
        ifvare CHARACTERSELECTED? 6 { ifrnd 64 randvar STATVARIENCE 1 } // 130 (5s)
        ifvare CHARACTERSELECTED? 7 { ifrnd 124 randvar STATVARIENCE 2 } // 312 (12s)
        ifvare CHARACTERSELECTED? 8 { ifrnd 136 randvar STATVARIENCE 2 } // 338 (13s)
        ifvare CHARACTERSELECTED? 9 { ifrnd 56 randvar STATVARIENCE 1 } // 104 (4s)
        ifvare CHARACTERSELECTED? 10 { ifrnd 144 randvar STATVARIENCE 2 } // 780 (30s)
        ifvare CHARACTERSELECTED? 11 { ifrnd 136 randvar STATVARIENCE 2 } // 832 (32s)
        ifvare CHARACTERSELECTED? 12 { ifrnd 156 randvar STATVARIENCE 2 } // 650 (25s)
        ifvare CHARACTERSELECTED? 13 { ifrnd 160 randvar STATVARIENCE 3 } // 1170 (45s)
        ifvare CHARACTERSELECTED? 14 { ifrnd 208 randvar STATVARIENCE 3 } // 2340 (90s)
        ifvare CHARACTERSELECTED? 15 { ifrnd 128 randvar STATVARIENCE 2 } // 520 (20s)

        addvarvar TEMPHITPOINTS STATVARIENCE
       }
       ifvarg PLAYERTEMPLEVEL 24
       {
        ifvare CHARACTERSELECTED? 1 { ifrnd 180 randvar STATVARIENCE 3 } // 390 (15s)
        ifvare CHARACTERSELECTED? 2 { ifrnd 156 randvar STATVARIENCE 2 } // 260 (10s)
        ifvare CHARACTERSELECTED? 3 { ifrnd 144 randvar STATVARIENCE 2 } // 195 (7.5s)
        ifvare CHARACTERSELECTED? 4 { randvar STATVARIENCE 4 ifrnd 104 addvar STATVARIENCE 2 } // 4680 (180s)
        ifvare CHARACTERSELECTED? 5 { ifrnd 192 randvar STATVARIENCE 3 } // 390 (15s)
        ifvare CHARACTERSELECTED? 6 { ifrnd 96 randvar STATVARIENCE 1 } // 130 (5s)
        ifvare CHARACTERSELECTED? 7 { ifrnd 186 randvar STATVARIENCE 3 } // 312 (12s)
        ifvare CHARACTERSELECTED? 8 { ifrnd 204 randvar STATVARIENCE 3 } // 338 (13s)
        ifvare CHARACTERSELECTED? 9 { ifrnd 84 randvar STATVARIENCE 1 } // 104 (4s)
        ifvare CHARACTERSELECTED? 10 { ifrnd 216 randvar STATVARIENCE 3 } // 780 (30s)
        ifvare CHARACTERSELECTED? 11 { ifrnd 204 randvar STATVARIENCE 3 } // 832 (32s)
        ifvare CHARACTERSELECTED? 12 { ifrnd 234 randvar STATVARIENCE 3 } // 650 (25s)
        ifvare CHARACTERSELECTED? 13 { ifrnd 240 randvar STATVARIENCE 4 } // 1170 (45s)
        ifvare CHARACTERSELECTED? 14 { randvar STATVARIENCE 3 ifrnd 56 addvar STATVARIENCE 1 } // 2340 (90s)
        ifvare CHARACTERSELECTED? 15 { ifrnd 196 randvar STATVARIENCE 3 } // 520 (20s)

        addvarvar TEMPHITPOINTS STATVARIENCE
       }
       ifvarg PLAYERTEMPLEVEL 49
       {
        ifvare CHARACTERSELECTED? 1 { ifrnd 240 randvar STATVARIENCE 3 } // 390 (15s)
        ifvare CHARACTERSELECTED? 2 { ifrnd 228 randvar STATVARIENCE 2 } // 260 (10s)
        ifvare CHARACTERSELECTED? 3 { ifrnd 216 randvar STATVARIENCE 2 } // 195 (7.5s)
        ifvare CHARACTERSELECTED? 4 { randvar STATVARIENCE 4 ifrnd 156 addvar STATVARIENCE 2 } // 4680 (180s)
        ifvare CHARACTERSELECTED? 5 { randvar STATVARIENCE 3 ifrnd 32 addvar STATVARIENCE 1 } // 390 (15s)
        ifvare CHARACTERSELECTED? 6 { ifrnd 144 randvar STATVARIENCE 2 } // 130 (5s)
        ifvare CHARACTERSELECTED? 7 { randvar STATVARIENCE 3 ifrnd 23 addvar STATVARIENCE 1 } // 312 (12s)
        ifvare CHARACTERSELECTED? 8 { randvar STATVARIENCE 3 ifrnd 50 addvar STATVARIENCE 1 } // 338 (13s)
        ifvare CHARACTERSELECTED? 9 { ifrnd 126 randvar STATVARIENCE 2 } // 104 (4s)
        ifvare CHARACTERSELECTED? 10 { randvar STATVARIENCE 3 ifrnd 68 addvar STATVARIENCE 1 } // 780 (30s)
        ifvare CHARACTERSELECTED? 11 { randvar STATVARIENCE 3 ifrnd 50 addvar STATVARIENCE 1 } // 832 (32s)
        ifvare CHARACTERSELECTED? 12 { randvar STATVARIENCE 3 ifrnd 95 addvar STATVARIENCE 1 } // 650 (25s)
        ifvare CHARACTERSELECTED? 13 { randvar STATVARIENCE 4 ifrnd 104 addvar STATVARIENCE 2 } // 1170 (45s)
        ifvare CHARACTERSELECTED? 14 { randvar STATVARIENCE 3 ifrnd 84 addvar STATVARIENCE 1 } // 2340 (90s)
        ifvare CHARACTERSELECTED? 15 { randvar STATVARIENCE 3 ifrnd 32 addvar STATVARIENCE 1 } // 520 (20s)

        addvarvar TEMPHITPOINTS STATVARIENCE
       }
       ifvarg PLAYERTEMPLEVEL 74
       {
        ifvare CHARACTERSELECTED? 1 { randvar STATVARIENCE 4 ifrnd 104 addvar STATVARIENCE 2 } // 390 (15s)
        ifvare CHARACTERSELECTED? 2 { randvar STATVARIENCE 3 ifrnd 86 addvar STATVARIENCE 1 } // 260 (10s)
        ifvare CHARACTERSELECTED? 3 { randvar STATVARIENCE 3 ifrnd 68 addvar STATVARIENCE 1 } // 195 (7.5s)
        ifvare CHARACTERSELECTED? 4 { randvar STATVARIENCE 5 ifrnd 232 addvar STATVARIENCE 3 } // 4680 (180s)
        ifvare CHARACTERSELECTED? 5 { randvar STATVARIENCE 3 ifrnd 48 addvar STATVARIENCE 1 } // 390 (15s)
        ifvare CHARACTERSELECTED? 6 { ifrnd 216 randvar STATVARIENCE 3 } // 130 (5s)
        ifvare CHARACTERSELECTED? 7 { randvar STATVARIENCE 3 ifrnd 34 addvar STATVARIENCE 1 } // 312 (12s)
        ifvare CHARACTERSELECTED? 8 { randvar STATVARIENCE 3 ifrnd 75 addvar STATVARIENCE 1 } // 338 (13s)
        ifvare CHARACTERSELECTED? 9 { ifrnd 189 randvar STATVARIENCE 3 } // 104 (4s)
        ifvare CHARACTERSELECTED? 10 { randvar STATVARIENCE 4 ifrnd 104 addvar STATVARIENCE 2 } // 780 (30s)
        ifvare CHARACTERSELECTED? 11 { randvar STATVARIENCE 3 ifrnd 75 addvar STATVARIENCE 1 } // 832 (32s)
        ifvare CHARACTERSELECTED? 12 { randvar STATVARIENCE 3 ifrnd 142 addvar STATVARIENCE 2 } // 650 (25s)
        ifvare CHARACTERSELECTED? 13 { randvar STATVARIENCE 4 ifrnd 156 addvar STATVARIENCE 2 } // 1170 (45s)
        ifvare CHARACTERSELECTED? 14 { randvar STATVARIENCE 3 ifrnd 126 addvar STATVARIENCE 2 } // 2340 (90s)
        ifvare CHARACTERSELECTED? 15 { randvar STATVARIENCE 3 ifrnd 48 addvar STATVARIENCE 1 } // 520 (20s)

        addvarvar TEMPHITPOINTS STATVARIENCE
       }
      // End Character Specfic Air-Bonuses
      ifvarg PLAYERTEMPLEVEL 70 ifvarl PLAYERTEMPLEVEL 81 { mulvar TEMPHITPOINTS 3 divvar TEMPHITPOINTS 2 }
      ifvarg PLAYERTEMPLEVEL 80 ifvarl PLAYERTEMPLEVEL 91 { mulvar TEMPHITPOINTS 4 divvar TEMPHITPOINTS 2 }
      ifvarg PLAYERTEMPLEVEL 90 ifvarl PLAYERTEMPLEVEL 101 { mulvar TEMPHITPOINTS 5 divvar TEMPHITPOINTS 2 }
      ifvarl TEMPHITPOINTS 1 { setvar TEMPHITPOINTS 1 }
      addvarvar AIRINCREASED TEMPHITPOINTS
      addvarvar MAXAIRTIME TEMPHITPOINTS
      addvarvar AIRTIME TEMPHITPOINTS
      setvarvar TEMPHITPOINTS 0 

      // Mantle
       setvarvar STATINCREASE 0
       ifvarg PLAYERTEMPLEVEL -1
       {
        ifvare CHARACTERSELECTED? 1 randvar STATVARIENCE 2 // 156 (6s)
        ifvare CHARACTERSELECTED? 2 { ifrnd 149 randvar STATVARIENCE 1 } // 91 
        ifvare CHARACTERSELECTED? 3 { ifrnd 171 randvar STATVARIENCE 1 } // 104
        ifvare CHARACTERSELECTED? 4 { ifrnd 107 randvar STATVARIENCE 1 } // 65
        ifvare CHARACTERSELECTED? 5 { ifrnd 213 randvar STATVARIENCE 1 } // 130
        ifvare CHARACTERSELECTED? 6 randvar STATVARIENCE 2 // 312
        ifvare CHARACTERSELECTED? 7 { ifrnd 234 randvar STATVARIENCE 1 } // 143
        ifvare CHARACTERSELECTED? 8 { ifrnd 176 randvar STATVARIENCE 1 } // 104
        ifvare CHARACTERSELECTED? 9 randvar STATVARIENCE 2 // 65536 (infinite)
        ifvare CHARACTERSELECTED? 10 { ifrnd 139 randvar STATVARIENCE 1 } // 85
        ifvare CHARACTERSELECTED? 11 { ifrnd 128 randvar STATVARIENCE 1 } // 78
        ifvare CHARACTERSELECTED? 12 { ifrnd 192 randvar STATVARIENCE 1 } // 117
        ifvare CHARACTERSELECTED? 13 { ifrnd 223 randvar STATVARIENCE 1 } // 136
        ifvare CHARACTERSELECTED? 14 randvar STATVARIENCE 3 // 351
        ifvare CHARACTERSELECTED? 15 { ifrnd 160 randvar STATVARIENCE 1 } // 98

        addvarvar STATINCREASE STATVARIENCE
       }
       ifvarg PLAYERTEMPLEVEL 24
       {
        ifvare CHARACTERSELECTED? 1 randvar STATVARIENCE 2 // 156
        ifvare CHARACTERSELECTED? 2 { ifrnd 149 randvar STATVARIENCE 1 } // 91
        ifvare CHARACTERSELECTED? 3 { ifrnd 171 randvar STATVARIENCE 1 } // 104
        ifvare CHARACTERSELECTED? 4 { ifrnd 107 randvar STATVARIENCE 1 } // 65
        ifvare CHARACTERSELECTED? 5 { ifrnd 213 randvar STATVARIENCE 1 } // 130
        ifvare CHARACTERSELECTED? 6 randvar STATVARIENCE 3 // 312
        ifvare CHARACTERSELECTED? 7 { ifrnd 234 randvar STATVARIENCE 1 } // 143
        ifvare CHARACTERSELECTED? 8 { ifrnd 176 randvar STATVARIENCE 1 } // 104
        ifvare CHARACTERSELECTED? 9 randvar STATVARIENCE 3 // 65536 (infinite)
        ifvare CHARACTERSELECTED? 10 { ifrnd 139 randvar STATVARIENCE 1 } // 85
        ifvare CHARACTERSELECTED? 11 { ifrnd 128 randvar STATVARIENCE 1 } // 78
        ifvare CHARACTERSELECTED? 12 { ifrnd 192 randvar STATVARIENCE 2 } // 117
        ifvare CHARACTERSELECTED? 13 { ifrnd 223 randvar STATVARIENCE 1 } // 136
        ifvare CHARACTERSELECTED? 14 randvar STATVARIENCE 4 // 351
        ifvare CHARACTERSELECTED? 15 { ifrnd 160 randvar STATVARIENCE 1 } // 98

        addvarvar STATINCREASE STATVARIENCE
       }
       ifvarg PLAYERTEMPLEVEL 49
       {
        ifvare CHARACTERSELECTED? 1 { randvar STATVARIENCE 2 addvar STATVARIENCE 1 } // 156
        ifvare CHARACTERSELECTED? 2 { ifrnd 224 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 } } // 91
        ifvare CHARACTERSELECTED? 3 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 } // 104
        ifvare CHARACTERSELECTED? 4 { ifrnd 160 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 } } // 65
        ifvare CHARACTERSELECTED? 5 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 } // 130
        ifvare CHARACTERSELECTED? 6 { randvar STATVARIENCE 3 addvar STATVARIENCE 2 } // 312
        ifvare CHARACTERSELECTED? 7 { randvar STATVARIENCE 2 addvar STATVARIENCE 1 } // 143
        ifvare CHARACTERSELECTED? 8 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 } // 104
        ifvare CHARACTERSELECTED? 9 { randvar STATVARIENCE 3 addvar STATVARIENCE 2 } // 65536 (infinite)
        ifvare CHARACTERSELECTED? 10 { ifrnd 209 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 } } // 85
        ifvare CHARACTERSELECTED? 11 { ifrnd 192 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 } } // 78
        ifvare CHARACTERSELECTED? 12 { randvar STATVARIENCE 3 addvar STATVARIENCE 1 } // 117
        ifvare CHARACTERSELECTED? 13 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 } // 136
        ifvare CHARACTERSELECTED? 14 { randvar STATVARIENCE 4 addvar STATVARIENCE 4 } // 351
        ifvare CHARACTERSELECTED? 15 { ifrnd 241 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 } } // 98

        addvarvar STATINCREASE STATVARIENCE
       }
       ifvarg PLAYERTEMPLEVEL 74
       {
        ifvare CHARACTERSELECTED? 1 { randvar STATVARIENCE 3 addvar STATVARIENCE 3 } // 156
        ifvare CHARACTERSELECTED? 2 { randvar STATVARIENCE 2 addvar STATVARIENCE 1 } // 91
        ifvare CHARACTERSELECTED? 3 { randvar STATVARIENCE 1 addvar STATVARIENCE 2 } // 104
        ifvare CHARACTERSELECTED? 4 { ifrnd 214 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 } } // 65
        ifvare CHARACTERSELECTED? 5 { randvar STATVARIENCE 2 addvar STATVARIENCE 2 } // 130
        ifvare CHARACTERSELECTED? 6 { randvar STATVARIENCE 4 addvar STATVARIENCE 4 } // 312
        ifvare CHARACTERSELECTED? 7 { randvar STATVARIENCE 3 addvar STATVARIENCE 2 } // 143
        ifvare CHARACTERSELECTED? 8 { randvar STATVARIENCE 2 addvar STATVARIENCE 2 } // 104
        ifvare CHARACTERSELECTED? 9 { randvar STATVARIENCE 5 addvar STATVARIENCE 5 } // 65536 (infinite)
        ifvare CHARACTERSELECTED? 10 { randvar STATVARIENCE 2 addvar STATVARIENCE 2 } // 85
        ifvare CHARACTERSELECTED? 11 { randvar STATVARIENCE 1 addvar STATVARIENCE 1 } // 78
        ifvare CHARACTERSELECTED? 12 { randvar STATVARIENCE 9 addvar STATVARIENCE 3 } // 117
        ifvare CHARACTERSELECTED? 13 { randvar STATVARIENCE 2 addvar STATVARIENCE 2 } // 136
        ifvare CHARACTERSELECTED? 14 { randvar STATVARIENCE 8 addvar STATVARIENCE 7 } // 351
        ifvare CHARACTERSELECTED? 15 { randvar STATVARIENCE 2 addvar STATVARIENCE 1 } // 98

        addvarvar STATINCREASE STATVARIENCE
       }
       addvarvar MNTINCREASED STATINCREASE
       addvarvar MANTLINGTIMERMAX STATINCREASE
       addvarvar MANTLINGTIMER STATINCREASE

       setvar STATINCREASE 0
       setvar STATVARIENCE 0
       // Attack
       ifvarg PLAYERTEMPLEVEL 0 ifvarl PLAYERTEMPLEVEL 26
       {
        setvarvar STATINCREASE PLAYERTEMPLEVEL
        state charactervarienceattack1
        divvar STATINCREASE 2 // 50%
        addvarvar STATINCREASE STATVARIENCE
        randvar CRITICALINCREASEMAIN 10
        addvar CRITICALINCREASEMAIN 10
       }
       else ifvarg PLAYERTEMPLEVEL 25 ifvarl PLAYERTEMPLEVEL 51
       {
        setvarvar STATINCREASE PLAYERTEMPLEVEL
        state charactervarienceattack1
        mulvar STATINCREASE 3 divvar STATINCREASE 4 // 75%
        addvarvar STATINCREASE STATVARIENCE
        randvar CRITICALINCREASEMAIN 20
        addvar CRITICALINCREASEMAIN 20
       }
       else ifvarg PLAYERTEMPLEVEL 50 ifvarl PLAYERTEMPLEVEL 76
       {
        setvarvar STATINCREASE PLAYERTEMPLEVEL
        state charactervarienceattack1
        mulvar STATINCREASE 1 // 100%
        addvarvar STATINCREASE STATVARIENCE
        randvar CRITICALINCREASEMAIN 40
        addvar CRITICALINCREASEMAIN 40
       }
       else ifvarg PLAYERTEMPLEVEL 75 ifvarl PLAYERTEMPLEVEL 101
       {
        setvarvar STATINCREASE PLAYERTEMPLEVEL
        state charactervarienceattack1
        mulvar STATINCREASE 3 divvar STATINCREASE 2 // 150%
        addvarvar STATINCREASE STATVARIENCE
        randvar CRITICALINCREASEMAIN 80
        addvar CRITICALINCREASEMAIN 80
       }

       setvarvar TEMPVAR3 PLAYERATTACK
       divvar TEMPVAR3 100
       ifvarg PLAYERTEMPLEVEL 0 ifvarl PLAYERTEMPLEVEL 12 addvar TEMPVAR3 1
       ifvarg PLAYERTEMPLEVEL 11 ifvarl PLAYERTEMPLEVEL 23 addvar TEMPVAR3 2
       ifvarg PLAYERTEMPLEVEL 22 ifvarl PLAYERTEMPLEVEL 34 addvar TEMPVAR3 3
       ifvarg PLAYERTEMPLEVEL 33 ifvarl PLAYERTEMPLEVEL 45 addvar TEMPVAR3 4
       ifvarg PLAYERTEMPLEVEL 44 ifvarl PLAYERTEMPLEVEL 56 addvar TEMPVAR3 5
       ifvarg PLAYERTEMPLEVEL 55 ifvarl PLAYERTEMPLEVEL 67 addvar TEMPVAR3 6
       ifvarg PLAYERTEMPLEVEL 66 ifvarl PLAYERTEMPLEVEL 78 addvar TEMPVAR3 7
       ifvarg PLAYERTEMPLEVEL 77 ifvarl PLAYERTEMPLEVEL 89 addvar TEMPVAR3 8
       ifvarg PLAYERTEMPLEVEL 88 ifvarl PLAYERTEMPLEVEL 101 addvar TEMPVAR3 9
       randvarvar STATVARIENCE TEMPVAR3
       addvarvar STATINCREASE STATVARIENCE
       addvarvar PLAYERATTACK STATINCREASE

       addvarvar CRITICALHITCHANCE CRITICALINCREASEMAIN
       ifvare CHARACTERSELECTED? 1 randvar CRITICALINCREASESECONDARY 9
       ifvare CHARACTERSELECTED? 2 randvar CRITICALINCREASESECONDARY 5
       ifvare CHARACTERSELECTED? 3 randvar CRITICALINCREASESECONDARY 12
       ifvare CHARACTERSELECTED? 4 randvar CRITICALINCREASESECONDARY 3
       ifvare CHARACTERSELECTED? 5 randvar CRITICALINCREASESECONDARY 6
       ifvare CHARACTERSELECTED? 6 randvar CRITICALINCREASESECONDARY 9
       ifvare CHARACTERSELECTED? 7 randvar CRITICALINCREASESECONDARY 7
       ifvare CHARACTERSELECTED? 8 randvar CRITICALINCREASESECONDARY 21 addvar CRITICALINCREASESECONDARY 3
       ifvare CHARACTERSELECTED? 9 randvar CRITICALINCREASESECONDARY 12
       ifvare CHARACTERSELECTED? 10 randvar CRITICALINCREASESECONDARY 5
       ifvare CHARACTERSELECTED? 11 randvar CRITICALINCREASESECONDARY 19 addvar CRITICALINCREASESECONDARY 4
       ifvare CHARACTERSELECTED? 12 randvar CRITICALINCREASESECONDARY 13
       ifvare CHARACTERSELECTED? 13 randvar CRITICALINCREASESECONDARY 14
       ifvare CHARACTERSELECTED? 14 randvar CRITICALINCREASESECONDARY 10
       ifvare CHARACTERSELECTED? 15 randvar CRITICALINCREASESECONDARY 20 addvar CRITICALINCREASESECONDARY 2

       ifvarn PUBLICBETA? 0
       {
        ifvare SKILLLEVEL 0 addvar CRITICALINCREASESECONDARY 4
        else ifvarg SKILLLEVEL 0 ifvarl SKILLLEVEL 4 addvar CRITICALINCREASESECONDARY 3
        else ifvarg SKILLLEVEL 3 ifvarl SKILLLEVEL 7 addvar CRITICALINCREASESECONDARY 2
        else ifvarg SKILLLEVEL 6 addvar CRITICALINCREASESECONDARY 1
       }

       ifrnd 3 mulvar CRITICALINCREASESECONDARY 3
       else ifrnd 9 mulvar CRITICALINCREASESECONDARY 2
       else ifrnd 29 divvar CRITICALINCREASESECONDARY 1
       else ifrnd 85 divvar CRITICALINCREASESECONDARY 2
       else divvar CRITICALINCREASESECONDARY 3

       addvarvar CRITICALHITCHANCE CRITICALINCREASESECONDARY
       setvar CRITICALINCREASEMAIN 0
       setvar CRITICALINCREASESECONDARY 0
       addvarvar ATKINCREASED STATINCREASE
       ifvarvarg ATKINCREASED STATLIMIT setvarvar ATKINCREASED STATLIMIT

       setvar STATINCREASE 0
       setvar STATVARIENCE 0
       // Defense
       ifvarg PLAYERTEMPLEVEL 0 ifvarl PLAYERTEMPLEVEL 26
       {
        setvarvar STATINCREASE PLAYERTEMPLEVEL
        state charactervariencedefense1
        divvar STATINCREASE 2
        addvarvar STATINCREASE STATVARIENCE
       }
       else ifvarg PLAYERTEMPLEVEL 25 ifvarl PLAYERTEMPLEVEL 51
       {
        setvarvar STATINCREASE PLAYERTEMPLEVEL
        state charactervariencedefense1
        mulvar STATINCREASE 3 divvar STATINCREASE 4
        addvarvar STATINCREASE STATVARIENCE
       }
       else ifvarg PLAYERTEMPLEVEL 50 ifvarl PLAYERTEMPLEVEL 76
       {
        setvarvar STATINCREASE PLAYERTEMPLEVEL
        state charactervariencedefense1
        mulvar STATINCREASE 1
        addvarvar STATINCREASE STATVARIENCE
       }
       else ifvarg PLAYERTEMPLEVEL 75 ifvarl PLAYERTEMPLEVEL 101
       {
        setvarvar STATINCREASE PLAYERTEMPLEVEL
        state charactervariencedefense1
        mulvar STATINCREASE 3 divvar STATINCREASE 2
        addvarvar STATINCREASE STATVARIENCE
       }

       setvarvar TEMPVAR3 PLAYERDEFENSE
       divvar TEMPVAR3 100
       ifvarg PLAYERTEMPLEVEL 0 ifvarl PLAYERTEMPLEVEL 12 addvar TEMPVAR3 1
       ifvarg PLAYERTEMPLEVEL 11 ifvarl PLAYERTEMPLEVEL 23 addvar TEMPVAR3 2
       ifvarg PLAYERTEMPLEVEL 22 ifvarl PLAYERTEMPLEVEL 34 addvar TEMPVAR3 3
       ifvarg PLAYERTEMPLEVEL 33 ifvarl PLAYERTEMPLEVEL 45 addvar TEMPVAR3 4
       ifvarg PLAYERTEMPLEVEL 44 ifvarl PLAYERTEMPLEVEL 56 addvar TEMPVAR3 5
       ifvarg PLAYERTEMPLEVEL 55 ifvarl PLAYERTEMPLEVEL 67 addvar TEMPVAR3 6
       ifvarg PLAYERTEMPLEVEL 66 ifvarl PLAYERTEMPLEVEL 78 addvar TEMPVAR3 7
       ifvarg PLAYERTEMPLEVEL 77 ifvarl PLAYERTEMPLEVEL 89 addvar TEMPVAR3 8
       ifvarg PLAYERTEMPLEVEL 88 ifvarl PLAYERTEMPLEVEL 101 addvar TEMPVAR3 9
       randvarvar STATVARIENCE TEMPVAR3
       addvarvar STATINCREASE STATVARIENCE
       addvarvar PLAYERDEFENSE STATINCREASE

       addvarvar DEFINCREASED STATINCREASE
       ifvarvarg DEFINCREASED STATLIMIT setvarvar DEFINCREASED STATLIMIT

       // Speed
       getplayer[THISACTOR].runspeed CHARACTERSPEEDTRUE
       ifvarl CHARACTERSPEEDTRUE 61000
       {
        ifvare PLAYERTEMPLEVEL 100
        {
         ifvarg SKILLLEVEL -1 ifvarl SKILLLEVEL 2 setvar TEMPVAR5 580 // 0-1 (Easiest)
         ifvarg SKILLLEVEL 1 ifvarl SKILLLEVEL 4 setvar TEMPVAR5 508 // 2-3 (Easy)
         ifvarg SKILLLEVEL 3 ifvarl SKILLLEVEL 6 setvar TEMPVAR5 435 // 4-5 (Default)
         ifvarg SKILLLEVEL 5 ifvarl SKILLLEVEL 8 setvar TEMPVAR5 362 // 6-7 (Hard)        
         ifvarg SKILLLEVEL 7 ifvarl SKILLLEVEL 10 setvar TEMPVAR5 290 // 8-9 (Hardest)
         setvarvar TEMPVAR TEMPVAR5
         divvar TEMPVAR 3
         randvarvar TEMPVAR4 TEMPVAR
        }
        else
        {
         ifvarg SKILLLEVEL -1 ifvarl SKILLLEVEL 2 setvar TEMPVAR5 65 // 0-1 (Easiest)
         ifvarg SKILLLEVEL 1 ifvarl SKILLLEVEL 4 setvar TEMPVAR5 57 // 2-3 (Easy)
         ifvarg SKILLLEVEL 3 ifvarl SKILLLEVEL 6 setvar TEMPVAR5 49 // 4-5 (Default)
         ifvarg SKILLLEVEL 5 ifvarl SKILLLEVEL 8 setvar TEMPVAR5 41 // 6-7 (Hard)        
         ifvarg SKILLLEVEL 7 ifvarl SKILLLEVEL 10 setvar TEMPVAR5 33 // 8-9 (Hardest)
         setvarvar TEMPVAR TEMPVAR5
         divvar TEMPVAR 2
         randvarvar TEMPVAR4 TEMPVAR
         addvar TEMPVAR4 1
        }
        setvarvar TEMP TEMPVAR5
        ifrnd 128 addvarvar TEMP TEMPVAR4 else subvarvar TEMP TEMPVAR4
        addvarvar CHARACTERSPEEDTRUE TEMP
        ifvarg CHARACTERSPEEDTRUE 61000 setvar CHARACTERSPEEDTRUE 61000
        setplayer[THISACTOR].runspeed CHARACTERSPEEDTRUE

        addvarvar SPDINCREASED TEMP
       }

    // Ammo
    // ********************************************
    // * This Part Calculates Maximum Pistol Ammo *
    // ********************************************
       ifvarl PLAYERTEMPLEVEL 34 ifrnd 85 addvar MAXPISTOL PISTOLAMMOAMOUNT
       ifvarg PLAYERTEMPLEVEL 33 ifvarl PLAYERTEMPLEVEL 67 ifrnd 170 addvar MAXPISTOL PISTOLAMMOAMOUNT
       ifvarg PLAYERTEMPLEVEL 66 addvar MAXPISTOL PISTOLAMMOAMOUNT
    // ********************************************
    // * This Part Calculates Maximum Shotgun Ammo *
    // ********************************************
       ifvarl PLAYERTEMPLEVEL 34 ifrnd 85 addvar MAXSHOTGUN SHOTGUNAMMOAMOUNT
       ifvarg PLAYERTEMPLEVEL 33 ifvarl PLAYERTEMPLEVEL 67 ifrnd 170 addvar MAXSHOTGUN SHOTGUNAMMOAMOUNT
       ifvarg PLAYERTEMPLEVEL 66 addvar MAXSHOTGUN SHOTGUNAMMOAMOUNT
    // **********************************************
    // * This Part Calculates Maximum Chaingun Ammo *
    // **********************************************
       ifvarl PLAYERTEMPLEVEL 34 ifrnd 85 addvar MAXCHAINGUN CHAINGUNAMMOAMOUNT
       ifvarg PLAYERTEMPLEVEL 33 ifvarl PLAYERTEMPLEVEL 67 ifrnd 170 addvar MAXCHAINGUN CHAINGUNAMMOAMOUNT
       ifvarg PLAYERTEMPLEVEL 66 addvar MAXCHAINGUN CHAINGUNAMMOAMOUNT
    // *****************************************
    // * This Part Calculates Maximum RPG Ammo *
    // *****************************************
       ifvarl PLAYERTEMPLEVEL 34 ifrnd 85 addvar MAXRPG RPGAMMOBOX
       ifvarg PLAYERTEMPLEVEL 33 ifvarl PLAYERTEMPLEVEL 67 ifrnd 170 addvar MAXRPG RPGAMMOBOX
       ifvarg PLAYERTEMPLEVEL 66 addvar MAXRPG RPGAMMOBOX
    // **********************************************
    // * This Part Calculates Maximum Pipebomb Ammo *
    // **********************************************
       ifvarl PLAYERTEMPLEVEL 34 ifrnd 85 addvar MAXPIPEBOMB HANDBOMBBOX
       ifvarg PLAYERTEMPLEVEL 33 ifvarl PLAYERTEMPLEVEL 67 ifrnd 170 addvar MAXPIPEBOMB HANDBOMBBOX
       ifvarg PLAYERTEMPLEVEL 66 addvar MAXPIPEBOMB HANDBOMBBOX
    // **********************************************
    // * This Part Calculates Maximum Shrinker Ammo *
    // **********************************************
       ifvarl PLAYERTEMPLEVEL 34 ifrnd 85 addvar MAXSHRINKER CRYSTALAMMOAMOUNT
       ifvarg PLAYERTEMPLEVEL 33 ifvarl PLAYERTEMPLEVEL 67 ifrnd 170 addvar MAXSHRINKER CRYSTALAMMOAMOUNT
       ifvarg PLAYERTEMPLEVEL 66 addvar MAXSHRINKER CRYSTALAMMOAMOUNT
    // **********************************************
    // * This Part Calculates Maximum Expander Ammo *
    // **********************************************
       ifvarl PLAYERTEMPLEVEL 34 ifrnd 85 addvar MAXEXPANDER GROWCRYSTALAMMOAMOUNT
       ifvarg PLAYERTEMPLEVEL 33 ifvarl PLAYERTEMPLEVEL 67 ifrnd 170 addvar MAXEXPANDER GROWCRYSTALAMMOAMOUNT
       ifvarg PLAYERTEMPLEVEL 66 addvar MAXEXPANDER GROWCRYSTALAMMOAMOUNT
    // ************************************************
    // * This Part Calculates Maximum Devastator Ammo *
    // ************************************************
       ifvarl PLAYERTEMPLEVEL 34 ifrnd 85 addvar MAXDEVASTATOR DEVISTATORAMMOAMOUNT
       ifvarg PLAYERTEMPLEVEL 33 ifvarl PLAYERTEMPLEVEL 67 ifrnd 170 addvar MAXDEVASTATOR DEVISTATORAMMOAMOUNT
       ifvarg PLAYERTEMPLEVEL 66 addvar MAXDEVASTATOR DEVISTATORAMMOAMOUNT
    // **********************************************
    // * This Part Calculates Maximum Tripbomb Ammo *
    // **********************************************
       ifvarl PLAYERTEMPLEVEL 34 addvar MAXTRIPBOMB 1
       ifvarg PLAYERTEMPLEVEL 33 ifvarl PLAYERTEMPLEVEL 67 addvar MAXTRIPBOMB 2
       ifvarg PLAYERTEMPLEVEL 66 addvar MAXTRIPBOMB 4
    // *********************************************
    // * This Part Calculates Maximum Freezer Ammo *
    // *********************************************
       ifvarl PLAYERTEMPLEVEL 34 ifrnd 85 addvar MAXFREEZER FREEZEAMMOAMOUNT
       ifvarg PLAYERTEMPLEVEL 33 ifvarl PLAYERTEMPLEVEL 67 ifrnd 170 addvar MAXFREEZER FREEZEAMMOAMOUNT
       ifvarg PLAYERTEMPLEVEL 66 addvar MAXFREEZER FREEZEAMMOAMOUNT
    // **************************************************
    // * This Part Calculates Maximum Cells (Lisa Only) *
    // **************************************************
       ifvare CHARACTERSELECTED? 8
       {
        ifvarl PLAYERTEMPLEVEL 34 addvar MAXCELLS 5
        ifvarg PLAYERTEMPLEVEL 33 addvar MAXCELLS 10
        ifvarg PLAYERTEMPLEVEL 66 addvar MAXCELLS 25
       }
ends

// For directly calculating the level and stuff of the current character in use
state playerstatcalculation

setvarvar TEMPHEALTH CURRENTHITPOINTS
setvarvar TEMPARMOR CURRENTARMORPOINTS
setvarvar TEMPARMORPOINTS CURRENTARMORPOINTS

ifvarg CURRENTHITPOINTS 0 // ifp palive
{
 ifvare mainmenu 0
 ifvarg PLAYERLEVEL 1
  whilevarvarn PLAYERTEMPLEVEL PLAYERLEVEL
  {
    // *****************************************************************************************************
    // * This Part Calculates Maximum Health & Armor, Air Time, Mantle Time, Attack, Defense, Speed & Ammo *
    // *****************************************************************************************************
    state playerstatcalcmost

    // ******************************************
    // * This Part Calculates Maximum Air-Jumps *
    // ******************************************
       ifvare CHARACTERSELECTED? 1 // Duke (30) [14]
       {
        ifvare PLAYERTEMPLEVEL 29 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 59 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 89 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 2 // Jack (28) [12]
       {
        ifvare PLAYERTEMPLEVEL 27 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 55 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 83 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 3 // Bubsy (31) [15]
       {
        ifvare PLAYERTEMPLEVEL 30 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 61 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 92 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 4 // Ami (29) [13]
       {
        ifvare PLAYERTEMPLEVEL 28 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 57 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 86 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 5 // Higa (25) [9]
       {
        ifvare PLAYERTEMPLEVEL 24 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 49 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 74 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 99 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 6 // ESSence (22) [6]
       {
        ifvare PLAYERTEMPLEVEL 21 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 43 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 65 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 87 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 7 // Ted (18) [2]
       {
        ifvare PLAYERTEMPLEVEL 17 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 35 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 53 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 71 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 89 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 8 // Lisa (24) [8]
       {
        ifvare PLAYERTEMPLEVEL 23 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 47 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 71 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 95 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 9 // Cybanis (19) [3]
       {
        ifvare PLAYERTEMPLEVEL 18 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 37 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 56 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 75 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 94 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 10 // Nethra (23) [7]
       {
        ifvare PLAYERTEMPLEVEL 22 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 45 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 68 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 91 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       ifvare CHARACTERSELECTED? 11 // Paula (26) [10]
       {
        ifvare PLAYERTEMPLEVEL 25 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 51 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 77 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 12 // Lori (21) [5]
       {
        ifvare PLAYERTEMPLEVEL 20 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 41 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 62 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 83 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 13 // Minako (17) [1]
       {
        ifvare PLAYERTEMPLEVEL 16 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 33 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 50 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 67 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 84 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 14 // Mystery Lady (27) [11]
       {
        ifvare PLAYERTEMPLEVEL 26 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 53 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 80 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 15 // Maken (20) [4]
       {
        ifvare PLAYERTEMPLEVEL 19 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 39 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 59 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 79 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 99 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }

    // *************************************************************
    // * This Part Calculates Bio-Shield Damage Factor (Lisa Only) *
    // *************************************************************
      ifvare CHARACTERSELECTED? 8
      {
       ifvarg PLAYERTEMPLEVEL -1 { ifvare PUBLICBETA? 0 { ifrnd 137 addvar ESHIELDDMGFACTOR 1 } else { ifrnd 85 addvar ESHIELDDMGFACTOR 1 } }
       ifvarg PLAYERTEMPLEVEL 24 { ifvare PUBLICBETA? 0 { ifrnd 137 addvar ESHIELDDMGFACTOR 1 } else { ifrnd 85 addvar ESHIELDDMGFACTOR 1 } }
       ifvarg PLAYERTEMPLEVEL 49 { ifvare PUBLICBETA? 0 { ifrnd 137 addvar ESHIELDDMGFACTOR 1 } else { ifrnd 85 addvar ESHIELDDMGFACTOR 1 } }
       ifvarg PLAYERTEMPLEVEL 74 { ifvare PUBLICBETA? 0 { ifrnd 137 addvar ESHIELDDMGFACTOR 1 } else { ifrnd 85 addvar ESHIELDDMGFACTOR 1 } }
      }

    // ****************************************
    // * Finalize All Stat Gains and Displays *
    // ****************************************
      ifvarg HPINCREASED 0 
      { 
       qsprintf 204 209 HPINCREASED
       setvar HPLUPDISPLAY 0 
      } 
      ifvarg APINCREASED 0 
      { 
       qsprintf 205 210 APINCREASED
       setvar APLUPDISPLAY 0 
      } 
      ifvarg EPINCREASED 0 
      { 
       qsprintf 238 239 EPINCREASED
       setvar EPLUPDISPLAY 0 
      } 
      ifvarg ATKINCREASED 0 
      { 
       qsprintf 206 211 ATKINCREASED
       setvar ATKLUPDISPLAY 0 
      } 
      ifvarg DEFINCREASED 0 
      { 
       qsprintf 207 212 DEFINCREASED
       setvar DEFLUPDISPLAY 0 
      } 
      ifvarg SPDINCREASED 0 
      { 
       qsprintf 208 213 SPDINCREASED
       setvar SPDLUPDISPLAY 0 
      } 
      ifvarg AIRINCREASED 0 
      { 
       qsprintf 709 717 AIRINCREASED
       setvar AIRLUPDISPLAY 0 
      } 
      ifvarg MNTINCREASED 0 
      { 
       qsprintf 710 718 MNTINCREASED
       setvar MNTLUPDISPLAY 0 
      } 
      ifvarg JUMINCREASED 0 
      { 
       qsprintf 711 719 JUMINCREASED
       setvar JUMLUPDISPLAY 0 
      } 
      qsprintf 141 250 HPINCREASED APINCREASED EPINCREASED ATKINCREASED DEFINCREASED
      setvarvar fta fta_normal setvar ftq 141
      // setvar HPINCREASED 0
      // setvar APINCREASED 0
      // setvar EPINCREASED 0
      // setvar ATKINCREASED 0
      // setvar DEFINCREASED 0

      globalsound LEVELUP setvar LEVELUPTIMER 65 

      setvar MISCARRAYID 63  // SOMEONE-LEVELS?
      getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP
      addvar MISCARRAYID_AMOUNTTEMP 1
      setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP

      ifrnd 39
      {
       setvar MISCARRAYID 64  // PLAYER-LEVELSUP?
       getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP
       addvar MISCARRAYID_AMOUNTTEMP 1
       setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP
      }

      addvar PLAYERTEMPLEVEL 1
  }
}
ends

state checkdoublepickupbonus
  // Transdimensional Safe
  state checktransdimensionalsafes
  ifvarvarg PARTYSIZE ITEMARRAYID_AMOUNTTEMP setvarvar TEMP7 ITEMARRAYID_AMOUNTTEMP else setvarvar TEMP7 PARTYSIZE
  mulvar TEMP7 2 // 2% per item  

  ifvarn INVENTORYDROP? 1
  {
   // Make Calculations
   randvar TEMP6 99 addvar TEMP6 1
   ifvarvarg TEMP6 TEMP7 nullop else { mulvar ACTORPICKUPAMOUNT 2 sound GRABDOUBLEITEMS }
  }
ends

state bonusgrab
    globalsound STATBONUSGRAB // BONUS_GRAB
ends

state characterbonussnds
     ifvare CHARACTERSELECTED? 8
     {
      randvar RNDVOICE 2
      ifvare RNDVOICE 0 globalsound LISA_GRABBONUS1
      ifvare RNDVOICE 1 globalsound LISA_GRABBONUS2
      ifvare RNDVOICE 2 globalsound LISA_GRABBONUS3
     }
     ifvare CHARACTERSELECTED? 15
     {
      randvar RNDVOICE 2
      ifvare RNDVOICE 0 globalsound MAKEN_GRABBONUS1
      ifvare RNDVOICE 1 globalsound MAKEN_GRABBONUS2
      ifvare RNDVOICE 2 globalsound MAKEN_GRABBONUS3
     }
ends

state charactergrabbonus
   ifspritepal 9
   {
    ifrnd 156 state characterbonussnds
   }
   else
   ifspritepal 3
   {
    ifrnd 78 state characterbonussnds
   }
   else   
   {   
    ifrnd 39 state characterbonussnds
   }
ends

state calcmaxhpbonus_vehicle
             setvar statincreasetemp 0
             setvar statincreasetempb 0
             setvar statincreasetempc 0
             setvar statincreasetempd 0
             setvar statincreasetempe 0

             setvarvar TEMPHITPOINTS TEMPVAR5
             ifvare PUBLICBETA? 0 divvar TEMPHITPOINTS 500 else divvar TEMPHITPOINTS 200
             setvarvar TEMPVAR TEMPVAR5
             ifvare PUBLICBETA? 0 divvar TEMPVAR 1000 else divvar TEMPVAR 400

             setvar CHARSTATINCREASE 0
             getactorvar[PLAYERID].VEHICLETYPE tempvehicletype
             ifvare tempvehicletype 0 setvar TEMP2 GREENTANKHPGROWTHCURVE
             ifvare tempvehicletype 1 setvar TEMP2 BLUETANKHPGROWTHCURVE
             ifvare tempvehicletype 2 setvar TEMP2 REDTANKHPGROWTHCURVE
             addvarvar CHARSTATINCREASE TEMP2

             getactorvar[tempvehicleid].ENEMYLEVEL TEMP2
             mulvarvar CHARSTATINCREASE TEMP2
             divvar CHARSTATINCREASE 80
             ifvarl CHARSTATINCREASE 1 setvar CHARSTATINCREASE 1

             addvarvar TEMPHITPOINTS CHARSTATINCREASE

             ifvare PUBLICBETA? 1
             {
              state checker
              mulvarvar TEMPHITPOINTS tempc
              divvar TEMPHITPOINTS 100
             }

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd MAXHPUP
             {
              ifspritepal 3 mulvar TEMPHITPOINTS 4
              ifspritepal 9 mulvar TEMPHITPOINTS 9
              ifspritepal 3 mulvar TEMPVAR 4
              ifspritepal 9 mulvar TEMPVAR 9
             }
             ifvare statincreasetempd MAXHPAPUP
             {
              ifspritepal 3 mulvar TEMPHITPOINTS 4
              ifspritepal 9 mulvar TEMPHITPOINTS 9
              ifspritepal 3 mulvar TEMPVAR 4
              ifspritepal 9 mulvar TEMPVAR 9
             }

             randvarvar tempb TEMPVAR
             ifrnd 128 addvarvar TEMPHITPOINTS tempb else subvarvar TEMPHITPOINTS tempb
             getactorvar[tempvehicleid].ENEMYLEVEL TEMP2
             ifvarg TEMP2 25 ifvarl TEMP2 51 { mulvar TEMPHITPOINTS 3 divvar TEMPHITPOINTS 2 } 
             ifvarg TEMP2 50 ifvarl TEMP2 76 { mulvar TEMPHITPOINTS 4 divvar TEMPHITPOINTS 2 } 
             ifvarg TEMP2 75 ifvarl TEMP2 101 { mulvar TEMPHITPOINTS 5 divvar TEMPHITPOINTS 2 } 

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd MAXHPUP
             {
              ifspritepal 9 { ifvarl TEMPHITPOINTS 9 setvar TEMPHITPOINTS 9 }
              else ifspritepal 3 { ifvarl TEMPHITPOINTS 4 setvar TEMPHITPOINTS 4 }
              else { ifvarl TEMPHITPOINTS 1 setvar TEMPHITPOINTS 1 }
             }
             else
             ifvare statincreasetempd MAXHPAPUP
             {
              ifspritepal 9 { ifvarl TEMPHITPOINTS 9 setvar TEMPHITPOINTS 9 }
              else ifspritepal 3 { ifvarl TEMPHITPOINTS 4 setvar TEMPHITPOINTS 4 }
              else { ifvarl TEMPHITPOINTS 1 setvar TEMPHITPOINTS 1 }

             }
             else
             {
              ifvarl TEMPHITPOINTS 1 setvar TEMPHITPOINTS 1
             }

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd MAXHPUP
             {
              ifvarand ACTORFLAGS 128 mulvar TEMPHITPOINTS 2
              ifvarand ACTORFLAGS 256 mulvar TEMPHITPOINTS 4

             }
             ifvare statincreasetempd MAXHPAPUP
             {
              ifvarand ACTORFLAGS 128 mulvar TEMPHITPOINTS 2
              ifvarand ACTORFLAGS 256 mulvar TEMPHITPOINTS 4
             }

             setvarvar ACTORPICKUPAMOUNT TEMPHITPOINTS
             state checkdoublepickupbonus
             setvarvar TEMPHITPOINTS ACTORPICKUPAMOUNT

             mulvarvar TEMPHITPOINTS STARTSTATMULTI
             divvarvar TEMPHITPOINTS STARTSTATDIVISOR
             ifvarl TEMPHITPOINTS 1 setvar TEMPHITPOINTS 1

             addvarvar TEMPVAR5 TEMPHITPOINTS
             ifvarvarg TEMPVAR5 STATLIMIT setvarvar TEMPVAR5 STATLIMIT
             setactorvar[tempvehicleid].ENEMYMAXHP TEMPVAR5

             addvarvar HPINCREASED TEMPHITPOINTS
             {
              ifvarg HPINCREASED 0 
              { 
               qsprintf 204 209 HPINCREASED 
               setvar HPLUPDISPLAY 0 
              } 
             }

             getactorvar[tempvehicleid].ENEMYHP TEMPHEALTH
             addvarvar TEMPHEALTH TEMPHITPOINTS // TEMPHEALTH is for adding to the current health level on a level up
             ifvarvarg TEMPHEALTH STATLIMITMAXIMUM setvarvar TEMPHEALTH STATLIMITMAXIMUM
             setactorvar[tempvehicleid].ENEMYHP TEMPHEALTH

             ifvarn SHOWDAMAGEPLAYER 0
             {
              ifvarg TEMPHITPOINTS 0
              {
               setvarvar TEMPHEALTH TEMPHITPOINTS
               ifvarand ACTORFLAGS 2 nullop else state showhealing_playerhp
              }
             }

             getactorvar[tempvehicleid].ENEMYFIRSTAID TEMPVAR3
             ifvarg TEMPVAR3 0
             { 
              ifvarvarl TEMPVAR3 STATLIMIT addvarvar TEMPVAR3 TEMPHITPOINTS
              setactorvar[tempvehicleid].ENEMYFIRSTAID TEMPVAR3
             }
ends

state calcmaxhpbonus
             setvar statincreasetemp 0
             setvar statincreasetempb 0
             setvar statincreasetempc 0
             setvar statincreasetempd 0
             setvar statincreasetempe 0

             // TEMPHITPOINTS = Our Main Value [the final value that gets added to MAXHITPOINTS]
             setvarvar TEMPHITPOINTS MAXHITPOINTS
             ifvare PUBLICBETA? 0 divvar TEMPHITPOINTS 500 else divvar TEMPHITPOINTS 200
             // TEMPVAR = Random Error/Varience [will be randomized from 0 to TEMPVAR and has a 50% chance of being multiplied by -1]
             setvarvar TEMPVAR MAXHITPOINTS
             ifvare PUBLICBETA? 0 divvar TEMPVAR 1000 else divvar TEMPVAR 400

             // CHARSTATINCREASE = Extra Value that gets added to TEMPHITPOINTS (NOT TEMPVAR)
             setvar CHARSTATINCREASE 0
             setvarvar CHARACTERARRAY CHARACTERSELECTED?
             // TEMP2 = Character's HP Growth Curve
             getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE TEMP2
             addvarvar CHARSTATINCREASE TEMP2
             mulvarvar CHARSTATINCREASE PLAYERTEMPLEVEL
             divvar CHARSTATINCREASE 80
             ifvarl CHARSTATINCREASE 1 setvar CHARSTATINCREASE 1
             addvarvar TEMPHITPOINTS CHARSTATINCREASE

             // Skill-Level Checker for Beta Mode [TEMPHITPOINTS only]
             ifvare PUBLICBETA? 1
             {
              state checker
              mulvarvar TEMPHITPOINTS tempc
              divvar TEMPHITPOINTS 100
             }

             // Palette-Checker for TEMPHITPOINTS AND TEMPVAR
             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd MAXHPUP
             {
              ifspritepal 3 mulvar TEMPHITPOINTS 4
              ifspritepal 9 mulvar TEMPHITPOINTS 9
              ifspritepal 3 mulvar TEMPVAR 4
              ifspritepal 9 mulvar TEMPVAR 9
             }
             ifvare statincreasetempd MAXHPAPUP
             {
              ifspritepal 3 mulvar TEMPHITPOINTS 4
              ifspritepal 9 mulvar TEMPHITPOINTS 9
              ifspritepal 3 mulvar TEMPVAR 4
              ifspritepal 9 mulvar TEMPVAR 9
             }

             randvarvar tempb TEMPVAR
             ifrnd 128 addvarvar TEMPHITPOINTS tempb else subvarvar TEMPHITPOINTS tempb
             ifvarg PLAYERTEMPLEVEL 25 ifvarl PLAYERTEMPLEVEL 51 { mulvar TEMPHITPOINTS 3 divvar TEMPHITPOINTS 2 } 
             ifvarg PLAYERTEMPLEVEL 50 ifvarl PLAYERTEMPLEVEL 76 { mulvar TEMPHITPOINTS 4 divvar TEMPHITPOINTS 2 } 
             ifvarg PLAYERTEMPLEVEL 75 ifvarl PLAYERTEMPLEVEL 101 { mulvar TEMPHITPOINTS 5 divvar TEMPHITPOINTS 2 } 

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd MAXHPUP
             {
              ifspritepal 9 { ifvarl TEMPHITPOINTS 9 setvar TEMPHITPOINTS 9 }
              else ifspritepal 3 { ifvarl TEMPHITPOINTS 4 setvar TEMPHITPOINTS 4 }
              else ifvarl TEMPHITPOINTS 1 setvar TEMPHITPOINTS 1
             }
             else
             ifvare statincreasetempd MAXHPAPUP
             {
              ifspritepal 9 { ifvarl TEMPHITPOINTS 9 setvar TEMPHITPOINTS 9 }
              else ifspritepal 3 { ifvarl TEMPHITPOINTS 4 setvar TEMPHITPOINTS 4 }
              else ifvarl TEMPHITPOINTS 1 setvar TEMPHITPOINTS 1
             }
             else
             {
              ifvarl TEMPHITPOINTS 1 setvar TEMPHITPOINTS 1
             }

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd MAXHPUP
             {
              ifvarand ACTORFLAGS 128 mulvar TEMPHITPOINTS 2
              ifvarand ACTORFLAGS 256 mulvar TEMPHITPOINTS 4
             }
             ifvare statincreasetempd MAXHPAPUP
             {
              ifvarand ACTORFLAGS 128 mulvar TEMPHITPOINTS 2
              ifvarand ACTORFLAGS 256 mulvar TEMPHITPOINTS 4
             }

             setvarvar ACTORPICKUPAMOUNT TEMPHITPOINTS
             state checkdoublepickupbonus
             setvarvar TEMPHITPOINTS ACTORPICKUPAMOUNT

             mulvarvar TEMPHITPOINTS STARTSTATMULTI
             divvarvar TEMPHITPOINTS STARTSTATDIVISOR
             ifvarl TEMPHITPOINTS 1 setvar TEMPHITPOINTS 1

             addvarvar MAXHITPOINTS TEMPHITPOINTS
             ifvarvarg MAXHITPOINTS STATLIMIT setvarvar MAXHITPOINTS STATLIMIT

             addvarvar HPINCREASED TEMPHITPOINTS
             {
              ifvarg HPINCREASED 0 
              { 
               qsprintf 204 209 HPINCREASED 
               setvar HPLUPDISPLAY 0 
              } 
             }

             setvarvar TEMPHEALTH CURRENTHITPOINTS // Wow what a tool I am, for not noticing the lack of this line for like 10 versions or more. -_-;
             // addlogvar TEMPHEALTH
             // addlogvar TEMPHITPOINTS
             addvarvar TEMPHEALTH TEMPHITPOINTS // TEMPHEALTH is for adding to the current health level on a level up
             ifvarvarg TEMPHEALTH STATLIMITMAXIMUM setvarvar TEMPHEALTH STATLIMITMAXIMUM
             // addlogvar TEMPHEALTH
             setvarvar CURRENTHITPOINTS TEMPHEALTH

             ifvarn SHOWDAMAGEPLAYER 0
             {
              ifvarg TEMPHITPOINTS 0
              {
               setvarvar TEMPHEALTH TEMPHITPOINTS
               ifvarand ACTORFLAGS 2 nullop else state showhealing_playerhp
              }
             }

             ifvarg FIRSTAIDCURRENT 0
             { 
              ifvarvarl FIRSTAIDCURRENT STATLIMIT addvarvar FIRSTAIDCURRENT TEMPHITPOINTS
             }
ends

state calcmaxapbonus_vehicle
             setvar statincreasetemp 0
             setvar statincreasetempb 0
             setvar statincreasetempc 0
             setvar statincreasetempd 0
             setvar statincreasetempe 0

             setvarvar TEMPARMORPOINTS TEMPVAR5
             ifvare PUBLICBETA? 0 divvar TEMPARMORPOINTS 500 else divvar TEMPARMORPOINTS 200
             setvarvar TEMPVAR TEMPVAR5
             ifvare PUBLICBETA? 0 divvar TEMPVAR 1000 else divvar TEMPVAR 400

             setvar CHARSTATINCREASE 0
             getactorvar[PLAYERID].VEHICLETYPE tempvehicletype
             ifvare tempvehicletype 0 setvar TEMP2 GREENTANKAPGROWTHCURVE
             ifvare tempvehicletype 1 setvar TEMP2 BLUETANKAPGROWTHCURVE
             ifvare tempvehicletype 2 setvar TEMP2 REDTANKAPGROWTHCURVE
             addvarvar CHARSTATINCREASE TEMP2

             getactorvar[tempvehicleid].ENEMYLEVEL TEMP2
             mulvarvar CHARSTATINCREASE TEMP2
             divvar CHARSTATINCREASE 80
             ifvarl CHARSTATINCREASE 1 setvar CHARSTATINCREASE 1

             addvarvar TEMPARMORPOINTS CHARSTATINCREASE

             ifvare PUBLICBETA? 1
             {
              state checker
              mulvarvar TEMPARMORPOINTS tempc
              divvar TEMPARMORPOINTS 100
             }

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd MAXAPUP
             {
              ifspritepal 3 mulvar TEMPARMORPOINTS 4
              ifspritepal 9 mulvar TEMPARMORPOINTS 9
              ifspritepal 3 mulvar TEMPVAR 4
              ifspritepal 9 mulvar TEMPVAR 9
             }
             ifvare statincreasetempd MAXHPAPUP
             {
              ifspritepal 3 mulvar TEMPARMORPOINTS 4
              ifspritepal 9 mulvar TEMPARMORPOINTS 9
              ifspritepal 3 mulvar TEMPVAR 4
              ifspritepal 9 mulvar TEMPVAR 9
             }

             randvarvar tempb TEMPVAR
             ifrnd 128 addvarvar TEMPARMORPOINTS tempb else subvarvar TEMPARMORPOINTS tempb
             getactorvar[tempvehicleid].ENEMYLEVEL TEMP2
             ifvarg TEMP2 25 ifvarl TEMP2 51 { mulvar TEMPARMORPOINTS 3 divvar TEMPARMORPOINTS 2 } 
             ifvarg TEMP2 50 ifvarl TEMP2 76 { mulvar TEMPARMORPOINTS 4 divvar TEMPARMORPOINTS 2 } 
             ifvarg TEMP2 75 ifvarl TEMP2 101 { mulvar TEMPARMORPOINTS 5 divvar TEMPARMORPOINTS 2 } 

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd MAXAPUP
             {
              ifspritepal 9 { ifvarl TEMPARMORPOINTS 9 setvar TEMPARMORPOINTS 9 }
              else ifspritepal 3 { ifvarl TEMPARMORPOINTS 4 setvar TEMPARMORPOINTS 4 }
              else ifvarl TEMPARMORPOINTS 1 setvar TEMPARMORPOINTS 1
             }
             else
             ifvare statincreasetempd MAXHPAPUP
             {
              ifspritepal 9 { ifvarl TEMPARMORPOINTS 9 setvar TEMPARMORPOINTS 9 }
              else ifspritepal 3 { ifvarl TEMPARMORPOINTS 4 setvar TEMPARMORPOINTS 4 }
              else ifvarl TEMPARMORPOINTS 1 setvar TEMPARMORPOINTS 1
             }
             else
             {
              ifvarl TEMPARMORPOINTS 1 setvar TEMPARMORPOINTS 1
             }

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd MAXAPUP
             {
              ifvarand ACTORFLAGS 128 mulvar TEMPARMORPOINTS 2
              ifvarand ACTORFLAGS 256 mulvar TEMPARMORPOINTS 4
             }
             ifvare statincreasetempd MAXHPAPUP
             {
              ifvarand ACTORFLAGS 128 mulvar TEMPARMORPOINTS 2
              ifvarand ACTORFLAGS 256 mulvar TEMPARMORPOINTS 4
             }

             setvarvar ACTORPICKUPAMOUNT TEMPARMORPOINTS
             state checkdoublepickupbonus
             setvarvar TEMPARMORPOINTS ACTORPICKUPAMOUNT

             mulvarvar TEMPARMORPOINTS STARTSTATMULTI
             divvarvar TEMPARMORPOINTS STARTSTATDIVISOR
             ifvarl TEMPARMORPOINTS 1 setvar TEMPARMORPOINTS 1

             addvarvar TEMPVAR5 TEMPARMORPOINTS
             ifvarvarg TEMPVAR5 STATLIMIT setvarvar TEMPVAR5 STATLIMIT
             setactorvar[tempvehicleid].ENEMYMAXAP TEMPVAR5

             addvarvar APINCREASED TEMPARMORPOINTS
             {
              ifvarg APINCREASED 0 
              { 
               qsprintf 205 210 APINCREASED 
               setvar APLUPDISPLAY 0 
              } 
             }

             getactorvar[tempvehicleid].ENEMYAP TEMPARMOR
             ifvarg TEMPARMOR 0
             {
              addvarvar TEMPARMOR TEMPARMORPOINTS

              ifvarn SHOWDAMAGEPLAYER 0
              {
               ifvarg TEMPARMORPOINTS 0
               {
                setvarvar RECEIVEDARMOR TEMPARMORPOINTS
                ifvarand ACTORFLAGS 2 nullop else state showhealing_playerap
               }
              }
             }
             ifvarvarg TEMPARMOR STATLIMITMAXIMUM setvarvar TEMPARMOR STATLIMITMAXIMUM
             setactorvar[tempvehicleid].ENEMYAP TEMPARMOR

ends

state calcmaxapbonus
             setvar statincreasetemp 0
             setvar statincreasetempb 0
             setvar statincreasetempc 0
             setvar statincreasetempd 0
             setvar statincreasetempe 0
 
             setvarvar TEMPARMORPOINTS MAXARMORPOINTS
             ifvare PUBLICBETA? 0 divvar TEMPARMORPOINTS 500 else divvar TEMPARMORPOINTS 200
             setvarvar TEMPVAR MAXARMORPOINTS 
             ifvare PUBLICBETA? 0 divvar TEMPVAR 1000 else divvar TEMPVAR 400

             setvar CHARSTATINCREASE 0

             setvarvar CHARACTERARRAY CHARACTERSELECTED?
             getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE TEMP2
             addvarvar CHARSTATINCREASE TEMP2

             mulvarvar CHARSTATINCREASE PLAYERTEMPLEVEL
             divvar CHARSTATINCREASE 80
             ifvarl CHARSTATINCREASE 1 setvar CHARSTATINCREASE 1

             addvarvar TEMPARMORPOINTS CHARSTATINCREASE

             ifvare PUBLICBETA? 1
             {
              state checker
              mulvarvar TEMPARMORPOINTS tempc
              divvar TEMPARMORPOINTS 100
             }

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd MAXAPUP
             {
              ifspritepal 3 mulvar TEMPARMORPOINTS 4
              ifspritepal 9 mulvar TEMPARMORPOINTS 9
              ifspritepal 3 mulvar TEMPVAR 4
              ifspritepal 9 mulvar TEMPVAR 9
             }
             ifvare statincreasetempd MAXHPAPUP
             {
              ifspritepal 3 mulvar TEMPARMORPOINTS 4
              ifspritepal 9 mulvar TEMPARMORPOINTS 9
              ifspritepal 3 mulvar TEMPVAR 4
              ifspritepal 9 mulvar TEMPVAR 9
             }
 
             randvarvar tempb TEMPVAR
             ifrnd 128 addvarvar TEMPARMORPOINTS tempb else subvarvar TEMPARMORPOINTS tempb
             ifvarg PLAYERTEMPLEVEL 25 ifvarl PLAYERTEMPLEVEL 51 { mulvar TEMPARMORPOINTS 3 divvar TEMPARMORPOINTS 2 } 	
             ifvarg PLAYERTEMPLEVEL 50 ifvarl PLAYERTEMPLEVEL 76 { mulvar TEMPARMORPOINTS 4 divvar TEMPARMORPOINTS 2 } 	
             ifvarg PLAYERTEMPLEVEL 75 ifvarl PLAYERTEMPLEVEL 101 { mulvar TEMPARMORPOINTS 5 divvar TEMPARMORPOINTS 2 } 	

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd MAXAPUP
             {
              ifspritepal 9 { ifvarl TEMPARMORPOINTS 9 setvar TEMPARMORPOINTS 9 }
              else ifspritepal 3 { ifvarl TEMPARMORPOINTS 4 setvar TEMPARMORPOINTS 4 }
              else ifvarl TEMPARMORPOINTS 1 setvar TEMPARMORPOINTS 1
             }
             else
             ifvare statincreasetempd MAXHPAPUP
             {
              ifspritepal 9 { ifvarl TEMPARMORPOINTS 9 setvar TEMPARMORPOINTS 9 }
              else ifspritepal 3 { ifvarl TEMPARMORPOINTS 4 setvar TEMPARMORPOINTS 4 }
              else ifvarl TEMPARMORPOINTS 1 setvar TEMPARMORPOINTS 1
             }
             else
             {
              ifvarl TEMPARMORPOINTS 1 setvar TEMPARMORPOINTS 1
             }

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd MAXAPUP
             {
              ifvarand ACTORFLAGS 128 mulvar TEMPARMORPOINTS 2
              ifvarand ACTORFLAGS 256 mulvar TEMPARMORPOINTS 4
             }
             ifvare statincreasetempd MAXHPAPUP
             {
              ifvarand ACTORFLAGS 128 mulvar TEMPARMORPOINTS 2
              ifvarand ACTORFLAGS 256 mulvar TEMPARMORPOINTS 4
             }

             setvarvar ACTORPICKUPAMOUNT TEMPARMORPOINTS
             state checkdoublepickupbonus
             setvarvar TEMPARMORPOINTS ACTORPICKUPAMOUNT

             mulvarvar TEMPARMORPOINTS STARTSTATMULTI
             divvarvar TEMPARMORPOINTS STARTSTATDIVISOR
             ifvarl TEMPARMORPOINTS 1 setvar TEMPARMORPOINTS 1

             addvarvar MAXARMORPOINTS TEMPARMORPOINTS
             ifvarvarg MAXARMORPOINTS STATLIMIT setvarvar MAXARMORPOINTS STATLIMIT

             addvarvar APINCREASED TEMPARMORPOINTS
             {
              ifvarg APINCREASED 0 
              { 
               qsprintf 205 210 APINCREASED 
               setvar APLUPDISPLAY 0 
              } 
             }

             ifvarg TEMPARMOR 0
             {
              addvarvar TEMPARMOR TEMPARMORPOINTS

              ifvarn SHOWDAMAGEPLAYER 0
              {
               ifvarg TEMPARMORPOINTS 0
               {
                setvarvar RECEIVEDARMOR TEMPARMORPOINTS
                ifvarand ACTORFLAGS 2 nullop else state showhealing_playerap
               }
              }
             }
             ifvarvarg TEMPARMOR STATLIMITMAXIMUM setvarvar TEMPARMOR STATLIMITMAXIMUM
             setvarvar CURRENTARMORPOINTS TEMPARMOR
ends

state maxhpapbonusgive_vehicle
              getactorvar[tempvehicleid].ENEMYHP TEMPVAR4
              getactorvar[tempvehicleid].ENEMYMAXHP TEMPVAR5
              ifvarvarl TEMPVAR5 STATLIMIT state calcmaxhpbonus_vehicle else setvar TEMPHITPOINTS 0

              getactorvar[tempvehicleid].ENEMYAP TEMPVAR4
              getactorvar[tempvehicleid].ENEMYMAXAP TEMPVAR5
              ifvarvarl TEMPVAR5 STATLIMIT state calcmaxapbonus_vehicle else setvar TEMPARMORPOINTS 0
 
              ifvarand ACTORFLAGS 2 nullop
              else
              {
               redefinequote 836 ^15YOUR VEHICLE GRABBED A MAXIMUM HP/AP BONUS! (^21+%d^15/^17+%d^15)
               qsprintf 836 836 TEMPHITPOINTS TEMPARMORPOINTS 
               setvarvar fta fta_normal setvar ftq 836
              }
ends

state maxhpapbonusgive
              ifvarvarl MAXHITPOINTS STATLIMIT state calcmaxhpbonus else setvar TEMPHITPOINTS 0
              ifvarvarl MAXARMORPOINTS STATLIMIT state calcmaxapbonus else setvar TEMPARMORPOINTS 0
 
              qsprintf 162 263 TEMPHITPOINTS TEMPARMORPOINTS 
              ifvarand ACTORFLAGS 2 nullop
              else
              {
               setvarvar fta fta_normal setvar ftq 162
              }
ends

state calcmaxepbonus
             setvar statincreasetemp 0
             setvar statincreasetempb 0
             setvar statincreasetempc 0
             setvar statincreasetempd 0
             setvar statincreasetempe 0

             setvarvar TEMPHITPOINTS MAXENERGYPOINTS
             ifvare PUBLICBETA? 0 divvar TEMPHITPOINTS 750 else divvar TEMPHITPOINTS 300
             setvarvar TEMPVAR MAXENERGYPOINTS
             ifvare PUBLICBETA? 0 divvar TEMPVAR 1500 else divvar TEMPVAR 600

             setvar CHARSTATINCREASE 0
             setvarvar CHARACTERARRAY CHARACTERSELECTED?
             getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE TEMP2
             addvarvar CHARSTATINCREASE TEMP2

             mulvarvar CHARSTATINCREASE PLAYERTEMPLEVEL
             divvar CHARSTATINCREASE 200
             ifvarl CHARSTATINCREASE 1 setvar CHARSTATINCREASE 1

             addvarvar TEMPHITPOINTS CHARSTATINCREASE

/*
             ifvare PUBLICBETA? 1
             {
              state checker
              mulvarvar TEMPHITPOINTS tempc
              divvar TEMPHITPOINTS 100
             }
*/

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd MAXEPUP
             {
              ifspritepal 3 mulvar TEMPHITPOINTS 4
              ifspritepal 9 mulvar TEMPHITPOINTS 9
              ifspritepal 3 mulvar TEMPVAR 4
              ifspritepal 9 mulvar TEMPVAR 9
             }

             randvarvar tempb TEMPVAR
             ifrnd 128 addvarvar TEMPHITPOINTS tempb else subvarvar TEMPHITPOINTS tempb
             ifvarg PLAYERTEMPLEVEL 25 ifvarl PLAYERTEMPLEVEL 51 { mulvar TEMPHITPOINTS 3 divvar TEMPHITPOINTS 2 } 
             ifvarg PLAYERTEMPLEVEL 50 ifvarl PLAYERTEMPLEVEL 76 { mulvar TEMPHITPOINTS 4 divvar TEMPHITPOINTS 2 } 
             ifvarg PLAYERTEMPLEVEL 75 ifvarl PLAYERTEMPLEVEL 101 { mulvar TEMPHITPOINTS 5 divvar TEMPHITPOINTS 2 } 

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd MAXEPUP
             {
              ifspritepal 9 { ifvarl TEMPHITPOINTS 9 setvar TEMPHITPOINTS 9 }
              else ifspritepal 3 { ifvarl TEMPHITPOINTS 4 setvar TEMPHITPOINTS 4 }
              else ifvarl TEMPHITPOINTS 1 setvar TEMPHITPOINTS 1
             }
             else
             {
              ifvarl TEMPHITPOINTS 1 setvar TEMPHITPOINTS 1
             }

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd MAXEPUP
             {
              ifvarand ACTORFLAGS 128 mulvar TEMPHITPOINTS 2
              ifvarand ACTORFLAGS 256 mulvar TEMPHITPOINTS 4
             }

             setvarvar ACTORPICKUPAMOUNT TEMPHITPOINTS
             state checkdoublepickupbonus
             setvarvar TEMPHITPOINTS ACTORPICKUPAMOUNT

             mulvarvar TEMPHITPOINTS STARTSTATMULTI
             divvarvar TEMPHITPOINTS STARTSTATDIVISOR
             ifvarl TEMPHITPOINTS 1 setvar TEMPHITPOINTS 1

             addvarvar MAXENERGYPOINTS TEMPHITPOINTS
             ifvarvarg MAXENERGYPOINTS STATLIMIT setvarvar MAXENERGYPOINTS STATLIMIT

             addvarvar EPINCREASED TEMPHITPOINTS

             ifvarg EPINCREASED 0 
             { 
              qsprintf 238 239 EPINCREASED 
              setvar EPLUPDISPLAY 0 
             } 

             setvarvar TEMPHEALTH CURRENTENERGYPOINTS
             addvarvar TEMPHEALTH TEMPHITPOINTS // TEMPHEALTH is for adding to the current health level on a level up
             ifvarvarg TEMPHEALTH STATLIMITMAXIMUM setvarvar TEMPHEALTH STATLIMITMAXIMUM
             setvarvar CURRENTENERGYPOINTS TEMPHEALTH
ends

state calcatkbonus_vehicle
             setvar statincreasetemp 0
             setvar statincreasetempb 0
             setvar statincreasetempc 0
             setvar statincreasetempd 0
             setvar statincreasetempe 0

             setvarvar statincreasetemp TEMPVAR5
             ifvare PUBLICBETA? 0 divvar statincreasetemp 500 else divvar statincreasetemp 200
             setvarvar statincreasetempc TEMPVAR5
             ifvare PUBLICBETA? 0 divvar statincreasetempc 1000 else divvar statincreasetempc 400

             setvar CHARSTATINCREASE 0
             getactorvar[PLAYERID].VEHICLETYPE tempvehicletype
             ifvare tempvehicletype 0 setvar TEMP2 GREENTANKATKGROWTHCURVE
             ifvare tempvehicletype 1 setvar TEMP2 BLUETANKATKGROWTHCURVE
             ifvare tempvehicletype 2 setvar TEMP2 REDTANKATKGROWTHCURVE
             addvarvar CHARSTATINCREASE TEMP2

             setvar tempc 14
             setvar tempd -1
             mulvarvar tempd SKILLLEVEL
             ifvarg SKILLLEVEL 4 addvar tempd 1
             addvarvar tempc tempd
             mulvarvar CHARSTATINCREASE tempc

             divvar CHARSTATINCREASE 60
             ifvarl CHARSTATINCREASE 1 setvar CHARSTATINCREASE 1

             getactorvar[tempvehicleid].ENEMYLEVEL TEMP2
             ifvarg TEMP2 0 ifvarl TEMP2 26 mulvar CHARSTATINCREASE 1
             ifvarg TEMP2 25 ifvarl TEMP2 51 mulvar CHARSTATINCREASE 3
             ifvarg TEMP2 50 ifvarl TEMP2 76 mulvar CHARSTATINCREASE 6
             ifvarg TEMP2 75 ifvarl TEMP2 101 mulvar CHARSTATINCREASE 9
             addvarvar statincreasetemp CHARSTATINCREASE

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd ATKUP
             {
              ifspritepal 3 mulvar statincreasetemp 4
              ifspritepal 9 mulvar statincreasetemp 9
              ifspritepal 3 mulvar statincreasetempc 4
              ifspritepal 9 mulvar statincreasetempc 9
             }
             ifvare statincreasetempd ATKDEFUP
             {
              ifspritepal 3 mulvar statincreasetemp 4
              ifspritepal 9 mulvar statincreasetemp 9
              ifspritepal 3 mulvar statincreasetempc 4
              ifspritepal 9 mulvar statincreasetempc 9
             }

             randvarvar statincreasetempb statincreasetempc

             ifrnd 128 addvarvar statincreasetemp statincreasetempb else subvarvar statincreasetemp statincreasetempb
             getactorvar[tempvehicleid].ENEMYLEVEL TEMP2
             ifvarg TEMP2 25 ifvarl TEMP2 51 { mulvar statincreasetemp 3 divvar statincreasetemp 2 } 
             ifvarg TEMP2 50 ifvarl TEMP2 76 { mulvar statincreasetemp 4 divvar statincreasetemp 2 } 
             ifvarg TEMP2 75 ifvarl TEMP2 101 { mulvar statincreasetemp 5 divvar statincreasetemp 2 } 

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd ATKUP
             {
              ifspritepal 9 { ifvarl statincreasetemp 9 setvar statincreasetemp 9 }
              else ifspritepal 3 { ifvarl statincreasetemp 4 setvar statincreasetemp 4 }
              else ifvarl statincreasetemp 1 setvar statincreasetemp 1
             }
             else
             ifvare statincreasetempd ATKDEFUP
             {
              ifspritepal 9 { ifvarl statincreasetemp 9 setvar statincreasetemp 9 }
              else ifspritepal 3 { ifvarl statincreasetemp 4 setvar statincreasetemp 4 }
              else ifvarl statincreasetemp 1 setvar statincreasetemp 1
             }
             else
             {
              ifvarl statincreasetemp 1 setvar statincreasetemp 1
             }

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd ATKUP
             {
              ifvarand ACTORFLAGS 128 mulvar statincreasetemp 2
              ifvarand ACTORFLAGS 256 mulvar statincreasetemp 4
             }
             ifvare statincreasetempd ATKDEFUP
             {
              ifvarand ACTORFLAGS 128 mulvar statincreasetemp 2
              ifvarand ACTORFLAGS 256 mulvar statincreasetemp 4
             }

             setvarvar ACTORPICKUPAMOUNT statincreasetemp
             state checkdoublepickupbonus
             setvarvar statincreasetemp ACTORPICKUPAMOUNT

             mulvarvar statincreasetemp STARTSTATMULTI
             divvarvar statincreasetemp STARTSTATDIVISOR
             ifvarl statincreasetemp 1 setvar statincreasetemp 1

             addvarvar TEMPVAR5 statincreasetemp
             setactorvar[tempvehicleid].ACTORATTACK TEMPVAR5
             addvarvar ATKINCREASED statincreasetemp

             ifvarg ATKINCREASED 0 
             { 
              qsprintf 206 211 ATKINCREASED 
              setvar ATKLUPDISPLAY 0 
             } 
ends

state calcatkbonus
             setvar statincreasetemp 0
             setvar statincreasetempb 0
             setvar statincreasetempc 0
             setvar statincreasetempd 0
             setvar statincreasetempe 0

             setvarvar statincreasetemp PLAYERATTACK
             ifvare PUBLICBETA? 0 divvar statincreasetemp 500 else divvar statincreasetemp 200
             setvarvar statincreasetempc PLAYERATTACK
             ifvare PUBLICBETA? 0 divvar statincreasetempc 1000 else divvar statincreasetempc 400

             setvar CHARSTATINCREASE 0

             setvarvar CHARACTERARRAY CHARACTERSELECTED?
             getactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE TEMP2
             addvarvar CHARSTATINCREASE TEMP2

             setvar tempc 14
             setvar tempd -1
             mulvarvar tempd SKILLLEVEL
             ifvarg SKILLLEVEL 4 addvar tempd 1
             addvarvar tempc tempd
             mulvarvar CHARSTATINCREASE tempc

             divvar CHARSTATINCREASE 60
             ifvarl CHARSTATINCREASE 1 setvar CHARSTATINCREASE 1

             ifvarg PLAYERTEMPLEVEL 0 ifvarl PLAYERTEMPLEVEL 26 mulvar CHARSTATINCREASE 1
             ifvarg PLAYERTEMPLEVEL 25 ifvarl PLAYERTEMPLEVEL 51 mulvar CHARSTATINCREASE 3
             ifvarg PLAYERTEMPLEVEL 50 ifvarl PLAYERTEMPLEVEL 76 mulvar CHARSTATINCREASE 6
             ifvarg PLAYERTEMPLEVEL 75 ifvarl PLAYERTEMPLEVEL 101 mulvar CHARSTATINCREASE 9
             addvarvar statincreasetemp CHARSTATINCREASE

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd ATKUP
             {
              ifspritepal 3 mulvar statincreasetemp 4
              ifspritepal 9 mulvar statincreasetemp 9
              ifspritepal 3 mulvar statincreasetempc 4
              ifspritepal 9 mulvar statincreasetempc 9
             }
             ifvare statincreasetempd ATKDEFUP
             {
              ifspritepal 3 mulvar statincreasetemp 4
              ifspritepal 9 mulvar statincreasetemp 9
              ifspritepal 3 mulvar statincreasetempc 4
              ifspritepal 9 mulvar statincreasetempc 9
             }

             randvarvar statincreasetempb statincreasetempc
             ifrnd 128 addvarvar statincreasetemp statincreasetempb else subvarvar statincreasetemp statincreasetempb
             ifvarg PLAYERTEMPLEVEL 25 ifvarl PLAYERTEMPLEVEL 51 { mulvar statincreasetemp 3 divvar statincreasetemp 2 } 
             ifvarg PLAYERTEMPLEVEL 50 ifvarl PLAYERTEMPLEVEL 76 { mulvar statincreasetemp 4 divvar statincreasetemp 2 } 
             ifvarg PLAYERTEMPLEVEL 75 ifvarl PLAYERTEMPLEVEL 101 { mulvar statincreasetemp 5 divvar statincreasetemp 2 } 

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd ATKUP
             {
              ifspritepal 9 { ifvarl statincreasetemp 9 setvar statincreasetemp 9 }
              else ifspritepal 3 { ifvarl statincreasetemp 4 setvar statincreasetemp 4 }
              else ifvarl statincreasetemp 1 setvar statincreasetemp 1
             }
             else
             ifvare statincreasetempd ATKDEFUP
             {
              ifspritepal 9 { ifvarl statincreasetemp 9 setvar statincreasetemp 9 }
              else ifspritepal 3 { ifvarl statincreasetemp 4 setvar statincreasetemp 4 }
              else ifvarl statincreasetemp 1 setvar statincreasetemp 1
             }
             else
             {
              ifvarl statincreasetemp 1 setvar statincreasetemp 1
             }

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd ATKUP
             {
              ifvarand ACTORFLAGS 128 mulvar statincreasetemp 2
              ifvarand ACTORFLAGS 256 mulvar statincreasetemp 4
             }
             else
             ifvare statincreasetempd ATKDEFUP
             {
              ifvarand ACTORFLAGS 128 mulvar statincreasetemp 2
              ifvarand ACTORFLAGS 256 mulvar statincreasetemp 4
             }

             setvarvar ACTORPICKUPAMOUNT statincreasetemp
             state checkdoublepickupbonus
             setvarvar statincreasetemp ACTORPICKUPAMOUNT

             mulvarvar statincreasetemp STARTSTATMULTI
             divvarvar statincreasetemp STARTSTATDIVISOR
             ifvarl statincreasetemp 1 setvar statincreasetemp 1

             addvarvar PLAYERATTACK statincreasetemp
             addvarvar ATKINCREASED statincreasetemp

             ifvarg ATKINCREASED 0 
             { 
              qsprintf 206 211 ATKINCREASED 
              setvar ATKLUPDISPLAY 0 
             } 
ends

state calcdefbonus_vehicle
             setvar statincreasetemp 0
             setvar statincreasetempb 0
             setvar statincreasetempc 0
             setvar statincreasetempd 0
             setvar statincreasetempe 0

             setvarvar statincreasetemp TEMPVAR5
             ifvare PUBLICBETA? 0 divvar statincreasetemp 500 else divvar statincreasetemp 200
             setvarvar statincreasetempc TEMPVAR5
             ifvare PUBLICBETA? 0 divvar statincreasetempc 1000 else divvar statincreasetempc 400

             setvar CHARSTATINCREASE 0
             getactorvar[PLAYERID].VEHICLETYPE tempvehicletype
             ifvare tempvehicletype 0 setvar TEMP2 GREENTANKDEFGROWTHCURVE
             ifvare tempvehicletype 1 setvar TEMP2 BLUETANKDEFGROWTHCURVE
             ifvare tempvehicletype 2 setvar TEMP2 REDTANKDEFGROWTHCURVE
             addvarvar CHARSTATINCREASE TEMP2

             setvar tempc 14
             setvar tempd -1
             mulvarvar tempd SKILLLEVEL
             ifvarg SKILLLEVEL 4 addvar tempd 1
             addvarvar tempc tempd
             mulvarvar CHARSTATINCREASE tempc

             divvar CHARSTATINCREASE 60
             ifvarl CHARSTATINCREASE 1 setvar CHARSTATINCREASE 1

             getactorvar[tempvehicleid].ENEMYLEVEL TEMP2
             ifvarg TEMP2 0 ifvarl TEMP2 26 mulvar CHARSTATINCREASE 1
             ifvarg TEMP2 25 ifvarl TEMP2 51 mulvar CHARSTATINCREASE 3
             ifvarg TEMP2 50 ifvarl TEMP2 76 mulvar CHARSTATINCREASE 6
             ifvarg TEMP2 75 ifvarl TEMP2 101 mulvar CHARSTATINCREASE 9
             addvarvar statincreasetemp CHARSTATINCREASE

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd DEFUP
             {
              ifspritepal 3 mulvar statincreasetemp 4
              ifspritepal 9 mulvar statincreasetemp 9
              ifspritepal 3 mulvar statincreasetempc 4
              ifspritepal 9 mulvar statincreasetempc 9
             }
             ifvare statincreasetempd ATKDEFUP
             {
              ifspritepal 3 mulvar statincreasetemp 4
              ifspritepal 9 mulvar statincreasetemp 9
              ifspritepal 3 mulvar statincreasetempc 4
              ifspritepal 9 mulvar statincreasetempc 9
             }

             randvarvar statincreasetempb statincreasetempc

             ifrnd 128 addvarvar statincreasetemp statincreasetempb else subvarvar statincreasetemp statincreasetempb
             getactorvar[tempvehicleid].ENEMYLEVEL TEMP2
             ifvarg TEMP2 25 ifvarl TEMP2 51 { mulvar statincreasetemp 3 divvar statincreasetemp 2 } 
             ifvarg TEMP2 50 ifvarl TEMP2 76 { mulvar statincreasetemp 4 divvar statincreasetemp 2 } 
             ifvarg TEMP2 75 ifvarl TEMP2 101 { mulvar statincreasetemp 5 divvar statincreasetemp 2 } 

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd DEFUP
             {
              ifspritepal 9 { ifvarl statincreasetemp 9 setvar statincreasetemp 9 }
              else ifspritepal 3 { ifvarl statincreasetemp 4 setvar statincreasetemp 4 }
              else { ifvarl statincreasetemp 1 setvar statincreasetemp 1 }
             }
             else
             ifvare statincreasetempd ATKDEFUP
             {
              ifspritepal 9 { ifvarl statincreasetemp 9 setvar statincreasetemp 9 }
              else ifspritepal 3 { ifvarl statincreasetemp 4 setvar statincreasetemp 4 }
              else { ifvarl statincreasetemp 1 setvar statincreasetemp 1 }
             }
             else
             {
              ifvarl statincreasetemp 1 setvar statincreasetemp 1
             }

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd DEFUP
             {
              ifvarand ACTORFLAGS 128 mulvar statincreasetemp 2
              ifvarand ACTORFLAGS 256 mulvar statincreasetemp 4
             }
             ifvare statincreasetempd ATKDEFUP
             {
              ifvarand ACTORFLAGS 128 mulvar statincreasetemp 2
              ifvarand ACTORFLAGS 256 mulvar statincreasetemp 4
             }

             setvarvar ACTORPICKUPAMOUNT statincreasetemp
             state checkdoublepickupbonus
             setvarvar statincreasetemp ACTORPICKUPAMOUNT

             mulvarvar statincreasetemp STARTSTATMULTI
             divvarvar statincreasetemp STARTSTATDIVISOR
             ifvarl statincreasetemp 1 setvar statincreasetemp 1

             addvarvar TEMPVAR5 statincreasetemp
             setactorvar[tempvehicleid].ACTORDEFENSE TEMPVAR5
             addvarvar DEFINCREASED statincreasetemp

             ifvarg DEFINCREASED 0 
             { 
              qsprintf 207 212 DEFINCREASED 
              setvar DEFLUPDISPLAY 0 
             } 
ends

state calcdefbonus
             setvar statincreasetemp 0
             setvar statincreasetempb 0
             setvar statincreasetempc 0
             setvar statincreasetempd 0
             setvar statincreasetempe 0

             setvarvar statincreasetemp PLAYERDEFENSE
             ifvare PUBLICBETA? 0 divvar statincreasetemp 500 else divvar statincreasetemp 200
             setvarvar statincreasetempc PLAYERDEFENSE
             ifvare PUBLICBETA? 0 divvar statincreasetempc 1000 else divvar statincreasetempc 400

             setvar CHARSTATINCREASE 0

             setvarvar CHARACTERARRAY CHARACTERSELECTED?
             getactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE TEMP2
             addvarvar CHARSTATINCREASE TEMP2

             setvar tempc 14
             setvar tempd -1
             mulvarvar tempd SKILLLEVEL
             ifvarg SKILLLEVEL 4 addvar tempd 1
             addvarvar tempc tempd
             mulvarvar CHARSTATINCREASE tempc

             divvar CHARSTATINCREASE 60
             ifvarl CHARSTATINCREASE 1 setvar CHARSTATINCREASE 1

             ifvarg PLAYERTEMPLEVEL 0 ifvarl PLAYERTEMPLEVEL 26 mulvar CHARSTATINCREASE 1
             ifvarg PLAYERTEMPLEVEL 25 ifvarl PLAYERTEMPLEVEL 51 mulvar CHARSTATINCREASE 3
             ifvarg PLAYERTEMPLEVEL 50 ifvarl PLAYERTEMPLEVEL 76 mulvar CHARSTATINCREASE 6
             ifvarg PLAYERTEMPLEVEL 75 ifvarl PLAYERTEMPLEVEL 101 mulvar CHARSTATINCREASE 9
             addvarvar statincreasetemp CHARSTATINCREASE

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd DEFUP
             {
              ifspritepal 3 mulvar statincreasetemp 4
              ifspritepal 9 mulvar statincreasetemp 9
              ifspritepal 3 mulvar statincreasetempc 4
              ifspritepal 9 mulvar statincreasetempc 9
             }
             ifvare statincreasetempd ATKDEFUP
             {
              ifspritepal 3 mulvar statincreasetemp 4
              ifspritepal 9 mulvar statincreasetemp 9
              ifspritepal 3 mulvar statincreasetempc 4
              ifspritepal 9 mulvar statincreasetempc 9
             }

             randvarvar statincreasetempb statincreasetempc

             ifrnd 128 { addvarvar statincreasetemp statincreasetempb } else { subvarvar statincreasetemp statincreasetempb }
             ifvarg PLAYERTEMPLEVEL 25 ifvarl PLAYERTEMPLEVEL 51 { mulvar statincreasetemp 3 divvar statincreasetemp 2 } 
             ifvarg PLAYERTEMPLEVEL 50 ifvarl PLAYERTEMPLEVEL 76 { mulvar statincreasetemp 4 divvar statincreasetemp 2 } 
             ifvarg PLAYERTEMPLEVEL 75 ifvarl PLAYERTEMPLEVEL 101 { mulvar statincreasetemp 5 divvar statincreasetemp 2 } 

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd DEFUP
             {
              ifspritepal 9 { ifvarl statincreasetemp 9 setvar statincreasetemp 9 }
              else ifspritepal 3 { ifvarl statincreasetemp 4 setvar statincreasetemp 4 }
              else ifvarl statincreasetemp 1 setvar statincreasetemp 1
             }
             else
             ifvare statincreasetempd ATKDEFUP
             {
              ifspritepal 9 { ifvarl statincreasetemp 9 setvar statincreasetemp 9 }
              else ifspritepal 3 { ifvarl statincreasetemp 4 setvar statincreasetemp 4 }
              else ifvarl statincreasetemp 1 setvar statincreasetemp 1
             }
             else
             {
              ifvarl statincreasetemp 1 setvar statincreasetemp 1
             }

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd DEFUP
             {
              ifvarand ACTORFLAGS 128 mulvar statincreasetemp 2
              ifvarand ACTORFLAGS 256 mulvar statincreasetemp 4
             }
             ifvare statincreasetempd ATKDEFUP
             {
              ifvarand ACTORFLAGS 128 mulvar statincreasetemp 2
              ifvarand ACTORFLAGS 256 mulvar statincreasetemp 4
             }

             setvarvar ACTORPICKUPAMOUNT statincreasetemp
             state checkdoublepickupbonus
             setvarvar statincreasetemp ACTORPICKUPAMOUNT

             mulvarvar statincreasetemp STARTSTATMULTI
             divvarvar statincreasetemp STARTSTATDIVISOR
             ifvarl statincreasetemp 1 setvar statincreasetemp 1

             addvarvar PLAYERDEFENSE statincreasetemp
             addvarvar DEFINCREASED statincreasetemp

             ifvarg DEFINCREASED 0 
             { 
              qsprintf 207 212 DEFINCREASED 
              setvar DEFLUPDISPLAY 0 
             } 
ends

state atkdefbonusgive_vehicle
             getactorvar[tempvehicleid].ACTORATTACK TEMPVAR5
             ifvarvarl TEMPVAR5 STATLIMIT state calcatkbonus_vehicle else setvar ATKINCREASED 0 // If Player's Attack is less than STATLIMIT	      
             getactorvar[tempvehicleid].ACTORDEFENSE TEMPVAR5
             ifvarvarl TEMPVAR5 STATLIMIT state calcdefbonus_vehicle else setvar DEFINCREASED 0 // If Player's Defense is less than STATLIMIT

             redefinequote 836 ^15YOUR VEHICLE GRABBED AN ATTACK/DEFENSE BONUS! (^10+%d^15/^14+%d^15)
             qsprintf 836 836 ATKINCREASED DEFINCREASED
             setvarvar fta fta_normal setvar ftq 836
ends

state atkdefbonusgive
             ifvarvarl PLAYERATTACK STATLIMIT state calcatkbonus else setvar ATKINCREASED 0	// If Player's Attack is less than STATLIMIT	      
             ifvarvarl PLAYERDEFENSE STATLIMIT state calcdefbonus else setvar DEFINCREASED 0 // If Player's Defense is less than STATLIMIT
             qsprintf 328 331 ATKINCREASED DEFINCREASED
             setvarvar fta fta_normal setvar ftq 328
ends

state randspdbonus1
            randvar statincreasetemp 5
            getactor[THISACTOR].picnum statincreasetempd
            ifvare statincreasetempd SPDUP
            {
             ifspritepal 3 mulvar statincreasetemp 4
             ifspritepal 9 mulvar statincreasetemp 9
            }
            addvarvar statincreasetempe statincreasetemp
ends

state calcspdbonus
             setvar statincreasetemp 0
             setvar statincreasetempb 0
             setvar statincreasetempc 0
             setvar statincreasetempd 0
             setvar statincreasetempe 0
             getplayer[THISACTOR].runspeed statincreasetempc
             setvar statincreasetempb 10
             ifvare PUBLICBETA? 1 subvarvar statincreasetempb SKILLLEVEL
             setvar statincreasetempe 0
             addvarvar statincreasetempe statincreasetempb

             state randspdbonus1
             state randspdbonus1
             state randspdbonus1
             state randspdbonus1
             state randspdbonus1

             setvarvar statincreasetemp PLAYERLEVEL
             divvar statincreasetemp 3
             // getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd SPDUP
             {
              ifspritepal 3 mulvar statincreasetemp 4
              ifspritepal 9 mulvar statincreasetemp 9
             }
             addvarvar statincreasetempe statincreasetemp


             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd SPDUP
             {
              ifspritepal 9
              { 
               ifvare CHARACTERSELECTED? 1 addvar statincreasetempe 27 // Duke +3
               ifvare CHARACTERSELECTED? 2 addvar statincreasetempe 18 // Jack +2
               ifvare CHARACTERSELECTED? 3 addvar statincreasetempe 2 // Bubsy -1
               ifvare CHARACTERSELECTED? 4 addvar statincreasetempe 0 // Ami -3
               ifvare CHARACTERSELECTED? 5 addvar statincreasetempe 9 // Lo Wang +1
               ifvare CHARACTERSELECTED? 6 addvar statincreasetempe 54 // ESSence +6
               ifvare CHARACTERSELECTED? 7 addvar statincreasetempe 18 // Ted +2
               ifvare CHARACTERSELECTED? 8 addvar statincreasetempe 2 // Lisa -1
               ifvare CHARACTERSELECTED? 9 addvar statincreasetempe 63 // Cybanis +7
               ifvare CHARACTERSELECTED? 10 addvar statincreasetempe 0 // Nethra -3
               ifvare CHARACTERSELECTED? 11 addvar statincreasetempe -1 // Paula -4
               ifvare CHARACTERSELECTED? 12 addvar statincreasetempe 9 // Lori +1
               ifvare CHARACTERSELECTED? 13 addvar statincreasetempe 2 // Minako -1
               ifvare CHARACTERSELECTED? 14 addvar statincreasetempe 0 // Mystery -3
               ifvare CHARACTERSELECTED? 15 addvar statincreasetempe 1 // Maken -2
              }
              else
              ifspritepal 3
              { 
               ifvare CHARACTERSELECTED? 1 addvar statincreasetempe 12 // Duke +3
               ifvare CHARACTERSELECTED? 2 addvar statincreasetempe 8 // Jack +2
               ifvare CHARACTERSELECTED? 3 addvar statincreasetempe 0 // Bubsy -1
               ifvare CHARACTERSELECTED? 4 addvar statincreasetempe -2 // Ami -3
               ifvare CHARACTERSELECTED? 5 addvar statincreasetempe 4 // Lo Wang +1
               ifvare CHARACTERSELECTED? 6 addvar statincreasetempe 24 // ESSence +6
               ifvare CHARACTERSELECTED? 7 addvar statincreasetempe 8 // Ted +2
               ifvare CHARACTERSELECTED? 8 addvar statincreasetempe 0 // Lisa -1
               ifvare CHARACTERSELECTED? 9 addvar statincreasetempe 28 // Cybanis +7
               ifvare CHARACTERSELECTED? 10 addvar statincreasetempe -2 // Nethra -3
               ifvare CHARACTERSELECTED? 11 addvar statincreasetempe -3 // Paula -4
               ifvare CHARACTERSELECTED? 12 addvar statincreasetempe 4 // Lori +1
               ifvare CHARACTERSELECTED? 13 addvar statincreasetempe 0 // Minako -1
               ifvare CHARACTERSELECTED? 14 addvar statincreasetempe -2 // Mystery -3
               ifvare CHARACTERSELECTED? 15 addvar statincreasetempe -1 // Maken -2
              }
              else
              { 
               ifvare CHARACTERSELECTED? 1 addvar statincreasetempe 3 // Duke +3
               ifvare CHARACTERSELECTED? 2 addvar statincreasetempe 2 // Jack +2
               ifvare CHARACTERSELECTED? 3 addvar statincreasetempe -1 // Bubsy -1
               ifvare CHARACTERSELECTED? 4 addvar statincreasetempe -3 // Ami -3
               ifvare CHARACTERSELECTED? 5 addvar statincreasetempe 1 // Lo Wang +1
               ifvare CHARACTERSELECTED? 6 addvar statincreasetempe 6 // ESSence +6
               ifvare CHARACTERSELECTED? 7 addvar statincreasetempe 2 // Ted +2
               ifvare CHARACTERSELECTED? 8 addvar statincreasetempe -1 // Lisa -1
               ifvare CHARACTERSELECTED? 9 addvar statincreasetempe 7 // Cybanis +7
               ifvare CHARACTERSELECTED? 10 addvar statincreasetempe -3 // Nethra -3
               ifvare CHARACTERSELECTED? 11 addvar statincreasetempe -4 // Paula -4
               ifvare CHARACTERSELECTED? 12 addvar statincreasetempe 1 // Lori +1
               ifvare CHARACTERSELECTED? 13 addvar statincreasetempe -1 // Minako -1
               ifvare CHARACTERSELECTED? 14 addvar statincreasetempe -3 // Mystery -3
               ifvare CHARACTERSELECTED? 15 addvar statincreasetempe -2 // Maken -2
              }
             }
             else
             {
              ifvare CHARACTERSELECTED? 1 addvar statincreasetempe 3 // Duke +3
              ifvare CHARACTERSELECTED? 2 addvar statincreasetempe 2 // Jack +2
              ifvare CHARACTERSELECTED? 3 addvar statincreasetempe -1 // Bubsy -1
              ifvare CHARACTERSELECTED? 4 addvar statincreasetempe -3 // Ami -3
              ifvare CHARACTERSELECTED? 5 addvar statincreasetempe 1 // Lo Wang +1
              ifvare CHARACTERSELECTED? 6 addvar statincreasetempe 6 // ESSence +6
              ifvare CHARACTERSELECTED? 7 addvar statincreasetempe 2 // Ted +2
              ifvare CHARACTERSELECTED? 8 addvar statincreasetempe -1 // Lisa -1
              ifvare CHARACTERSELECTED? 9 addvar statincreasetempe 7 // Cybanis +7
              ifvare CHARACTERSELECTED? 10 addvar statincreasetempe -3 // Nethra -3
              ifvare CHARACTERSELECTED? 11 addvar statincreasetempe -4 // Paula -4
              ifvare CHARACTERSELECTED? 12 addvar statincreasetempe 1 // Lori +1
              ifvare CHARACTERSELECTED? 13 addvar statincreasetempe -1 // Minako -1
              ifvare CHARACTERSELECTED? 14 addvar statincreasetempe -3 // Mystery -3
              ifvare CHARACTERSELECTED? 15 addvar statincreasetempe -2 // Maken -2
             }

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd SPDUP
             {
              ifspritepal 3 ifvarl statincreasetempe 4 setvar statincreasetempe 4
              else ifspritepal 9 ifvarl statincreasetempe 9 setvar statincreasetempe 9
              else ifvarl statincreasetempe 1 setvar statincreasetempe 1
             }
             else
             {
              ifvarl statincreasetempe 1 setvar statincreasetempe 1
             }

             getactor[THISACTOR].picnum statincreasetempd
             ifvare statincreasetempd SPDUP
             {
              ifvarand ACTORFLAGS 128 mulvar statincreasetempe 2
              ifvarand ACTORFLAGS 256 mulvar statincreasetempe 4
             }

             setvarvar ACTORPICKUPAMOUNT statincreasetempe
             state checkdoublepickupbonus
             setvarvar statincreasetempe ACTORPICKUPAMOUNT

             mulvarvar statincreasetempe STARTSTATMULTI
             divvarvar statincreasetempe STARTSTATDIVISOR
             ifvarl statincreasetempe 1 setvar statincreasetempe 1

             addvarvar SPDINCREASED statincreasetempe
             ifvarg SPDINCREASED 0
             { 
             qsprintf 208 213 SPDINCREASED 
             setvar SPDLUPDISPLAY 0 
             } 

             addvarvar statincreasetempc statincreasetempe
             ifvarg statincreasetempc 61000 setvar statincreasetempc 61000
             // Character Bonus/Penalty [faster characters have a penalty, slower characters have a bonus]
             setplayer[THISACTOR].runspeed statincreasetempc
             state bonusgrab
             redefinequote 532 ^15SPEED INCREASED!
             setvarvar fta fta_normal setvar ftq 532
ends

state airtimebonus
            setvar statincreasetemp 0
            setvar statincreasetempb 0
            setvar statincreasetempc 0
            setvar statincreasetempd 0
            setvar statincreasetempe 0
            randvar statincreasetemp 1
            setvar statincreasetempb 2
            ifrnd 64 addvar statincreasetempc 1
            ifrnd 16 addvar statincreasetempc 1
            ifrnd 4 addvar statincreasetempc 1
            ifrnd 1 addvar statincreasetempc 1

            getactor[THISACTOR].picnum statincreasetempd
            ifvare statincreasetempd AIRTIMEBONUS
            {
             ifspritepal 3 mulvar statincreasetemp 4
             ifspritepal 9 mulvar statincreasetemp 9
             ifspritepal 3 mulvar statincreasetempb 4
             ifspritepal 9 mulvar statincreasetempb 9
             ifspritepal 3 mulvar statincreasetempc 4
             ifspritepal 9 mulvar statincreasetempc 9
            }

            ifrnd 128 subvarvar statincreasetempb statincreasetemp else addvarvar statincreasetempb statincreasetemp
            addvarvar statincreasetempb statincreasetempc
            ifvarg PLAYERTEMPLEVEL 25 ifvarl PLAYERTEMPLEVEL 51 { mulvar statincreasetempb 3 divvar statincreasetempb 2 } 
            ifvarg PLAYERTEMPLEVEL 50 ifvarl PLAYERTEMPLEVEL 76 { mulvar statincreasetempb 4 divvar statincreasetempb 2 } 
            ifvarg PLAYERTEMPLEVEL 75 ifvarl PLAYERTEMPLEVEL 101 { mulvar statincreasetempb 5 divvar statincreasetempb 2 }

            getactor[THISACTOR].picnum statincreasetempd
            ifvare statincreasetempd AIRTIMEBONUS
            {
             ifspritepal 3 ifvarl statincreasetempb 4 setvar statincreasetempb 4
             else ifspritepal 9 ifvarl statincreasetempb 9 setvar statincreasetempb 9
             else ifvarl statincreasetempb 1 setvar statincreasetempb 1
            }
            else
            {
             ifvarl statincreasetempb 1 setvar statincreasetempb 1
            }

            getactor[THISACTOR].picnum statincreasetempd
            ifvare statincreasetempd AIRTIMEBONUS
            {
             ifvarand ACTORFLAGS 128 mulvar statincreasetempb 2
             ifvarand ACTORFLAGS 256 mulvar statincreasetempb 4
            }

            setvarvar ACTORPICKUPAMOUNT statincreasetempb
            state checkdoublepickupbonus
            setvarvar statincreasetempb ACTORPICKUPAMOUNT

            mulvarvar statincreasetempb STARTSTATMULTI
            divvarvar statincreasetempb STARTSTATDIVISOR
            ifvarl statincreasetempb 1 setvar statincreasetempb 1

            addvarvar MAXAIRTIME statincreasetempb
            addvarvar AIRTIME statincreasetempb

            addvarvar AIRINCREASED statincreasetempb
            ifvarg AIRINCREASED 0
            { 
             qsprintf 709 717 AIRINCREASED 
             setvar AIRLUPDISPLAY 0 
            } 
ends

state mantlebonus
            setvar statincreasetemp 0
            setvar statincreasetempb 0
            setvar statincreasetempc 0
            setvar statincreasetempd 0
            setvar statincreasetempe 0
            randvar statincreasetemp 1
            setvar statincreasetempb 1
            ifrnd 64 addvar statincreasetempc 1
            ifrnd 16 addvar statincreasetempc 1
            ifrnd 4 addvar statincreasetempc 1
            ifrnd 1 addvar statincreasetempc 1

            getactor[THISACTOR].picnum statincreasetempd
            ifvare statincreasetempd MANTLEBONUS
            {
             ifspritepal 3 mulvar statincreasetemp 4
             ifspritepal 9 mulvar statincreasetemp 9
             ifspritepal 3 mulvar statincreasetempb 4
             ifspritepal 9 mulvar statincreasetempb 9
             ifspritepal 3 mulvar statincreasetempc 4
             ifspritepal 9 mulvar statincreasetempc 9
            }

            addvarvar statincreasetempb statincreasetempc
            ifvarg PLAYERTEMPLEVEL 25 ifvarl PLAYERTEMPLEVEL 51 { mulvar statincreasetempb 3 divvar statincreasetempb 2 } 
            ifvarg PLAYERTEMPLEVEL 50 ifvarl PLAYERTEMPLEVEL 76 { mulvar statincreasetempb 4 divvar statincreasetempb 2 } 
            ifvarg PLAYERTEMPLEVEL 75 ifvarl PLAYERTEMPLEVEL 101 { mulvar statincreasetempb 5 divvar statincreasetempb 2 }

            getactor[THISACTOR].picnum statincreasetempd
            ifvare statincreasetempd MANTLEBONUS
            {
             ifspritepal 3 ifvarl statincreasetempb 4 setvar statincreasetempb 4
             else ifspritepal 9 ifvarl statincreasetempb 9 setvar statincreasetempb 9
             else ifvarl statincreasetempb 1 setvar statincreasetempb 1
            }
            else
            {
             ifvarl statincreasetempb 1 setvar statincreasetempb 1
            }

            getactor[THISACTOR].picnum statincreasetempd
            ifvare statincreasetempd MANTLEBONUS
            {
             ifvarand ACTORFLAGS 128 mulvar statincreasetempb 2
             ifvarand ACTORFLAGS 256 mulvar statincreasetempb 4
            }

            setvarvar ACTORPICKUPAMOUNT statincreasetempb
            state checkdoublepickupbonus
            setvarvar statincreasetempb ACTORPICKUPAMOUNT

            mulvarvar statincreasetempb STARTSTATMULTI
            divvarvar statincreasetempb STARTSTATDIVISOR
            ifvarl statincreasetempb 1 setvar statincreasetempb 1

            addvarvar MANTLINGTIMERMAX statincreasetempb
            addvarvar MANTLINGTIMER statincreasetempb

            addvarvar MNTINCREASED statincreasetempb
            ifvarg MNTINCREASED 0
            { 
             qsprintf 710 718 MNTINCREASED 
             setvar MNTLUPDISPLAY 0 
            } 
ends

state airjumpbonus
            setvar statincreasetemp 0
            setvar statincreasetempb 0
            setvar statincreasetempc 0
            setvar statincreasetempd 0
            setvar statincreasetempe 0
            setvar statincreasetemp 1

            getactor[THISACTOR].picnum statincreasetempd
            ifvare statincreasetempd AIRJUMPBONUS
            {
             ifspritepal 3 mulvar statincreasetemp 4
             ifspritepal 9 mulvar statincreasetemp 9
             ifvarand ACTORFLAGS 128 mulvar statincreasetemp 2
             ifvarand ACTORFLAGS 256 mulvar statincreasetemp 4
            }

            setvarvar ACTORPICKUPAMOUNT statincreasetemp
            state checkdoublepickupbonus
            setvarvar statincreasetemp ACTORPICKUPAMOUNT

            addvarvar PLAYERMAXAIRJUMPS statincreasetemp
            ifvarg multijumpflag 0
            { 
             subvarvar multijumpflag statincreasetemp            
             ifvarl multijumpflag 0 setvar multijumpflag 0
            }

            getactor[THISACTOR].picnum statincreasetempd
            ifvare statincreasetempd AIRJUMPBONUS
            {
             ifspritepal 3 ifvarl statincreasetemp 4 setvar statincreasetemp 4
             else ifspritepal 9 ifvarl statincreasetemp 9 setvar statincreasetemp 9
             else ifvarl statincreasetemp 1 setvar statincreasetemp 1
            }
            else
            {
             ifvarl statincreasetemp 1 setvar statincreasetemp 1
            }

            addvarvar JUMINCREASED statincreasetemp
            ifvarg JUMINCREASED 0
            { 
             qsprintf 711 719 JUMINCREASED 
             setvar JUMLUPDISPLAY 0 
            } 
ends

state checkammobonussize
           getactor[THISACTOR].picnum statincreasetempd
           ifvare statincreasetempd SATCHEL_SMALL
           {
            ifspritepal 3 mulvar statincreasetemp 4
            ifspritepal 9 mulvar statincreasetemp 9
            ifvarand ACTORFLAGS 128 mulvar statincreasetemp 2
            ifvarand ACTORFLAGS 256 mulvar statincreasetemp 4
           }
           ifvare statincreasetempd SATCHEL_LARGE
           {
            ifspritepal 3 mulvar statincreasetemp 4
            ifspritepal 9 mulvar statincreasetemp 9
            ifvarand ACTORFLAGS 128 mulvar statincreasetemp 2
            ifvarand ACTORFLAGS 256 mulvar statincreasetemp 4
           }

           setvarvar ACTORPICKUPAMOUNT statincreasetemp
           state checkdoublepickupbonus
           setvarvar statincreasetemp ACTORPICKUPAMOUNT
ends

state randomammoincrease
           setvar statincreasetemp 0
           setvar statincreasetempb 0
           setvar statincreasetempc 0
           setvar statincreasetempd 0
           setvar statincreasetempe 0
           ifvare LISA? 1 randvar TEMPVAR 11 else randvar TEMPVAR 10
           ifvare TEMPVAR 1 // Pistol
           {
            setvar statincreasetemp PISTOLAMMOAMOUNT
            state checkammobonussize
            addvarvar MAXPISTOL statincreasetemp
           }
           else
           ifvare TEMPVAR 2 // Shotgun
           {
            setvar statincreasetemp SHOTGUNAMMOAMOUNT
            state checkammobonussize
            addvarvar MAXSHOTGUN statincreasetemp
           }
           else
           ifvare TEMPVAR 3 // Chaingun
           {
            setvar statincreasetemp CHAINGUNAMMOAMOUNT
            state checkammobonussize
            addvarvar MAXCHAINGUN statincreasetemp
           }
           else
           ifvare TEMPVAR 4 // RPG
           {
            setvar statincreasetemp RPGAMMOBOX
            state checkammobonussize
            addvarvar MAXRPG statincreasetemp
           }
           else
           ifvare TEMPVAR 5 // Pipebomb
           {
            setvar statincreasetemp HANDBOMBBOX
            state checkammobonussize
            addvarvar MAXPIPEBOMB statincreasetemp
           }
           else
           ifvare TEMPVAR 6 // Shrinker
           {
            setvar statincreasetemp CRYSTALAMMOAMOUNT
            state checkammobonussize
            addvarvar MAXSHRINKER statincreasetemp
           }
           else
           ifvare TEMPVAR 7 // Expander
           {
            setvar statincreasetemp GROWCRYSTALAMMOAMOUNT
            state checkammobonussize
            addvarvar MAXEXPANDER statincreasetemp
           }
           else
           ifvare TEMPVAR 8 // Devastator
           {
            setvar statincreasetemp DEVISTATORAMMOAMOUNT
            state checkammobonussize
            addvarvar MAXDEVASTATOR statincreasetemp
           }
           else
           ifvare TEMPVAR 9 // Tripbomb
           {
            setvar statincreasetemp 1
            state checkammobonussize
            addvarvar MAXTRIPBOMB statincreasetemp
           }
           else
           ifvare TEMPVAR 10 // Freezer
           {
            setvar statincreasetemp FREEZEAMMOAMOUNT
            state checkammobonussize
            addvarvar MAXFREEZER statincreasetemp
           }
           else
           ifvare TEMPVAR 11 // Energy Cells
           {
            ifrnd 3 setvar statincreasetemp 80
            ifrnd 26 setvar statincreasetemp 30
            else setvar statincreasetemp 5
            state checkammobonussize
            addvarvar MAXCELLS statincreasetemp
           }
ends

state calchppercentage
  setvarvar HPPERCENTAGE CURRENTHITPOINTS
  mulvar HPPERCENTAGE 100
  ifvarn MAXHITPOINTS 0 divvarvar HPPERCENTAGE MAXHITPOINTS
ends

state calcappercentage
  setvarvar APPERCENTAGE CURRENTARMORPOINTS
  mulvar APPERCENTAGE 100
  ifvarn MAXARMORPOINTS 0 divvarvar APPERCENTAGE MAXARMORPOINTS
ends

state checkcharacterstatuspic
  getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
  ifvarand TEMPVAR 1 state pal2 else state pal0
ends

state supportmenutext1
    state settile3087
    setvar digx 80
    setvar digy 48
    state pal20
    state orientation2
    state setquote332
    redefinequote 332 SUPPORTS USED:
    state mt
    setvar digx 150
    setvar digy 50
    getactorvar[CHARACTERARRAY].CHARACTERSUPPORTSUSED TEMPVAR
    setvarvar varname TEMPVAR
    state pal20
    state dn
    setvar digx 158
    setvar digy 48
    state showslash
    state pal20
    state mt
    setvar digx 172 // 160 [centered]
    setvar digy 50
    state pal20
    setvar MISCARRAYID 66 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // MAX-SUPPORT-LEVELS
    setvarvar varname MISCARRAYID_AMOUNTTEMP
    state dn
    setvar digx 144
    setvar digy 59
    state pal20
    state orientation2
    state setquote332
    redefinequote 332 SUPPORTS
    state mt
    setvar digx 56
    setvar digy 62
    state pal20
    state orientation2
    state setquote332
    redefinequote 332 ----------------------------------------------------
    state mt
ends

// Support Menu States

state supportfonts1
    ifvarl TEMPVAR 1 state pal13
    else ifvare TEMPVAR 1 state pal12
    else ifvare TEMPVAR 2 state pal23
    else ifvare TEMPVAR 3 state pal17
    else ifvare TEMPVAR 4 state pal21
    else ifvarg TEMPVAR 4 state paletteflasher
ends

state supportfonts2
    ifvarl TEMPVAR 1 redefinequote 332 -
    else ifvare TEMPVAR 1 redefinequote 332 C
    else ifvare TEMPVAR 2 redefinequote 332 B
    else ifvare TEMPVAR 3 redefinequote 332 A
    else ifvare TEMPVAR 4 redefinequote 332 S
    else ifvarg TEMPVAR 4 redefinequote 332 *
ends

state showsupport_dukeicon
    ifvare DUKE? 1
    {
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTDUKE TEMPVAR

     setvar tilenum 7936
     state digz12288 // 16384
     state pal0
     state rs

     addvar digx 82
     setvar tilenum 8150 // "Vitality" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx 6
     setvar tilenum 8143 // "Atomic" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx -79
     addvar digy -3
     state supportfonts1
     state orientation2
     state setquote332
     redefinequote 332 DUKE NUKEM
     state mt

     addvar digx 84
     state orientation2
     state setquote332
     state supportfonts2
     state mt
    }
ends

state showsupport_jackicon
    ifvare JACK? 1
    {
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTJACK TEMPVAR

     setvar tilenum 7937
     state digz12288 // 16384
     state pal0
     state rs

     addvar digx 82
     setvar tilenum 8157 // "Technique" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx 6
     setvar tilenum 8145 // "Poison" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx -79
     addvar digy -3
     state supportfonts1
     state orientation2
     state setquote332
     redefinequote 332 JACK WALKER
     state mt

     addvar digx 84
     state orientation2
     state setquote332
     state supportfonts2
     state mt
    }
ends

state showsupport_bubsyicon
    ifvare BUBSY? 1
    {
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTBUBSY TEMPVAR

     setvar MISCARRAYID 103 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // BUBSY-FORM?
     ifvare MISCARRAYID_AMOUNTTEMP 0 setvar tilenum 7938 
     else ifvare MISCARRAYID_AMOUNTTEMP 1 setvar tilenum 7962
     state digz12288 // 16384
     state pal0
     state rs

     addvar digx 82
     setvar tilenum 8149 // "Strength" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx 6
     setvar tilenum 8152 // "Light Feet" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx -79
     addvar digy -3
     state supportfonts1
     state orientation2
     state setquote332
     redefinequote 332 BUBSY BOBCAT
     state mt

     addvar digx 84
     state orientation2
     state setquote332
     state supportfonts2
     state mt
    }
ends

state showsupport_amiicon
    ifvare AMI? 1
    {
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTAMI TEMPVAR

     setvar MISCARRAYID 104 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // AMI-FORM?
     ifvare MISCARRAYID_AMOUNTTEMP 0 setvar tilenum 7939
     else ifvare MISCARRAYID_AMOUNTTEMP 1 setvar tilenum 7963
     else ifvare MISCARRAYID_AMOUNTTEMP 2 setvar tilenum 7966
     state digz12288 // 16384
     state pal0
     state rs

     addvar digx 82
     setvar tilenum 8161 // "Ice" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx 6
     setvar tilenum 8162 // "Water" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx -79
     addvar digy -3
     state supportfonts1
     state orientation2
     state setquote332
     redefinequote 332 AMI MIZUNO
     state mt

     addvar digx 84
     state orientation2
     state setquote332
     state supportfonts2
     state mt
    }
ends

state showsupport_lowangicon
    ifvare LOWANG? 1
    {
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTLOWANG TEMPVAR

     setvar tilenum 7940
     state digz12288 // 16384
     state pal0
     state rs

     addvar digx 82
     setvar tilenum 8158 // "Primeval" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx 6
     setvar tilenum 8153 // "Lifeforce" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx -79
     addvar digy -3
     state supportfonts1
     state orientation2
     state setquote332
     redefinequote 332 HIGA HAKAISHA
     state mt

     addvar digx 84
     state orientation2
     state setquote332
     state supportfonts2
     state mt
    }
ends

state showsupport_essenceicon
    ifvare ESSENCE? 1
    {
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTESSENCE TEMPVAR

     setvar tilenum 7941
     state pal0
     state digz12288 // 16384
     state rs
 
     addvar digx 82
     setvar tilenum 8141 // "Armor" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx 6
     setvar tilenum 8160 // "Style" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs
 
     addvar digx -79
     addvar digy -3
     state supportfonts1
     state orientation2
     state setquote332
     redefinequote 332 ESSENCE MARGALAN
     state mt 
 
     addvar digx 84
     state orientation2
     state setquote332
     state supportfonts2
     state mt
    }
ends

state showsupport_tedicon
    ifvare TED? 1
    {
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTTED TEMPVAR

     setvar tilenum 7942
     state pal0
     state digz12288 // 16384
     state rs 
 
     addvar digx 82
     setvar tilenum 8147 // "Explosives" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx 6
     setvar tilenum 8148 // "Fire" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx -79
     addvar digy -3
     state supportfonts1
     state orientation2
     state setquote332
     redefinequote 332 TED MALDORAS
     state mt
 
     addvar digx 84
     state orientation2
     state setquote332
     state supportfonts2
     state mt
    }
ends

state showsupport_lisaicon
    ifvare LISA? 1
    {
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTLISA TEMPVAR

     state digz12288 // 16384
     setvar tilenum 7943
     state pal0
     state rs
 
     addvar digx 82
     setvar tilenum 8146 // "Ion" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx 6
     setvar tilenum 8159 // "Instinct" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx -79
     addvar digy -3
     state supportfonts1
     state orientation2
     state setquote332
     redefinequote 332 LISA BATES
     state mt
 
     addvar digx 84
     state orientation2
     state setquote332
     state supportfonts2
     state mt
    }
ends

state showsupport_cybanisicon
    ifvare CYBANIS? 1
    {
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTCYBANIS TEMPVAR

     state digz12288 // 16384
     setvar tilenum 7944
     state pal0
     state rs
 
     addvar digx 82
     setvar tilenum 8144 // "Psychokenesis" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx 6
     setvar tilenum 8165 // "Endurance" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx -79
     addvar digy -3
     state supportfonts1
     state orientation2
     state setquote332
     redefinequote 332 CYBANIS MORGANDOS
     state mt

     addvar digx 84
     state orientation2
     state setquote332
     state supportfonts2
     state mt
    }
ends

state showsupport_nethraicon
    ifvare NETHRA? 1
    {
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTNETHRA TEMPVAR

     state pal0
     state digz12288 // 16384
     setvar MISCARRAYID 110 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // NETHRA-FORM?
     ifvare MISCARRAYID_AMOUNTTEMP 0 setvar tilenum 7945
     else ifvare MISCARRAYID_AMOUNTTEMP 1 setvar tilenum 7964
     state rs
 
     addvar digx 82
     setvar tilenum 8161 // "Ice" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx 6
     setvar tilenum 8163 // "Electric" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx -79
     addvar digy -3
     state supportfonts1
     state orientation2
     state setquote332
     setvar MISCARRAYID 110 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // NETHRA-FORM?
     ifvare MISCARRAYID_AMOUNTTEMP 0 redefinequote 332 NETHRA MABOROSHI
     else ifvare MISCARRAYID_AMOUNTTEMP 1 redefinequote 332 CHRISTINA MITCHELL
     state mt

     addvar digx 84
     state orientation2
     state setquote332
     state supportfonts2
     state mt
    }
ends

state showsupport_paulaicon
    ifvare PAULA? 1
    {
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTPAULA TEMPVAR

     setvar tilenum 7946
     state digz12288 // 16384
     state pal0
     state rs

     addvar digx 82
     setvar tilenum 8167 // "Psionics" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx 6
     setvar tilenum 8164 // "Agility" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx -79
     addvar digy -3
     state supportfonts1
     state orientation2
     state setquote332
     redefinequote 332 PAULA POLESTAR
     state mt

     addvar digx 84
     state orientation2
     state setquote332
     state supportfonts2
     state mt
    }
ends

state showsupport_loriicon
    ifvare LORI? 1
    {
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTLORI TEMPVAR

     setvar tilenum 7947
     state digz12288 // 16384
     state pal0
     state rs

     addvar digx 82
     setvar tilenum 8149 // "Strength" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx 6
     setvar tilenum 8156 // "Aptitude" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx -79
     addvar digy -3
     state supportfonts1
     state orientation2
     state setquote332
     redefinequote 332 LORI STEPHENS
     state mt

     addvar digx 84
     state orientation2
     state setquote332
     state supportfonts2
     state mt
    }
ends

state showsupport_minakoicon
    ifvare MINAKO? 1
    {
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTMINAKO TEMPVAR

     setvar MISCARRAYID 113 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // MINAKO-FORM
     ifvare MISCARRAYID_AMOUNTTEMP 0 setvar tilenum 7948
     else ifvare MISCARRAYID_AMOUNTTEMP 1 setvar tilenum 7965
     else ifvare MISCARRAYID_AMOUNTTEMP 2 setvar tilenum 7968
     state digz12288 // 16384
     state pal0
     state rs

     addvar digx 82
     setvar tilenum 8155 // "Metal" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx 6
     setvar tilenum 8151 // "Resilience" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx -79
     addvar digy -3
     state supportfonts1
     state orientation2
     state setquote332
     redefinequote 332 MINAKO AINO
     state mt

     addvar digx 84
     state orientation2
     state setquote332
     state supportfonts2
     state mt
    }
ends

state showsupport_mystery1icon
    ifvare MYSTERY1? 1
    {
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTMYSTERY1 TEMPVAR

     setvar tilenum 7957
     state digz12288 // 16384
     state pal0
     state rs

     addvar digx 82
     setvar tilenum 8153 // "Lifeforce" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx 6
     setvar tilenum 8154 // "Durability" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx -79
     addvar digy -3
     state supportfonts1
     state orientation2
     state setquote332
     ifvare debugtoggle 0
     {
      ifvare PUBLICBETA? 1 redefinequote 332 ??????? ?????????
      else redefinequote 332 NAFERIA MABOROSHI
     }
     else
     {
      ifvare PUBLICBETA? 1 redefinequote 332 HINOTORI GENKAI
      else redefinequote 332 NAFERIA MABOROSHI
     }
     state mt

     addvar digx 84
     state orientation2
     state setquote332
     state supportfonts2
     state mt
    }
ends

state showsupport_makenicon
    ifvare MAKEN? 1
    {
     getactorvar[CHARACTERARRAY].CHARACTERSUPPORTMAKEN TEMPVAR

     setvar tilenum 7971
     state digz12288 // 16384
     state pal0
     state rs

     addvar digx 82
     setvar tilenum 8166 // "Luck" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx 6
     setvar tilenum 8142 // "Shield" Affinity
     setvar digz 12288 // 32768 = 32x32
     state pal0
     state rs

     addvar digx -79
     addvar digy -3
     state supportfonts1
     state orientation2
     state setquote332
     redefinequote 332 MAKEN SHINKARA
     state mt

     addvar digx 84
     state orientation2
     state setquote332
     state supportfonts2
     state mt
    }
ends


state showequipmentnames
     setvar digx 276
     ifvarg TEMPVAR 0 addvar digx 3
     // addvarvar digx digx_test
     ifvare TEMPVAR 0 // No Item
     {
      redefinequote 332 [NONE]
     }
     else
     ifvare TEMPVAR 1 // Sun Ring
     {
      redefinequote 332 SUN RING
     }
     else
     ifvare TEMPVAR 2 // Aqua Ring
     {
      redefinequote 332 AQUA RING
     }
     else
     ifvare TEMPVAR 3 // Plasma Ring
     {
      redefinequote 332 PLASMA RING
     }
     else
     ifvare TEMPVAR 4 // Spirit Ring
     {
      redefinequote 332 SPIRIT RING
     }
     else
     ifvare TEMPVAR 5 // Charm Ankh
     {
      redefinequote 332 CHARM ANKH
     }
     else
     ifvare TEMPVAR 6 // Mirror Shield
     {
      redefinequote 332 MIRROR SHIELD
     }
     else
     ifvare TEMPVAR 7 // EXP Badge
     {
      redefinequote 332 EXPERIENCE BADGE
     }
     else
     ifvare TEMPVAR 8 // Rank Badge
     {
      redefinequote 332 RANK BADGE
     }
     else
     ifvare TEMPVAR 9 // Money Badge
     {
      redefinequote 332 MONEY BADGE
     }
     else
     ifvare TEMPVAR 10 // Riot Shield
     {
      redefinequote 332 RIOT SHIELD
     }
     else
     ifvare TEMPVAR 11 // Nyx Gloves
     {
      redefinequote 332 NYX GLOVES
     }
     else
     ifvare TEMPVAR 12 // Rabbit's Foot
     {
      redefinequote 332 RABBIT'S FOOT
     }
     else
     ifvare TEMPVAR 13 // Jump Boots
     {
      redefinequote 332 JUMP BOOTS
     }
     else
     ifvare TEMPVAR 14 // ShockAb Boots
     {
      redefinequote 332 SHOCKAB BOOTS
     }
     else
     ifvare TEMPVAR 15 // Happy Shoes
     {
      redefinequote 332 HAPPY SHOES
     }
     else
     ifvare TEMPVAR 16 // Style Shoes
     {
      redefinequote 332 STYLE SHOES
     }
     else
     ifvare TEMPVAR 17 // Charm Shoes
     {
      redefinequote 332 CHARM SHOES
     }
     else
     ifvare TEMPVAR 18 // Power Wrist
     {
      redefinequote 332 POWER WRIST
     }
     else
     ifvare TEMPVAR 19 // Hockey Mask
     {
      redefinequote 332 HOCKEY MASK
     }
     else
     ifvare TEMPVAR 20 // Gemstone Crown
     {
      redefinequote 332 GEMSTONE CROWN
     }
     else
     ifvare TEMPVAR 21 // Iron Rune
     {
      redefinequote 332 IRON RUNE
     }
     else
     ifvare TEMPVAR 22 // Twilight Cape
     {
      redefinequote 332 TWILIGHT CAPE
     }
     else
     ifvare TEMPVAR 23 // Snake Armband
     {
      redefinequote 332 SNAKE ARMBAND
     }
     else
     ifvare TEMPVAR 24 // Medic Bag
     {
      redefinequote 332 MEDIC BAG
     }
     else
     ifvare TEMPVAR 25 // Serpent Helmet
     {
      redefinequote 332 SERPENT HELMET
     }
     else
     ifvare TEMPVAR 26 // Energy Incurment
     {
      redefinequote 332 ENERGY INCURMENT
     }
     else
     ifvare TEMPVAR 27 // Yin-Yang Orb
     {
      redefinequote 332 YIN-YANG ORB
     }
     else
     ifvare TEMPVAR 28 // Jewel of Four Souls
     {
      redefinequote 332 JEWEL OF FOUR SOULS
     }
     state gtz
ends

state showequipmenticons
     state pal0
     subvar digy 1
     ifvare TEMPVAR 0 nullop // No Item
     else ifvare TEMPVAR 1 setvar tilenum 6013 // Sun Ring
     else ifvare TEMPVAR 2 setvar tilenum 6016 // Aqua Ring
     else ifvare TEMPVAR 3 setvar tilenum 6015 // Plasma Ring
     else ifvare TEMPVAR 4 setvar tilenum 6014 // Spirit Ring
     else ifvare TEMPVAR 5 setvar tilenum 6021 // Charm Ankh
     else ifvare TEMPVAR 6 setvar tilenum 6017 // Mirror Shield
     else ifvare TEMPVAR 7 setvar tilenum 6025 // EXP Badge
     else ifvare TEMPVAR 8 setvar tilenum 6024 // Rank Badge
     else ifvare TEMPVAR 9 setvar tilenum 6033 // Money Badge
     else ifvare TEMPVAR 10 { divvar digz 4 setvar tilenum 6034 } // Riot Shield
     else ifvare TEMPVAR 11 { divvar digz 7 setvar tilenum 6035 } // Nyx Gloves
     else ifvare TEMPVAR 12 { divvar digz 3 setvar tilenum 6036 } // Rabbit's Foot
     else ifvare TEMPVAR 13 { divvar digz 2 setvar tilenum 6037 } // Jump Boots
     else ifvare TEMPVAR 14 { divvar digz 2 setvar tilenum 6038 } // ShockAb Boots
     else ifvare TEMPVAR 15 { divvar digz 4 setvar tilenum 6039 } // Happy Boots
     else ifvare TEMPVAR 16 { divvar digz 5 setvar tilenum 6040 } // Style Boots
     else ifvare TEMPVAR 17 { divvar digz 5 setvar tilenum 6041 } // Charm Boots
     else ifvare TEMPVAR 18 { divvar digz 10 setvar tilenum 6042 } // Power Wrist
     else ifvare TEMPVAR 19 { divvar digz 6 setvar tilenum 6044 } // Hockey Mask
     else ifvare TEMPVAR 20 { divvar digz 13 setvar tilenum 6045 } // Gemstone Crown
     else ifvare TEMPVAR 21 { divvar digz 3 setvar tilenum 6052 } // Iron Rune
     else ifvare TEMPVAR 22 { divvar digz 7 setvar tilenum 6046 } // Twilight Cape
     else ifvare TEMPVAR 23 { divvar digz 13 setvar tilenum 6047 } // Snake Armband
     else ifvare TEMPVAR 24 { divvar digz 11 setvar tilenum 6048 } // Medic Bag
     else ifvare TEMPVAR 25 { divvar digz 8 setvar tilenum 6049 } // Serpent Helmet
     else ifvare TEMPVAR 26 { mulvar digz 2 divvar digz 5 setvar tilenum 6050 } // Energy Incurment
     else ifvare TEMPVAR 27 { divvar digz 7 setvar tilenum 6051 } // Yin-Yang Orb
     else ifvare TEMPVAR 28 { divvar digz 5 setvar tilenum 6043 } // Jewel of Four Souls

     ifvare TEMPVAR 28 // Makes Jewel of Four Souls flash colors
     {
      getplayer[THISACTOR].player_par TEMPVAR2
      modvar TEMPVAR2 6
      ifvare TEMPVAR2 0 state pal0
      ifvare TEMPVAR2 1 state pal11
      ifvare TEMPVAR2 2 state pal21
      ifvare TEMPVAR2 3 state pal12
      ifvare TEMPVAR2 4 state pal15
      ifvare TEMPVAR2 5 state pal23
     }

     ifvarg TEMPVAR 0 { setvar digx 260 state rs }
ends

state shoeequipmentslot1
     ifvare mainmenuselection 0 state pal23 else state pal21
     setvar tilenum 2822
     setvar digy 88
     ifvarg INVENTORYSLOTMAX 4 subvar digy 12
     setvar textscale 49152
     state orientation2
     state setquote332

     setvar digx 112
     redefinequote 332 ACCESSORY #1:
     state gtz

     ifvare mainmenuselection 0 state pal23 else state pal0
     getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 TEMPVAR
     state showequipmentnames

     ifvare mainmenuselection 0 state digz40960 else setvar digz 28672
     state showequipmenticons
ends

state shoeequipmentslot2
      ifvare mainmenuselection 1 state pal23 else state pal21
      setvar tilenum 2822
      setvar digy 100
      ifvarg INVENTORYSLOTMAX 4 subvar digy 12
      setvar textscale 49152
      state orientation2
      state setquote332

      setvar digx 112
      redefinequote 332 ACCESSORY #2:
      state gtz
 
      ifvare mainmenuselection 1 state pal23 else state pal0
      getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 TEMPVAR
      state showequipmentnames
 
      ifvare mainmenuselection 1 state digz40960 else setvar digz 28672
      state showequipmenticons
ends

state shoeequipmentslot3
      ifvare mainmenuselection 2 state pal23 else state pal21
      setvar tilenum 2822
      setvar digy 112
      ifvarg INVENTORYSLOTMAX 4 subvar digy 12
      setvar textscale 49152
      state orientation2
      state setquote332
 
      setvar digx 112
      redefinequote 332 ACCESSORY #3:
      state gtz
 
      ifvare mainmenuselection 2 state pal23 else state pal0
      getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 TEMPVAR
      state showequipmentnames
 
      ifvare mainmenuselection 2 state digz40960 else setvar digz 28672
      state showequipmenticons
ends

state shoeequipmentslot4
      ifvare mainmenuselection 3 state pal23 else state pal21
      setvar tilenum 2822
      setvar digy 124
      ifvarg INVENTORYSLOTMAX 4 subvar digy 12
      setvar textscale 49152
      state orientation2
      state setquote332

      setvar digx 112
      redefinequote 332 ACCESSORY #4:
      state gtz

      ifvare mainmenuselection 3 state pal23 else state pal0
      getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 TEMPVAR
      state showequipmentnames
 
      ifvare mainmenuselection 3 state digz40960 else setvar digz 28672
      state showequipmenticons
ends

state shoeequipmentslot5
      ifvare mainmenuselection 4 state pal23 else state pal21
      setvar tilenum 2822
      setvar digy 136
      ifvarg INVENTORYSLOTMAX 4 subvar digy 12
      setvar textscale 49152
      state orientation2
      state setquote332

      setvar digx 112
      redefinequote 332 ACCESSORY #5:
      state gtz

      ifvare mainmenuselection 4 state pal23 else state pal0
      getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 TEMPVAR
      state showequipmentnames
 
      ifvare mainmenuselection 4 state digz40960 else setvar digz 28672
      state showequipmenticons
ends

state shoeequipmentslot6
      ifvare mainmenuselection 5 state pal23 else state pal21
      setvar tilenum 2822
      setvar digy 148
      ifvarg INVENTORYSLOTMAX 4 subvar digy 12
      setvar textscale 49152
      state orientation2
      state setquote332

      setvar digx 112
      redefinequote 332 ACCESSORY #6:
      state gtz

      ifvare mainmenuselection 5 state pal23 else state pal0
      getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 TEMPVAR
      state showequipmentnames
 
      ifvare mainmenuselection 5 state digz40960 else setvar digz 28672
      state showequipmenticons
ends

state shoeequipmentslot7
      ifvare mainmenuselection 6 state pal23 else state pal21
      setvar tilenum 2822
      setvar digy 160
      ifvarg INVENTORYSLOTMAX 4 subvar digy 12
      setvar textscale 49152
      state orientation2
      state setquote332

      setvar digx 112
      redefinequote 332 ACCESSORY #7:
      state gtz

      ifvare mainmenuselection 6 state pal23 else state pal0
      getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 TEMPVAR
      state showequipmentnames
 
      ifvare mainmenuselection 6 state digz40960 else setvar digz 28672
      state showequipmenticons
ends

state shoeequipmentslot8
      ifvare mainmenuselection 7 state pal23 else state pal21
      setvar tilenum 2822
      setvar digy 172
      ifvarg INVENTORYSLOTMAX 4 subvar digy 12
      setvar textscale 49152
      state orientation2
      state setquote332

      setvar digx 112
      redefinequote 332 ACCESSORY #8:
      state gtz

      ifvare mainmenuselection 7 state pal23 else state pal0
      getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 TEMPVAR
      state showequipmentnames
 
      ifvare mainmenuselection 7 state digz40960 else setvar digz 28672
      state showequipmenticons
ends

state showequipmentmenu
    ifvarg INVENTORYSLOTMAX 0 { state shoeequipmentslot1 state pal21 }
    ifvarg INVENTORYSLOTMAX 1 { state shoeequipmentslot2 state pal21 }
    ifvarg INVENTORYSLOTMAX 2 { state shoeequipmentslot3 state pal21 }
    ifvarg INVENTORYSLOTMAX 3 { state shoeequipmentslot4 state pal21 }
    ifvarg INVENTORYSLOTMAX 4 { state shoeequipmentslot5 state pal21 }
    ifvarg INVENTORYSLOTMAX 5 { state shoeequipmentslot6 state pal21 }
    ifvarg INVENTORYSLOTMAX 6 { state shoeequipmentslot7 state pal21 }
    ifvarg INVENTORYSLOTMAX 7 { state shoeequipmentslot8 state pal21 }
ends


// Item Description States
state showchalicedescript
      setvar TEMP7 1000
      setvarvar TEMP6 SKILLLEVEL
      addvar TEMP6 1
      divvarvar TEMP7 TEMP6

      setvarvar TEMP4 TEMP7
      divvar TEMP4 10
      setvarvar TEMP5 TEMP7
      modvar TEMP5 10
      ifvare TEMP5 0 redefinequote 332 RESURRECTION CHALICE: RESURRECTS ONE CHARACTER FROM DEATH WITH %d% HP.
      else redefinequote 332 RESURRECTION CHALICE: RESURRECTS ONE CHARACTER FROM DEATH WITH %d.%d% HP.
      qsprintf 332 332 TEMP4 TEMP5
ends

state showeyedropdescript
      redefinequote 332 EYEDROP: CURES "DIMNESS" FOR ONE CHARACTER.
ends

state showantidotedescript
      redefinequote 332 ANTIDOTE: CURES "POISON" FOR ONE CHARACTER.
ends

state showfoghorndescript
      redefinequote 332 FOGHORN: CURES "CONFUSION" FOR ONE CHARACTER.
ends

state showafasdropdescript
      redefinequote 332 AFA'S DROP: INCREASES 1 CHARACTER'S STAT GROWTH CURVES BY 1-3 EACH.
ends

state showportablemedikitdescript
      redefinequote 332 PORTABLE MEDIKIT: HOLDS 100% OF ONE'S HP IN EXTRA RESERVE FOR EMERGENCIES.
ends

state shownvgogglesdescript
      redefinequote 332 NIGHT VISION GOGGLES: ENEMIES LIGHT UP BRIGHT GREEN WHEN USED.
ends

state showbootsdescript
      redefinequote 332 PROTECTIVE BOOTS: PROVIDES PROTECTION AGAINST HAZARDOUS TERRAIN [LAVA, ETC].
ends

state showholoformdescript
      redefinequote 332 HOLOFORM: GENERATES A HOLOGRAPHIC DECOY OF THE USER.
ends

state showjetpackdescript
      redefinequote 332 JETPACK: ALLOWS FOR VERTICAL MANUVERABLITY AND FLIGHT.
ends

state showvitaminxdescript
      redefinequote 332 VITAMIN X: TEMPORARILY GIVES MULTIPLE PHYSICAL AND STRENGTH-BASED BONUSES.
ends

state showscubageardescript
      redefinequote 332 SCUBA GEAR: ALLOWS EXTENDED BREATHING WHILE UNDERWATER.
ends

state showusedbodyarmordescript
      redefinequote 332 BODY ARMOR [USED]: GIVES A RANDOM % OF PROTECTION FROM DAMAGE [+?% AP].
ends

state showusedsuperarmordescript
      redefinequote 332 SUPER ARMOR [USED]: GIVES A RANDOM % OF PROTECTION FROM DAMAGE [+?% AP].
ends

state showbodyarmordescript
      redefinequote 332 BODY ARMOR: GIVES A RANDOM PERCENTAGE OF PROTECTION FROM DAMAGE [100% AP].
ends

state showsuperarmordescript
      redefinequote 332 SUPER ARMOR: GIVES A RANDOM PERCENTAGE OF PROTECTION FROM DAMAGE [200% AP].
ends

state showatomichealthdescript
      setvar TEMP7 500
      state secretrecipecheck_text
      setvarvar TEMP4 TEMP7
      divvar TEMP4 10
      setvarvar TEMP5 TEMP7
      modvar TEMP5 10
      ifvare TEMP5 0 redefinequote 332 ATOMIC HEALTH: ADDS %d% HP TO ONE CHARACTER, UP TO 200% HP.
      else redefinequote 332 ATOMIC HEALTH: ADDS %d.%d% HP TO ONE CHARACTER, UP TO 200% HP.
      qsprintf 332 332 TEMP4 TEMP5
ends

state showsuperatomdescript
      redefinequote 332 SUPER ATOM: GIVES 200% HP, 200% AP AND 200% MEDIKIT ENERGY TO ONE PERSON.
ends

state showsmallmedikitdescript
      setvar TEMP7 100
      state secretrecipecheck_text
      setvarvar TEMP4 TEMP7
      divvar TEMP4 10
      setvarvar TEMP5 TEMP7
      modvar TEMP5 10
      ifvare TEMP5 0 redefinequote 332 SMALL MEDIKIT: RECOVERS %d% OF ONE CHARACTER'S HP.
      else redefinequote 332 SMALL MEDIKIT: RECOVERS %d.%d% OF ONE CHARACTER'S HP.
      qsprintf 332 332 TEMP4 TEMP5
ends

state showmediummedikitdescript
      setvar TEMP7 200
      state secretrecipecheck_text
      setvarvar TEMP4 TEMP7
      divvar TEMP4 10
      setvarvar TEMP5 TEMP7
      modvar TEMP5 10
      ifvare TEMP5 0 redefinequote 332 MEDIUM MEDIKIT: RECOVERS %d% OF ONE CHARACTER'S HP.
      else redefinequote 332 MEDIUM MEDIKIT: RECOVERS %d.%d% OF ONE CHARACTER'S HP.
      qsprintf 332 332 TEMP4 TEMP5
ends

state showlargemedikitdescript
      setvar TEMP7 300
      state secretrecipecheck_text
      setvarvar TEMP4 TEMP7
      divvar TEMP4 10
      setvarvar TEMP5 TEMP7
      modvar TEMP5 10
      ifvare TEMP5 0 redefinequote 332 LARGE MEDIKIT: RECOVERS %d% OF ONE CHARACTER'S HP.
      else redefinequote 332 LARGE MEDIKIT: RECOVERS %d.%d% OF ONE CHARACTER'S HP.
      qsprintf 332 332 TEMP4 TEMP5
ends

state showxlargemedikitdescript
      setvar TEMP7 500
      state secretrecipecheck_text
      setvarvar TEMP4 TEMP7
      divvar TEMP4 10
      setvarvar TEMP5 TEMP7
      modvar TEMP5 10
      ifvare TEMP5 0 redefinequote 332 EXTRA-LARGE MEDIKIT: RECOVERS %d% OF ONE CHARACTER'S HP.
      else redefinequote 332 EXTRA-LARGE MEDIKIT: RECOVERS %d.%d% OF ONE CHARACTER'S HP.
      qsprintf 332 332 TEMP4 TEMP5
ends

state showmedpackdescript
      setvar TEMP7 750
      state secretrecipecheck_text
      setvarvar TEMP4 TEMP7
      divvar TEMP4 10
      setvarvar TEMP5 TEMP7
      modvar TEMP5 10
      ifvare TEMP5 0 redefinequote 332 MED-PACK: RECOVERS %d% OF ONE CHARACTER'S HP.
      else redefinequote 332 MED-PACK: RECOVERS %d.%d% OF ONE CHARACTER'S HP.
      qsprintf 332 332 TEMP4 TEMP5
ends

state showsurgerykitdescript
      setvar TEMP7 1000
      state secretrecipecheck_text
      setvarvar TEMP4 TEMP7
      divvar TEMP4 10
      setvarvar TEMP5 TEMP7
      modvar TEMP5 10
      ifvare TEMP5 0 redefinequote 332 SURGERY KIT: RECOVERS %d% OF ONE CHARACTER'S HP.
      else redefinequote 332 SURGERY KIT: RECOVERS %d.%d% OF ONE CHARACTER'S HP.
      qsprintf 332 332 TEMP4 TEMP5
ends

state showusedgreenarmordescript
      redefinequote 332 GREEN-CLASS ARMOR [USED]: GIVES 33.3% OF PROTECTION FROM DAMAGE [+?% AP].
ends

state showusedbluearmordescript
      redefinequote 332 BLUE-CLASS ARMOR [USED]: GIVES 50% OF PROTECTION FROM DAMAGE [+?% AP].
ends

state showusedyellowarmordescript
      redefinequote 332 YELLOW-CLASS ARMOR [USED]: GIVES 75% OF PROTECTION FROM DAMAGE [+?% AP].
ends

state showusedredarmordescript
      redefinequote 332 RED-CLASS ARMOR [USED]: GIVES 90% OF PROTECTION FROM DAMAGE [+?% AP].
ends

state showusedgreyarmordescript
      redefinequote 332 GREY-CLASS ARMOR [USED]: GIVES 90+% OF PROTECTION FROM DAMAGE [+?% AP].
ends

state showusedwhitearmordescript
      redefinequote 332 WHITE-CLASS ARMOR [USED]: GIVES 100% OF PROTECTION FROM DAMAGE [+?% AP].
ends

state showgreenarmordescript
      redefinequote 332 GREEN-CLASS ARMOR: GIVES 33.3% OF PROTECTION FROM DAMAGE [+100% AP].
ends

state showbluearmordescript
      redefinequote 332 BLUE-CLASS ARMOR: GIVES 50% OF PROTECTION FROM DAMAGE [+100% AP].
ends

state showyellowarmordescript
      redefinequote 332 YELLOW-CLASS ARMOR: GIVES 75% OF PROTECTION FROM DAMAGE [+100% AP].
ends

state showredarmordescript
      redefinequote 332 RED-CLASS ARMOR: GIVES 90% OF PROTECTION FROM DAMAGE [+100% AP].
ends

state showgreyarmordescript
      redefinequote 332 GREY-CLASS ARMOR: GIVES 90+% OF PROTECTION FROM DAMAGE [+100% AP].
ends

state showwhitearmordescript
      redefinequote 332 WHITE-CLASS ARMOR: GIVES 100% OF PROTECTION FROM DAMAGE [+100% AP].
ends

state showusedrandomarmordescript
      redefinequote 332 RANDOM-CLASS ARMOR [USED]: GIVES ?% OF PROTECTION FROM DAMAGE [+?% AP].
ends

state showrandomarmordescript
      redefinequote 332 RANDOM-CLASS ARMOR: GIVES ?% OF PROTECTION FROM DAMAGE [+100% AP].
ends

state showextralifeshirtdescript
      redefinequote 332 EXTRA LIFE SHIRT: GIVES BUBSY 'EXTRA LIFES' IF HE SHOULD DIE.
ends

state showcontinueitemdescript
      redefinequote 332 CONTINUE ITEM: AUTO-REVIVES YOUR ENTIRE TEAM IF THEY SHOULD FALL.
ends

state showbioshielddescript
      redefinequote 332 BIO-CELL SHIELD: PROTECTS LISA FROM ALL DAMAGE VIA ENERGY CELLS.
ends

state showenergycellsdescript
      redefinequote 332 ENERGY CELL: POWERS LISA'S BIO-CELL SHIELD FOR PROTECTION.
ends

state showcoilsdescript
      redefinequote 332 TELEPORTER COILS: ALLOWS YOU TO RESCUE CIVILIANS/ANIMALS.
ends

state showlevelupitemdescript
      redefinequote 332 POTENTYLENE: GIVES ONE CHARACTER AN "EMULATED" LEVEL UP.
ends

state showsmalledrinkdescript
      redefinequote 332 SMALL ENERGY DRINK: RECOVERS 22.22%+75 OF ONE CHARACTER'S EP.
ends

state showlargeedrinkdescript
      redefinequote 332 LARGE ENERGY DRINK: RECOVERS 66.67%+225 OF ONE CHARACTER'S EP.
ends

state showhyperedrinkdescript
      redefinequote 332 HYPER ENERGY DRINK: RECOVERS ONE CHARACTER'S EP TO 200% IT'S MAX.
ends

state showwintersuitdescript
      redefinequote 332 WINTER CLOTHES: HEAVILY REDUCES FREEZING TIMES AND FROST DAMAGE.
ends

/*
 SKILL 0 = 4.5% [Max: 67.5%]
 SKILL 1 = 3.9% [Max: 58.5%]
 SKILL 2 = 3.6% [Max: 54.0%]
 SKILL 3 = 3.3% [Max: 49.5%]
 SKILL 4 = 3.0% [Max: 45.0%]
 SKILL 5 = 2.7% [Max: 40.5%]
 SKILL 6 = 2.4% [Max: 36.0%]
 SKILL 7 = 2.1% [Max: 31.5%]
 SKILL 8 = 1.8% [Max: 27.0%]
 SKILL 9 = 1.5% [Max: 22.5%]
*/
state showsilkcarnationdescript
      redefinequote 332 SILK CARNATION: -2% BUY PRICES; +2% SELL PRICES. [1 PER CHARACTER]
ends

state showpiratedoubloondescript
      redefinequote 332 RARE PIRATE DOUBLOON: +2% EXP GAIN; +2% RANK GAIN. [1 PER CHARACTER]
ends

state showfixeddicedescript
      redefinequote 332 PAIR OF FIXED DICE: +2% MONEY GAIN. [1 PER CHARACTER]
ends

state showmalakiangemdescript
      redefinequote 332 MALAKIAN GEM: +2% OVERALL-DAMAGE RESISTANCE. [1 PER CHARACTER]
ends

state showsafelockboxdescript
      redefinequote 332 SAFE LOCK BOX: -2% ATM INTEREST RATE TIMES. [1 PER CHARACTER]
ends

state showsecretrecipedescript
      redefinequote 332 SECRET RECIPE: +2% BENEFIT FROM HEALING ITEMS. [1 PER CHARACTER]
ends

state showslurpeemachinedescript
      redefinequote 332 SLURPEE MACHINE: +2% HP REGEN SPEED; +2% EP REGEN SPEED. [1 PER CHARACTER]
ends

state showstockownershipdescript
      redefinequote 332 STOCK OWNERSHIP: ATM INTEREST RATES +2% OF USUAL AMOUNT. [1 PER CHARACTER]
ends

state showtranssafedescript
      redefinequote 332 TRANSDIMENSIONAL SAFE: +2% CHANCE OF GETTING 2X PICKUPS. [1 PER CHARACTER]
ends

state showbloodshielddescript
      redefinequote 332 BLOODPACT SHIELD: +2% CHANCE TO GET 1-3 OF A STAT / KILL. [1 PER CHARACTER]
ends

state showzircon1descript
      redefinequote 332 ZIRCON RING [SILVER]: FAIRLY VALUABLE GEMMED SILVER-RING. [SALABLE]
ends

state showzircon2descript
      redefinequote 332 ZIRCON RING [GOLD]: FAIRLY VALUABLE GEMMED GOLDEN-RING. [SALABLE]
ends

state showaquamarine1descript
      redefinequote 332 AQUAMARINE RING [SILVER]: FAIRLY VALUABLE GEMMED SILVER-RING. [SALABLE]
ends

state showaquamarine2descript
      redefinequote 332 AQUAMARINE RING [GOLD]: FAIRLY VALUABLE GEMMED GOLDEN-RING. [SALABLE]
ends

state showturquoise1descript
      redefinequote 332 TURQUIOSE RING [SILVER]: VALUABLE GEMMED SILVER-RING. [SALABLE]
ends

state showturquoise2descript
      redefinequote 332 TURQUIOSE RING [GOLD]: VALUABLE GEMMED GOLDEN-RING. [SALABLE]
ends

state showemerald1descript
      redefinequote 332 EMERALD RING [SILVER]: VALUABLE GEMMED SILVER-RING. [SALABLE]
ends

state showemerald2descript
      redefinequote 332 EMERALD RING [GOLD]: VALUABLE GEMMED GOLDEN-RING. [SALABLE]
ends

state showgarnet1descript
      redefinequote 332 GARNET RING [SILVER]: VALUABLE SPARKLING GEMMED SILVER-RING. [SALABLE]
ends

state showgarnet2descript
      redefinequote 332 GARNET RING [GOLD]: VALUABLE SPARKLING GEMMED GOLDEN-RING. [SALABLE]
ends

state showruby1descript
      redefinequote 332 RUBY RING [SILVER]: VALUABLE SPARKLING GEMMED SILVER-RING. [SALABLE]
ends

state showruby2descript
      redefinequote 332 RUBY RING [GOLD]: VALUABLE SPARKLING GEMMED GOLDEN-RING. [SALABLE]
ends

state showcitrine1descript
      redefinequote 332 CITRINE RING [SILVER]: HIGHLY VALUABLE GEMMED SILVER-RING. [SALABLE]
ends

state showcitrine2descript
      redefinequote 332 CITRINE RING [GOLD]: HIGHLY VALUABLE GEMMED GOLDEN-RING. [SALABLE]
ends

state showdiamond1descript
      redefinequote 332 DIAMOND RING [SILVER]: EXTREMELY VALUABLE GEMMED SILVER-RING. [SALABLE]
ends

state showdiamond2descript
      redefinequote 332 DIAMOND RING [GOLD]: EXTREMELY VALUABLE GEMMED GOLDEN-RING. [SALABLE]
ends

state showtank1capsuledescript
      redefinequote 332 RIOT-TANK CAPSULE [GREEN]: UNCOMPRESSES A GREEN RIOT TANK FOR YOUR USE.
ends

state showtank2capsuledescript
      redefinequote 332 RIOT-TANK CAPSULE [BLUE]: UNCOMPRESSES A BLUE RIOT TANK FOR YOUR USE.
ends

state showtank3capsuledescript
      redefinequote 332 RIOT-TANK CAPSULE [RED]: UNCOMPRESSES A RED RIOT TANK FOR YOUR USE.
ends

state showmysticsatcheldescript
      redefinequote 332 MYSTIC SATCHEL: EXTENDS THE NUMBER OF EQUIPPABLE ITEM SLOTS BY 1 EACH.
ends

// Equipment Description States
state showsunringdescript
      redefinequote 332 SUN RING: -25% FIRE DAMAGE; -22.5% EXPLOSIVE DAMAGE. [EQUIPPABLE]
ends

state showaquaringdescript
      redefinequote 332 AQUA RING: -25% WATER DAMAGE; -22.5% ICE DAMAGE. [EQUIPPABLE]
ends

state showplasmaringdescript
      redefinequote 332 PLASMA RING: -25% ELECTRIC DAMAGE; -22.5% ENERGY DAMAGE. [EQUIPPABLE]
ends

state showspiritringdescript
      redefinequote 332 SPIRIT RING: -16.6% PSYCHIC/MAGIC/TRIAD/MYSTIC DAMAGE. [EQUIPPABLE]
ends

state showcharmankhdescript
      redefinequote 332 CHARM ANKH: 3X REGENERATION RATE; 1.5X HPREGEN/APREGEN RATES. [EQUIPPABLE]
ends

state showmirrorshielddescript
      redefinequote 332 MIRROR SHIELD: CUTS DAMAGE IN HALF AND DEFLECTS THE REMAINDER. [EQUIPPABLE]
ends

state showexpbadgedescript
      redefinequote 332 EXPERIENCE BADGE: DOUBLES EXPERIENCE ACCQUIRED IN BATTLE. [EQUIPPABLE]
ends

state showrankbadgedescript
      redefinequote 332 RANK BADGE: DOUBLES RANK POINTS ACCQUIRED. [EQUIPPABLE]
ends

state showmoneybadgedescript
      redefinequote 332 MONEY BADGE: DOUBLES THE AMOUNT OF MONEY PICKED UP. [EQUIPPABLE]
ends

state showriotshielddescript
      redefinequote 332 RIOT SHIELD: -25% METAL DAMAGE; -10% AP DAMAGE FROM ATTACKS. [EQUIPPABLE]
ends

state shownyxglovesdescript
      redefinequote 332 NYX GLOVES: NO DAMAGE FROM "USABLE" HAZARDS (KEYPADS, ETC). [EQUIPPABLE]
ends

state showrabbitsfootdescript
      redefinequote 332 RABBIT'S FOOT: +12.5% CHANCE OF SURVIVING A MORTAL HIT. [EQUIPPABLE]
ends

state showjumpbootsdescript
      redefinequote 332 JUMP BOOTS: +25% TO CHARACTER'S JUMPING STRENGTH/HEIGHT. [EQUIPPABLE]
ends

state showshockabbootsdescript
      redefinequote 332 SHOCKAB BOOTS: +15-20% TO CHARACTER'S FALLING RESISTANCE. [EQUIPPABLE]
ends

state showhappyshoesdescript
      redefinequote 332 HAPPY SHOES: MINOR EXP INCREASE PER SECOND OF MOVEMENT. [EQUIPPABLE]
ends

state showstyleshoesdescript
      redefinequote 332 STYLE SHOES: MINOR RANK INCREASE PER SECOND OF MOVEMENT. [EQUIPPABLE]
ends

state showcharmshoesdescript
      redefinequote 332 CHARM SHOES: MINOR MONEY INCREASE PER SECOND OF MOVEMENT. [EQUIPPABLE]
ends

state showpowerwristdescript
      redefinequote 332 POWER WRIST: +25% STRENGTH; +25% MELEE DMG; +10% NON-MELEE DMG. [EQUIPPABLE]
ends

state showhockeymaskdescript
      redefinequote 332 HOCKEY MASK: +1/3 CRITICAL HIT RATE. [EQUIPPABLE]
ends

state showgemstonecrowndescript
      redefinequote 332 GEMSTONE CROWN: +10% CHANCE OF GOLD GEMMED-RINGS DROPPING. [EQUIPPABLE]
ends

state showironrunedescript
      redefinequote 332 IRON RUNE: +25% OVERALL RESISTANCE; -25% CRITICAL HIT RATE. [EQUIPPABLE]
ends

state showtwilightcapedescript
      redefinequote 332 TWILIGHT CAPE: +10% HP/AP VAMPIRE EFFECT FOR ALL ATTACKS. [EQUIPPABLE]
ends

state showsnakearmbanddescript
      redefinequote 332 SNAKE ARMBAND: +10% CHANCE TO INFLICT SLOW & POISON ON ENEMIES. [EQUIPPABLE]
ends

state showmedicbagdescript
      redefinequote 332 MEDIC BAG: +10% HEALING FROM ITEMS GOES TO ALL PARTY MEMBERS. [EQUIPPABLE]
ends

state showserpenthelmetdescript
      redefinequote 332 SERPENT HELMET: SCARES ENEMIES. IGNORES -50% ENEMY DEFENSE. [EQUIPPABLE]
ends

state showenergyincurmentdescript
      redefinequote 332 ENERGY INCUREMENT: RECOVERS 1/4 EP OF %-DAMAGE IN HP. [EQUIPPABLE]
ends

state showyinyangorbdescript
      redefinequote 332 YIN-YANG ORB: -20% EP COST FOR SKILLS AND ATTACKS. [EQUIPPABLE]
ends

state showshikonjeweldescript
      redefinequote 332 JEWEL OF FOUR SOULS: "COURAGE, FRIENDSHIP, WISDOM, LOVE..." [EQUIPPABLE]
ends

include SHOPS.CON
include ATMS.CON
include DIALOUGE.CON

state setonelineron
 setvar ONELINERINPLAY? 1
ends

state showfloorthreattypes
	       ifvare TEMPVAR 5385 // NEWFLOORSLIME [Slime]
	       {
	        setvar digx 172
	        state pal22
	        redefinequote 332 NUKAGE [UNSAFE]
	        state mt
	       }
	       else
	       ifvare TEMPVAR 5388 // NEWHURTRAIL [Electric Chair/Electrified Floors]
	       {
	        setvar digx 152
	        state pal20
	        redefinequote 332 ELECTRIFIED [UNSAFE]
	        state mt
	       }
	       else
	       ifvare TEMPVAR 5389 // NEWFLOORPLASMA [Lava]
	       {
	        setvar digx 180
	        state pal21
	        redefinequote 332 LAVA [UNSAFE]
	        state mt
	       }
	       else
	       ifvare TEMPVAR 5395 // NEWPURPLELAVA [Superlava]
	       {
	        state digx160
	        state pal14
	        redefinequote 332 HYPERACID [UNSAFE]
	        state mt
	       }
	       else
	       ifvare TEMPVAR 3780 // HOTLAVA [Lava]
	       {
	        state digx160
	        state pal21
	        redefinequote 332 SUPERLAVA [UNSAFE]
	        state mt
	       }
	       else
	       ifvare TEMPVAR 3796 // AMOEBIAACID [Acid]
	       {
	        state digx160
	        state pal22
	        redefinequote 332 SUPERACID [UNSAFE]
	        state mt
	       }
	       else
	       ifvare TEMPVAR 4091 // MEGALAVA [Lava]
	       {       
	        setvar digx 143
	        state pal21
	        redefinequote 332 MEGALAVA [VERY UNSAFE]
	        state mt
	       }
	       else
	       ifvare TEMPVAR 5401 // ULTRALAVA [Lava]
	       {
	        setvar digx 119
	        state pal21
	        redefinequote 332 ULTRALAVA [EXTREMELY UNSAFE]
	        state mt
	       }
	       else
	       ifvare TEMPVAR 5443 // HYPERMAGMA [Lava]
	       {
	        setvar digx 119
	        state pal21
	        redefinequote 332 HYPERLAVA [EXTREMELY UNSAFE]
	        state mt
	       }
	       else
	       {
	        setvar digx 209
	        state pal20
	        redefinequote 332 [SAFE]
	        state mt
	       }
ends

state displayhealthflashtimers
      ifvarg TEMPVAR2 -29 ifvarl TEMPVAR2 -24 state pal0
      else ifvarg TEMPVAR2 -25 ifvarl TEMPVAR2 -20 state pal21
      else ifvarg TEMPVAR2 -21 ifvarl TEMPVAR2 -16 state pal0
      else ifvarg TEMPVAR2 -17 ifvarl TEMPVAR2 -12 state pal21
      else ifvarg TEMPVAR2 -13 ifvarl TEMPVAR2 -8 state pal0
      else ifvarg TEMPVAR2 -9 ifvarl TEMPVAR2 -4 state pal21
      else ifvarg TEMPVAR2 -5 ifvarl TEMPVAR2 0 state pal0
      else ifvare TEMPVAR2 0 state pal21
      else ifvarg TEMPVAR2 0 ifvarl TEMPVAR2 5 state pal18
      else ifvarg TEMPVAR2 4 ifvarl TEMPVAR2 9 state pal21
      else ifvarg TEMPVAR2 8 ifvarl TEMPVAR2 13 state pal18
      else ifvarg TEMPVAR2 12 ifvarl TEMPVAR2 17 state pal21
      else ifvarg TEMPVAR2 16 ifvarl TEMPVAR2 21 state pal18
      else ifvarg TEMPVAR2 20 ifvarl TEMPVAR2 25 state pal21
      else ifvarg TEMPVAR2 24 ifvarl TEMPVAR2 29 state pal18
ends

state displayarmorflashtimers
      ifvarg TEMPVAR2 -29 ifvarl TEMPVAR2 -24 state pal0
      else ifvarg TEMPVAR2 -25 ifvarl TEMPVAR2 -20 state pal22
      else ifvarg TEMPVAR2 -21 ifvarl TEMPVAR2 -16 state pal0
      else ifvarg TEMPVAR2 -17 ifvarl TEMPVAR2 -12 state pal22
      else ifvarg TEMPVAR2 -13 ifvarl TEMPVAR2 -8 state pal0
      else ifvarg TEMPVAR2 -9 ifvarl TEMPVAR2 -4 state pal22
      else ifvarg TEMPVAR2 -5 ifvarl TEMPVAR2 0 state pal0
      else ifvare TEMPVAR2 0 state pal22
      else ifvarg TEMPVAR2 0 ifvarl TEMPVAR2 5 state pal18
      else ifvarg TEMPVAR2 4 ifvarl TEMPVAR2 9 state pal22
      else ifvarg TEMPVAR2 8 ifvarl TEMPVAR2 13 state pal18
      else ifvarg TEMPVAR2 12 ifvarl TEMPVAR2 17 state pal22
      else ifvarg TEMPVAR2 16 ifvarl TEMPVAR2 21 state pal18
      else ifvarg TEMPVAR2 20 ifvarl TEMPVAR2 25 state pal22
      else ifvarg TEMPVAR2 24 ifvarl TEMPVAR2 29 state pal18
ends

state showequipmentitemdescript
   ifvare EQUIPTEMP 0 redefinequote 332 ^10[EMPTY SLOT]
   ifvare EQUIPTEMP 1 state showsunringdescript
   ifvare EQUIPTEMP 2 state showaquaringdescript
   ifvare EQUIPTEMP 3 state showplasmaringdescript
   ifvare EQUIPTEMP 4 state showspiritringdescript
   ifvare EQUIPTEMP 5 state showcharmankhdescript
   ifvare EQUIPTEMP 6 state showmirrorshielddescript
   ifvare EQUIPTEMP 7 state showexpbadgedescript
   ifvare EQUIPTEMP 8 state showrankbadgedescript
   ifvare EQUIPTEMP 9 state showmoneybadgedescript
   ifvare EQUIPTEMP 10 state showriotshielddescript
   ifvare EQUIPTEMP 11 state shownyxglovesdescript
   ifvare EQUIPTEMP 12 state showrabbitsfootdescript
   ifvare EQUIPTEMP 13 state showjumpbootsdescript
   ifvare EQUIPTEMP 14 state showshockabbootsdescript
   ifvare EQUIPTEMP 15 state showhappyshoesdescript
   ifvare EQUIPTEMP 16 state showstyleshoesdescript
   ifvare EQUIPTEMP 17 state showcharmshoesdescript
   ifvare EQUIPTEMP 18 state showpowerwristdescript
   ifvare EQUIPTEMP 19 state showhockeymaskdescript
   ifvare EQUIPTEMP 20 state showgemstonecrowndescript
   ifvare EQUIPTEMP 21 state showironrunedescript
   ifvare EQUIPTEMP 22 state showtwilightcapedescript
   ifvare EQUIPTEMP 23 state showsnakearmbanddescript
   ifvare EQUIPTEMP 24 state showmedicbagdescript
   ifvare EQUIPTEMP 25 state showserpenthelmetdescript
   ifvare EQUIPTEMP 26 state showenergyincurmentdescript
   ifvare EQUIPTEMP 27 state showyinyangorbdescript
   ifvare EQUIPTEMP 28 state showshikonjeweldescript
/*
   setvar digx 160
   qstrlen TEMPVAR 332
   ifvarg TEMPVAR 0 
   { 
    setvarvar tempb TEMPVAR
    mulvar tempb 2
    subvarvar digx tempb
    subvar digx 4
   }
   state mt
*/
   setvar temp 332
   setvar digx 160
   setvar orientation 26
   setvar textflags 8194
   setvar textscale 65536
   state mt_free
ends

state displayresisticons
         setvar digz 8192
         setvar diga 0
         state orientation10
         ifvarand TEMPVAR 1 // Fire
         {
          addvar digy 2
          addvar digx 9
          setvar tilenum 7571
          state rs
          subvar digy 2
         }
         ifvarand TEMPVAR 2 // Ice
         {
          addvar digy 2
          addvar digx 9
          setvar tilenum 7572
          state rs
          subvar digy 2
         }
         ifvarand TEMPVAR 4 // Water
         {
          addvar digy 2
          addvar digx 9
          setvar tilenum 7573
          state rs
          subvar digy 2
         }
         ifvarand TEMPVAR 8 // Electric
         {
          addvar digy 2
          addvar digx 9
          setvar tilenum 7574
          state rs
          subvar digy 2
         }
         ifvarand TEMPVAR 16 // Explosion
         {
          addvar digy 2
          addvar digx 9
          setvar tilenum 7575
          state rs
          subvar digy 2
         }
         ifvarand TEMPVAR 32 // Metal
         {
          addvar digy 2
          addvar digx 9
          setvar tilenum 7576
          state rs
          subvar digy 2
         }
         ifvarand TEMPVAR 64 // Psionics
         {
          addvar digy 2
          addvar digx 9
          setvar tilenum 7577
          state rs
          subvar digy 2
         }
         ifvarand TEMPVAR 128 // Poison
         {
          addvar digy 2
          addvar digx 9
          setvar tilenum 7578
          state rs
          subvar digy 2
         }
         ifvarand TEMPVAR 256 // Ion/Energy
         {
          addvar digy 2
          addvar digx 9
          setvar tilenum 7579
          state rs
          subvar digy 2
         }
ends

state tiledisplayr1c1
   setvar digx 78
   setvar digy 47
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 1 setvar tilenum 8192 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD1 33554432 setvar tilenum 8217 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD2 262144 setvar tilenum 8242 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 2048 setvar tilenum 8267 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 16 setvar tilenum 8292 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD4 536870912 setvar tilenum 8317 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD5 4194304 setvar tilenum 8342 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD6 32768 setvar tilenum 8367 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 256 setvar tilenum 8392 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 2 setvar tilenum 8417 else setvar tilenum 8704 }
   ifvare mainmenupage 10 { ifvarand WORLDTILEBITFIELD8 67108864 setvar tilenum 8442 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 11 state rs
ends

state tiledisplayr1c2
   setvar digx 119 // +41
   setvar digy 47
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 2 setvar tilenum 8193 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD1 67108864 setvar tilenum 8218 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD2 524288 setvar tilenum 8243 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 4096 setvar tilenum 8268 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 32 setvar tilenum 8293 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD4 1073741824 setvar tilenum 8318 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD5 8388608 setvar tilenum 8343 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD6 65536 setvar tilenum 8368 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 512 setvar tilenum 8393 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 4 setvar tilenum 8418 else setvar tilenum 8704 }
   ifvare mainmenupage 10 { ifvarand WORLDTILEBITFIELD8 134217728 setvar tilenum 8443 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 11 state rs
ends

state tiledisplayr1c3
   state digx160
   setvar digy 47
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 4 setvar tilenum 8194 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD1 134217728 setvar tilenum 8219 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD2 1048576 setvar tilenum 8244 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 8192 setvar tilenum 8269 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 64 setvar tilenum 8294 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD4 2147483648 setvar tilenum 8319 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD5 16777216 setvar tilenum 8344 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD6 131072 setvar tilenum 8369 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 1024 setvar tilenum 8394 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 8 setvar tilenum 8419 else setvar tilenum 8704 }
   ifvare mainmenupage 10 { ifvarand WORLDTILEBITFIELD8 268435456 setvar tilenum 8444 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 11 state rs
ends

state tiledisplayr1c4
   setvar digx 201
   setvar digy 47
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 8 setvar tilenum 8195 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD1 268435456 setvar tilenum 8220 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD2 2097152 setvar tilenum 8245 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 16384 setvar tilenum 8270 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 128 setvar tilenum 8295 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 1 setvar tilenum 8320 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD5 33554432 setvar tilenum 8345 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD6 262144 setvar tilenum 8370 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 2048 setvar tilenum 8395 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 16 setvar tilenum 8420 else setvar tilenum 8704 }
   ifvare mainmenupage 10 { ifvarand WORLDTILEBITFIELD8 536870912 setvar tilenum 8445 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 11 state rs
ends

state tiledisplayr1c5
   setvar digx 242
   setvar digy 47
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 16 setvar tilenum 8196 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD1 536870912 setvar tilenum 8221 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD2 4194304 setvar tilenum 8246 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 32768 setvar tilenum 8271 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 256 setvar tilenum 8296 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 2 setvar tilenum 8321 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD5 67108864 setvar tilenum 8346 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD6 524288 setvar tilenum 8371 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 4096 setvar tilenum 8396 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 32 setvar tilenum 8421 else setvar tilenum 8704 }
   ifvare mainmenupage 10 { ifvarand WORLDTILEBITFIELD8 1073741824 setvar tilenum 8446 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 11 state rs
ends

state tiledisplayr2c1
   setvar digx 78
   setvar digy 73 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 32 setvar tilenum 8197 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD1 1073741824 setvar tilenum 8222 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD2 8388608 setvar tilenum 8247 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 65536 setvar tilenum 8272 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 512 setvar tilenum 8297 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 4 setvar tilenum 8322 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD5 134217728 setvar tilenum 8347 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD6 1048576 setvar tilenum 8372 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 8192 setvar tilenum 8397 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 64 setvar tilenum 8422 else setvar tilenum 8704 }
   ifvare mainmenupage 10 { ifvarand WORLDTILEBITFIELD8 2147483648 setvar tilenum 8447 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 11 state rs
ends

state tiledisplayr2c2
   setvar digx 119
   setvar digy 73 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 64 setvar tilenum 8198 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD1 2147483648 setvar tilenum 8223 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD2 16777216 setvar tilenum 8248 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 131072 setvar tilenum 8273 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 1024 setvar tilenum 8298 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 8 setvar tilenum 8323 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD5 268435456 setvar tilenum 8348 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD6 2097152 setvar tilenum 8373 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 16384 setvar tilenum 8398 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 128 setvar tilenum 8423 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 10 state rs
ends

state tiledisplayr2c3
   state digx160
   setvar digy 73 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 128 setvar tilenum 8199 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD2 1 setvar tilenum 8224 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD2 33554432 setvar tilenum 8249 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 262144 setvar tilenum 8274 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 2048 setvar tilenum 8299 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 16 setvar tilenum 8324 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD5 536870912 setvar tilenum 8349 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD6 4194304 setvar tilenum 8374 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 32768 setvar tilenum 8399 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 256 setvar tilenum 8424 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 10 state rs
ends

state tiledisplayr2c4
   setvar digx 201
   setvar digy 73 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 256 setvar tilenum 8200 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD2 2 setvar tilenum 8225 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD2 67108864 setvar tilenum 8250 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 524288 setvar tilenum 8275 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 4096 setvar tilenum 8300 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 32 setvar tilenum 8325 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD5 1073741824 setvar tilenum 8350 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD6 8388608 setvar tilenum 8375 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 65536 setvar tilenum 8400 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 512 setvar tilenum 8425 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 10 state rs
ends

state tiledisplayr2c5
   setvar digx 242
   setvar digy 73 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 512 setvar tilenum 8201 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD2 4 setvar tilenum 8226 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD2 134217728 setvar tilenum 8251 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 1048576 setvar tilenum 8276 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 8192 setvar tilenum 8301 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 64 setvar tilenum 8326 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD5 2147483648 setvar tilenum 8351 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD6 16777216 setvar tilenum 8376 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 131072 setvar tilenum 8401 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 1024 setvar tilenum 8426 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 10 state rs
ends

state tiledisplayr3c1
   setvar digx 78
   setvar digy 99 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 1024 setvar tilenum 8202 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD2 8 setvar tilenum 8227 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD2 268435456 setvar tilenum 8252 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 2097152 setvar tilenum 8277 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 16384 setvar tilenum 8302 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 128 setvar tilenum 8327 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD6 1 setvar tilenum 8352 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD6 33554432 setvar tilenum 8377 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 262144 setvar tilenum 8402 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 2048 setvar tilenum 8427 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 10 state rs
ends

state tiledisplayr3c2
   setvar digx 119
   setvar digy 99 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 2048 setvar tilenum 8203 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD2 16 setvar tilenum 8228 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD2 536870912 setvar tilenum 8253 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 4194304 setvar tilenum 8278 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 32768 setvar tilenum 8303 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 256 setvar tilenum 8328 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD6 2 setvar tilenum 8353 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD6 67108864 setvar tilenum 8378 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 524288 setvar tilenum 8403 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 4096 setvar tilenum 8428 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 10 state rs
ends

state tiledisplayr3c3
   state digx160
   setvar digy 99 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 4096 setvar tilenum 8204 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD2 32 setvar tilenum 8229 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD2 1073741824 setvar tilenum 8254 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 8388608 setvar tilenum 8279 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 65536 setvar tilenum 8304 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 512 setvar tilenum 8329 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD6 4 setvar tilenum 8354 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD6 134217728 setvar tilenum 8379 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 1048576 setvar tilenum 8404 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 8192 setvar tilenum 8429 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 10 state rs
ends

state tiledisplayr3c4
   setvar digx 201
   setvar digy 99 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 8192 setvar tilenum 8205 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD2 64 setvar tilenum 8230 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD2 2147483648 setvar tilenum 8255 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 16777216 setvar tilenum 8280 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 131072 setvar tilenum 8305 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 1024 setvar tilenum 8330 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD6 8 setvar tilenum 8355 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD6 268435456 setvar tilenum 8380 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 2097152 setvar tilenum 8405 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 16384 setvar tilenum 8430 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 10 state rs
ends

state tiledisplayr3c5
   setvar digx 242
   setvar digy 99 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 16384 setvar tilenum 8206 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD2 128 setvar tilenum 8231 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD3 1 setvar tilenum 8256 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 33554432 setvar tilenum 8281 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 262144 setvar tilenum 8306 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 2048 setvar tilenum 8331 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD6 16 setvar tilenum 8356 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD6 536870912 setvar tilenum 8381 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 4194304 setvar tilenum 8406 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 32768 setvar tilenum 8431 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 10 state rs
ends

state tiledisplayr4c1
   setvar digx 78
   setvar digy 125 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 32768 setvar tilenum 8207 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD2 256 setvar tilenum 8232 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD3 2 setvar tilenum 8257 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 67108864 setvar tilenum 8282 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 524288 setvar tilenum 8307 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 4096 setvar tilenum 8332 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD6 32 setvar tilenum 8357 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD6 1073741824 setvar tilenum 8382 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 8388608 setvar tilenum 8407 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 65536 setvar tilenum 8432 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 10 state rs
ends

state tiledisplayr4c2
   setvar digx 119
   setvar digy 125 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 65536 setvar tilenum 8208 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD2 512 setvar tilenum 8233 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD3 4 setvar tilenum 8258 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 134217728 setvar tilenum 8283 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 1048576 setvar tilenum 8308 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 8192 setvar tilenum 8333 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD6 64 setvar tilenum 8358 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD6 2147483648 setvar tilenum 8383 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 16777216 setvar tilenum 8408 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 131072 setvar tilenum 8433 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 10 state rs
ends

state tiledisplayr4c3
   state digx160
   setvar digy 125 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 131072 setvar tilenum 8209 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD2 1024 setvar tilenum 8234 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD3 8 setvar tilenum 8259 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 268435456 setvar tilenum 8284 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 2097152 setvar tilenum 8309 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 16384 setvar tilenum 8334 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD6 128 setvar tilenum 8359 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD7 1 setvar tilenum 8384 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 33554432 setvar tilenum 8409 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 262144 setvar tilenum 8434 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 10 state rs
ends

state tiledisplayr4c4
   setvar digx 201
   setvar digy 125 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 262144 setvar tilenum 8210 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD2 2048 setvar tilenum 8235 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD3 16 setvar tilenum 8260 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 536870912 setvar tilenum 8285 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 4194304 setvar tilenum 8310 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 32768 setvar tilenum 8335 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD6 256 setvar tilenum 8360 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD7 2 setvar tilenum 8385 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 67108864 setvar tilenum 8410 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 524288 setvar tilenum 8435 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 10 state rs
ends

state tiledisplayr4c5
   setvar digx 242
   setvar digy 125 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 524288 setvar tilenum 8211 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD2 4096 setvar tilenum 8236 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD3 32 setvar tilenum 8261 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 1073741824 setvar tilenum 8286 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 8388608 setvar tilenum 8311 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 65536 setvar tilenum 8336 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD6 512 setvar tilenum 8361 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD7 4 setvar tilenum 8386 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 134217728 setvar tilenum 8411 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 1048576 setvar tilenum 8436 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 10 state rs
ends

state tiledisplayr5c1
   setvar digx 78
   setvar digy 151 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 1048576 setvar tilenum 8212 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD2 8192 setvar tilenum 8237 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD3 64 setvar tilenum 8262 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD3 2147483648 setvar tilenum 8287 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 16777216 setvar tilenum 8312 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 131072 setvar tilenum 8337 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD6 1024 setvar tilenum 8362 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD7 8 setvar tilenum 8387 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 268435456 setvar tilenum 8412 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 2097152 setvar tilenum 8437 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 10 state rs
ends

state tiledisplayr5c2
   setvar digx 119
   setvar digy 151 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 2097152 setvar tilenum 8213 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD2 16384 setvar tilenum 8238 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD3 128 setvar tilenum 8263 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD4 1 setvar tilenum 8288 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 33554432 setvar tilenum 8313 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 262144 setvar tilenum 8338 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD6 2048 setvar tilenum 8363 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD7 16 setvar tilenum 8388 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 536870912 setvar tilenum 8413 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 4194304 setvar tilenum 8438 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 10 state rs
ends

state tiledisplayr5c3
   state digx160
   setvar digy 151 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 4194304 setvar tilenum 8214 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD2 32768 setvar tilenum 8239 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD3 256 setvar tilenum 8264 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD4 2 setvar tilenum 8289 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 67108864 setvar tilenum 8314 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 524288 setvar tilenum 8339 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD6 4096 setvar tilenum 8364 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD7 32 setvar tilenum 8389 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 1073741824 setvar tilenum 8414 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 8388608 setvar tilenum 8439 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 10 state rs
ends

state tiledisplayr5c4
   setvar digx 201
   setvar digy 151 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 8388608 setvar tilenum 8215 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD2 65536 setvar tilenum 8240 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD3 512 setvar tilenum 8265 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD4 4 setvar tilenum 8290 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 134217728 setvar tilenum 8315 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 1048576 setvar tilenum 8340 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD6 8192 setvar tilenum 8365 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD7 64 setvar tilenum 8390 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD7 2147483648 setvar tilenum 8415 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 16777216 setvar tilenum 8440 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 10 state rs
ends

state tiledisplayr5c5
   setvar digx 242
   setvar digy 151 // +26
   ifvare mainmenupage 0 { ifvarand WORLDTILEBITFIELD1 16777216 setvar tilenum 8216 else setvar tilenum 8704 }
   ifvare mainmenupage 1 { ifvarand WORLDTILEBITFIELD2 131072 setvar tilenum 8241 else setvar tilenum 8704 }
   ifvare mainmenupage 2 { ifvarand WORLDTILEBITFIELD3 1024 setvar tilenum 8266 else setvar tilenum 8704 }
   ifvare mainmenupage 3 { ifvarand WORLDTILEBITFIELD4 8 setvar tilenum 8291 else setvar tilenum 8704 }
   ifvare mainmenupage 4 { ifvarand WORLDTILEBITFIELD4 268435456 setvar tilenum 8316 else setvar tilenum 8704 }
   ifvare mainmenupage 5 { ifvarand WORLDTILEBITFIELD5 2097152 setvar tilenum 8341 else setvar tilenum 8704 }
   ifvare mainmenupage 6 { ifvarand WORLDTILEBITFIELD6 16384 setvar tilenum 8366 else setvar tilenum 8704 }
   ifvare mainmenupage 7 { ifvarand WORLDTILEBITFIELD7 128 setvar tilenum 8391 else setvar tilenum 8704 }
   ifvare mainmenupage 8 { ifvarand WORLDTILEBITFIELD8 1 setvar tilenum 8416 else setvar tilenum 8704 }
   ifvare mainmenupage 9 { ifvarand WORLDTILEBITFIELD8 33554432 setvar tilenum 8441 else setvar tilenum 8704 }
   ifvarg mainmenupage -1 ifvarl mainmenupage 10 state rs
ends

state calculateingametimers
 // Get Second Fragments
 setvarvar TIMERSECFRAGS TEMPVAR5
 mulvar TIMERSECFRAGS 100
 divvar TIMERSECFRAGS 26
 modvar TIMERSECFRAGS 100
 // Get Seconds
 setvarvar TIMERSECONDS TEMPVAR5
 divvar TIMERSECONDS 26
 modvar TIMERSECONDS 60
 // Get Minutes
 setvarvar TIMERMINUTES TEMPVAR5
 divvar TIMERMINUTES 1560
 modvar TIMERMINUTES 60
 // Get Hours
 setvarvar TIMERHOURS TEMPVAR5
 divvar TIMERHOURS 93600
 modvar TIMERHOURS 24
 // Get Days
 setvarvar TIMERDAYS TEMPVAR5
 divvar TIMERDAYS 2246400
 modvar TIMERDAYS 7
 // Get Weeks
 setvarvar TIMERWEEKS TEMPVAR5
 divvar TIMERWEEKS 15724800
ends

state gettruetimedisplayspaused_level
 setvarvar TEMPVAR5 TIMERRAWFORMAT_LEVEL
 state calculateingametimers
 redefinequote 332 

 // get weeks
 ifvarg TIMERWEEKS -1 ifvarl TIMERWEEKS 10 qsprintf 606 611 TIMERWEEKS
 else ifvarg TIMERWEEKS 9 qsprintf 606 612 TIMERWEEKS
 qstrcat 332 606 // Weeks

 redefinequote 613 WEEKS 
 qstrcat 332 613 // W 

 // get days
 ifvarg TIMERDAYS -1 ifvarl TIMERDAYS 10 qsprintf 605 611 TIMERDAYS
 else ifvarg TIMERDAYS 9 qsprintf 605 612 TIMERDAYS
 qstrcat 332 605 // Days

 redefinequote 613 DAYS 
 qstrcat 332 613 // D 

 // get hours
 ifvarg TIMERHOURS -1 ifvarl TIMERHOURS 10 qsprintf 604 611 TIMERHOURS
 else ifvarg TIMERHOURS 9 qsprintf 604 612 TIMERHOURS
 qstrcat 332 604 // Hours

 redefinequote 613 :
 qstrcat 332 613 // :

 // get minutes
 ifvarg TIMERMINUTES -1 ifvarl TIMERMINUTES 10 qsprintf 603 611 TIMERMINUTES
 else ifvarg TIMERMINUTES 9 qsprintf 603 612 TIMERMINUTES
 qstrcat 332 603 // Minutes

 redefinequote 613 :
 qstrcat 332 613 // :

 // get seconds
 ifvarg TIMERSECONDS -1 ifvarl TIMERSECONDS 10 qsprintf 602 611 TIMERSECONDS
 else ifvarg TIMERSECONDS 9 qsprintf 602 612 TIMERSECONDS
 qstrcat 332 602 // Seconds

 redefinequote 614 .
 qstrcat 332 614 // .

 // get second fragments
 ifvarg TIMERSECFRAGS -1 ifvarl TIMERSECFRAGS 10 qsprintf 601 611 TIMERSECFRAGS
 else ifvarg TIMERSECFRAGS 9 qsprintf 601 612 TIMERSECFRAGS
 qstrcat 332 601 // SecFrags
ends

state gettruetimedisplayspaused_game
 setvarvar TEMPVAR5 TIMERRAWFORMAT
 state calculateingametimers
 redefinequote 332 

 // get weeks
 ifvarg TIMERWEEKS -1 ifvarl TIMERWEEKS 10 qsprintf 606 611 TIMERWEEKS
 else ifvarg TIMERWEEKS 9 qsprintf 606 612 TIMERWEEKS
 qstrcat 332 606 // Weeks

 redefinequote 613 WEEKS 
 qstrcat 332 613 // W 

 // get days
 ifvarg TIMERDAYS -1 ifvarl TIMERDAYS 10 qsprintf 605 611 TIMERDAYS
 else ifvarg TIMERDAYS 9 qsprintf 605 612 TIMERDAYS
 qstrcat 332 605 // Days

 redefinequote 613 DAYS 
 qstrcat 332 613 // D 

 // get hours
 ifvarg TIMERHOURS -1 ifvarl TIMERHOURS 10 qsprintf 604 611 TIMERHOURS
 else ifvarg TIMERHOURS 9 qsprintf 604 612 TIMERHOURS
 qstrcat 332 604 // Hours

 redefinequote 613 :
 qstrcat 332 613 // :

 // get minutes
 ifvarg TIMERMINUTES -1 ifvarl TIMERMINUTES 10 qsprintf 603 611 TIMERMINUTES
 else ifvarg TIMERMINUTES 9 qsprintf 603 612 TIMERMINUTES
 qstrcat 332 603 // Minutes

 redefinequote 613 :
 qstrcat 332 613 // :

 // get seconds
 ifvarg TIMERSECONDS -1 ifvarl TIMERSECONDS 10 qsprintf 602 611 TIMERSECONDS
 else ifvarg TIMERSECONDS 9 qsprintf 602 612 TIMERSECONDS
 qstrcat 332 602 // Seconds

 redefinequote 614 .
 qstrcat 332 614 // .

 // get second fragments
 ifvarg TIMERSECFRAGS -1 ifvarl TIMERSECFRAGS 10 qsprintf 601 611 TIMERSECFRAGS
 else ifvarg TIMERSECFRAGS 9 qsprintf 601 612 TIMERSECFRAGS
 qstrcat 332 601 // SecFrags
ends

state gettruetimerdisplayvars
 setvarvar TEMPVAR5 TIMERRAWFORMAT
 state calculateingametimers
 redefinequote 600 

 // get weeks
 ifvarg TIMERWEEKS -1 ifvarl TIMERWEEKS 10 qsprintf 606 611 TIMERWEEKS
 else ifvarg TIMERWEEKS 9 qsprintf 606 612 TIMERWEEKS
 qstrcat 600 606 // Weeks

 redefinequote 613 WEEKS 
 qstrcat 600 613 // W 

 // get days
 ifvarg TIMERDAYS -1 ifvarl TIMERDAYS 10 qsprintf 605 611 TIMERDAYS
 else ifvarg TIMERDAYS 9 qsprintf 605 612 TIMERDAYS
 qstrcat 600 605 // Days

 redefinequote 613 DAYS 
 qstrcat 600 613 // D 

 // get hours
 ifvarg TIMERHOURS -1 ifvarl TIMERHOURS 10 qsprintf 604 611 TIMERHOURS
 else ifvarg TIMERHOURS 9 qsprintf 604 612 TIMERHOURS
 qstrcat 600 604 // Hours

 redefinequote 613 :
 qstrcat 600 613 // :

 // get minutes
 ifvarg TIMERMINUTES -1 ifvarl TIMERMINUTES 10 qsprintf 603 611 TIMERMINUTES
 else ifvarg TIMERMINUTES 9 qsprintf 603 612 TIMERMINUTES
 qstrcat 600 603 // Minutes

 redefinequote 613 :
 qstrcat 600 613 // :

 // get seconds
 ifvarg TIMERSECONDS -1 ifvarl TIMERSECONDS 10 qsprintf 602 611 TIMERSECONDS
 else ifvarg TIMERSECONDS 9 qsprintf 602 612 TIMERSECONDS
 qstrcat 600 602 // Seconds

 redefinequote 614 .
 qstrcat 600 614 // .

 // get second fragments
 ifvarg TIMERSECFRAGS -1 ifvarl TIMERSECFRAGS 10 qsprintf 601 611 TIMERSECFRAGS
 else ifvarg TIMERSECFRAGS 9 qsprintf 601 612 TIMERSECFRAGS
 qstrcat 600 601 // SecFrags
ends

state show_secondaryquotemethod
     setuserdef[THISACTOR].fta_on 1

     getplayer[THISACTOR].ftq TEMPVAR
     ifvarg TEMPVAR -1
     {
      setvarvar ftq TEMPVAR
      setvarvar fta fta_normal
      setplayer[THISACTOR].fta -1
      setplayer[THISACTOR].ftq -1
     }


     ifvarg fta 0
     {
      setvar quotescale 49152
      ifvarg fta 95
      {
       setvar tempb 100
       subvarvar tempb fta
       mulvar tempb 20

       mulvarvar quotescale tempb       
       divvar quotescale 100
      }

      ifvarl fta 6
      {
       setvarvar tempb fta
       mulvar tempb 20

       mulvarvar quotescale tempb       
       divvar quotescale 100
      }

/*
      ifvare debugtoggle 1
      {
       state shade0
       state pal16
       setvarvar digx 160
       setvarvar digy quotedigy
       addvar digy 6
       setvarvar digz quotescale
       setvarvar varname ftq
       state settile2837
       state orientation10
       state dnz
       state shade0
       state pal0
       setvarvar digx 160
       setvarvar digy quotedigy
       addvar digy 12
       setvarvar digz quotescale
       setvarvar varname fta
       state settile2837
       state orientation10
       state dnz
      }
*/
      state shadepulse3
      setvarvar digx quotedigx
      setvarvar digy quotedigy
      state settilealphanum
      setvarvar temp ftq
      setvarvar textscale quotescale
      state orientation10
      state gtz
      state shade0
     }
     state shade0
     setvar quotescale 49152
ends

state showvehiclecommands
   getuserdef[THISACTOR].pause_on temp
   ifvare temp 0
   {
    ifvare mainmenu 0
    {
     setvar orientation_change 256
     state shade0
     setvar digx 4
     setvar digy 4
     setvar temp 437
     setvar textscale 49152
     state pal16
     state settilealphanum
     state orientation10
     ifvarand bits 4 state shadepulse3
     ifvare VEHICLETYPE 0 redefinequote 438 ^21 = ^22BULLETS
     ifvare VEHICLETYPE 1 redefinequote 438 ^21 = ^22SHOTGUN SHELLS
     ifvare VEHICLETYPE 2 redefinequote 438 ^21 = ^22RPG MISSILES
     getkeyname 437 5 0
     qstrcat 437 438
     state gtz

     state shade0
     setvar digx 4
     setvar digy 10
     setvar temp 437
     setvar textscale 49152
     state pal10
     state settilealphanum
     state orientation10
     ifvarand bits 4194304 state shadepulse3
     ifvare VEHICLETYPE 0 redefinequote 438 ^21 = ^22LASERS
     ifvare VEHICLETYPE 1 redefinequote 438 ^21 = ^22EXPANDER CLUSTERS
     ifvare VEHICLETYPE 2 redefinequote 438 ^21 = ^22RPG MISSILES
     getkeyname 437 49 0
     qstrcat 437 438
     state gtz
 
     state shade0
     setvar digx 4
     setvar digy 16
     setvar temp 437
     setvar textscale 49152
     state pal20
     state settilealphanum
     state orientation10
     redefinequote 438  ^21 = ^22EXIT VEHICLE
     getkeyname 437 36 0

     qstrcat 437 438
     state gtz

     // Vehicle Portrait
     setvar digy 19
     state shade0
     setvar digx 2
     state pal0
     state digz16384
     ifvare VEHICLETYPE 0 setvar tilenum 7950
     ifvare VEHICLETYPE 1 setvar tilenum 7951 
     ifvare VEHICLETYPE 2 setvar tilenum 7952 
     state orientation27 // 1+2+8+16
     state rs

     // Vehicle Name
     addvar digy 17 // setvar digy 25
     setvar tilenum 3461
     ifvare VEHICLETYPE 0 state pal22
     ifvare VEHICLETYPE 1 state pal0
     ifvare VEHICLETYPE 2 state pal21
     state orientation27 // 1+2+8+16
     ifvare VEHICLETYPE 0 redefinequote 437 GREEN RIOT TANK 
     ifvare VEHICLETYPE 1 redefinequote 437 BLUE RIOT TANK 
     ifvare VEHICLETYPE 2 redefinequote 437 RED RIOT TANK 
     redefinequote 401 [
     qstrcat 437 401
     redefinequote 615 %ld
     getactorvar[VEHICLEID].ENEMYLEVEL varname
     qsprintf 615 615 varname
     qstrcat 437 615
     redefinequote 403 ]
     qstrcat 437 403
     setvar temp 437
     state mt

     setvarvar TEMPVAR2 VDISPLAYHPFLASHTIMER
     state displayhealthflashtimers
     getactorvar[VEHICLEID].ENEMYHP TEMPVAR3
     getactorvar[VEHICLEID].ENEMYMAXHP TEMPVAR4
     mulvar TEMPVAR3 1000
     divvarvar TEMPVAR3 TEMPVAR4
     ifvarl TEMPVAR3 251 state shadepulse else state shade0
     // Vehicle HP Meter
     addvar digy 5
     setvar digx 2 addvar digx 8
     setvar digz 58982 // 65536
     setvar tilenum 7680 // 746
     setvarvar TEMPVAR5 TEMPVAR3
     divvar TEMPVAR5 31
     addvarvar tilenum TEMPVAR5
     addvar shade 13
     state orientation27
     state rs
     state settile3087 
     subvar shade 13
     // Vehicle HP/Max HP
     addvar digy 1
     setvar digx 2
     setvar tilenum 3461
     state orientation27 // 1+2+8+16
     redefinequote 437 HP
     setvar temp 437
     state mt
     addvar digx 34
     getactorvar[VEHICLEID].ENEMYHP varname
     ifvarg varname -1 ifvarl varname 10 addvar digx 12
     else ifvarg varname 9 ifvarl varname 100 addvar digx 14
     else ifvarg varname 99 ifvarl varname 1000 addvar digx 16
     else ifvarg varname 999 ifvarl varname 10000 addvar digx 18
     else ifvarg varname 9999 ifvarl varname 100000 addvar digx 20
     else ifvarg varname 99999 ifvarl varname 1000000 addvar digx 22
     else ifvarg varname 999999 ifvarl varname 10000000 addvar digx 24
     else ifvarg varname 9999999 ifvarl varname 100000000 addvar digx 26
     setvar tilenum 3087
     state orientation27 // 1+2+8+16
     state dn
     getactorvar[VEHICLEID].ENEMYHP varname
     ifvarg varname -1 ifvarl varname 10 addvar digx 4
     else ifvarg varname 9 ifvarl varname 100 addvar digx 6
     else ifvarg varname 99 ifvarl varname 1000 addvar digx 8
     else ifvarg varname 999 ifvarl varname 10000 addvar digx 10
     else ifvarg varname 9999 ifvarl varname 100000 addvar digx 12
     else ifvarg varname 99999 ifvarl varname 1000000 addvar digx 14
     else ifvarg varname 999999 ifvarl varname 10000000 addvar digx 16
     else ifvarg varname 9999999 ifvarl varname 100000000 addvar digx 18
     setvar tilenum 3461
     state orientation27 // 1+2+8+16
     redefinequote 437 /
     setvar temp 437
     state mt
     getactorvar[VEHICLEID].ENEMYMAXHP varname
     ifvarg varname -1 ifvarl varname 10 addvar digx 8
     else ifvarg varname 9 ifvarl varname 100 addvar digx 10
     else ifvarg varname 99 ifvarl varname 1000 addvar digx 12
     else ifvarg varname 999 ifvarl varname 10000 addvar digx 14
     else ifvarg varname 9999 ifvarl varname 100000 addvar digx 16
     else ifvarg varname 99999 ifvarl varname 1000000 addvar digx 18
     else ifvarg varname 999999 ifvarl varname 10000000 addvar digx 20
     else ifvarg varname 9999999 ifvarl varname 100000000 addvar digx 22
     setvar tilenum 3087
     state orientation27 // 1+2+8+16
     state dn
     // Vehicle FA
     getactorvar[VEHICLEID].ENEMYFIRSTAID varname
     ifvarg varname 0
     {
      addvar digx 14
      getactorvar[VEHICLEID].ENEMYMAXHP varname
      ifvarg varname -1 ifvarl varname 10 addvar digx -6
      else ifvarg varname 9 ifvarl varname 100 addvar digx -4
      else ifvarg varname 99 ifvarl varname 1000 addvar digx -2
      else ifvarg varname 999 ifvarl varname 10000 addvar digx 0
      else ifvarg varname 9999 ifvarl varname 100000 addvar digx 2
      else ifvarg varname 99999 ifvarl varname 1000000 addvar digx 4
      else ifvarg varname 999999 ifvarl varname 10000000 addvar digx 6
      else ifvarg varname 9999999 ifvarl varname 100000000 addvar digx 8
      redefinequote 438 
      redefinequote 411 (
      qstrcat 438 411
      redefinequote 615 %ld
      getactorvar[VEHICLEID].ENEMYFIRSTAID varname
      qsprintf 615 615 varname
      qstrcat 438 615
      redefinequote 415 )
      qstrcat 438 415
      setvar temp 438
      state mt 
     }

     getactorvar[VEHICLEID].ENEMYAP varname
     ifvarg varname 0
     {
      setvarvar TEMPVAR2 VDISPLAYAPFLASHTIMER
      state displayarmorflashtimers
      getactorvar[VEHICLEID].ENEMYAP TEMPVAR3
      getactorvar[VEHICLEID].ENEMYMAXAP TEMPVAR4
      mulvar TEMPVAR3 1000
      divvarvar TEMPVAR3 TEMPVAR4
      ifvarl TEMPVAR3 251 state shadepulse else state shade0

      // Vehicle AP Meter
      addvar digy 5
      setvar digx 2 addvar digx 8
      setvar digz 58982 // 65536
      setvar tilenum 7680 // 746
      setvarvar TEMPVAR5 TEMPVAR3
      divvar TEMPVAR5 31
      addvarvar tilenum TEMPVAR5
      addvar shade 13
      state orientation27
      state rs
      state settile3087 
      subvar shade 13
 
      // Vehicle AP/Max AP
      addvar digy 1
      setvar digx 2
      setvar tilenum 3461
      state orientation27 // 1+2+8+16
      redefinequote 437 AP
      setvar temp 437
      state mt
      addvar digx 34
      getactorvar[VEHICLEID].ENEMYAP varname
      ifvarg varname -1 ifvarl varname 10 addvar digx 12
      else ifvarg varname 9 ifvarl varname 100 addvar digx 14
      else ifvarg varname 99 ifvarl varname 1000 addvar digx 16
      else ifvarg varname 999 ifvarl varname 10000 addvar digx 18
      else ifvarg varname 9999 ifvarl varname 100000 addvar digx 20
      else ifvarg varname 99999 ifvarl varname 1000000 addvar digx 22
      else ifvarg varname 999999 ifvarl varname 10000000 addvar digx 24
      else ifvarg varname 9999999 ifvarl varname 100000000 addvar digx 26
      setvar tilenum 3087
      state orientation27 // 1+2+8+16
      state dn
      getactorvar[VEHICLEID].ENEMYAP varname
      ifvarg varname -1 ifvarl varname 10 addvar digx 4
      else ifvarg varname 9 ifvarl varname 100 addvar digx 6
      else ifvarg varname 99 ifvarl varname 1000 addvar digx 8
      else ifvarg varname 999 ifvarl varname 10000 addvar digx 10
      else ifvarg varname 9999 ifvarl varname 100000 addvar digx 12
      else ifvarg varname 99999 ifvarl varname 1000000 addvar digx 14
      else ifvarg varname 999999 ifvarl varname 10000000 addvar digx 16
      else ifvarg varname 9999999 ifvarl varname 100000000 addvar digx 18
      setvar tilenum 3461
      state orientation27 // 1+2+8+16
      redefinequote 437 /
      setvar temp 437
      state mt
      getactorvar[VEHICLEID].ENEMYMAXAP varname
      ifvarg varname -1 ifvarl varname 10 addvar digx 8
      else ifvarg varname 9 ifvarl varname 100 addvar digx 10
      else ifvarg varname 99 ifvarl varname 1000 addvar digx 12
      else ifvarg varname 999 ifvarl varname 10000 addvar digx 14
      else ifvarg varname 9999 ifvarl varname 100000 addvar digx 16
      else ifvarg varname 99999 ifvarl varname 1000000 addvar digx 18
      else ifvarg varname 999999 ifvarl varname 10000000 addvar digx 20
      else ifvarg varname 9999999 ifvarl varname 100000000 addvar digx 22
      setvar tilenum 3087
      state orientation27 // 1+2+8+16
      state dn
      // Vehicle AB%
      getactorvar[VEHICLEID].ENEMYARMORPERCENT varname
      ifvarg varname 0
      {
       ifvarl varname 251 state shadepulse else state shade0
       addvar digx 14
       getactorvar[VEHICLEID].ENEMYMAXAP varname
       ifvarg varname -1 ifvarl varname 10 addvar digx -6
       else ifvarg varname 9 ifvarl varname 100 addvar digx -4
       else ifvarg varname 99 ifvarl varname 1000 addvar digx -2
       else ifvarg varname 999 ifvarl varname 10000 addvar digx 0
       else ifvarg varname 9999 ifvarl varname 100000 addvar digx 2
       else ifvarg varname 99999 ifvarl varname 1000000 addvar digx 4
       else ifvarg varname 999999 ifvarl varname 10000000 addvar digx 6
       else ifvarg varname 9999999 ifvarl varname 100000000 addvar digx 8
       getactorvar[VEHICLEID].ENEMYARMORPERCENT varname
       redefinequote 438 
       redefinequote 411 (
       qstrcat 438 411
       getactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3
       divvar TEMPVAR3 10
       getactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR4
       modvar TEMPVAR4 10
       redefinequote 437 %d.%d%
       qsprintf 437 437 TEMPVAR3 TEMPVAR4
       qstrcat 438 437
       redefinequote 415 )
       qstrcat 438 415
       setvar temp 438
       state mt 
      }
     }

     // Vehicle Attack
     addvar digy 6
     state shade0
     setvar digx 2
     state pal21
     setvar tilenum 3461
     state orientation27 // 1+2+8+16
     redefinequote 437 ATK
     setvar temp 437
     state mt
     state shade0
     getactorvar[VEHICLEID].ACTORATTACK varname
     ifvarg varname -1 ifvarl varname 10 addvar digx 16
     else ifvarg varname 9 ifvarl varname 100 addvar digx 18
     else ifvarg varname 99 ifvarl varname 1000 addvar digx 20
     else ifvarg varname 999 ifvarl varname 10000 addvar digx 22
     else ifvarg varname 9999 ifvarl varname 100000 addvar digx 24
     else ifvarg varname 99999 ifvarl varname 1000000 addvar digx 26
     else ifvarg varname 999999 ifvarl varname 10000000 addvar digx 28
     else ifvarg varname 9999999 ifvarl varname 100000000 addvar digx 30
     state pal21
     setvar tilenum 3087
     state orientation27 // 1+2+8+16
     state dn

     // Vehicle Defense
     // addvar digy 6
     state shade0
     addvar digx 9 // setvar digx 2
     getactorvar[VEHICLEID].ACTORATTACK varname
     ifvarg varname -1 ifvarl varname 10 addvar digx -4
     else ifvarg varname 9 ifvarl varname 100 addvar digx -2
     else ifvarg varname 99 ifvarl varname 1000 addvar digx 0
     else ifvarg varname 999 ifvarl varname 10000 addvar digx 2
     else ifvarg varname 9999 ifvarl varname 100000 addvar digx 4
     else ifvarg varname 99999 ifvarl varname 1000000 addvar digx 6
     else ifvarg varname 999999 ifvarl varname 10000000 addvar digx 8
     else ifvarg varname 9999999 ifvarl varname 100000000 addvar digx 10
     state pal22
     setvar tilenum 3461

     state orientation27 // 1+2+8+16
     redefinequote 437 DEF
     setvar temp 437
     state mt
     state shade0
     getactorvar[VEHICLEID].ACTORDEFENSE varname
     ifvarg varname -1 ifvarl varname 10 addvar digx 16
     else ifvarg varname 9 ifvarl varname 100 addvar digx 18
     else ifvarg varname 99 ifvarl varname 1000 addvar digx 20
     else ifvarg varname 999 ifvarl varname 10000 addvar digx 22
     else ifvarg varname 9999 ifvarl varname 100000 addvar digx 24
     else ifvarg varname 99999 ifvarl varname 1000000 addvar digx 26
     else ifvarg varname 999999 ifvarl varname 10000000 addvar digx 28
     else ifvarg varname 9999999 ifvarl varname 100000000 addvar digx 30
     state pal22
     setvar tilenum 3087
     state orientation27 // 1+2+8+16
     state dn

     // Vehicle BOOTS Time
     getactorvar[VEHICLEID].ENEMYBOOTSAMOUNT varname
     ifvarg varname 0
     {
      addvar digy 6
      state shade0
      setvar digx 2
      state pal18
      setvar tilenum 3461
      state orientation27 // 1+2+8+16
      redefinequote 437 BOOTS
      setvar temp 437
      state mt
      state shade0
      ifvare debugtoggle 0 divvar varname 2
      ifvarg varname -1 ifvarl varname 10 addvar digx 24
      else ifvarg varname 9 ifvarl varname 100 addvar digx 26
      else ifvarg varname 99 ifvarl varname 1000 addvar digx 28
      else ifvarg varname 999 ifvarl varname 10000 addvar digx 30
      else ifvarg varname 9999 ifvarl varname 100000 addvar digx 32
      else ifvarg varname 99999 ifvarl varname 1000000 addvar digx 34
      else ifvarg varname 999999 ifvarl varname 10000000 addvar digx 36
      else ifvarg varname 9999999 ifvarl varname 100000000 addvar digx 38
      state pal18
      setvar tilenum 3087
      state orientation27 // 1+2+8+16
      state dn
     }

     // Vehicle SCUBA Time
     getactorvar[VEHICLEID].ENEMYAIRTANKAMOUNT varname
     ifvarg varname 0
     {
      addvar digy 6
      state shade0
      setvar digx 2
      state pal0
      setvar tilenum 3461
      state orientation27 // 1+2+8+16
      redefinequote 437 SCUBA
      setvar temp 437
      state mt
      state shade0
      ifvare debugtoggle 0 divvar varname 64
      ifvarg varname -1 ifvarl varname 10 addvar digx 24
      else ifvarg varname 9 ifvarl varname 100 addvar digx 26
      else ifvarg varname 99 ifvarl varname 1000 addvar digx 28
      else ifvarg varname 999 ifvarl varname 10000 addvar digx 30
      else ifvarg varname 9999 ifvarl varname 100000 addvar digx 32
      else ifvarg varname 99999 ifvarl varname 1000000 addvar digx 34
      else ifvarg varname 999999 ifvarl varname 10000000 addvar digx 36
      else ifvarg varname 9999999 ifvarl varname 100000000 addvar digx 38
      state pal0
      setvar tilenum 3087
      state orientation27 // 1+2+8+16
      state dn
     }

     setvar TEMPVAR5 0
     getactorvar[VEHICLEID].ENEMYQUADTIME varname ifvarg varname 0 addvar TEMPVAR5 1
     getactorvar[VEHICLEID].ENEMYINVULNTIME varname ifvarg varname 0 addvar TEMPVAR5 1
     getactorvar[VEHICLEID].ENEMYREGENTIME varname ifvarg varname 0 addvar TEMPVAR5 1
     getactorvar[VEHICLEID].ENEMYAPREGENTIME varname ifvarg varname 0 addvar TEMPVAR5 1
     getactorvar[VEHICLEID].ENEMYVAMPIRETIME varname ifvarg varname 0 addvar TEMPVAR5 1
     ifvarg TEMPVAR5 0
     {
      state pal20
      setvar digx 2
      addvar digy 6
      state shade0
      state orientation27 // 1+2+8+16
      redefinequote 437 STATUS
      setvar temp 437
      state mt
     }
     state pal0
     // Show Quad Damage Icon
     getactorvar[VEHICLEID].ENEMYQUADTIME varname
     state digz12288
     ifvarg varname 0
     {
      setvar digx 28 // 136
      setvar tilenum 8071 // 5272
      getactorvar[VEHICLEID].ENEMYQUADTIME varname
      ifvarl varname 130 { state shadepulse4 addvar shade 8 }
      state orientation27
      state rs

      setvar tilenum 3087 // Blue Digital Text
      setvar pal 23 // Powerups are Unique
      addvar digx 3
      subvar digy -7
      setvar textscale 45056
      getactorvar[VEHICLEID].ENEMYQUADTIME varname
      setvarvar varname varname
      divvar varname 26
      state orientation27
      state dnz

      subvar digx 3 // +25
      addvar digy -7 // +25
      setvar pal 0
      setvar shade 0
     }
     // Show Invuln Icon
     getactorvar[VEHICLEID].ENEMYINVULNTIME varname
     state digz12288
     ifvarg varname 0
     {
      setvar digx 28 // 136
      getactorvar[VEHICLEID].ENEMYQUADTIME varname ifvarg varname 0 addvar digx 7
      setvar tilenum 8072 // 5272
      getactorvar[VEHICLEID].ENEMYINVULNTIME varname
      ifvarl varname 130 { state shadepulse4 addvar shade 8 }
      state orientation27
      state rs

      setvar tilenum 3087 // Blue Digital Text
      setvar pal 23 // Powerups are Unique
      addvar digx 3
      subvar digy -7
      setvar textscale 45056
      getactorvar[VEHICLEID].ENEMYINVULNTIME varname
      setvarvar varname varname
      divvar varname 26
      state orientation27
      state dnz

      subvar digx 3 // +25
      addvar digy -7 // +25
      setvar pal 0
      setvar shade 0
     }
     // Show Regen Icon
     getactorvar[VEHICLEID].ENEMYREGENTIME varname
     state digz12288
     ifvarg varname 0
     {
      setvar digx 28 // 136
      getactorvar[VEHICLEID].ENEMYQUADTIME varname ifvarg varname 0 addvar digx 7
      getactorvar[VEHICLEID].ENEMYINVULNTIME varname ifvarg varname 0 addvar digx 7
      setvar tilenum 8073 // 5272
      getactorvar[VEHICLEID].ENEMYREGENTIME varname
      ifvarl varname 130 { state shadepulse4 addvar shade 8 }
      state orientation27
      state rs

      setvar tilenum 3087 // Blue Digital Text
      setvar pal 23 // Powerups are Unique
      addvar digx 3
      subvar digy -7
      setvar textscale 45056
      getactorvar[VEHICLEID].ENEMYREGENTIME varname
      setvarvar varname varname
      divvar varname 26
      state orientation27
      state dnz

      subvar digx 3 // +25
      addvar digy -7 // +25
      setvar pal 0
      setvar shade 0
     }
     // Show APRegen Icon
     getactorvar[VEHICLEID].ENEMYAPREGENTIME varname
     state digz12288
     ifvarg varname 0
     {
      setvar digx 28 // 136
      getactorvar[VEHICLEID].ENEMYQUADTIME varname ifvarg varname 0 addvar digx 7
      getactorvar[VEHICLEID].ENEMYINVULNTIME varname ifvarg varname 0 addvar digx 7
      getactorvar[VEHICLEID].ENEMYREGENTIME varname ifvarg varname 0 addvar digx 7
      setvar tilenum 8074 // 5272
      getactorvar[VEHICLEID].ENEMYAPREGENTIME varname
      ifvarl varname 130 { state shadepulse4 addvar shade 8 }
      state orientation27
      state rs

      setvar tilenum 3087 // Blue Digital Text
      setvar pal 23 // Powerups are Unique
      addvar digx 3
      subvar digy -7
      setvar textscale 45056
      getactorvar[VEHICLEID].ENEMYAPREGENTIME varname
      setvarvar varname varname
      divvar varname 26
      state orientation27
      state dnz

      subvar digx 3 // +25
      addvar digy -7 // +25
      setvar pal 0
      setvar shade 0
     }
     // Show Vampire Icon
     getactorvar[VEHICLEID].ENEMYVAMPIRETIME varname
     state digz12288
     ifvarg varname 0
     {
      setvar digx 28 // 136
      getactorvar[VEHICLEID].ENEMYQUADTIME varname ifvarg varname 0 addvar digx 7
      getactorvar[VEHICLEID].ENEMYINVULNTIME varname ifvarg varname 0 addvar digx 7
      getactorvar[VEHICLEID].ENEMYREGENTIME varname ifvarg varname 0 addvar digx 7
      getactorvar[VEHICLEID].ENEMYAPREGENTIME varname ifvarg varname 0 addvar digx 7
      setvar tilenum 8075 // 5272
      getactorvar[VEHICLEID].ENEMYVAMPIRETIME varname
      ifvarl varname 130 { state shadepulse4 addvar shade 8 }
      state orientation27
      state rs

      setvar tilenum 3087 // Blue Digital Text
      setvar pal 23 // Powerups are Unique
      addvar digx 3
      subvar digy -7
      setvar textscale 45056
      getactorvar[VEHICLEID].ENEMYVAMPIRETIME varname
      setvarvar varname varname
      divvar varname 26
      state orientation27
      state dnz

      subvar digx 3 // +25
      addvar digy -7 // +25
      setvar pal 0
      setvar shade 0
     }
     setvar orientation_change 0
    }
   }
ends

state vehicledisplays
 state shade0
 state pal0
 ifvarn VEHICLEID -1
 {
  getuserdef[THISACTOR].overhead_on TEMPVAR
  ifvarn TEMPVAR 2
  {
   getplayer[THISACTOR].over_shoulder_on TEMPVAR
   ifvare TEMPVAR 1 state showvehiclecommands
   else
   ifvare TEMPVAR 0
   {
    getplayer[THISACTOR].newowner TEMPVAR
    ifvare TEMPVAR -1
    {
     ifvarg VEHICLETYPE -1 ifvarl VEHICLETYPE 3 // Riot Tank
     {
      // SHOP BACKGROUND
      setvar shade 27
      ifvare VEHICLETYPE 0 setvar pal 14
      ifvare VEHICLETYPE 1 setvar pal 16
      ifvare VEHICLETYPE 2 setvar pal 10
      setvar digx -120
      setvar digy 100 // 129
      setvar digz 655360
      state orientation2 //  state orientation3
      setvar tilenum 7800 // For the shop background >.> (2456 or 8191)
      state rs
      ifvare VEHICLETYPE 0 setvar pal 14
      ifvare VEHICLETYPE 1 setvar pal 16
      ifvare VEHICLETYPE 2 setvar pal 10
      setvar digx 440
      setvar digy 100 // 129
      setvar digz 655360
      state orientation2 //  state orientation3
      setvar tilenum 7800 // For the shop background >.> (2456 or 8191)
      state rs
      setvar shade 0

      setvar digx 160
      setvar digy 100
      state digz65536
      setvar pal 0
      ifvare VEHICLEHUDFRAME 0 setvar tilenum 6164
      ifvare VEHICLEHUDFRAME 1 setvar tilenum 6165
      ifvare VEHICLEHUDFRAME 2 setvar tilenum 6166
      ifvare VEHICLETYPE 0 setvar pal 0
      ifvare VEHICLETYPE 1 setvar pal 17
      ifvare VEHICLETYPE 2 setvar pal 19
      state orientation10
      state rs
 
      state showvehiclecommands
     }
    }
   }
  }
 }
ends

state oldskoolturningpositions
      subvarvar digx TEMP3
      addvarvar digy TEMP4
ends

state oldskoolweaponposchange
   ifvare TEMPVAR3 1 addvar digy 5 // 10
   ifvare TEMPVAR3 2 addvar digy 11 // 20
   ifvare TEMPVAR3 3 addvar digy 18 // 30
   ifvare TEMPVAR3 4 addvar digy 26 // 40
   ifvare TEMPVAR3 5 addvar digy 35 // 50
   ifvare TEMPVAR3 6 addvar digy 45 // 60
   ifvare TEMPVAR3 7 addvar digy 56 // 70
   ifvare TEMPVAR3 8 addvar digy 78 // 80
   ifvare TEMPVAR3 9 addvar digy 91 // 90
   ifvare TEMPVAR3 10 addvar digy 105 // 100
   ifvare TEMPVAR3 -9 addvar digy 91 // 90
   ifvare TEMPVAR3 -8 addvar digy 78 // 80
   ifvare TEMPVAR3 -7 addvar digy 56 // 70
   ifvare TEMPVAR3 -6 addvar digy 45 // 60
   ifvare TEMPVAR3 -5 addvar digy 35 // 50
   ifvare TEMPVAR3 -4 addvar digy 26 // 40
   ifvare TEMPVAR3 -3 addvar digy 18 // 30
   ifvare TEMPVAR3 -2 addvar digy 11 // 20
   ifvare TEMPVAR3 -1 addvar digy 5 // 10
ends

state oldskoolgetshake
     // Randomized "Gun Shaking"
     ifvarg TEMPVAR2 1
     {
      displayrandvar tempb 2
      displayrandvar tempc 2
      ifrnd 128 mulvar tempb -1
      ifrnd 128 mulvar tempc -1
     }
ends

state oldskoolweaponbob
   // digx
   switch CUSTOMBOBCOUNTER
    case 0
    case 24
     addvar digx 0
    break

    case 1
    case 23
     addvar digx -1
    break

    case 2
    case 22
     addvar digx -2
    break

    case 3
    case 21
     addvar digx -3
    break

    case 4
    case 20
     addvar digx -4
    break

    case 5
    case 19
     addvar digx -5
    break

    case 6
    case 18
     addvar digx -6
    break

    case 7
    case 17
     addvar digx -7
    break

    case 8
    case 16
     addvar digx -8
    break

    case 9
    case 15
     addvar digx -9
    break

    case 10
    case 14
     addvar digx -10
    break

    case 11
    case 13
     addvar digx -11
    break

    case 12
     addvar digx -12
    break

    case 25
    case 47
     addvar digx 1
    break

    case 26
    case 46
     addvar digx 2
    break

    case 27
    case 45
     addvar digx 3
    break

    case 28
    case 44
     addvar digx 4
    break

    case 29
    case 43
     addvar digx 5
    break

    case 30
    case 42
     addvar digx 6
    break

    case 31
    case 41
     addvar digx 7
    break

    case 32
    case 40
     addvar digx 8
    break

    case 33
    case 39
     addvar digx 9
    break

    case 34
    case 38
     addvar digx 10
    break

    case 35
    case 37
     addvar digx 11
    break

    case 36
     addvar digx 12
    break
   endswitch

   // digy
   switch CUSTOMBOBCOUNTER
    case 0
    case 24
     addvar digy 0
    break

    case 1
    case 23
    case 25
    case 47
     addvar digy -1
    break

    case 2
    case 22
    case 26
    case 46
     addvar digy -2
    break

    case 3
    case 21
    case 27
    case 45
     addvar digy -3
    break

    case 4
    case 20
    case 28
    case 44
     addvar digy -5
    break

    case 5
    case 19
    case 29
    case 43
     addvar digy -6
    break

    case 6
    case 18
    case 30
    case 42
     addvar digy -7
    break

    case 7
    case 17
    case 31
    case 41
     addvar digy -8
    break

    case 8
    case 16
    case 32
    case 40
     addvar digy -10
    break

    case 9
    case 15
    case 33
    case 39
     addvar digy -11
    break

    case 10
    case 14
    case 34
    case 38
     addvar digy -12
    break

    case 11
    case 13
    case 35
    case 37
     addvar digy -13
    break

    case 12
    case 36
     addvar digy -15
    break
   endswitch

   ifvarg CUSTOMBOBCOUNTER 47 subvar CUSTOMBOBCOUNTER 48
ends

state healpaneldisplay
//***********************
//*HEALTH PANEL DISPLAYS*
//***********************

 ifvarl AUTOMAPMODE 2
 { // ifvarl AUTOMAPMODE 2

  ifvarn hitsprite -1
  { // ifvarn hitsprite -1

   getactor[hitsprite].picnum TEMP
   ifvare TEMP 6198 // FIRSTAIDPANEL_ON
   {
    getactor[hitsprite].x x
    getactor[hitsprite].y y
    getplayer[THISACTOR].posx posx
    getplayer[THISACTOR].posy posy

    setvarvar wallxdist x
    subvarvar wallxdist posx
    setvarvar wallydist y
    subvarvar wallydist posy 

    ifvarg wallxdist -423 // -845
    {
     ifvarl wallxdist 423 // 845
     {
      ifvarg wallydist -423 // -845
      {
       ifvarl wallydist 423 // 845
       {
        state orientation10
        setvar pal 0
        getactorvar[hitsprite].HEALPANEL_CHARGES varname
        ifvarl varname 1 setvar tilenum 6297 else setvar tilenum 6296
        state digx160 // 166
        setvar digy 100 // 12
        setvar digz 65536 // 65536
        setvar diga 0
        state rs

        state orientation26

        setvar digx 320
        setvar digy 84
        setvar textscale 40960 // 49152
        state settilealphanum
        redefinequote 332 CHARGE HEAL AMOUNT:
        setvar temp 332
        state pal10
        state gtz

        getactorvar[hitsprite].HEALPANEL_CHARGEHEALS varname
        ifvare CHARACTERSELECTED? 13 { mulvar varname 3 divvar varname 2 }
        setvar digx 320
        setvar digy 90 // 92
        setvar digz 49152
        state settilealphanum
        ifvarl varname 0
        {
         mulvar varname -1
         redefinequote 332 %d HP ^20[
         qsprintf 332 332 varname

         setvarvar TEMP4 varname
         mulvar TEMP4 1000
         divvarvar TEMP4 MAXHITPOINTS
         setvarvar TEMP2 TEMP4
         divvar TEMP2 10
         setvarvar TEMP3 TEMP4
         modvar TEMP3 10
         redefinequote 346 %d.%d%]
         qsprintf 346 346 TEMP2 TEMP3
         qstrcat 332 346
        }
        else
        ifvarg varname 0
        {
         setvarvar TEMP2 varname
         divvar TEMP2 10
         setvarvar TEMP3 varname
         modvar TEMP3 10
         redefinequote 332 %d.%d% HP ^20[
         qsprintf 332 332 TEMP2 TEMP3
         setvarvar TEMP4 MAXHITPOINTS
         mulvarvar TEMP4 varname
         divvar TEMP4 1000
		 ifvarl TEMP4 1 setvar TEMP4 1
         redefinequote 346 %d HP]
         qsprintf 346 346 TEMP4
         qstrcat 332 346
        }
        setvar temp 332
        state pal10
        state gtz
 
        setvar digx 320
        setvar digy 104
        setvar textscale 40960 // 49152
        state settilealphanum
        redefinequote 332 CHARGES [REMAINING / MAX]:
        setvar temp 332
        state pal21
        state gtz

        getactorvar[hitsprite].HEALPANEL_CHARGES varname
        getactorvar[hitsprite].HEALPANEL_MAXCHARGES TEMP4
        setvar digx 320
        setvar digy 110 // 112
        redefinequote 332 %d / %d
        qsprintf 332 332 varname TEMP4
        setvar temp 332
        state settilealphanum
        state pal21
        setvarvar TEMP3 varname
        mulvar TEMP3 100
        divvarvar TEMP3 TEMP4

        ifvarl TEMP3 1 setvar shade 20
        ifvarg TEMP3 0 ifvarl TEMP3 6 setvar shade 19
        ifvarg TEMP3 5 ifvarl TEMP3 11 setvar shade 18
        ifvarg TEMP3 10 ifvarl TEMP3 16 setvar shade 17
        ifvarg TEMP3 15 ifvarl TEMP3 21 setvar shade 16
        ifvarg TEMP3 20 ifvarl TEMP3 26 setvar shade 15
        ifvarg TEMP3 25 ifvarl TEMP3 31 setvar shade 14
        ifvarg TEMP3 30 ifvarl TEMP3 36 setvar shade 13
        ifvarg TEMP3 35 ifvarl TEMP3 41 setvar shade 12
        ifvarg TEMP3 40 ifvarl TEMP3 46 setvar shade 11
        ifvarg TEMP3 45 ifvarl TEMP3 51 setvar shade 10
        ifvarg TEMP3 50 ifvarl TEMP3 56 setvar shade 9
        ifvarg TEMP3 55 ifvarl TEMP3 61 setvar shade 8
        ifvarg TEMP3 60 ifvarl TEMP3 66 setvar shade 7
        ifvarg TEMP3 65 ifvarl TEMP3 71 setvar shade 6
        ifvarg TEMP3 70 ifvarl TEMP3 76 setvar shade 5
        ifvarg TEMP3 75 ifvarl TEMP3 81 setvar shade 4

        ifvarg TEMP3 80 ifvarl TEMP3 86 setvar shade 3
        ifvarg TEMP3 85 ifvarl TEMP3 91 setvar shade 2
        ifvarg TEMP3 90 ifvarl TEMP3 96 setvar shade 1
        ifvarg TEMP3 95 setvar shade 0
        mulvar shade 5
        divvar shade 4
        state gtz

        // Portable Medikit?
        getactorvar[hitsprite].tempd varname
        ifvare varname 1
        {
         state shade0
         setvar digx 320
         setvar digy 124
         setvar textscale 40960 // 49152
         state settilealphanum
         setvar temp 332
         state pal22
         redefinequote 332 PORTABLE-MEDIKIT FRIENDLY! :)
         state gtz
        }

        // Rechargable?
        state shade0
        getactorvar[hitsprite].HEALPANEL_RECHARGETIMER2 varname
        setvar digx 320
        getactorvar[hitsprite].tempd TEMP4
        ifvare TEMP4 1 setvar digy 132 else setvar digy 124
        setvar textscale 40960 // 49152
        state settilealphanum
        setvar temp 332
        ifvare varname 0
        {
         getactorvar[hitsprite].HEALPANEL_CHARGES TEMP
         ifvare TEMP 0
         {
          setvar shade 25
          state pal10
          redefinequote 332 OUT OF CHARGES!
         }
         else
         {
          setvar shade 0
          state pal10
          redefinequote 332 NON-RECHARGABLE
         }
        }
        else
        {
         getactorvar[hitsprite].HEALPANEL_CHARGES TEMP
         getactorvar[hitsprite].HEALPANEL_MAXCHARGES TEMP2
         ifvarvarl TEMP TEMP2
         {
          state shadepulse2
          divvar shade 2
          state pal23
          redefinequote 332 RECHARGING...
         }
         else
         {
          setvar shade 0
          state pal16
          redefinequote 332 RECHARGABLE
         }
        }
        state gtz

        setvar shade 0
        getactorvar[hitsprite].HEALPANEL_CHARGES TEMP
        ifvarg TEMP 0
        {
         setvar temp 332
         setvarvar digx 320
         setvarvar digy 30 // digy_test
         state pal20
         redefinequote 332 PRESS/HOLD DOWN THE ^16"
         getkeyname 888 6 0
         redefinequote 889 "^20 KEY TO USE THIS HEALING STATION...
         qstrcat 332 888
         qstrcat 332 889
         setvar textscale 40960
         state settilealphanum
         state orientation27
         state gtz
        }
        else
        {
         getactorvar[hitsprite].HEALPANEL_RECHARGETIMER2 varname
         ifvare varname 0
         {
          setvar temp 332
          setvarvar digx 320
          setvarvar digy 30 // digy_test
          state pal20
          redefinequote 332 ^10NO CHARGES LEFT IN THIS HEALING STATION...
          setvar textscale 40960
          state settilealphanum
          state orientation27
          state gtz
         }
         else
         {
          setvar temp 332
          setvarvar digx 320
          setvarvar digy 30 // digy_test
          state pal20
          redefinequote 332 ^23WAIT A MOMENT FOR THIS STATION TO RECHARGE...
          setvar textscale 40960
          state settilealphanum
          state orientation27
          state gtz
         }
        }

        setvar shade 0
       }
      }
     }
    }
   }

  } // ifvarn hitsprite -1

 } // ifvarl AUTOMAPMODE 2
ends

state camera_breathingcharacter
ifvare oldskoolmode 0
{
 ifvare BREATHCAMERAFX 1
 {
  setvarvar TEMPVAR5 CURRENTHITPOINTS
  mulvar TEMPVAR5 1000
  divvarvar TEMPVAR5 MAXHITPOINTS

  setvarvar TEMPVAR3 PLAYERHEIGHT
  mulvar TEMPVAR3 1000
  divvar TEMPVAR3 12096

  ifvarg TEMPVAR5 750
  {
   ifp pducking setvar BREATHCAMERAZPOS 43 else setvar BREATHCAMERAZPOS 64
//   ifp pducking setvar BREATHCAMERAZPOS 171 else setvar BREATHCAMERAZPOS 256
   mulvarvar BREATHCAMERAZPOS TEMPVAR3
   divvar BREATHCAMERAZPOS 1000

   // 48 Frames
   ifvare BREATHCAMERATIMER 0 mulvar BREATHCAMERAZPOS 0
   ifvare BREATHCAMERATIMER 1 mulvar BREATHCAMERAZPOS -9
   ifvare BREATHCAMERATIMER 2 mulvar BREATHCAMERAZPOS -18
   ifvare BREATHCAMERATIMER 3 mulvar BREATHCAMERAZPOS -27
   ifvare BREATHCAMERATIMER 4 mulvar BREATHCAMERAZPOS -36
   ifvare BREATHCAMERATIMER 5 mulvar BREATHCAMERAZPOS -45
   ifvare BREATHCAMERATIMER 6 mulvar BREATHCAMERAZPOS -54
   ifvare BREATHCAMERATIMER 7 mulvar BREATHCAMERAZPOS -63
   ifvare BREATHCAMERATIMER 8 mulvar BREATHCAMERAZPOS -72
   ifvare BREATHCAMERATIMER 9 mulvar BREATHCAMERAZPOS -81
   ifvare BREATHCAMERATIMER 10 mulvar BREATHCAMERAZPOS -90
   ifvare BREATHCAMERATIMER 11 mulvar BREATHCAMERAZPOS -99
   ifvare BREATHCAMERATIMER 12 mulvar BREATHCAMERAZPOS -108
   ifvare BREATHCAMERATIMER 13 mulvar BREATHCAMERAZPOS -99
   ifvare BREATHCAMERATIMER 14 mulvar BREATHCAMERAZPOS -90
   ifvare BREATHCAMERATIMER 15 mulvar BREATHCAMERAZPOS -81
   ifvare BREATHCAMERATIMER 16 mulvar BREATHCAMERAZPOS -72
   ifvare BREATHCAMERATIMER 17 mulvar BREATHCAMERAZPOS -63
   ifvare BREATHCAMERATIMER 18 mulvar BREATHCAMERAZPOS -54
   ifvare BREATHCAMERATIMER 19 mulvar BREATHCAMERAZPOS -45
   ifvare BREATHCAMERATIMER 20 mulvar BREATHCAMERAZPOS -36
   ifvare BREATHCAMERATIMER 21 mulvar BREATHCAMERAZPOS -27
   ifvare BREATHCAMERATIMER 22 mulvar BREATHCAMERAZPOS -18
   ifvare BREATHCAMERATIMER 23 mulvar BREATHCAMERAZPOS -9
   ifvare BREATHCAMERATIMER 24 mulvar BREATHCAMERAZPOS 0
   ifvare BREATHCAMERATIMER 25 mulvar BREATHCAMERAZPOS 9
   ifvare BREATHCAMERATIMER 26 mulvar BREATHCAMERAZPOS 18
   ifvare BREATHCAMERATIMER 27 mulvar BREATHCAMERAZPOS 27
   ifvare BREATHCAMERATIMER 28 mulvar BREATHCAMERAZPOS 36
   ifvare BREATHCAMERATIMER 29 mulvar BREATHCAMERAZPOS 45
   ifvare BREATHCAMERATIMER 30 mulvar BREATHCAMERAZPOS 54
   ifvare BREATHCAMERATIMER 31 mulvar BREATHCAMERAZPOS 63
   ifvare BREATHCAMERATIMER 32 mulvar BREATHCAMERAZPOS 72
   ifvare BREATHCAMERATIMER 33 mulvar BREATHCAMERAZPOS 81
   ifvare BREATHCAMERATIMER 34 mulvar BREATHCAMERAZPOS 90
   ifvare BREATHCAMERATIMER 35 mulvar BREATHCAMERAZPOS 99
   ifvare BREATHCAMERATIMER 36 mulvar BREATHCAMERAZPOS 108
   ifvare BREATHCAMERATIMER 37 mulvar BREATHCAMERAZPOS 99
   ifvare BREATHCAMERATIMER 38 mulvar BREATHCAMERAZPOS 90
   ifvare BREATHCAMERATIMER 39 mulvar BREATHCAMERAZPOS 81
   ifvare BREATHCAMERATIMER 40 mulvar BREATHCAMERAZPOS 72
   ifvare BREATHCAMERATIMER 41 mulvar BREATHCAMERAZPOS 63
   ifvare BREATHCAMERATIMER 42 mulvar BREATHCAMERAZPOS 54
   ifvare BREATHCAMERATIMER 43 mulvar BREATHCAMERAZPOS 45
   ifvare BREATHCAMERATIMER 44 mulvar BREATHCAMERAZPOS 36
   ifvare BREATHCAMERATIMER 45 mulvar BREATHCAMERAZPOS 27
   ifvare BREATHCAMERATIMER 46 mulvar BREATHCAMERAZPOS 18
   ifvare BREATHCAMERATIMER 47 mulvar BREATHCAMERAZPOS 9
   ifvare BREATHCAMERATIMER 48 mulvar BREATHCAMERAZPOS 0
   divvar BREATHCAMERAZPOS 180 // 144

   ifp pducking setvar BREATHCAMERAHORIZ 0 else setvar BREATHCAMERAHORIZ -1
   ifvare BREATHCAMERATIMER 0 mulvar BREATHCAMERAHORIZ 0
   ifvare BREATHCAMERATIMER 1 mulvar BREATHCAMERAHORIZ 9
   ifvare BREATHCAMERATIMER 2 mulvar BREATHCAMERAHORIZ 18
   ifvare BREATHCAMERATIMER 3 mulvar BREATHCAMERAHORIZ 27
   ifvare BREATHCAMERATIMER 4 mulvar BREATHCAMERAHORIZ 36
   ifvare BREATHCAMERATIMER 5 mulvar BREATHCAMERAHORIZ 45
   ifvare BREATHCAMERATIMER 6 mulvar BREATHCAMERAHORIZ 54
   ifvare BREATHCAMERATIMER 7 mulvar BREATHCAMERAHORIZ 63
   ifvare BREATHCAMERATIMER 8 mulvar BREATHCAMERAHORIZ 72
   ifvare BREATHCAMERATIMER 9 mulvar BREATHCAMERAHORIZ 81
   ifvare BREATHCAMERATIMER 10 mulvar BREATHCAMERAHORIZ 90
   ifvare BREATHCAMERATIMER 11 mulvar BREATHCAMERAHORIZ 99
   ifvare BREATHCAMERATIMER 12 mulvar BREATHCAMERAHORIZ 108
   ifvare BREATHCAMERATIMER 13 mulvar BREATHCAMERAHORIZ 117
   ifvare BREATHCAMERATIMER 14 mulvar BREATHCAMERAHORIZ 126
   ifvare BREATHCAMERATIMER 15 mulvar BREATHCAMERAHORIZ 135
   ifvare BREATHCAMERATIMER 16 mulvar BREATHCAMERAHORIZ 144
   ifvare BREATHCAMERATIMER 17 mulvar BREATHCAMERAHORIZ 153
   ifvare BREATHCAMERATIMER 18 mulvar BREATHCAMERAHORIZ 162
   ifvare BREATHCAMERATIMER 19 mulvar BREATHCAMERAHORIZ 171
   ifvare BREATHCAMERATIMER 20 mulvar BREATHCAMERAHORIZ 180
   ifvare BREATHCAMERATIMER 21 mulvar BREATHCAMERAHORIZ 189
   ifvare BREATHCAMERATIMER 22 mulvar BREATHCAMERAHORIZ 198
   ifvare BREATHCAMERATIMER 23 mulvar BREATHCAMERAHORIZ 207
   ifvare BREATHCAMERATIMER 24 mulvar BREATHCAMERAHORIZ 216
   ifvare BREATHCAMERATIMER 25 mulvar BREATHCAMERAHORIZ 207
   ifvare BREATHCAMERATIMER 26 mulvar BREATHCAMERAHORIZ 198
   ifvare BREATHCAMERATIMER 27 mulvar BREATHCAMERAHORIZ 189
   ifvare BREATHCAMERATIMER 28 mulvar BREATHCAMERAHORIZ 180
   ifvare BREATHCAMERATIMER 29 mulvar BREATHCAMERAHORIZ 171
   ifvare BREATHCAMERATIMER 30 mulvar BREATHCAMERAHORIZ 162
   ifvare BREATHCAMERATIMER 31 mulvar BREATHCAMERAHORIZ 153
   ifvare BREATHCAMERATIMER 32 mulvar BREATHCAMERAHORIZ 144
   ifvare BREATHCAMERATIMER 33 mulvar BREATHCAMERAHORIZ 135
   ifvare BREATHCAMERATIMER 34 mulvar BREATHCAMERAHORIZ 126
   ifvare BREATHCAMERATIMER 35 mulvar BREATHCAMERAHORIZ 117
   ifvare BREATHCAMERATIMER 36 mulvar BREATHCAMERAHORIZ 108
   ifvare BREATHCAMERATIMER 37 mulvar BREATHCAMERAHORIZ 99
   ifvare BREATHCAMERATIMER 38 mulvar BREATHCAMERAHORIZ 90
   ifvare BREATHCAMERATIMER 39 mulvar BREATHCAMERAHORIZ 81
   ifvare BREATHCAMERATIMER 40 mulvar BREATHCAMERAHORIZ 72
   ifvare BREATHCAMERATIMER 41 mulvar BREATHCAMERAHORIZ 63
   ifvare BREATHCAMERATIMER 42 mulvar BREATHCAMERAHORIZ 54
   ifvare BREATHCAMERATIMER 43 mulvar BREATHCAMERAHORIZ 45
   ifvare BREATHCAMERATIMER 44 mulvar BREATHCAMERAHORIZ 36
   ifvare BREATHCAMERATIMER 45 mulvar BREATHCAMERAHORIZ 27
   ifvare BREATHCAMERATIMER 46 mulvar BREATHCAMERAHORIZ 18
   ifvare BREATHCAMERATIMER 47 mulvar BREATHCAMERAHORIZ 9
   ifvare BREATHCAMERATIMER 48 mulvar BREATHCAMERAHORIZ 0
   divvar BREATHCAMERAHORIZ 360 // 144
  }
  else
  ifvarg TEMPVAR5 500 ifvarl TEMPVAR5 751
  {
   ifp pducking setvar BREATHCAMERAZPOS 171 else setvar BREATHCAMERAZPOS 256
//   ifp pducking setvar BREATHCAMERAZPOS 213 else setvar BREATHCAMERAZPOS 320 // +64
//   ifp pducking setvar BREATHCAMERAZPOS 256 else setvar BREATHCAMERAZPOS 384 // +128
   mulvarvar BREATHCAMERAZPOS TEMPVAR3
   divvar BREATHCAMERAZPOS 1000

   // 44 Frames
   ifvare BREATHCAMERATIMER 0 mulvar BREATHCAMERAZPOS 0
   ifvare BREATHCAMERATIMER 1 mulvar BREATHCAMERAZPOS -9
   ifvare BREATHCAMERATIMER 2 mulvar BREATHCAMERAZPOS -18
   ifvare BREATHCAMERATIMER 3 mulvar BREATHCAMERAZPOS -27
   ifvare BREATHCAMERATIMER 4 mulvar BREATHCAMERAZPOS -36
   ifvare BREATHCAMERATIMER 5 mulvar BREATHCAMERAZPOS -45
   ifvare BREATHCAMERATIMER 6 mulvar BREATHCAMERAZPOS -54
   ifvare BREATHCAMERATIMER 7 mulvar BREATHCAMERAZPOS -63
   ifvare BREATHCAMERATIMER 8 mulvar BREATHCAMERAZPOS -72
   ifvare BREATHCAMERATIMER 9 mulvar BREATHCAMERAZPOS -81
   ifvare BREATHCAMERATIMER 10 mulvar BREATHCAMERAZPOS -90
   ifvare BREATHCAMERATIMER 11 mulvar BREATHCAMERAZPOS -99
   ifvare BREATHCAMERATIMER 12 mulvar BREATHCAMERAZPOS -90
   ifvare BREATHCAMERATIMER 13 mulvar BREATHCAMERAZPOS -81
   ifvare BREATHCAMERATIMER 14 mulvar BREATHCAMERAZPOS -72
   ifvare BREATHCAMERATIMER 15 mulvar BREATHCAMERAZPOS -63
   ifvare BREATHCAMERATIMER 16 mulvar BREATHCAMERAZPOS -54
   ifvare BREATHCAMERATIMER 17 mulvar BREATHCAMERAZPOS -45
   ifvare BREATHCAMERATIMER 18 mulvar BREATHCAMERAZPOS -36
   ifvare BREATHCAMERATIMER 19 mulvar BREATHCAMERAZPOS -27
   ifvare BREATHCAMERATIMER 20 mulvar BREATHCAMERAZPOS -18
   ifvare BREATHCAMERATIMER 21 mulvar BREATHCAMERAZPOS -9
   ifvare BREATHCAMERATIMER 22 mulvar BREATHCAMERAZPOS 0
   ifvare BREATHCAMERATIMER 23 mulvar BREATHCAMERAZPOS 9
   ifvare BREATHCAMERATIMER 24 mulvar BREATHCAMERAZPOS 18
   ifvare BREATHCAMERATIMER 25 mulvar BREATHCAMERAZPOS 27
   ifvare BREATHCAMERATIMER 26 mulvar BREATHCAMERAZPOS 36
   ifvare BREATHCAMERATIMER 27 mulvar BREATHCAMERAZPOS 45
   ifvare BREATHCAMERATIMER 28 mulvar BREATHCAMERAZPOS 54
   ifvare BREATHCAMERATIMER 29 mulvar BREATHCAMERAZPOS 63
   ifvare BREATHCAMERATIMER 30 mulvar BREATHCAMERAZPOS 72
   ifvare BREATHCAMERATIMER 31 mulvar BREATHCAMERAZPOS 81
   ifvare BREATHCAMERATIMER 32 mulvar BREATHCAMERAZPOS 90
   ifvare BREATHCAMERATIMER 33 mulvar BREATHCAMERAZPOS 99
   ifvare BREATHCAMERATIMER 34 mulvar BREATHCAMERAZPOS 90
   ifvare BREATHCAMERATIMER 35 mulvar BREATHCAMERAZPOS 81
   ifvare BREATHCAMERATIMER 36 mulvar BREATHCAMERAZPOS 72
   ifvare BREATHCAMERATIMER 37 mulvar BREATHCAMERAZPOS 63
   ifvare BREATHCAMERATIMER 38 mulvar BREATHCAMERAZPOS 54
   ifvare BREATHCAMERATIMER 39 mulvar BREATHCAMERAZPOS 45
   ifvare BREATHCAMERATIMER 40 mulvar BREATHCAMERAZPOS 36
   ifvare BREATHCAMERATIMER 41 mulvar BREATHCAMERAZPOS 27
   ifvare BREATHCAMERATIMER 42 mulvar BREATHCAMERAZPOS 18
   ifvare BREATHCAMERATIMER 43 mulvar BREATHCAMERAZPOS 9
   ifvare BREATHCAMERATIMER 44 mulvar BREATHCAMERAZPOS 0
   divvar BREATHCAMERAZPOS 180 // 165 // 132

   ifp pducking setvar BREATHCAMERAHORIZ -1 else setvar BREATHCAMERAHORIZ -2
//   ifp pducking setvar BREATHCAMERAHORIZ -3 else setvar BREATHCAMERAHORIZ -4
   ifvare BREATHCAMERATIMER 0 mulvar BREATHCAMERAHORIZ 0
   ifvare BREATHCAMERATIMER 1 mulvar BREATHCAMERAHORIZ 9
   ifvare BREATHCAMERATIMER 2 mulvar BREATHCAMERAHORIZ 18
   ifvare BREATHCAMERATIMER 3 mulvar BREATHCAMERAHORIZ 27
   ifvare BREATHCAMERATIMER 4 mulvar BREATHCAMERAHORIZ 36
   ifvare BREATHCAMERATIMER 5 mulvar BREATHCAMERAHORIZ 45
   ifvare BREATHCAMERATIMER 6 mulvar BREATHCAMERAHORIZ 54
   ifvare BREATHCAMERATIMER 7 mulvar BREATHCAMERAHORIZ 63
   ifvare BREATHCAMERATIMER 8 mulvar BREATHCAMERAHORIZ 72
   ifvare BREATHCAMERATIMER 9 mulvar BREATHCAMERAHORIZ 81
   ifvare BREATHCAMERATIMER 10 mulvar BREATHCAMERAHORIZ 90
   ifvare BREATHCAMERATIMER 11 mulvar BREATHCAMERAHORIZ 99
   ifvare BREATHCAMERATIMER 12 mulvar BREATHCAMERAHORIZ 108
   ifvare BREATHCAMERATIMER 13 mulvar BREATHCAMERAHORIZ 117
   ifvare BREATHCAMERATIMER 14 mulvar BREATHCAMERAHORIZ 126
   ifvare BREATHCAMERATIMER 15 mulvar BREATHCAMERAHORIZ 135
   ifvare BREATHCAMERATIMER 16 mulvar BREATHCAMERAHORIZ 144
   ifvare BREATHCAMERATIMER 17 mulvar BREATHCAMERAHORIZ 153
   ifvare BREATHCAMERATIMER 18 mulvar BREATHCAMERAHORIZ 162
   ifvare BREATHCAMERATIMER 19 mulvar BREATHCAMERAHORIZ 171
   ifvare BREATHCAMERATIMER 20 mulvar BREATHCAMERAHORIZ 180
   ifvare BREATHCAMERATIMER 21 mulvar BREATHCAMERAHORIZ 189
   ifvare BREATHCAMERATIMER 22 mulvar BREATHCAMERAHORIZ 198
   ifvare BREATHCAMERATIMER 23 mulvar BREATHCAMERAHORIZ 189
   ifvare BREATHCAMERATIMER 24 mulvar BREATHCAMERAHORIZ 180
   ifvare BREATHCAMERATIMER 25 mulvar BREATHCAMERAHORIZ 171
   ifvare BREATHCAMERATIMER 26 mulvar BREATHCAMERAHORIZ 162
   ifvare BREATHCAMERATIMER 27 mulvar BREATHCAMERAHORIZ 153
   ifvare BREATHCAMERATIMER 28 mulvar BREATHCAMERAHORIZ 144
   ifvare BREATHCAMERATIMER 29 mulvar BREATHCAMERAHORIZ 135
   ifvare BREATHCAMERATIMER 30 mulvar BREATHCAMERAHORIZ 126
   ifvare BREATHCAMERATIMER 31 mulvar BREATHCAMERAHORIZ 117
   ifvare BREATHCAMERATIMER 32 mulvar BREATHCAMERAHORIZ 108
   ifvare BREATHCAMERATIMER 33 mulvar BREATHCAMERAHORIZ 99
   ifvare BREATHCAMERATIMER 34 mulvar BREATHCAMERAHORIZ 90
   ifvare BREATHCAMERATIMER 35 mulvar BREATHCAMERAHORIZ 81
   ifvare BREATHCAMERATIMER 36 mulvar BREATHCAMERAHORIZ 72
   ifvare BREATHCAMERATIMER 37 mulvar BREATHCAMERAHORIZ 63
   ifvare BREATHCAMERATIMER 38 mulvar BREATHCAMERAHORIZ 54
   ifvare BREATHCAMERATIMER 39 mulvar BREATHCAMERAHORIZ 45
   ifvare BREATHCAMERATIMER 40 mulvar BREATHCAMERAHORIZ 36
   ifvare BREATHCAMERATIMER 41 mulvar BREATHCAMERAHORIZ 27
   ifvare BREATHCAMERATIMER 42 mulvar BREATHCAMERAHORIZ 18
   ifvare BREATHCAMERATIMER 43 mulvar BREATHCAMERAHORIZ 9
   ifvare BREATHCAMERATIMER 44 mulvar BREATHCAMERAHORIZ 0
   divvar BREATHCAMERAHORIZ 330 // 132
  }
  else
  ifvarg TEMPVAR5 250 ifvarl TEMPVAR5 501
  {
   ifp pducking setvar BREATHCAMERAZPOS 213 else setvar BREATHCAMERAZPOS 320 // +64
//   ifp pducking setvar BREATHCAMERAZPOS 274 else setvar BREATHCAMERAZPOS 412 // +96
//   ifp pducking setvar BREATHCAMERAZPOS 384 else setvar BREATHCAMERAZPOS 576 // +192
   mulvarvar BREATHCAMERAZPOS TEMPVAR3
   divvar BREATHCAMERAZPOS 1000

   // 40 Frames
   ifvare BREATHCAMERATIMER 0 mulvar BREATHCAMERAZPOS 0
   ifvare BREATHCAMERATIMER 1 mulvar BREATHCAMERAZPOS -9
   ifvare BREATHCAMERATIMER 2 mulvar BREATHCAMERAZPOS -18
   ifvare BREATHCAMERATIMER 3 mulvar BREATHCAMERAZPOS -27
   ifvare BREATHCAMERATIMER 4 mulvar BREATHCAMERAZPOS -36
   ifvare BREATHCAMERATIMER 5 mulvar BREATHCAMERAZPOS -45
   ifvare BREATHCAMERATIMER 6 mulvar BREATHCAMERAZPOS -54
   ifvare BREATHCAMERATIMER 7 mulvar BREATHCAMERAZPOS -63
   ifvare BREATHCAMERATIMER 8 mulvar BREATHCAMERAZPOS -72
   ifvare BREATHCAMERATIMER 9 mulvar BREATHCAMERAZPOS -81
   ifvare BREATHCAMERATIMER 10 mulvar BREATHCAMERAZPOS -90
   ifvare BREATHCAMERATIMER 11 mulvar BREATHCAMERAZPOS -81
   ifvare BREATHCAMERATIMER 12 mulvar BREATHCAMERAZPOS -72
   ifvare BREATHCAMERATIMER 13 mulvar BREATHCAMERAZPOS -63
   ifvare BREATHCAMERATIMER 14 mulvar BREATHCAMERAZPOS -54
   ifvare BREATHCAMERATIMER 15 mulvar BREATHCAMERAZPOS -45
   ifvare BREATHCAMERATIMER 16 mulvar BREATHCAMERAZPOS -36
   ifvare BREATHCAMERATIMER 17 mulvar BREATHCAMERAZPOS -27
   ifvare BREATHCAMERATIMER 18 mulvar BREATHCAMERAZPOS -18
   ifvare BREATHCAMERATIMER 19 mulvar BREATHCAMERAZPOS -9
   ifvare BREATHCAMERATIMER 20 mulvar BREATHCAMERAZPOS 0
   ifvare BREATHCAMERATIMER 21 mulvar BREATHCAMERAZPOS 9
   ifvare BREATHCAMERATIMER 22 mulvar BREATHCAMERAZPOS 18
   ifvare BREATHCAMERATIMER 23 mulvar BREATHCAMERAZPOS 27
   ifvare BREATHCAMERATIMER 24 mulvar BREATHCAMERAZPOS 36
   ifvare BREATHCAMERATIMER 25 mulvar BREATHCAMERAZPOS 45
   ifvare BREATHCAMERATIMER 26 mulvar BREATHCAMERAZPOS 54
   ifvare BREATHCAMERATIMER 27 mulvar BREATHCAMERAZPOS 63
   ifvare BREATHCAMERATIMER 28 mulvar BREATHCAMERAZPOS 72
   ifvare BREATHCAMERATIMER 29 mulvar BREATHCAMERAZPOS 81
   ifvare BREATHCAMERATIMER 30 mulvar BREATHCAMERAZPOS 90
   ifvare BREATHCAMERATIMER 31 mulvar BREATHCAMERAZPOS 81
   ifvare BREATHCAMERATIMER 32 mulvar BREATHCAMERAZPOS 72
   ifvare BREATHCAMERATIMER 33 mulvar BREATHCAMERAZPOS 63
   ifvare BREATHCAMERATIMER 34 mulvar BREATHCAMERAZPOS 54
   ifvare BREATHCAMERATIMER 35 mulvar BREATHCAMERAZPOS 45
   ifvare BREATHCAMERATIMER 36 mulvar BREATHCAMERAZPOS 36
   ifvare BREATHCAMERATIMER 37 mulvar BREATHCAMERAZPOS 27
   ifvare BREATHCAMERATIMER 38 mulvar BREATHCAMERAZPOS 18
   ifvare BREATHCAMERATIMER 39 mulvar BREATHCAMERAZPOS 9
   ifvare BREATHCAMERATIMER 40 mulvar BREATHCAMERAZPOS 0
   divvar BREATHCAMERAZPOS 180 // 150 // 120

   ifp pducking setvar BREATHCAMERAHORIZ -3 else setvar BREATHCAMERAHORIZ -4
//   ifp pducking setvar BREATHCAMERAHORIZ -4 else setvar BREATHCAMERAHORIZ -5
   ifvare BREATHCAMERATIMER 0 mulvar BREATHCAMERAHORIZ 0
   ifvare BREATHCAMERATIMER 1 mulvar BREATHCAMERAHORIZ 9
   ifvare BREATHCAMERATIMER 2 mulvar BREATHCAMERAHORIZ 18
   ifvare BREATHCAMERATIMER 3 mulvar BREATHCAMERAHORIZ 27
   ifvare BREATHCAMERATIMER 4 mulvar BREATHCAMERAHORIZ 36
   ifvare BREATHCAMERATIMER 5 mulvar BREATHCAMERAHORIZ 45
   ifvare BREATHCAMERATIMER 6 mulvar BREATHCAMERAHORIZ 54
   ifvare BREATHCAMERATIMER 7 mulvar BREATHCAMERAHORIZ 63
   ifvare BREATHCAMERATIMER 8 mulvar BREATHCAMERAHORIZ 72
   ifvare BREATHCAMERATIMER 9 mulvar BREATHCAMERAHORIZ 81
   ifvare BREATHCAMERATIMER 10 mulvar BREATHCAMERAHORIZ 90
   ifvare BREATHCAMERATIMER 11 mulvar BREATHCAMERAHORIZ 99
   ifvare BREATHCAMERATIMER 12 mulvar BREATHCAMERAHORIZ 108
   ifvare BREATHCAMERATIMER 13 mulvar BREATHCAMERAHORIZ 117
   ifvare BREATHCAMERATIMER 14 mulvar BREATHCAMERAHORIZ 126
   ifvare BREATHCAMERATIMER 15 mulvar BREATHCAMERAHORIZ 135
   ifvare BREATHCAMERATIMER 16 mulvar BREATHCAMERAHORIZ 144
   ifvare BREATHCAMERATIMER 17 mulvar BREATHCAMERAHORIZ 153
   ifvare BREATHCAMERATIMER 18 mulvar BREATHCAMERAHORIZ 162
   ifvare BREATHCAMERATIMER 19 mulvar BREATHCAMERAHORIZ 171
   ifvare BREATHCAMERATIMER 20 mulvar BREATHCAMERAHORIZ 180
   ifvare BREATHCAMERATIMER 21 mulvar BREATHCAMERAHORIZ 171
   ifvare BREATHCAMERATIMER 22 mulvar BREATHCAMERAHORIZ 162
   ifvare BREATHCAMERATIMER 23 mulvar BREATHCAMERAHORIZ 153
   ifvare BREATHCAMERATIMER 24 mulvar BREATHCAMERAHORIZ 144
   ifvare BREATHCAMERATIMER 25 mulvar BREATHCAMERAHORIZ 135
   ifvare BREATHCAMERATIMER 26 mulvar BREATHCAMERAHORIZ 126
   ifvare BREATHCAMERATIMER 27 mulvar BREATHCAMERAHORIZ 117
   ifvare BREATHCAMERATIMER 28 mulvar BREATHCAMERAHORIZ 108
   ifvare BREATHCAMERATIMER 29 mulvar BREATHCAMERAHORIZ 99
   ifvare BREATHCAMERATIMER 30 mulvar BREATHCAMERAHORIZ 90
   ifvare BREATHCAMERATIMER 31 mulvar BREATHCAMERAHORIZ 81
   ifvare BREATHCAMERATIMER 32 mulvar BREATHCAMERAHORIZ 72
   ifvare BREATHCAMERATIMER 33 mulvar BREATHCAMERAHORIZ 63
   ifvare BREATHCAMERATIMER 34 mulvar BREATHCAMERAHORIZ 54
   ifvare BREATHCAMERATIMER 35 mulvar BREATHCAMERAHORIZ 45
   ifvare BREATHCAMERATIMER 36 mulvar BREATHCAMERAHORIZ 36
   ifvare BREATHCAMERATIMER 37 mulvar BREATHCAMERAHORIZ 27
   ifvare BREATHCAMERATIMER 38 mulvar BREATHCAMERAHORIZ 18
   ifvare BREATHCAMERATIMER 39 mulvar BREATHCAMERAHORIZ 9
   ifvare BREATHCAMERATIMER 40 mulvar BREATHCAMERAHORIZ 0
   divvar BREATHCAMERAHORIZ 300 // 120
  }
  else
  ifvarg TEMPVAR5 100 ifvarl TEMPVAR5 251
  {
   ifp pducking setvar BREATHCAMERAZPOS 274 else setvar BREATHCAMERAZPOS 412 // +96
//   ifp pducking setvar BREATHCAMERAZPOS 360 else setvar BREATHCAMERAZPOS 540 // +128
//   ifp pducking setvar BREATHCAMERAZPOS 534 else setvar BREATHCAMERAZPOS 802 // +256
   mulvarvar BREATHCAMERAZPOS TEMPVAR3
   divvar BREATHCAMERAZPOS 1000

   // 36 Frames
   ifvare BREATHCAMERATIMER 0 mulvar BREATHCAMERAZPOS 0
   ifvare BREATHCAMERATIMER 1 mulvar BREATHCAMERAZPOS -9
   ifvare BREATHCAMERATIMER 2 mulvar BREATHCAMERAZPOS -18
   ifvare BREATHCAMERATIMER 3 mulvar BREATHCAMERAZPOS -27
   ifvare BREATHCAMERATIMER 4 mulvar BREATHCAMERAZPOS -36
   ifvare BREATHCAMERATIMER 5 mulvar BREATHCAMERAZPOS -45
   ifvare BREATHCAMERATIMER 6 mulvar BREATHCAMERAZPOS -54
   ifvare BREATHCAMERATIMER 7 mulvar BREATHCAMERAZPOS -63
   ifvare BREATHCAMERATIMER 8 mulvar BREATHCAMERAZPOS -72
   ifvare BREATHCAMERATIMER 9 mulvar BREATHCAMERAZPOS -81
   ifvare BREATHCAMERATIMER 10 mulvar BREATHCAMERAZPOS -72
   ifvare BREATHCAMERATIMER 11 mulvar BREATHCAMERAZPOS -63
   ifvare BREATHCAMERATIMER 12 mulvar BREATHCAMERAZPOS -54
   ifvare BREATHCAMERATIMER 13 mulvar BREATHCAMERAZPOS -45
   ifvare BREATHCAMERATIMER 14 mulvar BREATHCAMERAZPOS -36
   ifvare BREATHCAMERATIMER 15 mulvar BREATHCAMERAZPOS -27
   ifvare BREATHCAMERATIMER 16 mulvar BREATHCAMERAZPOS -18
   ifvare BREATHCAMERATIMER 17 mulvar BREATHCAMERAZPOS -9
   ifvare BREATHCAMERATIMER 18 mulvar BREATHCAMERAZPOS 0
   ifvare BREATHCAMERATIMER 19 mulvar BREATHCAMERAZPOS 9
   ifvare BREATHCAMERATIMER 20 mulvar BREATHCAMERAZPOS 18
   ifvare BREATHCAMERATIMER 21 mulvar BREATHCAMERAZPOS 27
   ifvare BREATHCAMERATIMER 22 mulvar BREATHCAMERAZPOS 36
   ifvare BREATHCAMERATIMER 23 mulvar BREATHCAMERAZPOS 45
   ifvare BREATHCAMERATIMER 24 mulvar BREATHCAMERAZPOS 54
   ifvare BREATHCAMERATIMER 25 mulvar BREATHCAMERAZPOS 63
   ifvare BREATHCAMERATIMER 26 mulvar BREATHCAMERAZPOS 72
   ifvare BREATHCAMERATIMER 27 mulvar BREATHCAMERAZPOS 81
   ifvare BREATHCAMERATIMER 28 mulvar BREATHCAMERAZPOS 72
   ifvare BREATHCAMERATIMER 29 mulvar BREATHCAMERAZPOS 63
   ifvare BREATHCAMERATIMER 30 mulvar BREATHCAMERAZPOS 54
   ifvare BREATHCAMERATIMER 31 mulvar BREATHCAMERAZPOS 45
   ifvare BREATHCAMERATIMER 32 mulvar BREATHCAMERAZPOS 36
   ifvare BREATHCAMERATIMER 33 mulvar BREATHCAMERAZPOS 27
   ifvare BREATHCAMERATIMER 34 mulvar BREATHCAMERAZPOS 18
   ifvare BREATHCAMERATIMER 35 mulvar BREATHCAMERAZPOS 9
   ifvare BREATHCAMERATIMER 36 mulvar BREATHCAMERAZPOS 0
   divvar BREATHCAMERAZPOS 180 // 135 // 108

   ifp pducking setvar BREATHCAMERAHORIZ -4 else setvar BREATHCAMERAHORIZ -6
//   ifp pducking setvar BREATHCAMERAHORIZ -4 else setvar BREATHCAMERAHORIZ -6
   ifvare BREATHCAMERATIMER 0 mulvar BREATHCAMERAHORIZ 0
   ifvare BREATHCAMERATIMER 1 mulvar BREATHCAMERAHORIZ 9
   ifvare BREATHCAMERATIMER 2 mulvar BREATHCAMERAHORIZ 18
   ifvare BREATHCAMERATIMER 3 mulvar BREATHCAMERAHORIZ 27
   ifvare BREATHCAMERATIMER 4 mulvar BREATHCAMERAHORIZ 36
   ifvare BREATHCAMERATIMER 5 mulvar BREATHCAMERAHORIZ 45
   ifvare BREATHCAMERATIMER 6 mulvar BREATHCAMERAHORIZ 54
   ifvare BREATHCAMERATIMER 7 mulvar BREATHCAMERAHORIZ 63
   ifvare BREATHCAMERATIMER 8 mulvar BREATHCAMERAHORIZ 72
   ifvare BREATHCAMERATIMER 9 mulvar BREATHCAMERAHORIZ 81
   ifvare BREATHCAMERATIMER 10 mulvar BREATHCAMERAHORIZ 90
   ifvare BREATHCAMERATIMER 11 mulvar BREATHCAMERAHORIZ 99
   ifvare BREATHCAMERATIMER 12 mulvar BREATHCAMERAHORIZ 108
   ifvare BREATHCAMERATIMER 13 mulvar BREATHCAMERAHORIZ 117
   ifvare BREATHCAMERATIMER 14 mulvar BREATHCAMERAHORIZ 126
   ifvare BREATHCAMERATIMER 15 mulvar BREATHCAMERAHORIZ 135
   ifvare BREATHCAMERATIMER 16 mulvar BREATHCAMERAHORIZ 144
   ifvare BREATHCAMERATIMER 17 mulvar BREATHCAMERAHORIZ 153
   ifvare BREATHCAMERATIMER 18 mulvar BREATHCAMERAHORIZ 162
   ifvare BREATHCAMERATIMER 19 mulvar BREATHCAMERAHORIZ 153
   ifvare BREATHCAMERATIMER 20 mulvar BREATHCAMERAHORIZ 144
   ifvare BREATHCAMERATIMER 21 mulvar BREATHCAMERAHORIZ 135
   ifvare BREATHCAMERATIMER 22 mulvar BREATHCAMERAHORIZ 126
   ifvare BREATHCAMERATIMER 23 mulvar BREATHCAMERAHORIZ 117
   ifvare BREATHCAMERATIMER 24 mulvar BREATHCAMERAHORIZ 108
   ifvare BREATHCAMERATIMER 25 mulvar BREATHCAMERAHORIZ 99
   ifvare BREATHCAMERATIMER 26 mulvar BREATHCAMERAHORIZ 90
   ifvare BREATHCAMERATIMER 27 mulvar BREATHCAMERAHORIZ 81
   ifvare BREATHCAMERATIMER 28 mulvar BREATHCAMERAHORIZ 72
   ifvare BREATHCAMERATIMER 29 mulvar BREATHCAMERAHORIZ 63
   ifvare BREATHCAMERATIMER 30 mulvar BREATHCAMERAHORIZ 54
   ifvare BREATHCAMERATIMER 31 mulvar BREATHCAMERAHORIZ 45
   ifvare BREATHCAMERATIMER 32 mulvar BREATHCAMERAHORIZ 36
   ifvare BREATHCAMERATIMER 33 mulvar BREATHCAMERAHORIZ 27
   ifvare BREATHCAMERATIMER 34 mulvar BREATHCAMERAHORIZ 18
   ifvare BREATHCAMERATIMER 35 mulvar BREATHCAMERAHORIZ 9
   ifvare BREATHCAMERATIMER 36 mulvar BREATHCAMERAHORIZ 0
   divvar BREATHCAMERAHORIZ 270 // 108
  }
  else
  ifvarl TEMPVAR5 101
  {
   ifp pducking setvar BREATHCAMERAZPOS 360 else setvar BREATHCAMERAZPOS 540 // +128
//   ifp pducking setvar BREATHCAMERAZPOS 467 else setvar BREATHCAMERAZPOS 700 // +160
//   ifp pducking setvar BREATHCAMERAZPOS 748 else setvar BREATHCAMERAZPOS 1122 // +320
   mulvarvar BREATHCAMERAZPOS TEMPVAR3
   divvar BREATHCAMERAZPOS 1000

   // 32 Frames
   ifvare BREATHCAMERATIMER 0 mulvar BREATHCAMERAZPOS 0
   ifvare BREATHCAMERATIMER 1 mulvar BREATHCAMERAZPOS -9
   ifvare BREATHCAMERATIMER 2 mulvar BREATHCAMERAZPOS -18
   ifvare BREATHCAMERATIMER 3 mulvar BREATHCAMERAZPOS -27
   ifvare BREATHCAMERATIMER 4 mulvar BREATHCAMERAZPOS -36
   ifvare BREATHCAMERATIMER 5 mulvar BREATHCAMERAZPOS -45
   ifvare BREATHCAMERATIMER 6 mulvar BREATHCAMERAZPOS -54
   ifvare BREATHCAMERATIMER 7 mulvar BREATHCAMERAZPOS -63
   ifvare BREATHCAMERATIMER 8 mulvar BREATHCAMERAZPOS -72
   ifvare BREATHCAMERATIMER 9 mulvar BREATHCAMERAZPOS -63
   ifvare BREATHCAMERATIMER 10 mulvar BREATHCAMERAZPOS -54
   ifvare BREATHCAMERATIMER 11 mulvar BREATHCAMERAZPOS -45
   ifvare BREATHCAMERATIMER 12 mulvar BREATHCAMERAZPOS -36
   ifvare BREATHCAMERATIMER 13 mulvar BREATHCAMERAZPOS -27
   ifvare BREATHCAMERATIMER 14 mulvar BREATHCAMERAZPOS -18
   ifvare BREATHCAMERATIMER 15 mulvar BREATHCAMERAZPOS -9
   ifvare BREATHCAMERATIMER 16 mulvar BREATHCAMERAZPOS 0
   ifvare BREATHCAMERATIMER 17 mulvar BREATHCAMERAZPOS 9
   ifvare BREATHCAMERATIMER 18 mulvar BREATHCAMERAZPOS 18
   ifvare BREATHCAMERATIMER 19 mulvar BREATHCAMERAZPOS 27
   ifvare BREATHCAMERATIMER 20 mulvar BREATHCAMERAZPOS 36
   ifvare BREATHCAMERATIMER 21 mulvar BREATHCAMERAZPOS 45
   ifvare BREATHCAMERATIMER 22 mulvar BREATHCAMERAZPOS 54
   ifvare BREATHCAMERATIMER 23 mulvar BREATHCAMERAZPOS 63
   ifvare BREATHCAMERATIMER 24 mulvar BREATHCAMERAZPOS 72
   ifvare BREATHCAMERATIMER 25 mulvar BREATHCAMERAZPOS 63
   ifvare BREATHCAMERATIMER 26 mulvar BREATHCAMERAZPOS 54
   ifvare BREATHCAMERATIMER 27 mulvar BREATHCAMERAZPOS 45
   ifvare BREATHCAMERATIMER 28 mulvar BREATHCAMERAZPOS 36
   ifvare BREATHCAMERATIMER 29 mulvar BREATHCAMERAZPOS 27
   ifvare BREATHCAMERATIMER 30 mulvar BREATHCAMERAZPOS 18
   ifvare BREATHCAMERATIMER 31 mulvar BREATHCAMERAZPOS 9
   ifvare BREATHCAMERATIMER 32 mulvar BREATHCAMERAZPOS 0
   divvar BREATHCAMERAZPOS 180 // 120 // 108

   ifp pducking setvar BREATHCAMERAHORIZ -5 else setvar BREATHCAMERAHORIZ -8
//   ifp pducking setvar BREATHCAMERAHORIZ -7 else setvar BREATHCAMERAHORIZ -10
   ifvare BREATHCAMERATIMER 0 mulvar BREATHCAMERAHORIZ 0
   ifvare BREATHCAMERATIMER 1 mulvar BREATHCAMERAHORIZ 9
   ifvare BREATHCAMERATIMER 2 mulvar BREATHCAMERAHORIZ 18
   ifvare BREATHCAMERATIMER 3 mulvar BREATHCAMERAHORIZ 27
   ifvare BREATHCAMERATIMER 4 mulvar BREATHCAMERAHORIZ 36
   ifvare BREATHCAMERATIMER 5 mulvar BREATHCAMERAHORIZ 45
   ifvare BREATHCAMERATIMER 6 mulvar BREATHCAMERAHORIZ 54
   ifvare BREATHCAMERATIMER 7 mulvar BREATHCAMERAHORIZ 63
   ifvare BREATHCAMERATIMER 8 mulvar BREATHCAMERAHORIZ 72
   ifvare BREATHCAMERATIMER 9 mulvar BREATHCAMERAHORIZ 81
   ifvare BREATHCAMERATIMER 10 mulvar BREATHCAMERAHORIZ 90
   ifvare BREATHCAMERATIMER 11 mulvar BREATHCAMERAHORIZ 99
   ifvare BREATHCAMERATIMER 12 mulvar BREATHCAMERAHORIZ 108
   ifvare BREATHCAMERATIMER 13 mulvar BREATHCAMERAHORIZ 117
   ifvare BREATHCAMERATIMER 14 mulvar BREATHCAMERAHORIZ 126
   ifvare BREATHCAMERATIMER 15 mulvar BREATHCAMERAHORIZ 135
   ifvare BREATHCAMERATIMER 16 mulvar BREATHCAMERAHORIZ 144
   ifvare BREATHCAMERATIMER 17 mulvar BREATHCAMERAHORIZ 135
   ifvare BREATHCAMERATIMER 18 mulvar BREATHCAMERAHORIZ 126
   ifvare BREATHCAMERATIMER 19 mulvar BREATHCAMERAHORIZ 117
   ifvare BREATHCAMERATIMER 20 mulvar BREATHCAMERAHORIZ 108
   ifvare BREATHCAMERATIMER 21 mulvar BREATHCAMERAHORIZ 99
   ifvare BREATHCAMERATIMER 22 mulvar BREATHCAMERAHORIZ 90
   ifvare BREATHCAMERATIMER 23 mulvar BREATHCAMERAHORIZ 81
   ifvare BREATHCAMERATIMER 24 mulvar BREATHCAMERAHORIZ 72
   ifvare BREATHCAMERATIMER 25 mulvar BREATHCAMERAHORIZ 63
   ifvare BREATHCAMERATIMER 26 mulvar BREATHCAMERAHORIZ 54
   ifvare BREATHCAMERATIMER 27 mulvar BREATHCAMERAHORIZ 45
   ifvare BREATHCAMERATIMER 28 mulvar BREATHCAMERAHORIZ 36
   ifvare BREATHCAMERATIMER 29 mulvar BREATHCAMERAHORIZ 27
   ifvare BREATHCAMERATIMER 30 mulvar BREATHCAMERAHORIZ 18
   ifvare BREATHCAMERATIMER 31 mulvar BREATHCAMERAHORIZ 9
   ifvare BREATHCAMERATIMER 32 mulvar BREATHCAMERAHORIZ 0
   divvar BREATHCAMERAHORIZ 240 // 108
  }

  getuserdef[THISACTOR].overhead_on tempb
  ifvarn tempb 2
  {
   getplayer[THISACTOR].over_shoulder_on tempb
   ifvare tempb 0
   {
    getactorvar[PLAYERID].FROZEN? tempb
    ifvare tempb 0
    {
     addvarvar CAMERAZTEMP BREATHCAMERAZPOS

     setvarvar TEMP camerahoriz
     addvarvar TEMP BREATHCAMERAHORIZ
     setvarvar camerahoriz TEMP
    }
    else
    {
     setvar BREATHCAMERAZPOS 0
     addvarvar CAMERAZTEMP BREATHCAMERAZPOS

     setvar BREATHCAMERAHORIZ 0
     setvarvar TEMP camerahoriz
     addvarvar TEMP BREATHCAMERAHORIZ
     setvarvar camerahoriz TEMP
    }
   }
   else
   {
    setvar BREATHCAMERAZPOS 0
    addvarvar CAMERAZTEMP BREATHCAMERAZPOS

    setvar BREATHCAMERAHORIZ 0
    setvarvar TEMP camerahoriz
    addvarvar TEMP BREATHCAMERAHORIZ
    setvarvar camerahoriz TEMP
   }
  }
  else
  {
   setvar BREATHCAMERAZPOS 0
   addvarvar CAMERAZTEMP BREATHCAMERAZPOS

   setvar BREATHCAMERAHORIZ 0
   setvarvar TEMP camerahoriz
   addvarvar TEMP BREATHCAMERAHORIZ
   setvarvar camerahoriz TEMP
  }
 }
 else
 {
  setvar BREATHCAMERAZPOS 0
  addvarvar CAMERAZTEMP BREATHCAMERAZPOS

  setvar BREATHCAMERAHORIZ 0
  setvarvar TEMP camerahoriz
  addvarvar TEMP BREATHCAMERAHORIZ
  setvarvar camerahoriz TEMP
 }
}
ends

state showcam
{
    setvarvar camerax CAMERASPRITEX
    setvarvar cameray CAMERASPRITEY
    setvarvar cameraz CAMERASPRITEZ
    setvarvar cameraang CAMERASPRITEA
    setvarvar camerahoriz CAMERASPRITESHADE
}
ends

state statgains-bossmetercheck
     ifvarn BOSSMETERID3 -1 addvar digy -21 // 32
     else
     {
      ifvarn BOSSMETERID2 -1 addvar digy -14 // 20
      else
      {
       ifvarn BOSSMETERID1 -1 addvar digy -7 // 8
       else addvar digy 0
      }
     }
ends

state check-skillenergycost-mulmenu
    ifvarand CHEATBITFIELD? 128 mulvar varname 0 else mulvarvar varname TEMPVAR
ends

state check-skillenergycost-addmenu
    ifvarand CHEATBITFIELD? 128 addvar varname 0 else addvarvar varname TEMPVAR
ends

state resetstatusskilletcchar
 getcurraddress TEMPVAR3
 randvar TEMPVAR4 15
 ifvare TEMPVAR4 1 { ifvarg DUKE? 0 { setvar mainmenupage 0 } else { jump TEMPVAR3 } }
 ifvare TEMPVAR4 2 { ifvarg JACK? 0 { setvar mainmenupage 1 } else { jump TEMPVAR3 } }
 ifvare TEMPVAR4 3 { ifvarg BUBSY? 0 { setvar mainmenupage 2 } else { jump TEMPVAR3 } }
 ifvare TEMPVAR4 4 { ifvarg AMI? 0 { setvar mainmenupage 3 } else { jump TEMPVAR3 } }
 ifvare TEMPVAR4 5 { ifvarg LOWANG? 0 { setvar mainmenupage 4 } else { jump TEMPVAR3 } }
 ifvare TEMPVAR4 6 { ifvarg ESSENCE? 0 { setvar mainmenupage 5 } else { jump TEMPVAR3 } }
 ifvare TEMPVAR4 7 { ifvarg TED? 0 { setvar mainmenupage 6 } else { jump TEMPVAR3 } }
 ifvare TEMPVAR4 8 { ifvarg LISA? 0 { setvar mainmenupage 7 } else { jump TEMPVAR3 } }
 ifvare TEMPVAR4 9 { ifvarg CYBANIS? 0 { setvar mainmenupage 8 } else { jump TEMPVAR3 } }
 ifvare TEMPVAR4 10 { ifvarg NETHRA? 0 { setvar mainmenupage 9 } else { jump TEMPVAR3 } }
 ifvare TEMPVAR4 11 { ifvarg PAULA? 0 { setvar mainmenupage 10 } else { jump TEMPVAR3 } }
 ifvare TEMPVAR4 12 { ifvarg LORI? 0 { setvar mainmenupage 11 } else { jump TEMPVAR3 } }
 ifvare TEMPVAR4 13 { ifvarg MINAKO? 0 { setvar mainmenupage 12 } else { jump TEMPVAR3 } }
 ifvare TEMPVAR4 14 { ifvarg MYSTERY1? 0 { setvar mainmenupage 13 } else { jump TEMPVAR3 } }
 ifvare TEMPVAR4 15 { ifvarg MAKEN? 0 { setvar mainmenupage 14 } else { jump TEMPVAR3 } }
ends

state saveformersubmenustuff
           setvarvar cursormemorysubmenu mainmenusubmenu
           setactorvar[cursormemorysubmenu].cursormemorypagepos mainmenupage
           setactorvar[cursormemorysubmenu].cursormemorycursorpos mainmenuselection
ends

state loadnewsubmenustuff
           setvarvar cursormemorysubmenu mainmenusubmenu
           getactorvar[cursormemorysubmenu].cursormemorypagepos mainmenupage
           getactorvar[cursormemorysubmenu].cursormemorycursorpos mainmenuselection 
           ifvarg mainmenusubmenu 2 ifvarl mainmenusubmenu 7 // Checks to see if a character is in the active party when going through Status/Skills/Support/EquipmentScreens
           {
            ifvarn DUKE? 1 { ifvare mainmenupage 0 state resetstatusskilletcchar }
            ifvarn JACK? 1 { ifvare mainmenupage 1 state resetstatusskilletcchar }
            ifvarn BUBSY? 1 { ifvare mainmenupage 2 state resetstatusskilletcchar }
            ifvarn AMI? 1 { ifvare mainmenupage 3 state resetstatusskilletcchar }
            ifvarn LOWANG? 1 { ifvare mainmenupage 4 state resetstatusskilletcchar }
            ifvarn ESSENCE? 1 { ifvare mainmenupage 5 state resetstatusskilletcchar }
            ifvarn TED? 1 { ifvare mainmenupage 6 state resetstatusskilletcchar }
            ifvarn LISA? 1 { ifvare mainmenupage 7 state resetstatusskilletcchar }
            ifvarn CYBANIS? 1 { ifvare mainmenupage 8 state resetstatusskilletcchar }
            ifvarn NETHRA? 1 { ifvare mainmenupage 9 state resetstatusskilletcchar }
            ifvarn PAULA? 1 { ifvare mainmenupage 10 state resetstatusskilletcchar }
            ifvarn LORI? 1 { ifvare mainmenupage 11 state resetstatusskilletcchar }
            ifvarn MINAKO? 1 { ifvare mainmenupage 12 state resetstatusskilletcchar }
            ifvarn MYSTERY1? 1 { ifvare mainmenupage 13 state resetstatusskilletcchar }
            ifvarn MAKEN? 1 { ifvare mainmenupage 14 state resetstatusskilletcchar }
           }
ends

state pulsingdn3ditem
  setvar MISCARRAYID 90 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // dn3d-item-pulse-timer
  getplayer[THISACTOR].player_par MISCARRAYID_AMOUNTTEMP
  modvar MISCARRAYID_AMOUNTTEMP 52
  switch MISCARRAYID_AMOUNTTEMP
  case 0 case 26 mulvar digz 750 break
  case 1 case 25 mulvar digz 769 break
  case 2 case 24 mulvar digz 788 break
  case 3 case 23 mulvar digz 808 break
  case 4 case 22 mulvar digz 827 break
  case 5 case 21 mulvar digz 846 break
  case 6 case 20 mulvar digz 865 break
  case 7 case 19 mulvar digz 885 break
  case 8 case 18 mulvar digz 904 break
  case 9 case 17 mulvar digz 923 break
  case 10 case 16 mulvar digz 942 break
  case 11 case 15 mulvar digz 962 break
  case 12 case 14 mulvar digz 981 break
  case 13 mulvar digz 1000 break
  case 27 case 51 mulvar digz 731 break
  case 28 case 50 mulvar digz 712 break
  case 29 case 49 mulvar digz 692 break
  case 30 case 48 mulvar digz 673 break
  case 31 case 47 mulvar digz 654 break
  case 32 case 46 mulvar digz 635 break
  case 33 case 45 mulvar digz 615 break
  case 34 case 44 mulvar digz 596 break
  case 35 case 43 mulvar digz 577 break
  case 36 case 42 mulvar digz 558 break
  case 37 case 41 mulvar digz 538 break
  case 38 case 40 mulvar digz 519 break
  case 39 mulvar digz 500 break
  default mulvar digz 750 break
  endswitch

  divvar digz 1000

  setvar MISCARRAYID 90 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // dn3d-item-pulse-timer
 ends

//********************************
//********************************
//********************************
//********************************
include INGAMEMENU.CON
//********************************
//********************************
//********************************
//********************************

//********************************
//********************************
//********************************
//********************************
include EVENTSMISC1.CON
//********************************
//********************************
//********************************
//********************************

//********************************
//********************************
//********************************
//********************************
include DISPLAYREST.CON
//********************************
//********************************
//********************************
//********************************

state givecheat_inventoryitems
 state checktelecoils addvar ITEMARRAYID_AMOUNTTEMP 200 state setitemidarrayamount
 state checkreschalices addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkeyedrops addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkantidotes addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkfoghorns addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkafasdrops addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checksunrings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkaquarings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkplasmarings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkspiritrings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkcharmankhs addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkmirrorshields addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkexpbadges addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkrankbadges addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkmoneybadges addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkriotshields addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checknyxglovepairs addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkrabbitsfoots addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkjumpbootpairs addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkshockabbootpairs addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkhappyshoepairs addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkstyleshoepairs addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkcharmshoepairs addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkpowerwrists addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkhockeymasks addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkgemstonecrowns addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkironrunes addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checktwilightcapes addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checksnakearmbands addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkmedicbags addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkserpenthelmets addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkenergyincurments addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkyinyangorbs addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkusedbodyarmors addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkusedsuperarmors addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkbodyarmors addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checksuperarmors addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkportablemedikits addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkheatsensors addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkbootpairs addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkholoforms addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkvitaminxs addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkjetpacks addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkscubatanks addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checksmallmedikits addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkmediummedikits addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checklargemedikits addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkextralargemedikits addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkmedpacks addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checksurgerykits addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkatomichealths addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checksuperatoms addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkusedgreenarmors addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkusedbluearmors addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkusedyellowarmors addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkusedredarmors addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkusedgreyarmors addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkusedwhitearmors addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkusedrandomarmors addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkgreenarmors addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkbluearmors addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkyellowarmors addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkredarmors addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkgreyarmors addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkwhitearmors addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkrandomarmors addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkfauxlevelups addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checksmallenergydrinks addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checklargeenergydrinks addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkhyperenergydrinks addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkwintersuits addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checksilkcarnations addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkrarepiratedoubloons addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkfixeddicepairs addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkmalakiangems addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checksafelockboxes addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checksecretrecipes addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkslurpeemachines addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkstockownerships addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checktransdimensionalsafes addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkbloodpactshields addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checksilverzirconrings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checksilveraquamarinerings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checksilverturquoiserings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checksilveremeraldrings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checksilvergarnetrings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checksilverrubyrings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checksilvercitrinerings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checksilverdiamondrings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkgoldzirconrings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkgoldaquamarinerings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkgoldturquoiserings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkgoldemeraldrings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkgoldgarnetrings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkgoldrubyrings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkgoldcitrinerings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkgolddiamondrings addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkgreentankcapsules addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkbluetankcapsules addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 state checkredtankcapsules addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
 addvar DOLLARS 400000 ifvarg DOLLARS 2000000000 setvar DOLLARS 2000000000
 ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS
 {
  state checkmysticsatchels addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount  
  state checktelebeacons addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
  state checkbubsylives addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
  state checkcontinues addvar ITEMARRAYID_AMOUNTTEMP 25 state setitemidarrayamount
  setvarvar CURRENTCELLS MAXCELLS
  setvar TEMP2 16
  mulvarvar TEMP2 STARTSTATMULTI 
  divvarvar TEMP2 STARTSTATDIVISOR 
  ifvarl TEMP2 1 setvar TEMP2 1
  addvarvar ESHIELDDMGFACTOR TEMP2
  addvarvar DAMAGEINCELL ESHIELDDMGFACTOR
  ifvare HAVEENERGYSHIELD? 0 setvar HAVEENERGYSHIELD? 1

  setvar MISCARRAYID 78 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // HAVE-MERCURY-COMPUTER?
  ifvare MISCARRAYID_AMOUNTTEMP 0 { setvar MISCARRAYID 78 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 1 } // HAVE-MERCURY-COMPUTER?

  setvar MISCARRAYID 77 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // HAVE-HACKERVISION?
  ifvare MISCARRAYID_AMOUNTTEMP 0 
  {
   setvar CHARACTERARRAY 8 setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME HEAT_AMOUNT 
   setvar MISCARRAYID 77 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 1 // HAVE-HACKERVISION?
  }

  setvar MISCARRAYID 67 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // GOT-PORTABLE-ATM?
  ifvare MISCARRAYID_AMOUNTTEMP 0 { setvar MISCARRAYID 67 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 1 }

  setvar MISCARRAYID 68 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // GOT-MONEY-RADAR?
  ifvare MISCARRAYID_AMOUNTTEMP 0 { setvar MISCARRAYID 68 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 1 }

  ifvare HAVEASHIKONJEWEL? 0 { state checkshikonjewels setvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount }

  setvar MISCARRAYID 76 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // CARD-MEMBERSHIP?
  ifvare MISCARRAYID_AMOUNTTEMP 0 { setvar MISCARRAYID 76 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 1 }
  else ifvare MISCARRAYID_AMOUNTTEMP 1 { setvar MISCARRAYID 76 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 2 }
  else ifvare MISCARRAYID_AMOUNTTEMP 2 { setvar MISCARRAYID 76 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 3 }
  else ifvare MISCARRAYID_AMOUNTTEMP 3 { setvar MISCARRAYID 76 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 4 }
  else ifvare MISCARRAYID_AMOUNTTEMP 4 { setvar MISCARRAYID 76 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 5 }

 }
ends

state usemedikit
   ifvarvarl CURRENTHITPOINTS MAXHITPOINTS   // If Health is less than the normal Max
   {
    ifvarg FIRSTAIDCURRENT 0           // If there is any First Aid Health left
    {
     state gotmedsyoureallyneeded
     setvarvar tempb MAXHITPOINTS    
     subvarvar tempb CURRENTHITPOINTS    // tempb now holds the amount you need to heal
     ifvarvarl FIRSTAIDCURRENT tempb // if there isn't enough medkit to heal completely
     {
      addvarvar CURRENTHITPOINTS FIRSTAIDCURRENT // add what you have to player's health
      setvarvar tempb FIRSTAIDCURRENT
      setvar FIRSTAIDCURRENT 0 // and set medkit to zero
     }
     else // else if there is enough medkit for a full heal
     {
      subvarvar FIRSTAIDCURRENT tempb // subtract amount to be healed from medkit
      addvarvar CURRENTHITPOINTS tempb // add what you have to player's health
     }
     getplayer[THISACTOR].over_shoulder_on SHOWDAMAGEPLAYER
     ifvarn SHOWDAMAGEPLAYER 0
     {
      ifvarg tempb 0
      {
       setvarvar SHOWDAMAGE tempb
       setvar SHOWDAMAGETYPE 3
       setvarvar SHOWDAMAGEACTORID PLAYERID
       state showdamage
      }
     }

     sound USE_MEDIKITITEM
     sound DUKE_HARTBEAT
     setvar DISPLAYFAFLASHTIMER 28
     setvar DISPLAYHPFLASHTIMER -28
     setvar PLAYERHPDAMAGED? -1
    }
   }
  ifvarg oldskoolmode 0 setplayer[THISACTOR].inven_icon 1
ends

state stopfallscreams
  stopsound DUKE_SCREAM // If the character is screaming, stop the sound
  stopsound DUKE_SCREAM2 // If the character is screaming, stop the sound
  stopsound JACK_FALLSCREAM
  stopsound WANG_SCREAM
  stopsound ESSENCE_FALLSCREAM
  stopsound LISA_FALLSCREAM
  stopsound CYBANIS_FALLSCREAM
  stopsound MAKEN_FALLSCREAM
ends

state gliding // Bubsy-specfic ability to glide to prevent fall damage/death
ifvare CHARACTERSELECTED? 3 // Makes Bubsy the sole user of the ability :P
{
 ifp pjetpack setvar GLIDING? 0
 else
 {
  ifvare VEHICLEID -1
  {
    ifvarl poszv 896
	{
	 setvar GLIDING? 0
	 ifvarg fallcounter 0 
	 { 
	  subvar fallcounter 1
	  ifrnd 170 subvar fallcounter 1
	  ifrnd 85 subvar fallcounter 1
	 }
	 ifvarl fallcounter 0 setvar fallcounter 0
	}
    else ifvarg poszv 896
    { 
     setvar GLIDING? 1
     ifvare SKILLLEVEL 0 subvar poszv 768
     else ifvare SKILLLEVEL 1 subvar poszv 616
     else ifvare SKILLLEVEL 2 subvar poszv 512
     else ifvare SKILLLEVEL 3 subvar poszv 440
     else ifvare SKILLLEVEL 4 subvar poszv 384
     else ifvare SKILLLEVEL 5 subvar poszv 384
     else ifvare SKILLLEVEL 6 subvar poszv 342
     else ifvare SKILLLEVEL 7 subvar poszv 308
     else ifvare SKILLLEVEL 8 subvar poszv 280
     else ifvare SKILLLEVEL 9 subvar poszv 256
     else setvar poszv 896
     ifvarl poszv 896 setvar poszv 896
     setplayer[THISACTOR].poszv poszv
     ifvarl poszv 3072
     {
      setplayer[THISACTOR].falling_counter 0 // if the glide is started in the middle of a fall, it will reset the fall counters back to 0
      setvar FALLSOUND? 0
      setvar fallingresistance 0
      setvar fallcounter2 0
      setvar totalfallcounter 0
      setvar falldamageratio 0
      setvar fallcounts 0 // if the glide is started in the middle of a fall, it will reset the fall counters back to 0
      state stopfallscreams
     }
    }
   
  }
 }
}
ends

define RANDOMCOIN 5151
define RANDOMDOLLAR 5152
define RANDOMMONEY 5153

define RANDOMCOIN_LESSER 5160
define RANDOMDOLLAR_LESSER 5161
define RANDOMMONEY_LESSER 5162
define RANDOMCOIN_GREATER 5163
define RANDOMDOLLAR_GREATER 5164
define RANDOMMONEY_GREATER 5165
define RANDOMCOIN_GREATEST 5166
define RANDOMDOLLAR_GREATEST 5167
define RANDOMMONEY_GREATEST 5168

state setrpgsize
   sizeat 14 14
ends

state deleteoldmoney
   ifvarn SKILLSET? 1 { cstat 32768 setvar SKILLSET? 1 }
   break
ends

state properRPG
   addstrength RPG_WEAPON_STRENGTH
   addstrength RPG_WEAPON_STRENGTH
   addstrength RPG_WEAPON_STRENGTH
ends

state respawnspritefix // For allowing the respawn sprite to apply the correct palettes and flags to any monster [instead of just the bosses]
  getactor[THISACTOR].owner temp
  ifvarvarn temp THISACTOR
  {
   getactor[temp].picnum tempb
   ifvare tempb RESPAWN
   {
    getactor[temp].pal TEMPVAR
    setactor[THISACTOR].pal TEMPVAR

    getactor[temp].xvel TEMPVAR
    setactorvar[THISACTOR].ENEMYLEVELMINSPAWN TEMPVAR
    getactor[temp].yvel TEMPVAR
    setactorvar[THISACTOR].ENEMYLEVELMAXSPAWN TEMPVAR

//  Todo: Add RESPAWN Calcuation Code
    ifvarg ENEMYLEVELMINSPAWN 0
    {
     ifvarg ENEMYLEVELMAXSPAWN 0
     {
      ifvarvarl ENEMYLEVELMINSPAWN ENEMYLEVELMAXSPAWN
      {
       setvarvar tempc ENEMYLEVELMAXSPAWN
       subvarvar tempc ENEMYLEVELMINSPAWN    
       randvarvar ENEMYLEVEL tempc
       addvarvar ENEMYLEVEL ENEMYLEVELMINSPAWN
      }
      else
      {
       setvarvar ENEMYLEVEL ENEMYLEVELMINSPAWN
      }
     }
    }
    ifvarg ENEMYLEVEL 100 setvar ENEMYLEVEL 100

    getactor[temp].zvel TEMPVAR
    setactorvar[THISACTOR].ACTORFLAGS TEMPVAR
   }
  }
ends

state respawnspriteitemfix // Carries over actorflags and stuff from items that are spawned
  getactor[THISACTOR].owner temp
  ifvarvarn temp THISACTOR
  {
   getactor[temp].picnum tempb
   ifvare tempb RESPAWN
   {
    getactor[temp].pal TEMPVAR
    setactor[THISACTOR].pal TEMPVAR

    ifactor COLORSHIELD
    {
     setactorvar[THISACTOR].ACTORNATURALPAL TEMPVAR
     setvar FLAGSSET? 1 
    }

    ifactor SUPERATOM
    {
     setactorvar[THISACTOR].ACTORNATURALPAL TEMPVAR
     ifvare TEMPVAR 12 sizeat 96 96
     ifvare TEMPVAR 16 sizeat 48 48
     setvar FLAGSSET? 1 
    }

    getactor[temp].yvel TEMPVAR
    setactorvar[THISACTOR].lotagsav TEMPVAR
    getactor[temp].zvel TEMPVAR
    setactorvar[THISACTOR].ACTORFLAGS TEMPVAR
    ifvarand TEMPVAR 16384
    {
     ifactor SHIELD setactorvar[THISACTOR].ARMORISUSED? 1
     ifactor SUPERSHIELD setactorvar[THISACTOR].ARMORISUSED? 1
     ifactor COLORSHIELD setactorvar[THISACTOR].ARMORISUSED? 1
    }
   }
  }
ends

state changejibcolor_egs
  getactor[THISACTOR].owner TEMPVAR
  getactor[TEMPVAR].pal TEMPVAR
  setactor[THISACTOR].pal TEMPVAR
ends

state exit_mainmenu
            // loadmapstate setactor[PLAYERID].extra 16383
            setvar mainmenu 0 
            sound MENU_EXIT 
            stopsound MENU_ENTER 
            setplayer[THISACTOR].jumping_counter jumpcountertemp
ends


// Misc

state checkhealthcharacter_items
              getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR2
ends

state checkhealthvehicle_items
              getactorvar[VEHICLEID].ENEMYHP TEMPVAR
              getactorvar[VEHICLEID].ENEMYMAXHP TEMPVAR2
ends

state checkarmorcharacter_items
              getactorvar[CHARACTERARRAY].CHARACTERAP TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXAP TEMPVAR2
              getactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR3
ends

state checkarmorvehicle_items
              getactorvar[VEHICLEID].ENEMYAP TEMPVAR
              getactorvar[VEHICLEID].ENEMYMAXAP TEMPVAR2
              getactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3
ends

state checkenergycharacter_items
              getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXEP TEMPVAR2
ends

state giverandomapamount_player_items
               ifrnd 64 setvar RECEIVEDARMOR 875
               else ifrnd 85 setvar RECEIVEDARMOR 750
               else ifrnd 128 setvar RECEIVEDARMOR 500
               else setvar RECEIVEDARMOR 250
               mulvarvar RECEIVEDARMOR MAXARMORPOINTS
               divvar RECEIVEDARMOR 1000
               addvarvar CURRENTARMORPOINTS RECEIVEDARMOR
               state showhealing_playerap
               ifvarvarg CURRENTARMORPOINTS MAXARMORPOINTS setvarvar CURRENTARMORPOINTS MAXARMORPOINTS
ends

state giverandomapamount_character_items
               ifrnd 64 setvar RECEIVEDARMOR 875
               else ifrnd 85 setvar RECEIVEDARMOR 750
               else ifrnd 128 setvar RECEIVEDARMOR 500
               else setvar RECEIVEDARMOR 250
               mulvarvar RECEIVEDARMOR TEMPVAR2
               divvar RECEIVEDARMOR 1000
               addvarvar TEMPVAR RECEIVEDARMOR
               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               setactorvar[CHARACTERARRAY].CHARACTERAP TEMPVAR
ends

state giverandomapamount_vehicle_items
               ifrnd 64 setvar RECEIVEDARMOR 875
               else ifrnd 85 setvar RECEIVEDARMOR 750
               else ifrnd 128 setvar RECEIVEDARMOR 500
               else setvar RECEIVEDARMOR 250
               mulvarvar RECEIVEDARMOR TEMPVAR2
               divvar RECEIVEDARMOR 1000
               addvarvar TEMPVAR RECEIVEDARMOR
               state showhealing_playerap
               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               setactorvar[VEHICLEID].ENEMYAP TEMPVAR
ends

state item_energyuse_sounds
               sound DUKE_GET
               ifrnd 85 globalsound CANOPENED1
               else ifrnd 128 globalsound CANOPENED2
               else globalsound CANOPENED3
               ifrnd 128 globalsound SODAFIZZ1
               else globalsound SODAFIZZ2
ends

state item_armoruse_sounds
               sound DUKE_GET
               globalsound KICK_HIT
ends

// Item Use States

state usefoghorn
             subvar TEMPVAR 128
             state checkfoghorns subvar ITEMARRAYID_AMOUNT 1 state setitemidarrayamount
             stopsound HEAL_AILMENT
             globalsound HEAL_AILMENT
ends

state usefoghorn2
             subvar TEMPVAR 128
             setactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
             state checkfoghorns subvar ITEMARRAYID_AMOUNT 1 state setitemidarrayamount
             stopsound HEAL_AILMENT
             globalsound HEAL_AILMENT
ends

state useantidote
             subvar TEMPVAR 8
             state checkantidotes subvar ITEMARRAYID_AMOUNT 1 state setitemidarrayamount
             globalsound HEAL_AILMENT
ends

state useantidote2
             subvar TEMPVAR 8
             setactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
             state checkantidotes subvar ITEMARRAYID_AMOUNT 1 state setitemidarrayamount
             stopsound HEAL_AILMENT
             globalsound HEAL_AILMENT
ends

state useeyedrop
             subvar TEMPVAR 16 
             state checkeyedrops subvar ITEMARRAYID_AMOUNT 1 state setitemidarrayamount
             stopsound HEAL_AILMENT
             globalsound HEAL_AILMENT
ends

state useeyedrop2
             subvar TEMPVAR 16 
             setactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
             state checkeyedrops subvar ITEMARRAYID_AMOUNT 1 state setitemidarrayamount
             stopsound HEAL_AILMENT
             globalsound HEAL_AILMENT
ends

state usereschalice
             getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
             setvarvar TEMP6 SKILLLEVEL
             addvar TEMP6 1
             divvarvar TEMPVAR TEMP6
             setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR

             ifvare PUBLICBETA? 1
             {
              getactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME TEMPVAR
              setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME TEMPVAR
              setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME TEMPVAR
             }

             state checkreschalices subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount

             stopsound RESURRECTED_ALLY
             globalsound RESURRECTED_ALLY 
ends

     state random_afasdrop
             randvar TEMPVAR5 15 addvar TEMPVAR5 1
             ifvare TEMPVAR5 1 addvar TEMPVAR 1 
             ifvare TEMPVAR5 2 addvar TEMPVAR 1 
             ifvare TEMPVAR5 3 addvar TEMPVAR 1 
             ifvare TEMPVAR5 4 addvar TEMPVAR 1 
             ifvare TEMPVAR5 5 addvar TEMPVAR 1 
             ifvare TEMPVAR5 6 addvar TEMPVAR 1 
             ifvare TEMPVAR5 7 addvar TEMPVAR 1
             ifvare TEMPVAR5 8 addvar TEMPVAR 1 
             ifvare TEMPVAR5 9 addvar TEMPVAR 1 
             ifvare TEMPVAR5 10 addvar TEMPVAR 1
             ifvare TEMPVAR5 11 addvar TEMPVAR 2
             ifvare TEMPVAR5 12 addvar TEMPVAR 2
             ifvare TEMPVAR5 13 addvar TEMPVAR 2
             ifvare TEMPVAR5 14 addvar TEMPVAR 2
             ifvare TEMPVAR5 15 addvar TEMPVAR 2
             ifvare TEMPVAR5 16 addvar TEMPVAR 3
     ends

state useafasdrop
       // Increase HP Growth Curve by 1-3 pts
             getactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE TEMPVAR
             state random_afasdrop
             setactorvar[CHARACTERARRAY].CHARACTERHPINCREASECURVE TEMPVAR

       // Increase AP Growth Curve by 1-3 pts
             getactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE TEMPVAR
             state random_afasdrop
             setactorvar[CHARACTERARRAY].CHARACTERAPINCREASECURVE TEMPVAR

       // Increase EP Growth Curve by 1-3 pts
             getactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE TEMPVAR
             state random_afasdrop
             setactorvar[CHARACTERARRAY].CHARACTEREPINCREASECURVE TEMPVAR

       // Increase Attack Growth Curve by 1-3 pts
             getactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE TEMPVAR
             state random_afasdrop
             setactorvar[CHARACTERARRAY].CHARACTERATKINCREASECURVE TEMPVAR

       // Increase Defense Growth Curve by 1-3 pts
             getactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE TEMPVAR
             state random_afasdrop
             setactorvar[CHARACTERARRAY].CHARACTERDEFINCREASECURVE TEMPVAR

             state checkafasdrops subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
             stopsound USE_AFASDROP
             globalsound USE_AFASDROP 
ends

   state secretrecipecheck_inventory
               // Check Secret Recipes [Permenant Boost Item]
               state checksecretrecipes
               ifvarvarg PARTYSIZE ITEMARRAYID_AMOUNTTEMP setvarvar TEMP6 ITEMARRAYID_AMOUNTTEMP else setvarvar TEMP6 PARTYSIZE
               mulvar TEMP6 2 // 2% per item
               addvar TEMP6 100

               mulvarvar TEMP7 TEMP6
               divvar TEMP7 100
   ends

state medicbag_check2a
             ifvarvarn CHARACTERARRAY2 CHARACTERSELECTED?
             {
              getactorvar[CHARACTERARRAY2].CHARACTERMAXHP TEMPVAR3
              mulvarvar TEMPVAR3 TEMPVAR6
              divvar TEMPVAR3 1000

              getactorvar[CHARACTERARRAY2].CHARACTERHP TEMPVAR4
              ifvarg TEMPVAR4 0
              {
               addvarvar TEMPVAR4 TEMPVAR3
               getactorvar[CHARACTERARRAY2].CHARACTERMAXHP TEMPVAR5
               ifvarvarg TEMPVAR4 TEMPVAR5 setvarvar TEMPVAR4 TEMPVAR5
               setactorvar[CHARACTERARRAY2].CHARACTERHP TEMPVAR4
              }
             }
             else
             {
              setvarvar TEMPVAR3 MAXHITPOINTS
              mulvarvar TEMPVAR3 TEMPVAR6
              divvar TEMPVAR3 1000

              ifvarg CURRENTHITPOINTS 0
              {
               addvarvar CURRENTHITPOINTS TEMPVAR3
               ifvarvarg CURRENTHITPOINTS MAXHITPOINTS setvarvar CURRENTHITPOINTS MAXHITPOINTS
              }
             }
ends

state medicbag_check1character
              // Check for Medic Bag [Equippable Item]
              setvar DAMAGEMODIFIER 0
              ifvarg INVENTORYSLOTMAX 0 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 TEMPVAR7 else setvar TEMPVAR7 -1
              ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
              ifvarg INVENTORYSLOTMAX 1 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 TEMPVAR7 else setvar TEMPVAR7 -1
              ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
              ifvarg INVENTORYSLOTMAX 2 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 TEMPVAR7 else setvar TEMPVAR7 -1
              ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
              ifvarg INVENTORYSLOTMAX 3 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 TEMPVAR7 else setvar TEMPVAR7 -1
              ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
              ifvarg INVENTORYSLOTMAX 4 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 TEMPVAR7 else setvar TEMPVAR7 -1
              ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
              ifvarg INVENTORYSLOTMAX 5 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 TEMPVAR7 else setvar TEMPVAR7 -1
              ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
              ifvarg INVENTORYSLOTMAX 6 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 TEMPVAR7 else setvar TEMPVAR7 -1
              ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
              ifvarg INVENTORYSLOTMAX 7 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 TEMPVAR7 else setvar TEMPVAR7 -1
              ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
              /*
              ifvare EQUIPCHEAT? 0
              {
               ifvarl SKILLLEVEL 10 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 TEMPVAR7 else setvar TEMPVAR7 -1
               ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
               ifvarl SKILLLEVEL 7 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 TEMPVAR7 else setvar TEMPVAR7 -1
               ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
               ifvarl SKILLLEVEL 4 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 TEMPVAR7 else setvar TEMPVAR7 -1
               ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
               ifvarl SKILLLEVEL 1 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 TEMPVAR7 else setvar TEMPVAR7 -1
               ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
              }
              else
              {
               getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 TEMPVAR7
               ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
               getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 TEMPVAR7
               ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
               getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 TEMPVAR7
               ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
               getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 TEMPVAR7
               ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
               getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 TEMPVAR7
               ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
               getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 TEMPVAR7
               ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
               getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 TEMPVAR7
               ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
               getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 TEMPVAR7
               ifvare TEMPVAR7 24 addvar DAMAGEMODIFIER 10
              }
              */
              ifvarg DAMAGEMODIFIER 100 setvar DAMAGEMODIFIER 100
              setvarvar TEMPVAR6 TEMP
              mulvarvar TEMPVAR6 DAMAGEMODIFIER
              divvar TEMPVAR6 100
              ifvarg TEMPVAR6 0
              {
               ifvarn CHARACTERARRAY 1 { setvar CHARACTERARRAY2 1 state medicbag_check2a }
               ifvarn CHARACTERARRAY 2 { setvar CHARACTERARRAY2 2 state medicbag_check2a }
               ifvarn CHARACTERARRAY 3 { setvar CHARACTERARRAY2 3 state medicbag_check2a }
               ifvarn CHARACTERARRAY 4 { setvar CHARACTERARRAY2 4 state medicbag_check2a }
               ifvarn CHARACTERARRAY 5 { setvar CHARACTERARRAY2 5 state medicbag_check2a }
               ifvarn CHARACTERARRAY 6 { setvar CHARACTERARRAY2 6 state medicbag_check2a }
               ifvarn CHARACTERARRAY 7 { setvar CHARACTERARRAY2 7 state medicbag_check2a }
               ifvarn CHARACTERARRAY 8 { setvar CHARACTERARRAY2 8 state medicbag_check2a }
               ifvarn CHARACTERARRAY 9 { setvar CHARACTERARRAY2 9 state medicbag_check2a }
               ifvarn CHARACTERARRAY 10 { setvar CHARACTERARRAY2 10 state medicbag_check2a }
               ifvarn CHARACTERARRAY 11 { setvar CHARACTERARRAY2 11 state medicbag_check2a }
               ifvarn CHARACTERARRAY 12 { setvar CHARACTERARRAY2 12 state medicbag_check2a }
               ifvarn CHARACTERARRAY 13 { setvar CHARACTERARRAY2 13 state medicbag_check2a }
               ifvarn CHARACTERARRAY 14 { setvar CHARACTERARRAY2 14 state medicbag_check2a }
               ifvarn CHARACTERARRAY 15 { setvar CHARACTERARRAY2 15 state medicbag_check2a }
              }
ends

state medicbag_check2b
                getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR3
                mulvarvar TEMPVAR3 TEMPVAR6
                divvar TEMPVAR3 1000

                getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR4
                ifvarg TEMPVAR4 0
                {
                 addvarvar TEMPVAR4 TEMPVAR3
                 getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR5
                 ifvarvarg TEMPVAR4 TEMPVAR5 setvarvar TEMPVAR4 TEMPVAR5
                 setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR4
                }
ends

state medicbag_check1player
              // Check for Medic Bag [Equippable Item]
              setvar DAMAGEMODIFIER 0
              ifvare PLAYEREQUIPSLOTITEM1 24 addvar DAMAGEMODIFIER 10
              ifvare PLAYEREQUIPSLOTITEM2 24 addvar DAMAGEMODIFIER 10
              ifvare PLAYEREQUIPSLOTITEM3 24 addvar DAMAGEMODIFIER 10
              ifvare PLAYEREQUIPSLOTITEM4 24 addvar DAMAGEMODIFIER 10
              ifvare PLAYEREQUIPSLOTITEM5 24 addvar DAMAGEMODIFIER 10
              ifvare PLAYEREQUIPSLOTITEM6 24 addvar DAMAGEMODIFIER 10
              ifvare PLAYEREQUIPSLOTITEM7 24 addvar DAMAGEMODIFIER 10
              ifvare PLAYEREQUIPSLOTITEM8 24 addvar DAMAGEMODIFIER 10
              ifvarg DAMAGEMODIFIER 100 setvar DAMAGEMODIFIER 100
              setvarvar TEMPVAR6 TEMP
              mulvarvar TEMPVAR6 DAMAGEMODIFIER
              divvar TEMPVAR6 100
              ifvarg TEMPVAR6 0
              {
               ifvarn CHARACTERSELECTED? 1 { setvar CHARACTERARRAY 1 state medicbag_check2b }
               ifvarn CHARACTERSELECTED? 2 { setvar CHARACTERARRAY 2 state medicbag_check2b }
               ifvarn CHARACTERSELECTED? 3 { setvar CHARACTERARRAY 3 state medicbag_check2b }
               ifvarn CHARACTERSELECTED? 4 { setvar CHARACTERARRAY 4 state medicbag_check2b }
               ifvarn CHARACTERSELECTED? 5 { setvar CHARACTERARRAY 5 state medicbag_check2b }
               ifvarn CHARACTERSELECTED? 6 { setvar CHARACTERARRAY 6 state medicbag_check2b }
               ifvarn CHARACTERSELECTED? 7 { setvar CHARACTERARRAY 7 state medicbag_check2b }
               ifvarn CHARACTERSELECTED? 8 { setvar CHARACTERARRAY 8 state medicbag_check2b }
               ifvarn CHARACTERSELECTED? 9 { setvar CHARACTERARRAY 9 state medicbag_check2b }
               ifvarn CHARACTERSELECTED? 10 { setvar CHARACTERARRAY 10 state medicbag_check2b }
               ifvarn CHARACTERSELECTED? 11 { setvar CHARACTERARRAY 11 state medicbag_check2b }
               ifvarn CHARACTERSELECTED? 12 { setvar CHARACTERARRAY 12 state medicbag_check2b }
               ifvarn CHARACTERSELECTED? 13 { setvar CHARACTERARRAY 13 state medicbag_check2b }
               ifvarn CHARACTERSELECTED? 14 { setvar CHARACTERARRAY 14 state medicbag_check2b }
               ifvarn CHARACTERSELECTED? 15 { setvar CHARACTERARRAY 15 state medicbag_check2b }
              }
ends

state use_smallmedikit_player
              ifvare CURRENTHITPOINTS 0 state menuerrorsound
              else
              {
               setvarvar TEMP MAXHITPOINTS
               ifvare itemmenupage 1 { ifvare itemmenuselection 4 { setvar TEMP7 150 state secretrecipecheck_inventory } else { setvar TEMP7 100 state secretrecipecheck_inventory } } else { setvar TEMP7 100 state secretrecipecheck_inventory }
               mulvarvar TEMP TEMP7
               divvar TEMP 1000

               state medicbag_check1player

               addvarvar CURRENTHITPOINTS TEMP
               setvarvar TEMPHEALTH TEMP
               state showhealing_playerhp

               ifvarvarg CURRENTHITPOINTS MAXHITPOINTS setvarvar CURRENTHITPOINTS MAXHITPOINTS
               sound DUKE_GET
               globalsound DUKE_HARTBEAT
               globalsound USE_MEDIKITITEM
               state checksmallmedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_smallmedikit_character
              ifvare TEMPVAR 0 state menuerrorsound
              else
              {
               setvarvar TEMP TEMPVAR2
               ifvare itemmenupage 1 { ifvare itemmenuselection 4 { setvar TEMP7 150 state secretrecipecheck_inventory } else { setvar TEMP7 100 state secretrecipecheck_inventory } } else { setvar TEMP7 100 state secretrecipecheck_inventory }
               mulvarvar TEMP TEMP7
               divvar TEMP 1000

               state medicbag_check1character

               addvarvar TEMPVAR TEMP
               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
               sound DUKE_GET
               globalsound DUKE_HARTBEAT
               globalsound USE_MEDIKITITEM
               state checksmallmedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_smallmedikit_vehicle
              ifvare TEMPVAR 0 state menuerrorsound
              else
              {
               setvarvar TEMP TEMPVAR2
               setvar TEMP7 100 state secretrecipecheck_inventory
               mulvarvar TEMP TEMP7
               divvar TEMP 1000

               addvarvar TEMPVAR TEMP
               setvarvar TEMPHEALTH TEMP
               state showhealing_playerhp

               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               setactorvar[VEHICLEID].ENEMYHP TEMPVAR
               sound DUKE_GET
               globalsound VEHICLE_HEAL
               state checksmallmedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_mediummedikit_player
              ifvare CURRENTHITPOINTS 0 state menuerrorsound
              else
              {
               setvarvar TEMP MAXHITPOINTS
               ifvare itemmenupage 1 { ifvare itemmenuselection 4 { setvar TEMP7 300 state secretrecipecheck_inventory } else { setvar TEMP7 200 state secretrecipecheck_inventory } } else { setvar TEMP7 200 state secretrecipecheck_inventory }
               mulvarvar TEMP TEMP7
               divvar TEMP 1000

               state medicbag_check1player

               addvarvar CURRENTHITPOINTS TEMP
               setvarvar TEMPHEALTH TEMP
               state showhealing_playerhp

               ifvarvarg CURRENTHITPOINTS MAXHITPOINTS setvarvar CURRENTHITPOINTS MAXHITPOINTS
               sound DUKE_GET
               globalsound DUKE_HARTBEAT
               globalsound USE_MEDIKITITEM
               state checkmediummedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_mediummedikit_character
              ifvare TEMPVAR 0 state menuerrorsound 
              else
              {
               setvarvar TEMP TEMPVAR2
               ifvare itemmenupage 1 { ifvare itemmenuselection 4 { setvar TEMP7 300 state secretrecipecheck_inventory } else { setvar TEMP7 200 state secretrecipecheck_inventory } } else { setvar TEMP7 200 state secretrecipecheck_inventory }
               mulvarvar TEMP TEMP7
               divvar TEMP 1000

               state medicbag_check1character

               addvarvar TEMPVAR TEMP
               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
               sound DUKE_GET
               globalsound DUKE_HARTBEAT
               globalsound USE_MEDIKITITEM
               state checkmediummedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_mediummedikit_vehicle
              ifvare TEMPVAR 0 state menuerrorsound
              else
              {
               setvarvar TEMP TEMPVAR2
               setvar TEMP7 200 state secretrecipecheck_inventory
               mulvarvar TEMP TEMP7
               divvar TEMP 1000

               addvarvar TEMPVAR TEMP
               setvarvar TEMPHEALTH TEMP
               state showhealing_playerhp

               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               setactorvar[VEHICLEID].ENEMYHP TEMPVAR
               sound DUKE_GET
               globalsound VEHICLE_HEAL
               state checkmediummedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends


state use_largemedikit_player
              ifvare CURRENTHITPOINTS 0 state menuerrorsound
              else
              {
               setvarvar TEMP MAXHITPOINTS
               ifvare itemmenupage 1 { ifvare itemmenuselection 4 { setvar TEMP7 450 state secretrecipecheck_inventory } else { setvar TEMP7 300 state secretrecipecheck_inventory } } else { setvar TEMP7 300 state secretrecipecheck_inventory }
               mulvarvar TEMP TEMP7
               divvar TEMP 1000

               state medicbag_check1player

               addvarvar CURRENTHITPOINTS TEMP
               setvarvar TEMPHEALTH TEMP
               state showhealing_playerhp

               ifvarvarg CURRENTHITPOINTS MAXHITPOINTS setvarvar CURRENTHITPOINTS MAXHITPOINTS
               sound DUKE_GET
               globalsound DUKE_HARTBEAT
               globalsound USE_MEDIKITITEM
               state checklargemedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_largemedikit_character
              ifvare TEMPVAR 0 state menuerrorsound
              else
              {
               setvarvar TEMP TEMPVAR2
               ifvare itemmenupage 1 { ifvare itemmenuselection 4 { setvar TEMP7 450 state secretrecipecheck_inventory } else { setvar TEMP7 300 state secretrecipecheck_inventory } } else { setvar TEMP7 300 state secretrecipecheck_inventory }
               mulvarvar TEMP TEMP7
               divvar TEMP 1000

               state medicbag_check1character

               addvarvar TEMPVAR TEMP
               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
               sound DUKE_GET
               globalsound DUKE_HARTBEAT
               globalsound USE_MEDIKITITEM
               state checklargemedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_largemedikit_vehicle
              ifvare TEMPVAR 0 state menuerrorsound
              else
              {
               setvarvar TEMP TEMPVAR2
               setvar TEMP7 300 state secretrecipecheck_inventory
               mulvarvar TEMP TEMP7
               divvar TEMP 1000

               addvarvar TEMPVAR TEMP
               setvarvar TEMPHEALTH TEMP
               state showhealing_playerhp

               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               setactorvar[VEHICLEID].ENEMYHP TEMPVAR
               sound DUKE_GET
               globalsound VEHICLE_HEAL
               state checklargemedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends


state use_extralargemedikit_player
              ifvare CURRENTHITPOINTS 0 state menuerrorsound
              else
              {
               setvarvar TEMP MAXHITPOINTS
               ifvare itemmenupage 1 { ifvare itemmenuselection 4 { setvar TEMP7 750 state secretrecipecheck_inventory } else { setvar TEMP7 500 state secretrecipecheck_inventory } } else { setvar TEMP7 500 state secretrecipecheck_inventory }
               mulvarvar TEMP TEMP7
               divvar TEMP 1000

               state medicbag_check1player

               addvarvar CURRENTHITPOINTS TEMP
               setvarvar TEMPHEALTH TEMP
               state showhealing_playerhp

               ifvarvarg CURRENTHITPOINTS MAXHITPOINTS setvarvar CURRENTHITPOINTS MAXHITPOINTS
               sound DUKE_GET
               globalsound DUKE_HARTBEAT
               globalsound USE_MEDIKITITEM
               state checkextralargemedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_extralargemedikit_character
              ifvare TEMPVAR 0 state menuerrorsound
              else
              {
               setvarvar TEMP TEMPVAR2
               ifvare itemmenupage 1 { ifvare itemmenuselection 4 { setvar TEMP7 750 state secretrecipecheck_inventory } else { setvar TEMP7 500 state secretrecipecheck_inventory } } else { setvar TEMP7 500 state secretrecipecheck_inventory }
               mulvarvar TEMP TEMP7
               divvar TEMP 1000

               state medicbag_check1character

               addvarvar TEMPVAR TEMP
               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
               sound DUKE_GET
               globalsound DUKE_HARTBEAT
               globalsound USE_MEDIKITITEM
               state checkextralargemedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_extralargemedikit_vehicle
              ifvare TEMPVAR 0 state menuerrorsound
              else
              {
               setvarvar TEMP TEMPVAR2
               setvarvar TEMPHEALTH TEMP
               state showhealing_playerhp

               setvar TEMP7 500 state secretrecipecheck_inventory
               mulvarvar TEMP TEMP7
               divvar TEMP 1000

               addvarvar TEMPVAR TEMP
               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               setactorvar[VEHICLEID].ENEMYHP TEMPVAR
               sound DUKE_GET
               globalsound VEHICLE_HEAL
               state checkextralargemedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends


state use_medpack_player
              ifvare CURRENTHITPOINTS 0 state menuerrorsound
              else
              {
               setvarvar TEMP MAXHITPOINTS
               ifvare itemmenupage 1 { ifvare itemmenuselection 4 { setvar TEMP7 1125 state secretrecipecheck_inventory } else { setvar TEMP7 750 state secretrecipecheck_inventory } } else { setvar TEMP7 750 state secretrecipecheck_inventory }
               mulvarvar TEMP TEMP7
               divvar TEMP 1000

               state medicbag_check1player

               addvarvar CURRENTHITPOINTS TEMP
               setvarvar TEMPHEALTH TEMP
               state showhealing_playerhp

               ifvare itemmenupage 1
               {
                ifvare itemmenuselection 4 
                {
                 ifvarvarg CURRENTHITPOINTS TEMP2 setvarvar CURRENTHITPOINTS TEMP2
                }
                else
                {
                 ifvarvarg CURRENTHITPOINTS MAXHITPOINTS setvarvar CURRENTHITPOINTS MAXHITPOINTS
                }
               }
               else
               {
                ifvarvarg CURRENTHITPOINTS MAXHITPOINTS setvarvar CURRENTHITPOINTS MAXHITPOINTS
               }
               sound DUKE_GET
               globalsound DUKE_HARTBEAT
               globalsound USE_MEDIKITITEM
               state checkmedpacks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_medpack_character
              ifvare TEMPVAR 0 state menuerrorsound
              else
              {
               setvarvar TEMP TEMPVAR2
               ifvare itemmenupage 1 { ifvare itemmenuselection 4 { setvar TEMP7 1125 state secretrecipecheck_inventory } else { setvar TEMP7 750 state secretrecipecheck_inventory } } else { setvar TEMP7 750 state secretrecipecheck_inventory }
               mulvarvar TEMP TEMP7
               divvar TEMP 1000

               state medicbag_check1character

               addvarvar TEMPVAR TEMP
               ifvare itemmenupage 1
               {
                ifvare itemmenuselection 4 
                {
                 ifvarvarg TEMPVAR TEMP2 setvarvar TEMPVAR TEMP2
                }
                else
                {
                 ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
                }
               }
               else
               {
                ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               }
               setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
               sound DUKE_GET
               globalsound DUKE_HARTBEAT
               globalsound USE_MEDIKITITEM
               state checkmedpacks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_medpack_vehicle
              ifvare TEMPVAR 0 state menuerrorsound
              else
              {
               setvarvar TEMP TEMPVAR2
               setvar TEMP7 750 state secretrecipecheck_inventory
               mulvarvar TEMP TEMP7
               divvar TEMP 1000

               addvarvar TEMPVAR TEMP
               setvarvar TEMPHEALTH TEMP
               state showhealing_playerhp

               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               setactorvar[VEHICLEID].ENEMYHP TEMPVAR
               sound DUKE_GET
               globalsound VEHICLE_HEAL
               state checkmedpacks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends


state use_surgerykit_player
              ifvare CURRENTHITPOINTS 0 state menuerrorsound
              else
              {
               setvarvar TEMP MAXHITPOINTS
               ifvare itemmenupage 1 { ifvare itemmenuselection 4 { setvar TEMP7 1500 state secretrecipecheck_inventory } else { setvar TEMP7 1000 state secretrecipecheck_inventory } } else { setvar TEMP7 1000 state secretrecipecheck_inventory }
               mulvarvar TEMP TEMP7
               divvar TEMP 1000

               state medicbag_check1player

               addvarvar CURRENTHITPOINTS TEMP
               setvarvar TEMPHEALTH TEMP
               state showhealing_playerhp

               ifvare itemmenupage 1
               {
                ifvare itemmenuselection 4 
                {
                 ifvarvarg CURRENTHITPOINTS TEMP2 setvarvar CURRENTHITPOINTS TEMP2
                }
                else
                {
                 ifvarvarg CURRENTHITPOINTS MAXHITPOINTS setvarvar CURRENTHITPOINTS MAXHITPOINTS
                }
               }
               else
               {
                ifvarvarg CURRENTHITPOINTS MAXHITPOINTS setvarvar CURRENTHITPOINTS MAXHITPOINTS
               }
               sound DUKE_GET
               globalsound DUKE_HARTBEAT
               globalsound USE_MEDIKITITEM
               state checksurgerykits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_surgerykit_character
              ifvare TEMPVAR 0 state menuerrorsound
              else
              {
               setvarvar TEMP TEMPVAR2
               ifvare itemmenupage 1 { ifvare itemmenuselection 4 { setvar TEMP7 1500 state secretrecipecheck_inventory } else { setvar TEMP7 1000 state secretrecipecheck_inventory } } else { setvar TEMP7 1000 state secretrecipecheck_inventory }
               mulvarvar TEMP TEMP7
               divvar TEMP 1000

               state medicbag_check1character

               addvarvar TEMPVAR TEMP
               ifvare itemmenupage 1
               {
                ifvare itemmenuselection 4 
                {
                 ifvarvarg TEMPVAR TEMP2 setvarvar TEMPVAR TEMP2
                }
                else
                {
                 ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
                }
               }
               else
               {
                ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               }
               setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
               sound DUKE_GET
               globalsound DUKE_HARTBEAT
               globalsound USE_MEDIKITITEM
               state checksurgerykits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_surgerykit_vehicle
              ifvare TEMPVAR 0 state menuerrorsound
              else
              {
               setvarvar TEMP TEMPVAR2
               setvar TEMP7 1000 state secretrecipecheck_inventory
               mulvarvar TEMP TEMP7
               divvar TEMP 1000

               addvarvar TEMPVAR TEMP
               setvarvar TEMPHEALTH TEMP
               state showhealing_playerhp

               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               setactorvar[VEHICLEID].ENEMYHP TEMPVAR
               sound DUKE_GET
               globalsound VEHICLE_HEAL
               state checksurgerykits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_bodyarmor_player
               setvarvar CURRENTARMORPOINTS MAXARMORPOINTS
               setvarvar RECEIVEDARMOR MAXARMORPOINTS
               state showhealing_playerap

               ifrnd 64 { ifvarl ARMORPERCENT 333 setvar ARMORPERCENT 333 }
               else ifrnd 85 { ifvarl ARMORPERCENT 500 setvar ARMORPERCENT 500 }
               else ifrnd 128 { ifvarl ARMORPERCENT 750 setvar ARMORPERCENT 750 }
               else { ifvarl ARMORPERCENT 900 setvar ARMORPERCENT 900 }

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkbodyarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_bodyarmor_character
               setvarvar TEMPVAR TEMPVAR2
               setactorvar[CHARACTERARRAY].CHARACTERAP TEMPVAR
               ifrnd 64 { ifvarl TEMPVAR3 333 setvar TEMPVAR3 333 }
               else ifrnd 85 { ifvarl TEMPVAR3 500 setvar TEMPVAR3 500 }
               else ifrnd 128 { ifvarl TEMPVAR3 750 setvar TEMPVAR3 750 }
               else { ifvarl TEMPVAR3 900 setvar TEMPVAR3 900 }
               setactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR3

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkbodyarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_bodyarmor_vehicle
               setvarvar TEMPVAR TEMPVAR2
               setvarvar RECEIVEDARMOR TEMPVAR2
               state showhealing_playerap

               setactorvar[VEHICLEID].ENEMYAP TEMPVAR
               ifrnd 64 { ifvarl TEMPVAR3 333 setvar TEMPVAR3 333 }
               else ifrnd 85 { ifvarl TEMPVAR3 500 setvar TEMPVAR3 500 }
               else ifrnd 128 { ifvarl TEMPVAR3 750 setvar TEMPVAR3 750 }
               else { ifvarl TEMPVAR3 900 setvar TEMPVAR3 900 }
               setactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3

               state item_armoruse_sounds
               globalsound USE_ARMORITEM3
               state checkbodyarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_superarmor_player
               setvarvar CURRENTARMORPOINTS MAXARMORPOINTSATOMIC
               setvarvar RECEIVEDARMOR MAXARMORPOINTSATOMIC
               state showhealing_playerap

               ifrnd 64 { ifvarl ARMORPERCENT 333 setvar ARMORPERCENT 333 }
               else ifrnd 85 { ifvarl ARMORPERCENT 500 setvar ARMORPERCENT 500 }
               else ifrnd 128 { ifvarl ARMORPERCENT 750 setvar ARMORPERCENT 750 }
               else { ifvarl ARMORPERCENT 900 setvar ARMORPERCENT 900 }

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checksuperarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_superarmor_character
               setvarvar TEMPVAR TEMPVAR2
               mulvar TEMPVAR 2
               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               setactorvar[CHARACTERARRAY].CHARACTERAP TEMPVAR
               ifrnd 64 { ifvarl TEMPVAR3 333 setvar TEMPVAR3 333 }
               else ifrnd 85 { ifvarl TEMPVAR3 500 setvar TEMPVAR3 500 }
               else ifrnd 128 { ifvarl TEMPVAR3 750 setvar TEMPVAR3 750 }
               else { ifvarl TEMPVAR3 900 setvar TEMPVAR3 900 }
               setactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR3

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checksuperarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_superarmor_vehicle
               setvarvar TEMPVAR TEMPVAR2
               mulvar TEMPVAR 2
               setvarvar RECEIVEDARMOR TEMPVAR
               state showhealing_playerap

               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               setactorvar[VEHICLEID].ENEMYAP TEMPVAR
               ifrnd 64 { ifvarl TEMPVAR3 333 setvar TEMPVAR3 333 }
               else ifrnd 85 { ifvarl TEMPVAR3 500 setvar TEMPVAR3 500 }
               else ifrnd 128 { ifvarl TEMPVAR3 750 setvar TEMPVAR3 750 }
               else { ifvarl TEMPVAR3 900 setvar TEMPVAR3 900 }
               setactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3

               state item_armoruse_sounds
               globalsound USE_ARMORITEM3
               state checksuperarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_portablemedikit_player
               setvarvar FIRSTAIDCURRENT MAXHITPOINTS

               sound DUKE_GET
               state checkportablemedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_portablemedikit_character
               setvarvar TEMPVAR TEMPVAR2
               setactorvar[CHARACTERARRAY].CHARACTERFA TEMPVAR

               sound DUKE_GET
               state checkportablemedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_portablemedikit_vehicle
               setvarvar TEMPVAR TEMPVAR2
               setactorvar[VEHICLEID].ENEMYFIRSTAID TEMPVAR

               sound DUKE_GET
               state checkportablemedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_scubagear_player
               setvar SCUBATIME SCUBA_AMOUNT

               sound DUKE_GET
               state checkscubatanks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_scubagear_character
               setvar TEMPVAR SCUBA_AMOUNT
               setactorvar[CHARACTERARRAY].CHARACTERSCUBATIME TEMPVAR

               sound DUKE_GET
               state checkscubatanks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_scubagear_vehicle
               setvar TEMPVAR SCUBA_AMOUNT
               setactorvar[VEHICLEID].ENEMYAIRTANKAMOUNT TEMPVAR

               sound DUKE_GET
               state checkscubatanks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_protectiveboots_player
               setvar BOOTSTIME BOOT_AMOUNT
               setplayer[THISACTOR].boot_amount BOOTSTIME

               sound DUKE_GET
               state checkbootpairs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_protectiveboots_character
               setvar TEMPVAR BOOT_AMOUNT
               setactorvar[CHARACTERARRAY].CHARACTERBOOTSTIME TEMPVAR

               sound DUKE_GET
               state checkbootpairs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_protectiveboots_vehicle
               setvar TEMPVAR BOOT_AMOUNT
               setactorvar[VEHICLEID].ENEMYBOOTSAMOUNT TEMPVAR

               sound DUKE_GET
               state checkbootpairs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_holoform_player
               setvar HOLOFORMTIME HOLODUKE_AMOUNT
               setplayer[THISACTOR].holoduke_amount HOLOFORMTIME

               sound DUKE_GET
               state checkholoforms subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_holoform_character
               setvar TEMPVAR HOLODUKE_AMOUNT
               setactorvar[CHARACTERARRAY].CHARACTERHOLOTIME TEMPVAR

               sound DUKE_GET
               state checkholoforms subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_jetpack_player
               setvar JETPACKTIME JETPACK_AMOUNT
               setplayer[THISACTOR].jetpack_amount JETPACKTIME

               sound DUKE_GET
               state checkjetpacks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_jetpack_character
               setvar TEMPVAR JETPACK_AMOUNT
               setactorvar[CHARACTERARRAY].CHARACTERJETPACKTIME TEMPVAR

               sound DUKE_GET
               state checkjetpacks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_nightvisiongoggles_player
              ifvarn CHARACTERSELECTED? 4
              {
               setvar NIGHTVISIONTIME HEAT_AMOUNT
               setplayer[THISACTOR].heat_amount NIGHTVISIONTIME

               sound DUKE_GET
               state checkheatsensors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
              else state menuerrorsound
ends

state use_nightvisiongoggles_character
              ifvarn CHARACTERARRAY 4
              {
               setvar TEMPVAR HEAT_AMOUNT
               setactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME TEMPVAR

               sound DUKE_GET
               state checkheatsensors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
              else state menuerrorsound
ends

state use_vitaminx_player
               setvar STEROIDSTIME STEROID_AMOUNT
               setplayer[THISACTOR].steroids_amount 400

               sound DUKE_GET
               state checkvitaminxs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_vitaminx_character
               setvar TEMPVAR STEROID_AMOUNT
               setactorvar[CHARACTERARRAY].CHARACTERSTEROIDSTIME TEMPVAR

               sound DUKE_GET
               state checkvitaminxs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_bodyarmorused_player
               state giverandomapamount_player_items

               ifrnd 64 { ifvarl ARMORPERCENT 333 setvar ARMORPERCENT 333 }
               else ifrnd 85 { ifvarl ARMORPERCENT 500 setvar ARMORPERCENT 500 }
               else ifrnd 128 { ifvarl ARMORPERCENT 750 setvar ARMORPERCENT 750 }
               else { ifvarl ARMORPERCENT 900 setvar ARMORPERCENT 900 }

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkusedbodyarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_bodyarmorused_character
               state giverandomapamount_character_items
               ifrnd 64 { ifvarl TEMPVAR3 333 setvar TEMPVAR3 333 }
               else ifrnd 85 { ifvarl TEMPVAR3 500 setvar TEMPVAR3 500 }
               else ifrnd 128 { ifvarl TEMPVAR3 750 setvar TEMPVAR3 750 }
               else { ifvarl TEMPVAR3 900 setvar TEMPVAR3 900 }
               setactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR3

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkusedbodyarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_bodyarmorused_vehicle
               state giverandomapamount_vehicle_items
               ifrnd 64 { ifvarl TEMPVAR3 333 setvar TEMPVAR3 333 }
               else ifrnd 85 { ifvarl TEMPVAR3 500 setvar TEMPVAR3 500 }
               else ifrnd 128 { ifvarl TEMPVAR3 750 setvar TEMPVAR3 750 }
               else { ifvarl TEMPVAR3 900 setvar TEMPVAR3 900 }
               setactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3

               state item_armoruse_sounds
               globalsound USE_ARMORITEM3
               state checkusedbodyarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_superarmorused_player
               ifrnd 64 setvar RECEIVEDARMOR 1750
               else ifrnd 85 setvar RECEIVEDARMOR 1500
               else ifrnd 128 setvar RECEIVEDARMOR 1000
               else setvar RECEIVEDARMOR 500
               mulvarvar RECEIVEDARMOR MAXARMORPOINTS
               divvar RECEIVEDARMOR 1000
               addvarvar CURRENTARMORPOINTS RECEIVEDARMOR
               state showhealing_playerap
               ifvarvarg CURRENTARMORPOINTS MAXARMORPOINTSATOMIC setvarvar CURRENTARMORPOINTS MAXARMORPOINTSATOMIC

               ifrnd 64 { ifvarl ARMORPERCENT 333 setvar ARMORPERCENT 333 }
               else ifrnd 85 { ifvarl ARMORPERCENT 500 setvar ARMORPERCENT 500 }
               else ifrnd 128 { ifvarl ARMORPERCENT 750 setvar ARMORPERCENT 750 }
               else { ifvarl ARMORPERCENT 900 setvar ARMORPERCENT 900 }

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkusedsuperarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_superarmorused_character
               ifrnd 64 setvar RECEIVEDARMOR 1750
               else ifrnd 85 setvar RECEIVEDARMOR 1500
               else ifrnd 128 setvar RECEIVEDARMOR 1000
               else setvar RECEIVEDARMOR 500
               divvar TEMPVAR2 2
               mulvarvar RECEIVEDARMOR TEMPVAR2
               divvar RECEIVEDARMOR 1000
               addvarvar TEMPVAR RECEIVEDARMOR
               state showhealing_playerap
               mulvar TEMPVAR2 2
               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2

               setactorvar[CHARACTERARRAY].CHARACTERAP TEMPVAR

               ifrnd 64 { ifvarl TEMPVAR3 333 setvar TEMPVAR3 333 }
               else ifrnd 85 { ifvarl TEMPVAR3 500 setvar TEMPVAR3 500 }
               else ifrnd 128 { ifvarl TEMPVAR3 750 setvar TEMPVAR3 750 }
               else { ifvarl TEMPVAR3 900 setvar TEMPVAR3 900 }
               setactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR3

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkusedsuperarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_superarmorused_vehicle
               ifrnd 64 setvar RECEIVEDARMOR 1750
               else ifrnd 85 setvar RECEIVEDARMOR 1500
               else ifrnd 128 setvar RECEIVEDARMOR 1000
               else setvar RECEIVEDARMOR 500
               divvar TEMPVAR2 2
               mulvarvar RECEIVEDARMOR TEMPVAR2
               divvar RECEIVEDARMOR 1000
               addvarvar TEMPVAR RECEIVEDARMOR
               state showhealing_playerap
               mulvar TEMPVAR2 2
               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2

               setactorvar[VEHICLEID].ENEMYAP TEMPVAR

               ifrnd 64 { ifvarl TEMPVAR3 333 setvar TEMPVAR3 333 }
               else ifrnd 85 { ifvarl TEMPVAR3 500 setvar TEMPVAR3 500 }
               else ifrnd 128 { ifvarl TEMPVAR3 750 setvar TEMPVAR3 750 }
               else { ifvarl TEMPVAR3 900 setvar TEMPVAR3 900 }
               setactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3

               state item_armoruse_sounds
               globalsound USE_ARMORITEM3
               state checkusedsuperarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_atomichealth_player
              ifvare CURRENTHITPOINTS 0 state menuerrorsound
              else
              {
               ifvare CHARACTERSELECTED? 1 { setvar TEMP7 2000 state secretrecipecheck_inventory } else { setvar TEMP7 500 state secretrecipecheck_inventory }
               setvarvar TEMP MAXHITPOINTS
               mulvarvar TEMP TEMP7
               divvar TEMP 1000
               addvarvar CURRENTHITPOINTS TEMP
               setvarvar TEMPHEALTH TEMP
               state showhealing_playerhp

               ifvarvarg CURRENTHITPOINTS MAXHITPOINTSATOMIC setvarvar CURRENTHITPOINTS MAXHITPOINTSATOMIC
               sound DUKE_GET
               sound GETATOMICHEALTH
               state checkatomichealths subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_atomichealth_character
              ifvare TEMPVAR 0 state menuerrorsound
              else
              {
               ifvare CHARACTERARRAY 1 { setvar TEMP7 1000 state secretrecipecheck_inventory } else { setvar TEMP7 250 state secretrecipecheck_inventory }
               setvarvar TEMP TEMPVAR2
               mulvarvar TEMP TEMP7
               divvar TEMP 1000
               addvarvar TEMPVAR TEMP
               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
               sound DUKE_GET
               sound GETATOMICHEALTH
               state checkatomichealths subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_atomichealth_vehicle
              ifvare TEMPVAR 0 state menuerrorsound
              else
              {
               setvar TEMP7 250 state secretrecipecheck_inventory
               setvarvar TEMP TEMPVAR2
               mulvarvar TEMP TEMP7
               divvar TEMP 1000
               addvarvar TEMPVAR TEMP
               setvarvar TEMPHEALTH TEMP
               state showhealing_playerhp

               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               setactorvar[VEHICLEID].ENEMYHP TEMPVAR
               sound DUKE_GET
               sound GETATOMICHEALTH
               state checkatomichealths subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_superatomcheck1
              setvar TEMP3 0
              ifvarvarl CURRENTHITPOINTS MAXHITPOINTSATOMIC addvar TEMP3 1
              ifvarvarl CURRENTARMORPOINTS MAXARMORPOINTSATOMIC addvar TEMP3 1
              ifvarvarl FIRSTAIDCURRENT MAXHITPOINTSATOMIC addvar TEMP3 1
ends

state use_superatomcheck2
              setvar TEMP3 0
              getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR2
              getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR3
              mulvar TEMPVAR3 2
              ifvarvarl TEMPVAR2 TEMPVAR3 addvar TEMP3 1

              getactorvar[CHARACTERARRAY].CHARACTERAP TEMPVAR2
              getactorvar[CHARACTERARRAY].CHARACTERMAXAP TEMPVAR3
              mulvar TEMPVAR3 2
              ifvarvarl TEMPVAR2 TEMPVAR3 addvar TEMP3 1

              getactorvar[CHARACTERARRAY].CHARACTERFA TEMPVAR2
              getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR3
              mulvar TEMPVAR3 2
              ifvarvarl TEMPVAR2 TEMPVAR3 addvar TEMP3 1
ends

state use_superatomcheck3
              setvar TEMP3 0
              getactorvar[VEHICLEID].ENEMYHP TEMPVAR2
              getactorvar[VEHICLEID].ENEMYMAXHP TEMPVAR3
              mulvar TEMPVAR3 2
              ifvarvarl TEMPVAR2 TEMPVAR3 addvar TEMP3 1

              getactorvar[VEHICLEID].ENEMYAP TEMPVAR2
              getactorvar[VEHICLEID].ENEMYMAXAP TEMPVAR3
              mulvar TEMPVAR3 2
              ifvarvarl TEMPVAR2 TEMPVAR3 addvar TEMP3 1

              getactorvar[VEHICLEID].ENEMYFIRSTAID TEMPVAR2
              getactorvar[VEHICLEID].ENEMYMAXHP TEMPVAR3
              mulvar TEMPVAR3 2
              ifvarvarl TEMPVAR2 TEMPVAR3 addvar TEMP3 1
ends

state use_superatom_player
              ifvare CURRENTHITPOINTS 0 state menuerrorsound
              else
              {
               setvarvar CURRENTHITPOINTS MAXHITPOINTSATOMIC
               setvarvar CURRENTARMORPOINTS MAXARMORPOINTSATOMIC
               setvarvar FIRSTAIDCURRENT MAXHITPOINTSATOMIC
               setvarvar TEMPHEALTH MAXHITPOINTSATOMIC
               state showhealing_playerhp
               setvarvar RECEIVEDARMOR MAXARMORPOINTSATOMIC
               state showhealing_playerap

               ifrnd 64 { ifvarl ARMORPERCENT 925 setvar ARMORPERCENT 925 }
               else ifrnd 85 { ifvarl ARMORPERCENT 950 setvar ARMORPERCENT 950 }
               else ifrnd 128 { ifvarl ARMORPERCENT 975 setvar ARMORPERCENT 975 }
               else { ifvarl ARMORPERCENT 1000 setvar ARMORPERCENT 1000 }

               sound DUKE_GET
               state superatomsounds
               state checksuperatoms subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_superatom_character
              getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
              ifvare TEMPVAR 0 state menuerrorsound
              else
              {
               getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
               mulvar TEMPVAR 2
               setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR

               getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
               mulvar TEMPVAR 2
               setactorvar[CHARACTERARRAY].CHARACTERFA TEMPVAR

               getactorvar[CHARACTERARRAY].CHARACTERMAXAP TEMPVAR
               mulvar TEMPVAR 2
               setactorvar[CHARACTERARRAY].CHARACTERAP TEMPVAR

               getactorvar[CHARACTERARRAY].CHARACTERAPABSORB ARMORPERCENTTEMP
               ifrnd 64 { ifvarl ARMORPERCENTTEMP 925 setvar ARMORPERCENTTEMP 925 }
               else ifrnd 85 { ifvarl ARMORPERCENTTEMP 950 setvar ARMORPERCENTTEMP 950 }
               else ifrnd 128 { ifvarl ARMORPERCENTTEMP 975 setvar ARMORPERCENTTEMP 975 }
               else { ifvarl ARMORPERCENTTEMP 1000 setvar ARMORPERCENTTEMP 1000 }
               setactorvar[CHARACTERARRAY].CHARACTERAPABSORB ARMORPERCENTTEMP

               sound DUKE_GET
               state superatomsounds
               state checksuperatoms subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_superatom_vehicle
              ifvare TEMPVAR 0 state menuerrorsound
              else
              {
               getactorvar[VEHICLEID].ENEMYMAXHP TEMPVAR
               mulvar TEMPVAR 2
               setvarvar TEMPHEALTH TEMPVAR
               state showhealing_playerhp
               setactorvar[VEHICLEID].ENEMYHP TEMPVAR

               getactorvar[VEHICLEID].ENEMYMAXHP TEMPVAR
               mulvar TEMPVAR 2
               setactorvar[VEHICLEID].ENEMYFIRSTAID TEMPVAR

               getactorvar[VEHICLEID].ENEMYMAXAP TEMPVAR
               mulvar TEMPVAR 2
               setvarvar RECEIVEDARMOR TEMPVAR
               state showhealing_playerap
               setactorvar[VEHICLEID].ENEMYAP TEMPVAR

               getactorvar[VEHICLEID].ENEMYARMORPERCENT ARMORPERCENTTEMP
               ifrnd 64 { ifvarl ARMORPERCENTTEMP 925 setvar ARMORPERCENTTEMP 925 }
               else ifrnd 85 { ifvarl ARMORPERCENTTEMP 950 setvar ARMORPERCENTTEMP 950 }
               else ifrnd 128 { ifvarl ARMORPERCENTTEMP 975 setvar ARMORPERCENTTEMP 975 }
               else { ifvarl ARMORPERCENTTEMP 1000 setvar ARMORPERCENTTEMP 1000 }
               setactorvar[VEHICLEID].ENEMYARMORPERCENT ARMORPERCENTTEMP

               sound DUKE_GET
               state superatomsounds
               state checksuperatoms subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
ends

state use_greenarmorused_player
               state giverandomapamount_player_items
               ifvarl ARMORPERCENT 333 setvar ARMORPERCENT 333

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkusedgreenarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_greenarmorused_character
               state giverandomapamount_character_items
               ifvarl TEMPVAR3 333 setvar TEMPVAR3 333
               setactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR3

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkusedgreenarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_greenarmorused_vehicle
               state giverandomapamount_vehicle_items
               ifvarl TEMPVAR3 333 setvar TEMPVAR3 333
               setactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3

               state item_armoruse_sounds
               globalsound USE_ARMORITEM3
               state checkusedgreenarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_bluearmorused_player
               state giverandomapamount_player_items
               ifvarl ARMORPERCENT 500 setvar ARMORPERCENT 500

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkusedbluearmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_bluearmorused_character
               state giverandomapamount_character_items
               ifvarl TEMPVAR3 500 setvar TEMPVAR3 500
               setactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR3

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkusedbluearmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_bluearmorused_vehicle
               state giverandomapamount_vehicle_items
               ifvarl TEMPVAR3 500 setvar TEMPVAR3 500
               setactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3

               state item_armoruse_sounds
               globalsound USE_ARMORITEM3
               state checkusedbluearmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends


state use_yellowarmorused_player
               state giverandomapamount_player_items
               ifvarl ARMORPERCENT 750 setvar ARMORPERCENT 750

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkusedyellowarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_yellowarmorused_character
               state giverandomapamount_character_items
               ifvarl TEMPVAR3 750 setvar TEMPVAR3 750
               setactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR3

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkusedyellowarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_yellowarmorused_vehicle
               state giverandomapamount_vehicle_items
               ifvarl TEMPVAR3 750 setvar TEMPVAR3 750
               setactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3

               state item_armoruse_sounds
               globalsound USE_ARMORITEM3
               state checkusedyellowarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_redarmorused_player
               state giverandomapamount_player_items
               ifvarl ARMORPERCENT 900 setvar ARMORPERCENT 900

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkusedredarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_redarmorused_character
               state giverandomapamount_character_items
               ifvarl TEMPVAR3 900 setvar TEMPVAR3 900
               setactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR3

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkusedredarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_redarmorused_vehicle
               state giverandomapamount_vehicle_items
               ifvarl TEMPVAR3 900 setvar TEMPVAR3 900
               setactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3

               state item_armoruse_sounds
               globalsound USE_ARMORITEM3
               state checkusedredarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_greyarmorused_player
               state giverandomapamount_player_items
               randvar TEMPVAR4 99
               addvar TEMPVAR4 900
               ifvarvarl ARMORPERCENT TEMPVAR4 setvarvar ARMORPERCENT TEMPVAR4

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkusedgreyarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_greyarmorused_character
               state giverandomapamount_character_items
               randvar TEMPVAR4 99
               addvar TEMPVAR4 900
               ifvarvarl TEMPVAR3 TEMPVAR4 setvarvar TEMPVAR3 TEMPVAR4
               setactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR3

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkusedgreyarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_greyarmorused_vehicle
               state giverandomapamount_vehicle_items
               randvar TEMPVAR4 99
               addvar TEMPVAR4 900
               ifvarvarl TEMPVAR3 TEMPVAR4 setvarvar TEMPVAR3 TEMPVAR4
               setactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3

               state item_armoruse_sounds
               globalsound USE_ARMORITEM3
               state checkusedgreyarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_whitearmorused_player
               state giverandomapamount_player_items
               ifvarl ARMORPERCENT 1000 setvar ARMORPERCENT 1000

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkusedwhitearmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_whitearmorused_character
               state giverandomapamount_character_items
               ifvarl TEMPVAR3 1000 setvar TEMPVAR3 1000
               setactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR3

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkusedwhitearmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_whitearmorused_vehicle
               state giverandomapamount_vehicle_items
               ifvarl TEMPVAR3 1000 setvar TEMPVAR3 1000
               setactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3

               state item_armoruse_sounds
               globalsound USE_ARMORITEM3
               state checkusedwhitearmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_randomarmorused_player
               state giverandomapamount_player_items
               randvar TEMPVAR4 900
               addvar TEMPVAR4 100
               ifvarl ARMORPERCENT 100 setvar ARMORPERCENT 100
               ifvarvarl ARMORPERCENT TEMPVAR4 setvarvar ARMORPERCENT TEMPVAR4

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkusedrandomarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_randomarmorused_character
               state giverandomapamount_character_items
               randvar TEMPVAR4 900
               addvar TEMPVAR4 100
               ifvarl TEMPVAR3 100 setvar TEMPVAR3 100
               ifvarvarl TEMPVAR3 TEMPVAR4 setvarvar TEMPVAR3 TEMPVAR4
               setactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR3

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkusedrandomarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_randomarmorused_vehicle
               state giverandomapamount_vehicle_items
               randvar TEMPVAR4 1000
               ifvarl TEMPVAR3 100 setvar TEMPVAR3 100
               ifvarvarl TEMPVAR3 TEMPVAR4 setvarvar TEMPVAR3 TEMPVAR4
               setactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3

               state item_armoruse_sounds
               globalsound USE_ARMORITEM3
               state checkusedrandomarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_greenarmor_player
               setvarvar CURRENTARMORPOINTS MAXARMORPOINTS
               setvarvar RECEIVEDARMOR MAXARMORPOINTS
               state showhealing_playerap

               ifvarl ARMORPERCENT 333 setvar ARMORPERCENT 333

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkgreenarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_greenarmor_character
               setvarvar TEMPVAR TEMPVAR2
               setactorvar[CHARACTERARRAY].CHARACTERAP TEMPVAR
               ifvarl TEMPVAR3 333 setvar TEMPVAR3 333
               setactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR3

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkgreenarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_greenarmor_vehicle
               setvarvar TEMPVAR TEMPVAR2
               setvarvar RECEIVEDARMOR TEMPVAR2
               state showhealing_playerap

               setactorvar[VEHICLEID].ENEMYAP TEMPVAR
               ifvarl TEMPVAR3 333 setvar TEMPVAR3 333
               setactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3

               state item_armoruse_sounds
               globalsound USE_ARMORITEM3
               state checkgreenarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_bluearmor_player
               setvarvar CURRENTARMORPOINTS MAXARMORPOINTS
               setvarvar RECEIVEDARMOR MAXARMORPOINTS
               state showhealing_playerap

               ifvarl ARMORPERCENT 500 setvar ARMORPERCENT 500

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkbluearmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_bluearmor_character
               setvarvar TEMPVAR TEMPVAR2
               setactorvar[CHARACTERARRAY].CHARACTERAP TEMPVAR
               ifvarl TEMPVAR3 500 setvar TEMPVAR3 500
               setactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR3

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkbluearmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_bluearmor_vehicle
               setvarvar TEMPVAR TEMPVAR2
               setvarvar RECEIVEDARMOR TEMPVAR2
               state showhealing_playerap

               setactorvar[VEHICLEID].ENEMYAP TEMPVAR
               ifvarl TEMPVAR3 500 setvar TEMPVAR3 500
               setactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3

               state item_armoruse_sounds
               globalsound USE_ARMORITEM3
               state checkbluearmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_yellowarmor_player
               setvarvar CURRENTARMORPOINTS MAXARMORPOINTS
               setvarvar RECEIVEDARMOR MAXARMORPOINTS
               state showhealing_playerap

               ifvarl ARMORPERCENT 750 setvar ARMORPERCENT 750

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkyellowarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_yellowarmor_character
               setvarvar TEMPVAR TEMPVAR2
               setactorvar[CHARACTERARRAY].CHARACTERAP TEMPVAR
               ifvarl TEMPVAR3 750 setvar TEMPVAR3 750
               setactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR3

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkyellowarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_yellowarmor_vehicle
               setvarvar TEMPVAR TEMPVAR2
               setvarvar RECEIVEDARMOR TEMPVAR2
               state showhealing_playerap

               setactorvar[VEHICLEID].ENEMYAP TEMPVAR
               ifvarl TEMPVAR3 750 setvar TEMPVAR3 750
               setactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3

               state item_armoruse_sounds
               globalsound USE_ARMORITEM3
               state checkyellowarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_redarmor_player
               setvarvar CURRENTARMORPOINTS MAXARMORPOINTS
               setvarvar RECEIVEDARMOR MAXARMORPOINTS
               state showhealing_playerap

               ifvarl ARMORPERCENT 900 setvar ARMORPERCENT 900

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkredarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_redarmor_character
               setvarvar TEMPVAR TEMPVAR2
               setactorvar[CHARACTERARRAY].CHARACTERAP TEMPVAR
               ifvarl TEMPVAR3 900 setvar TEMPVAR3 900
               setactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR3

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkredarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_redarmor_vehicle
               setvarvar TEMPVAR TEMPVAR2
               setvarvar RECEIVEDARMOR TEMPVAR2
               state showhealing_playerap

               setactorvar[VEHICLEID].ENEMYAP TEMPVAR
               ifvarl TEMPVAR3 900 setvar TEMPVAR3 900
               setactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3

               state item_armoruse_sounds
               globalsound USE_ARMORITEM3
               state checkredarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_greyarmor_player
               setvarvar CURRENTARMORPOINTS MAXARMORPOINTS
               setvarvar RECEIVEDARMOR MAXARMORPOINTS
               state showhealing_playerap

               randvar TEMPVAR4 99
               addvar TEMPVAR4 900
               ifvarvarl ARMORPERCENT TEMPVAR4 setvarvar ARMORPERCENT TEMPVAR4

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkgreyarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_greyarmor_character
               setvarvar TEMPVAR TEMPVAR2
               setactorvar[CHARACTERARRAY].CHARACTERAP TEMPVAR
               randvar TEMPVAR4 99
               addvar TEMPVAR4 900
               ifvarvarl TEMPVAR3 TEMPVAR4 setvarvar TEMPVAR3 TEMPVAR4
               setactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR3

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkgreyarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_greyarmor_vehicle
               setvarvar TEMPVAR TEMPVAR2
               setvarvar RECEIVEDARMOR TEMPVAR2
               state showhealing_playerap

               setactorvar[VEHICLEID].ENEMYAP TEMPVAR
               randvar TEMPVAR4 99
               addvar TEMPVAR4 900
               ifvarvarl TEMPVAR3 TEMPVAR4 setvarvar TEMPVAR3 TEMPVAR4
               setactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3

               state item_armoruse_sounds
               globalsound USE_ARMORITEM3
               state checkgreyarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_whitearmor_player
               setvarvar CURRENTARMORPOINTS MAXARMORPOINTS
               setvarvar RECEIVEDARMOR MAXARMORPOINTS
               state showhealing_playerap

               ifvarl ARMORPERCENT 1000 setvar ARMORPERCENT 1000

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkwhitearmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_whitearmor_character
               setvarvar TEMPVAR TEMPVAR2
               setactorvar[CHARACTERARRAY].CHARACTERAP TEMPVAR
               ifvarl TEMPVAR3 1000 setvar TEMPVAR3 1000
               setactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR3

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkwhitearmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_whitearmor_vehicle
               setvarvar TEMPVAR TEMPVAR2
               setvarvar RECEIVEDARMOR TEMPVAR2
               state showhealing_playerap

               setactorvar[VEHICLEID].ENEMYAP TEMPVAR
               ifvarl TEMPVAR3 1000 setvar TEMPVAR3 1000
               setactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3

               state item_armoruse_sounds
               globalsound USE_ARMORITEM3
               state checkwhitearmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_randomarmor_player
               setvarvar CURRENTARMORPOINTS MAXARMORPOINTS
               setvarvar RECEIVEDARMOR MAXARMORPOINTS
               state showhealing_playerap

               randvar TEMPVAR4 1000
               ifvarl ARMORPERCENT 100 setvar ARMORPERCENT 100
               ifvarvarl ARMORPERCENT TEMPVAR4 setvarvar ARMORPERCENT TEMPVAR4

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkrandomarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_randomarmor_character
               setvarvar TEMPVAR TEMPVAR2
               setactorvar[CHARACTERARRAY].CHARACTERAP TEMPVAR
               randvar TEMPVAR4 1000
               ifvarl TEMPVAR3 100 setvar TEMPVAR3 100
               ifvarvarl TEMPVAR3 TEMPVAR4 setvarvar TEMPVAR3 TEMPVAR4
               setactorvar[CHARACTERARRAY].CHARACTERAPABSORB TEMPVAR3

               state item_armoruse_sounds
               ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
               state checkrandomarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_randomarmor_vehicle
               setvarvar TEMPVAR TEMPVAR2
               setvarvar RECEIVEDARMOR TEMPVAR2
               state showhealing_playerap

               setactorvar[VEHICLEID].ENEMYAP TEMPVAR
               randvar TEMPVAR4 1000
               ifvarl TEMPVAR3 100 setvar TEMPVAR3 100
               ifvarvarl TEMPVAR3 TEMPVAR4 setvarvar TEMPVAR3 TEMPVAR4
               setactorvar[VEHICLEID].ENEMYARMORPERCENT TEMPVAR3

               state item_armoruse_sounds
               globalsound USE_ARMORITEM3
               state checkrandomarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

state use_smalledrink_player
              ifvarg CURRENTHITPOINTS 0
              {
               setvarvar TEMPVAR4 MAXENERGYPOINTS
               mulvar TEMPVAR4 222
               divvar TEMPVAR4 1000
               addvar TEMPVAR4 75

               addvarvar CURRENTENERGYPOINTS TEMPVAR4
               ifvarvarg CURRENTENERGYPOINTS MAXENERGYPOINTS setvarvar CURRENTENERGYPOINTS MAXENERGYPOINTS

               state item_energyuse_sounds
               state checksmallenergydrinks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
              else state menuerrorsound 
ends

state use_smalledrink_character
              getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR6
              ifvarg TEMPVAR6 0
              {
               setvarvar TEMPVAR4 TEMPVAR2
               mulvar TEMPVAR4 222
               divvar TEMPVAR4 1000
               addvar TEMPVAR4 75

               addvarvar TEMPVAR TEMPVAR4
               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               setactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR

               state item_energyuse_sounds
               state checksmallenergydrinks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
              else state menuerrorsound 
ends

state use_largeedrink_player
              ifvarg CURRENTHITPOINTS 0
              {
               setvarvar TEMPVAR4 MAXENERGYPOINTS
               mulvar TEMPVAR4 667
               divvar TEMPVAR4 1000
               addvar TEMPVAR4 225

               addvarvar CURRENTENERGYPOINTS TEMPVAR4
               ifvarvarg CURRENTENERGYPOINTS MAXENERGYPOINTS setvarvar CURRENTENERGYPOINTS MAXENERGYPOINTS

               state item_energyuse_sounds
               state checklargeenergydrinks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
              else state menuerrorsound 
ends

state use_largeedrink_character
              getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR6
              ifvarg TEMPVAR6 0
              {
               setvarvar TEMPVAR4 TEMPVAR2
               mulvar TEMPVAR4 667
               divvar TEMPVAR4 1000
               addvar TEMPVAR4 225

               addvarvar TEMPVAR TEMPVAR4
               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               setactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR

               state item_energyuse_sounds
               state checklargeenergydrinks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
              else state menuerrorsound 
ends

state use_hyperedrink_player
              ifvarg CURRENTHITPOINTS 0
              {
               setvarvar CURRENTENERGYPOINTS MAXENERGYPOINTSATOMIC

               state item_energyuse_sounds
               state checkhyperenergydrinks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
              else state menuerrorsound 
ends

state use_hyperedrink_character
              getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR6
              ifvarg TEMPVAR6 0
              {
               setvarvar TEMPVAR TEMPVAR2
               ifvarvarg TEMPVAR TEMPVAR2 setvarvar TEMPVAR TEMPVAR2
               setactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR

               state item_energyuse_sounds
               state checkhyperenergydrinks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
              }
              else state menuerrorsound 
ends

state usewintersuit_player
               ifvarl winterclothes 100
               {
                setvar winterclothes 100
                ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
                state checkwintersuits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
               }
               else state menuerrorsound
ends

state usewintersuit_character
               getactorvar[CHARACTERARRAY].CHARACTERWINTERCLOTHES TEMPVAR6
               ifvarl TEMPVAR6 100
               {
                setvar TEMPVAR6 100
                setactorvar[CHARACTERARRAY].CHARACTERWINTERCLOTHES TEMPVAR6
                ifrnd 128 globalsound USE_ARMORITEM1 else globalsound USE_ARMORITEM2
                state checkwintersuits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
               }
               else state menuerrorsound
ends

//

state assessenergytype_itemuse3_p
        ifvare itemidinuse 39 state use_smalledrink_player
        ifvare itemidinuse 40 state use_largeedrink_player
        ifvare itemidinuse 41 state use_hyperedrink_player
ends

state assessenergytype_itemuse3_c
        ifvare itemidinuse 39 state use_smalledrink_character
        ifvare itemidinuse 40 state use_largeedrink_character
        ifvare itemidinuse 41 state use_hyperedrink_character
ends

state assessenergytype_itemuse2
        ifvarg tempvarname 0
        {
         ifvare itemmenupage 0 // Duke to Lisa
         {
          ifvare itemmenuselection 0 // Duke
          { 
           ifvarg DUKE? 0 
           { 
            ifvare CHARACTERSELECTED? 1 
            {             
             setvarvar TEMP2 MAXENERGYPOINTS
             mulvarvar TEMP2 tempvarname2
             divvar TEMP2 1000
             ifvarvarl CURRENTENERGYPOINTS TEMP2 state assessenergytype_itemuse3_p else state menuerrorsound
            } 
            else 
            { 
             setvar CHARACTERARRAY 1
             state checkenergycharacter_items
             ifvare itemidinuse 41 mulvar TEMPVAR2 2
             ifvarvarl TEMPVAR TEMPVAR2 state assessenergytype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Jack
          { 
           ifvarg JACK? 0 
           { 
            ifvare CHARACTERSELECTED? 2
            {
             setvarvar TEMP2 MAXENERGYPOINTS
             mulvarvar TEMP2 tempvarname2
             divvar TEMP2 1000
             ifvarvarl CURRENTENERGYPOINTS TEMP2 state assessenergytype_itemuse3_p else state menuerrorsound
            } 
            else 
            { 
             setvar CHARACTERARRAY 2
             state checkenergycharacter_items
             ifvare itemidinuse 41 mulvar TEMPVAR2 2
             ifvarvarl TEMPVAR TEMPVAR2 state assessenergytype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Bubsy
          { 
           ifvarg BUBSY? 0 
           { 
            ifvare CHARACTERSELECTED? 3
            {
             setvarvar TEMP2 MAXENERGYPOINTS
             mulvarvar TEMP2 tempvarname2
             divvar TEMP2 1000
             ifvarvarl CURRENTENERGYPOINTS TEMP2 state assessenergytype_itemuse3_p else state menuerrorsound
            } 
            else 
            { 
             setvar CHARACTERARRAY 3
             state checkenergycharacter_items
             ifvare itemidinuse 41 mulvar TEMPVAR2 2
             ifvarvarl TEMPVAR TEMPVAR2 state assessenergytype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Ami
          { 
           ifvarg AMI? 0 
           { 
            ifvare CHARACTERSELECTED? 4
            {
             setvarvar TEMP2 MAXENERGYPOINTS
             mulvarvar TEMP2 tempvarname2
             divvar TEMP2 1000
             ifvarvarl CURRENTENERGYPOINTS TEMP2 state assessenergytype_itemuse3_p else state menuerrorsound
            } 
            else 
            { 
             setvar CHARACTERARRAY 4
             state checkenergycharacter_items
             ifvare itemidinuse 41 mulvar TEMPVAR2 2
             ifvarvarl TEMPVAR TEMPVAR2 state assessenergytype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Lo Wang
          { 
           ifvarg LOWANG? 0 
           { 
            ifvare CHARACTERSELECTED? 5
            {
             setvarvar TEMP2 MAXENERGYPOINTS
             mulvarvar TEMP2 tempvarname2
             divvar TEMP2 1000
             ifvarvarl CURRENTENERGYPOINTS TEMP2 state assessenergytype_itemuse3_p else state menuerrorsound
            } 
            else 
            { 
             setvar CHARACTERARRAY 5
             state checkenergycharacter_items
             ifvare itemidinuse 41 mulvar TEMPVAR2 2
             ifvarvarl TEMPVAR TEMPVAR2 state assessenergytype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // ESSence
          { 
           ifvarg ESSENCE? 0 
           { 
            ifvare CHARACTERSELECTED? 6
            {
             setvarvar TEMP2 MAXENERGYPOINTS
             mulvarvar TEMP2 tempvarname2
             divvar TEMP2 1000
             ifvarvarl CURRENTENERGYPOINTS TEMP2 state assessenergytype_itemuse3_p else state menuerrorsound
            } 
            else 
            { 
             setvar CHARACTERARRAY 6
             state checkenergycharacter_items
             ifvare itemidinuse 41 mulvar TEMPVAR2 2
             ifvarvarl TEMPVAR TEMPVAR2 state assessenergytype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Ted
          { 
           ifvarg TED? 0 
           { 
            ifvare CHARACTERSELECTED? 7
            {
             setvarvar TEMP2 MAXENERGYPOINTS
             mulvarvar TEMP2 tempvarname2
             divvar TEMP2 1000
             ifvarvarl CURRENTENERGYPOINTS TEMP2 state assessenergytype_itemuse3_p else state menuerrorsound
            } 
            else 
            { 
             setvar CHARACTERARRAY 7
             state checkenergycharacter_items
             ifvare itemidinuse 41 mulvar TEMPVAR2 2
             ifvarvarl TEMPVAR TEMPVAR2 state assessenergytype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 // Lisa
          { 
           ifvarg LISA? 0 
           { 
            ifvare CHARACTERSELECTED? 8
            {
             setvarvar TEMP2 MAXENERGYPOINTS
             mulvarvar TEMP2 tempvarname2
             divvar TEMP2 1000
             ifvarvarl CURRENTENERGYPOINTS TEMP2 state assessenergytype_itemuse3_p else state menuerrorsound
            } 
            else 
            { 
             setvar CHARACTERARRAY 8
             state checkenergycharacter_items
             ifvare itemidinuse 41 mulvar TEMPVAR2 2
             ifvarvarl TEMPVAR TEMPVAR2 state assessenergytype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
         }
         ifvare itemmenupage 1 // Cybanis to Maken
         {
          ifvare itemmenuselection 0 // Cybanis
          { 
           ifvarg CYBANIS? 0 
           { 
            ifvare CHARACTERSELECTED? 9
            {
             setvarvar TEMP2 MAXENERGYPOINTS
             mulvarvar TEMP2 tempvarname2
             divvar TEMP2 1000
             ifvarvarl CURRENTENERGYPOINTS TEMP2 state assessenergytype_itemuse3_p else state menuerrorsound
            } 
            else 
            { 
             setvar CHARACTERARRAY 9
             state checkenergycharacter_items
             ifvare itemidinuse 41 mulvar TEMPVAR2 2
             ifvarvarl TEMPVAR TEMPVAR2 state assessenergytype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Nethra/Christina
          { 
           ifvarg NETHRA? 0 
           { 
            ifvare CHARACTERSELECTED? 10
            {
             setvarvar TEMP2 MAXENERGYPOINTS
             mulvarvar TEMP2 tempvarname2
             divvar TEMP2 1000
             ifvarvarl CURRENTENERGYPOINTS TEMP2 state assessenergytype_itemuse3_p else state menuerrorsound
            } 
            else 
            { 
             setvar CHARACTERARRAY 10
             state checkenergycharacter_items
             ifvare itemidinuse 41 mulvar TEMPVAR2 2
             ifvarvarl TEMPVAR TEMPVAR2 state assessenergytype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Paula
          { 
           ifvarg PAULA? 0 
           { 
            ifvare CHARACTERSELECTED? 11
            {
             setvarvar TEMP2 MAXENERGYPOINTS
             mulvarvar TEMP2 tempvarname2
             divvar TEMP2 1000
             ifvarvarl CURRENTENERGYPOINTS TEMP2 state assessenergytype_itemuse3_p else state menuerrorsound
            } 
            else 
            { 
             setvar CHARACTERARRAY 11
             state checkenergycharacter_items
             ifvare itemidinuse 41 mulvar TEMPVAR2 2
             ifvarvarl TEMPVAR TEMPVAR2 state assessenergytype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Lori
          { 
           ifvarg LORI? 0 
           { 
            ifvare CHARACTERSELECTED? 12
            {
             setvarvar TEMP2 MAXENERGYPOINTS
             mulvarvar TEMP2 tempvarname2
             divvar TEMP2 1000
             ifvarvarl CURRENTENERGYPOINTS TEMP2 state assessenergytype_itemuse3_p else state menuerrorsound
            } 
            else 
            { 
             setvar CHARACTERARRAY 12
             state checkenergycharacter_items
             ifvare itemidinuse 41 mulvar TEMPVAR2 2
             ifvarvarl TEMPVAR TEMPVAR2 state assessenergytype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Minako
          { 
           ifvarg MINAKO? 0 
           { 
            ifvare CHARACTERSELECTED? 13
            {
             setvarvar TEMP2 MAXENERGYPOINTS
             mulvarvar TEMP2 tempvarname2
             divvar TEMP2 1000
             ifvarvarl CURRENTENERGYPOINTS TEMP2 state assessenergytype_itemuse3_p else state menuerrorsound
            } 
            else 
            { 
             setvar CHARACTERARRAY 13
             state checkenergycharacter_items
             ifvare itemidinuse 41 mulvar TEMPVAR2 2
             ifvarvarl TEMPVAR TEMPVAR2 state assessenergytype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // "Mystery Lady"
          { 
           ifvarg MYSTERY1? 0 
           { 
            ifvare CHARACTERSELECTED? 14
            {
             setvarvar TEMP2 MAXENERGYPOINTS
             mulvarvar TEMP2 tempvarname2
             divvar TEMP2 1000
             ifvarvarl CURRENTENERGYPOINTS TEMP2 state assessenergytype_itemuse3_p else state menuerrorsound
            } 
            else 
            { 
             setvar CHARACTERARRAY 14
             state checkenergycharacter_items
             ifvare itemidinuse 41 mulvar TEMPVAR2 2
             ifvarvarl TEMPVAR TEMPVAR2 state assessenergytype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Maken
          { 
           ifvarg MAKEN? 0 
           { 
            ifvare CHARACTERSELECTED? 15
            {
             setvarvar TEMP2 MAXENERGYPOINTS
             mulvarvar TEMP2 tempvarname2
             divvar TEMP2 1000
             ifvarvarl CURRENTENERGYPOINTS TEMP2 state assessenergytype_itemuse3_p else state menuerrorsound
            } 
            else 
            { 
             setvar CHARACTERARRAY 15
             state checkenergycharacter_items
             ifvare itemidinuse 41 mulvar TEMPVAR2 2
             ifvarvarl TEMPVAR TEMPVAR2 state assessenergytype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 state menuerrorsound  // Vehicles
         }
        }
        else setvar itemidinuse -1
ends


state assessenergytype_itemuse1
        ifvare itemidinuse 39 { state checksmallenergydrinks setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1000 }
        ifvare itemidinuse 40 { state checklargeenergydrinks setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1000 }
        ifvare itemidinuse 41 { state checkhyperenergydrinks setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 2000 }
ends

//

state assessmedikittype_itemuse3_p
        ifvare itemidinuse 5 state use_smallmedikit_player
        ifvare itemidinuse 6 state use_mediummedikit_player
        ifvare itemidinuse 7 state use_largemedikit_player
        ifvare itemidinuse 8 state use_extralargemedikit_player
        ifvare itemidinuse 9 state use_medpack_player
        ifvare itemidinuse 10 state use_surgerykit_player
ends

state assessmedikittype_itemuse3_c
        ifvare itemidinuse 5 state use_smallmedikit_character
        ifvare itemidinuse 6 state use_mediummedikit_character
        ifvare itemidinuse 7 state use_largemedikit_character
        ifvare itemidinuse 8 state use_extralargemedikit_character
        ifvare itemidinuse 9 state use_medpack_character
        ifvare itemidinuse 10 state use_surgerykit_character
ends

state assessmedikittype_itemuse3_v
        ifvare itemidinuse 5 state use_smallmedikit_vehicle
        ifvare itemidinuse 6 state use_mediummedikit_vehicle
        ifvare itemidinuse 7 state use_largemedikit_vehicle
        ifvare itemidinuse 8 state use_extralargemedikit_vehicle
        ifvare itemidinuse 9 state use_medpack_vehicle
        ifvare itemidinuse 10 state use_surgerykit_vehicle
ends

state assessmedikittype_itemuse2
        ifvarg tempvarname 0
        {
         ifvare itemmenupage 0 // Duke to Lisa
         {
          ifvare itemmenuselection 0 // Duke
          { 
           ifvarg DUKE? 0 
           { 
            ifvare CHARACTERSELECTED? 1 
            {
             ifvarvarl CURRENTHITPOINTS MAXHITPOINTS state assessmedikittype_itemuse3_p else state menuerrorsound
            } 
            else 
            { 
             setvar CHARACTERARRAY 1
             state checkhealthcharacter_items
             ifvarvarl TEMPVAR TEMPVAR2 state assessmedikittype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Jack
          { 
           ifvarg JACK? 0 
           { 
            ifvare CHARACTERSELECTED? 2
            {
             ifvarvarl CURRENTHITPOINTS MAXHITPOINTS state assessmedikittype_itemuse3_p else state menuerrorsound 
            } 
            else 
            { 
             setvar CHARACTERARRAY 2
             state checkhealthcharacter_items
             ifvarvarl TEMPVAR TEMPVAR2 state assessmedikittype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Bubsy
          { 
           ifvarg BUBSY? 0 
           { 
            ifvare CHARACTERSELECTED? 3
            {
             ifvarvarl CURRENTHITPOINTS MAXHITPOINTS state assessmedikittype_itemuse3_p else state menuerrorsound 
            } 
            else 
            { 
             setvar CHARACTERARRAY 3
             state checkhealthcharacter_items
             ifvarvarl TEMPVAR TEMPVAR2 state assessmedikittype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Ami
          { 
           ifvarg AMI? 0 
           { 
            ifvare CHARACTERSELECTED? 4
            {
             ifvarvarl CURRENTHITPOINTS MAXHITPOINTS state assessmedikittype_itemuse3_p else state menuerrorsound 
            } 
            else 
            { 
             setvar CHARACTERARRAY 4
             state checkhealthcharacter_items
             ifvarvarl TEMPVAR TEMPVAR2 state assessmedikittype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Lo Wang
          { 
           ifvarg LOWANG? 0 
           { 
            ifvare CHARACTERSELECTED? 5
            {
             ifvarvarl CURRENTHITPOINTS MAXHITPOINTS state assessmedikittype_itemuse3_p else state menuerrorsound 
            } 
            else 
            { 
             setvar CHARACTERARRAY 5
             state checkhealthcharacter_items
             ifvarvarl TEMPVAR TEMPVAR2 state assessmedikittype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // ESSence
          { 
           ifvarg ESSENCE? 0 
           { 
            ifvare CHARACTERSELECTED? 6
            {
             ifvarvarl CURRENTHITPOINTS MAXHITPOINTS state assessmedikittype_itemuse3_p else state menuerrorsound 
            } 
            else 
            { 
             setvar CHARACTERARRAY 6
             state checkhealthcharacter_items
             ifvarvarl TEMPVAR TEMPVAR2 state assessmedikittype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Ted
          { 
           ifvarg TED? 0 
           { 
            ifvare CHARACTERSELECTED? 7
            {
             ifvarvarl CURRENTHITPOINTS MAXHITPOINTS state assessmedikittype_itemuse3_p else state menuerrorsound 
            } 
            else 
            { 
             setvar CHARACTERARRAY 7
             state checkhealthcharacter_items
             ifvarvarl TEMPVAR TEMPVAR2 state assessmedikittype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 // Lisa
          { 
           ifvarg LISA? 0 
           { 
            ifvare CHARACTERSELECTED? 8
            {
             ifvarvarl CURRENTHITPOINTS MAXHITPOINTS state assessmedikittype_itemuse3_p else state menuerrorsound 
            } 
            else 
            { 
             setvar CHARACTERARRAY 8
             state checkhealthcharacter_items
             ifvarvarl TEMPVAR TEMPVAR2 state assessmedikittype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
         }
         ifvare itemmenupage 1 // Cybanis to Maken
         {
          ifvare itemmenuselection 0 // Cybanis
          { 
           ifvarg CYBANIS? 0 
           { 
            ifvare CHARACTERSELECTED? 9
            {
             ifvarvarl CURRENTHITPOINTS MAXHITPOINTS state assessmedikittype_itemuse3_p else state menuerrorsound 
            } 
            else 
            { 
             setvar CHARACTERARRAY 9
             state checkhealthcharacter_items
             ifvarvarl TEMPVAR TEMPVAR2 state assessmedikittype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Nethra/Christina
          { 
           ifvarg NETHRA? 0 
           { 
            ifvare CHARACTERSELECTED? 10
            {
             ifvarvarl CURRENTHITPOINTS MAXHITPOINTS state assessmedikittype_itemuse3_p else state menuerrorsound 
            } 
            else 
            { 
             setvar CHARACTERARRAY 10
             state checkhealthcharacter_items
             ifvarvarl TEMPVAR TEMPVAR2 state assessmedikittype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Paula
          { 
           ifvarg PAULA? 0 
           { 
            ifvare CHARACTERSELECTED? 11
            {
             ifvarvarl CURRENTHITPOINTS MAXHITPOINTS state assessmedikittype_itemuse3_p else state menuerrorsound 
            } 
            else 
            { 
             setvar CHARACTERARRAY 11
             state checkhealthcharacter_items
             ifvarvarl TEMPVAR TEMPVAR2 state assessmedikittype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Lori
          { 
           ifvarg LORI? 0 
           { 
            ifvare CHARACTERSELECTED? 12
            {
             ifvarvarl CURRENTHITPOINTS MAXHITPOINTS state assessmedikittype_itemuse3_p else state menuerrorsound 
            } 
            else 
            { 
             setvar CHARACTERARRAY 12
             state checkhealthcharacter_items
             ifvarvarl TEMPVAR TEMPVAR2 state assessmedikittype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Minako
          { 
           ifvarg MINAKO? 0 
           { 
            ifvare CHARACTERSELECTED? 13
            {
             setvarvar TEMP2 MAXHITPOINTS
             mulvarvar TEMP2 tempvarname2
             divvar TEMP2 1000
             ifvarvarl CURRENTHITPOINTS TEMP2 state assessmedikittype_itemuse3_p else state menuerrorsound 
            } 
            else 
            { 
             setvar CHARACTERARRAY 13
             state checkhealthcharacter_items
             setvarvar TEMP2 TEMPVAR2
             mulvarvar TEMP2 tempvarname2
             divvar TEMP2 1000
             ifvarvarl TEMPVAR TEMP2 state assessmedikittype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // "Mystery Lady"
          { 
           ifvarg MYSTERY1? 0 
           { 
            ifvare CHARACTERSELECTED? 14
            {
             ifvarvarl CURRENTHITPOINTS MAXHITPOINTS state assessmedikittype_itemuse3_p else state menuerrorsound 
            } 
            else 
            { 
             setvar CHARACTERARRAY 14
             state checkhealthcharacter_items
             ifvarvarl TEMPVAR TEMPVAR2 state assessmedikittype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Maken
          { 
           ifvarg MAKEN? 0 
           { 
            ifvare CHARACTERSELECTED? 15
            {
             ifvarvarl CURRENTHITPOINTS MAXHITPOINTS state assessmedikittype_itemuse3_p else state menuerrorsound 
            } 
            else 
            { 
             setvar CHARACTERARRAY 15
             state checkhealthcharacter_items
             ifvarvarl TEMPVAR TEMPVAR2 state assessmedikittype_itemuse3_c else state menuerrorsound 
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 // Vehicles
          { 
           ifvarn VEHICLEID -1
           {
            state checkhealthvehicle_items
            ifvarvarl TEMPVAR TEMPVAR2 state assessmedikittype_itemuse3_v else state menuerrorsound 
           }
           else state menuerrorsound 
          }
         }
        }
        else setvar itemidinuse -1
ends

state assessmedikittype_itemuse1
        ifvare itemidinuse 5 { state checksmallmedikits setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1000 }
        ifvare itemidinuse 6 { state checkmediummedikits setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1000 }
        ifvare itemidinuse 7 { state checklargemedikits setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1000 }
        ifvare itemidinuse 8 { state checkextralargemedikits setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1000 }
        ifvare itemidinuse 9 { state checkmedpacks setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1125 }
        ifvare itemidinuse 10 { state checksurgerykits setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1500 }
ends

//

state assessarmortype_itemuse3_p
        ifvare itemidinuse 11 state use_bodyarmor_player
        ifvare itemidinuse 12 state use_superarmor_player
        ifvare itemidinuse 20 state use_bodyarmorused_player
        ifvare itemidinuse 21 state use_superarmorused_player
        ifvare itemidinuse 24 state use_greenarmorused_player
        ifvare itemidinuse 25 state use_bluearmorused_player
        ifvare itemidinuse 26 state use_yellowarmorused_player
        ifvare itemidinuse 27 state use_redarmorused_player
        ifvare itemidinuse 28 state use_greyarmorused_player
        ifvare itemidinuse 29 state use_whitearmorused_player
        ifvare itemidinuse 30 state use_greenarmor_player
        ifvare itemidinuse 31 state use_bluearmor_player
        ifvare itemidinuse 32 state use_yellowarmor_player
        ifvare itemidinuse 33 state use_redarmor_player
        ifvare itemidinuse 34 state use_greyarmor_player
        ifvare itemidinuse 35 state use_whitearmor_player       
        ifvare itemidinuse 36 state use_randomarmorused_player      
        ifvare itemidinuse 37 state use_randomarmor_player     
ends

state assessarmortype_itemuse3_c
        ifvare itemidinuse 11 state use_bodyarmor_character
        ifvare itemidinuse 12 state use_superarmor_character
        ifvare itemidinuse 20 state use_bodyarmorused_character
        ifvare itemidinuse 21 state use_superarmorused_character
        ifvare itemidinuse 24 state use_greenarmorused_character
        ifvare itemidinuse 25 state use_bluearmorused_character
        ifvare itemidinuse 26 state use_yellowarmorused_character
        ifvare itemidinuse 27 state use_redarmorused_character
        ifvare itemidinuse 28 state use_greyarmorused_character
        ifvare itemidinuse 29 state use_whitearmorused_character
        ifvare itemidinuse 30 state use_greenarmor_character
        ifvare itemidinuse 31 state use_bluearmor_character
        ifvare itemidinuse 32 state use_yellowarmor_character
        ifvare itemidinuse 33 state use_redarmor_character
        ifvare itemidinuse 34 state use_greyarmor_character
        ifvare itemidinuse 35 state use_whitearmor_character       
        ifvare itemidinuse 36 state use_randomarmorused_character      
        ifvare itemidinuse 37 state use_randomarmor_character     
ends

state assessarmortype_itemuse3_v
        ifvare itemidinuse 11 state use_bodyarmor_vehicle
        ifvare itemidinuse 12 state use_superarmor_vehicle
        ifvare itemidinuse 20 state use_bodyarmorused_vehicle
        ifvare itemidinuse 21 state use_superarmorused_vehicle
        ifvare itemidinuse 24 state use_greenarmorused_vehicle
        ifvare itemidinuse 25 state use_bluearmorused_vehicle
        ifvare itemidinuse 26 state use_yellowarmorused_vehicle
        ifvare itemidinuse 27 state use_redarmorused_vehicle
        ifvare itemidinuse 28 state use_greyarmorused_vehicle
        ifvare itemidinuse 29 state use_whitearmorused_vehicle
        ifvare itemidinuse 30 state use_greenarmor_vehicle
        ifvare itemidinuse 31 state use_bluearmor_vehicle
        ifvare itemidinuse 32 state use_yellowarmor_vehicle
        ifvare itemidinuse 33 state use_redarmor_vehicle
        ifvare itemidinuse 34 state use_greyarmor_vehicle
        ifvare itemidinuse 35 state use_whitearmor_vehicle       
        ifvare itemidinuse 36 state use_randomarmorused_vehicle      
        ifvare itemidinuse 37 state use_randomarmor_vehicle     
ends

state assessarmortype_itemuse2
        ifvarg tempvarname 0
        {
         ifvare itemmenupage 0 // Duke to Lisa
         {
          ifvare itemmenuselection 0 // Duke
          {
           ifvarg DUKE? 0 
           { 
             ifvare CHARACTERSELECTED? 1 
             {
              setvarvar TEMPVAR2 MAXARMORPOINTS
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl CURRENTARMORPOINTS TEMPVAR2 state assessarmortype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 1
              state checkarmorcharacter_items
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl TEMPVAR TEMPVAR2 state assessarmortype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Jack
          { 
           ifvarg JACK? 0 
           { 
             ifvare CHARACTERSELECTED? 2
             {
              setvarvar TEMPVAR2 MAXARMORPOINTS
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl CURRENTARMORPOINTS TEMPVAR2 state assessarmortype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 2
              state checkarmorcharacter_items
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl TEMPVAR TEMPVAR2 state assessarmortype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Bubsy
          { 
           ifvarg BUBSY? 0 
           { 
             ifvare CHARACTERSELECTED? 3
             {
              setvarvar TEMPVAR2 MAXARMORPOINTS
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl CURRENTARMORPOINTS TEMPVAR2 state assessarmortype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 3
              state checkarmorcharacter_items
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl TEMPVAR TEMPVAR2 state assessarmortype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Ami
          { 
           ifvarg AMI? 0 
           { 
             ifvare CHARACTERSELECTED? 4
             {
              setvarvar TEMPVAR2 MAXARMORPOINTS
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl CURRENTARMORPOINTS TEMPVAR2 state assessarmortype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 4
              state checkarmorcharacter_items
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl TEMPVAR TEMPVAR2 state assessarmortype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Lo Wang
          { 
           ifvarg LOWANG? 0 
           { 
             ifvare CHARACTERSELECTED? 5
             {
              setvarvar TEMPVAR2 MAXARMORPOINTS
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl CURRENTARMORPOINTS TEMPVAR2 state assessarmortype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 5
              state checkarmorcharacter_items
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl TEMPVAR TEMPVAR2 state assessarmortype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // ESSence
          { 
           ifvarg ESSENCE? 0 
           { 
             ifvare CHARACTERSELECTED? 6
             {
              setvarvar TEMPVAR2 MAXARMORPOINTS
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl CURRENTARMORPOINTS TEMPVAR2 state assessarmortype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 6
              state checkarmorcharacter_items
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl TEMPVAR TEMPVAR2 state assessarmortype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Ted
          { 
           ifvarg TED? 0 
           { 
             ifvare CHARACTERSELECTED? 7
             {
              setvarvar TEMPVAR2 MAXARMORPOINTS
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl CURRENTARMORPOINTS TEMPVAR2 state assessarmortype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 7
              state checkarmorcharacter_items
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl TEMPVAR TEMPVAR2 state assessarmortype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 // Lisa
          { 
           ifvarg LISA? 0 
           { 
             ifvare CHARACTERSELECTED? 8 
             {
              setvarvar TEMPVAR2 MAXARMORPOINTS
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl CURRENTARMORPOINTS TEMPVAR2 state assessarmortype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 8
              state checkarmorcharacter_items
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl TEMPVAR TEMPVAR2 state assessarmortype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
         }
         ifvare itemmenupage 1 // Cybanis to Maken
         {
          ifvare itemmenuselection 0 // Cybanis
          { 
           ifvarg CYBANIS? 0 
           { 
             ifvare CHARACTERSELECTED? 9
             {
              setvarvar TEMPVAR2 MAXARMORPOINTS
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl CURRENTARMORPOINTS TEMPVAR2 state assessarmortype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 9
              state checkarmorcharacter_items
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl TEMPVAR TEMPVAR2 state assessarmortype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Nethra/Christina
          { 
           ifvarg NETHRA? 0 
           { 
             ifvare CHARACTERSELECTED? 10
             {
              setvarvar TEMPVAR2 MAXARMORPOINTS
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl CURRENTARMORPOINTS TEMPVAR2 state assessarmortype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 10
              state checkarmorcharacter_items
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl TEMPVAR TEMPVAR2 state assessarmortype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Paula
          { 
           ifvarg PAULA? 0 
           { 
             ifvare CHARACTERSELECTED? 11
             {
              setvarvar TEMPVAR2 MAXARMORPOINTS
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl CURRENTARMORPOINTS TEMPVAR2 state assessarmortype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 11
              state checkarmorcharacter_items
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl TEMPVAR TEMPVAR2 state assessarmortype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Lori
          { 
           ifvarg LORI? 0 
           { 
             ifvare CHARACTERSELECTED? 12 
             {
              setvarvar TEMPVAR2 MAXARMORPOINTS
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl CURRENTARMORPOINTS TEMPVAR2 state assessarmortype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 12
              state checkarmorcharacter_items
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl TEMPVAR TEMPVAR2 state assessarmortype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Minako
          { 
           ifvarg MINAKO? 0 
           { 
             ifvare CHARACTERSELECTED? 13
             {
              setvarvar TEMPVAR2 MAXARMORPOINTS
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl CURRENTARMORPOINTS TEMPVAR2 state assessarmortype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 13
              state checkarmorcharacter_items
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl TEMPVAR TEMPVAR2 state assessarmortype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // "Mystery Lady"
          { 
           ifvarg MYSTERY1? 0 
           { 
             ifvare CHARACTERSELECTED? 14
             {
              setvarvar TEMPVAR2 MAXARMORPOINTS
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl CURRENTARMORPOINTS TEMPVAR2 state assessarmortype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 14
              state checkarmorcharacter_items
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl TEMPVAR TEMPVAR2 state assessarmortype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Maken
          { 
           ifvarg MAKEN? 0 
           { 
             ifvare CHARACTERSELECTED? 15
             {
              setvarvar TEMPVAR2 MAXARMORPOINTS
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl CURRENTARMORPOINTS TEMPVAR2 state assessarmortype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 15
              state checkarmorcharacter_items
              mulvarvar TEMPVAR2 tempvarname2
              ifvarvarl TEMPVAR TEMPVAR2 state assessarmortype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 // Current Vehicle
          { 
           ifvarn VEHICLEID -1
           {
            state checkarmorvehicle_items
            mulvarvar TEMPVAR2 tempvarname2
            ifvarvarl TEMPVAR TEMPVAR2 state assessarmortype_itemuse3_v else state menuerrorsound 
           }
           else state menuerrorsound 
          }
         }
        }
        else setvar itemidinuse -1
ends

state assessarmortype_itemuse1
        ifvare itemidinuse 11 { state checkbodyarmors setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1 }
        ifvare itemidinuse 12 { state checksuperarmors setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 2 }
        ifvare itemidinuse 20 { state checkusedbodyarmors setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1 }
        ifvare itemidinuse 21 { state checkusedsuperarmors setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 2 }
        ifvare itemidinuse 24 { state checkusedgreenarmors setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1 }
        ifvare itemidinuse 25 { state checkusedbluearmors setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1 }
        ifvare itemidinuse 26 { state checkusedyellowarmors setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1 }
        ifvare itemidinuse 27 { state checkusedredarmors setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1 }
        ifvare itemidinuse 28 { state checkusedgreyarmors setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1 }
        ifvare itemidinuse 29 { state checkusedwhitearmors setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1 }
        ifvare itemidinuse 30 { state checkgreenarmors setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1 }
        ifvare itemidinuse 31 { state checkbluearmors setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1 }
        ifvare itemidinuse 32 { state checkyellowarmors setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1 }
        ifvare itemidinuse 33 { state checkredarmors setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1 }
        ifvare itemidinuse 34 { state checkgreyarmors setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1 }
        ifvare itemidinuse 35 { state checkwhitearmors setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1 }
        ifvare itemidinuse 36 { state checkusedrandomarmors setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1 }
        ifvare itemidinuse 37 { state checkrandomarmors setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 1 }
ends

state assessinventorytype_itemuse3_p
        ifvare itemidinuse 14 state use_scubagear_player
        ifvare itemidinuse 15 state use_nightvisiongoggles_player
        ifvare itemidinuse 16 state use_protectiveboots_player
        ifvare itemidinuse 17 state use_holoform_player
        ifvare itemidinuse 18 state use_jetpack_player
        ifvare itemidinuse 19 state use_vitaminx_player
ends

state assessinventorytype_itemuse3_c
        ifvare itemidinuse 14 state use_scubagear_character
        ifvare itemidinuse 15 state use_nightvisiongoggles_character
        ifvare itemidinuse 16 state use_protectiveboots_character
        ifvare itemidinuse 17 state use_holoform_character
        ifvare itemidinuse 18 state use_jetpack_character
        ifvare itemidinuse 19 state use_vitaminx_character
ends

state assessinventorytype_itemuse3_v
        ifvare itemidinuse 14 state use_scubagear_vehicle
        ifvare itemidinuse 16 state use_protectiveboots_vehicle
ends

state assessinventorytype_itemuse1a
        ifvare itemidinuse 14 getactorvar[CHARACTERARRAY].CHARACTERSCUBATIME tempvarname4
        ifvare itemidinuse 15 getactorvar[CHARACTERARRAY].CHARACTERGOGGLESTIME tempvarname4
        ifvare itemidinuse 16 getactorvar[CHARACTERARRAY].CHARACTERBOOTSTIME tempvarname4
        ifvare itemidinuse 17 getactorvar[CHARACTERARRAY].CHARACTERHOLOTIME tempvarname4
        ifvare itemidinuse 18 getactorvar[CHARACTERARRAY].CHARACTERJETPACKTIME tempvarname4
        ifvare itemidinuse 19 getactorvar[CHARACTERARRAY].CHARACTERSTEROIDSTIME tempvarname4
ends

state assessinventorytype_itemuse1v
        ifvare itemidinuse 14 getactorvar[VEHICLEID].ENEMYAIRTANKAMOUNT tempvarname4
        ifvare itemidinuse 16 getactorvar[VEHICLEID].ENEMYBOOTSAMOUNT tempvarname4
ends

state assessinventorytype_itemuse2
        ifvarg tempvarname 0
        {
         ifvare itemmenupage 0 // Duke to Lisa
         {
          ifvare itemmenuselection 0 // Duke
          {
           ifvarg DUKE? 0 
           { 
             ifvare CHARACTERSELECTED? 1 
             {
              ifvarvarl tempvarname2 tempvarname3 state assessinventorytype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 1
              state assessinventorytype_itemuse1a
              ifvarvarl tempvarname4 tempvarname3 state assessinventorytype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Jack
          { 
           ifvarg JACK? 0 
           { 
             ifvare CHARACTERSELECTED? 2 
             {
              ifvarvarl tempvarname2 tempvarname3 state assessinventorytype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 2
              state assessinventorytype_itemuse1a
              ifvarvarl tempvarname4 tempvarname3 state assessinventorytype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Bubsy
          { 
           ifvarg BUBSY? 0 
           { 
             ifvare CHARACTERSELECTED? 3 
             {
              ifvarvarl tempvarname2 tempvarname3 state assessinventorytype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 3
              state assessinventorytype_itemuse1a
              ifvarvarl tempvarname4 tempvarname3 state assessinventorytype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Ami
          { 
           ifvarg AMI? 0 
           { 
             ifvare CHARACTERSELECTED? 4
             {
              ifvarvarl tempvarname2 tempvarname3 state assessinventorytype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 4
              state assessinventorytype_itemuse1a
              ifvarvarl tempvarname4 tempvarname3 state assessinventorytype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Lo Wang
          { 
           ifvarg LOWANG? 0 
           { 
             ifvare CHARACTERSELECTED? 5
             {
              ifvarvarl tempvarname2 tempvarname3 state assessinventorytype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 5
              state assessinventorytype_itemuse1a
              ifvarvarl tempvarname4 tempvarname3 state assessinventorytype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // ESSence
          { 
           ifvarg ESSENCE? 0 
           { 
             ifvare CHARACTERSELECTED? 6
             {
              ifvarvarl tempvarname2 tempvarname3 state assessinventorytype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 6
              state assessinventorytype_itemuse1a
              ifvarvarl tempvarname4 tempvarname3 state assessinventorytype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Ted
          { 
           ifvarg TED? 0 
           { 
             ifvare CHARACTERSELECTED? 7 
             {
              ifvarvarl tempvarname2 tempvarname3 state assessinventorytype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 7
              state assessinventorytype_itemuse1a
              ifvarvarl tempvarname4 tempvarname3 state assessinventorytype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 // Lisa
          { 
           ifvarg LISA? 0 
           { 
             ifvare CHARACTERSELECTED? 8
             {
              ifvarvarl tempvarname2 tempvarname3 state assessinventorytype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 8
              state assessinventorytype_itemuse1a
              ifvarvarl tempvarname4 tempvarname3 state assessinventorytype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
         }
         ifvare itemmenupage 1 // Cybanis to Maken
         {
          ifvare itemmenuselection 0 // Cybanis
          { 
           ifvarg CYBANIS? 0 
           { 
             ifvare CHARACTERSELECTED? 9
             {
              ifvarvarl tempvarname2 tempvarname3 state assessinventorytype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 9
              state assessinventorytype_itemuse1a
              ifvarvarl tempvarname4 tempvarname3 state assessinventorytype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Nethra/Christina
          { 
           ifvarg NETHRA? 0 
           { 
             ifvare CHARACTERSELECTED? 10 
             {
              ifvarvarl tempvarname2 tempvarname3 state assessinventorytype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 10
              state assessinventorytype_itemuse1a
              ifvarvarl tempvarname4 tempvarname3 state assessinventorytype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Paula
          { 
           ifvarg PAULA? 0 
           { 
             ifvare CHARACTERSELECTED? 11
             {
              ifvarvarl tempvarname2 tempvarname3 state assessinventorytype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 11
              state assessinventorytype_itemuse1a
              ifvarvarl tempvarname4 tempvarname3 state assessinventorytype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Lori
          { 
           ifvarg LORI? 0 
           { 
             ifvare CHARACTERSELECTED? 12
             {
              ifvarvarl tempvarname2 tempvarname3 state assessinventorytype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 12
              state assessinventorytype_itemuse1a
              ifvarvarl tempvarname4 tempvarname3 state assessinventorytype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Minako
          { 
           ifvarg MINAKO? 0 
           { 
             ifvare CHARACTERSELECTED? 13
             {
              ifvarvarl tempvarname2 tempvarname3 state assessinventorytype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 13
              state assessinventorytype_itemuse1a
              ifvarvarl tempvarname4 tempvarname3 state assessinventorytype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // "Mystery Lady"
          { 
           ifvarg MYSTERY1? 0 
           { 
             ifvare CHARACTERSELECTED? 14
             {
              ifvarvarl tempvarname2 tempvarname3 state assessinventorytype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 14
              state assessinventorytype_itemuse1a
              ifvarvarl tempvarname4 tempvarname3 state assessinventorytype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Maken
          { 
           ifvarg MAKEN? 0 
           { 
             ifvare CHARACTERSELECTED? 15
             {
              ifvarvarl tempvarname2 tempvarname3 state assessinventorytype_itemuse3_p else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 15
              state assessinventorytype_itemuse1a
              ifvarvarl tempvarname4 tempvarname3 state assessinventorytype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 // ?????
          { 
           ifvarn VEHICLEID -1
           {
            state assessinventorytype_itemuse1v
            ifvarvarl tempvarname4 tempvarname3 state assessinventorytype_itemuse3_v else state menuerrorsound 
           }
           else state menuerrorsound 
          }
         }
        }
        else setvar itemidinuse -1
ends

state assessinventorytype_itemuse1
        ifvare itemidinuse 14 { state checkscubatanks setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvarvar tempvarname2 SCUBATIME setvar tempvarname3 SCUBA_AMOUNT }
        ifvare itemidinuse 15 { state checkheatsensors setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvarvar tempvarname2 NIGHTVISIONTIME setvar tempvarname3 HEAT_AMOUNT }
        ifvare itemidinuse 16 { state checkbootpairs setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvarvar tempvarname2 BOOTSTIME setvar tempvarname3 BOOT_AMOUNT }
        ifvare itemidinuse 17 { state checkholoforms setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvarvar tempvarname2 HOLOFORMTIME setvar tempvarname3 HOLODUKE_AMOUNT }
        ifvare itemidinuse 18 { state checkjetpacks setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvarvar tempvarname2 JETPACKTIME setvar tempvarname3 JETPACK_AMOUNT }
        ifvare itemidinuse 19 { state checkvitaminxs setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvarvar tempvarname2 STEROIDSTIME setvar tempvarname3 STEROID_AMOUNT }
ends

state checkplayerdimness
              ifvarand PLAYERSTATUS? 16 
              { 
               subvar PLAYERSTATUS? 16 
               state useeyedrop 
              } 
              else state menuerrorsound 
ends

state checkplayerpoison
              ifvarand PLAYERSTATUS? 8 
              { 
               subvar PLAYERSTATUS? 8 
               state useantidote 
              } 
              else state menuerrorsound 
ends

state checkplayerconfusion
              ifvarand PLAYERSTATUS? 128 
              { 
               subvar PLAYERSTATUS? 128 
               state usefoghorn 
              } 
              else state menuerrorsound 
ends

state assesscuretype_itemuse3_p
        ifvare itemidinuse 1 state checkplayerdimness
        ifvare itemidinuse 2 state checkplayerpoison
        ifvare itemidinuse 3 state checkplayerconfusion
ends

state assesscuretype_itemuse3_c
        ifvare itemidinuse 1 state useeyedrop2
        ifvare itemidinuse 2 state useantidote2
        ifvare itemidinuse 3 state usefoghorn2
ends

state assesscuretype_itemuse2
        ifvarg tempvarname 0
        {
         ifvare itemmenupage 0
         {
          ifvare itemmenuselection 0
          { 
           ifvarg DUKE? 0 
           { 
             ifvare CHARACTERSELECTED? 1 state assesscuretype_itemuse3_p
             else 
             { 
              setvar CHARACTERARRAY 1
              getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              ifvarvarand TEMPVAR tempvarname2 state assesscuretype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 1 
          { 
           ifvarg JACK? 0 
           { 
             ifvare CHARACTERSELECTED? 2 state assesscuretype_itemuse3_p
             else 
             { 
              setvar CHARACTERARRAY 2
              getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              ifvarvarand TEMPVAR tempvarname2 state assesscuretype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 2 
          { 
           ifvarg BUBSY? 0 
           { 
             ifvare CHARACTERSELECTED? 3 state assesscuretype_itemuse3_p
             else 
             { 
              setvar CHARACTERARRAY 3
              getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              ifvarvarand TEMPVAR tempvarname2 state assesscuretype_itemuse3_c else state menuerrorsound 
             } 
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 3 
          { 
           ifvarg AMI? 0 
           { 
             ifvare CHARACTERSELECTED? 4 state assesscuretype_itemuse3_p
             else 
             { 
              setvar CHARACTERARRAY 4
              getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              ifvarvarand TEMPVAR tempvarname2 state assesscuretype_itemuse3_c else state menuerrorsound 
             } 
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 4 
          { 
           ifvarg LOWANG? 0 
           { 
             ifvare CHARACTERSELECTED? 5 state assesscuretype_itemuse3_p
             else 
             { 
              setvar CHARACTERARRAY 5
              getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              ifvarvarand TEMPVAR tempvarname2 state assesscuretype_itemuse3_c else state menuerrorsound 
             } 
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 5 
          { 
           ifvarg ESSENCE? 0 
           { 
             ifvare CHARACTERSELECTED? 6 state assesscuretype_itemuse3_p
             else 
             { 
              setvar CHARACTERARRAY 6
              getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              ifvarvarand TEMPVAR tempvarname2 state assesscuretype_itemuse3_c else state menuerrorsound 
             } 
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 6 
          { 
           ifvarg TED? 0 
           { 
             ifvare CHARACTERSELECTED? 7 state assesscuretype_itemuse3_p
             else 
             { 
              setvar CHARACTERARRAY 7
              getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              ifvarvarand TEMPVAR tempvarname2 state assesscuretype_itemuse3_c else state menuerrorsound 
             } 
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 7 
          { 
           ifvarg LISA? 0 
           { 
             ifvare CHARACTERSELECTED? 8 state assesscuretype_itemuse3_p
             else 
             { 
              setvar CHARACTERARRAY 8
              getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              ifvarvarand TEMPVAR tempvarname2 state assesscuretype_itemuse3_c else state menuerrorsound 
             } 
           } 
           else state menuerrorsound 
          }

         }
         ifvare itemmenupage 1
         {
          ifvare itemmenuselection 0
          { 
           ifvarg CYBANIS? 0 
           { 
             ifvare CHARACTERSELECTED? 9 state assesscuretype_itemuse3_p
             else 
             { 
              setvar CHARACTERARRAY 9
              getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              ifvarvarand TEMPVAR tempvarname2 state assesscuretype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 1
          { 
           ifvarg NETHRA? 0 
           { 
             ifvare CHARACTERSELECTED? 10 state assesscuretype_itemuse3_p
             else 
             { 
              setvar CHARACTERARRAY 10
              getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              ifvarvarand TEMPVAR tempvarname2 state assesscuretype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 2
          { 
           ifvarg PAULA? 0 
           { 
             ifvare CHARACTERSELECTED? 11 state assesscuretype_itemuse3_p
             else 
             { 
              setvar CHARACTERARRAY 11
              getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              ifvarvarand TEMPVAR tempvarname2 state assesscuretype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 3
          { 
           ifvarg LORI? 0 
           { 
             ifvare CHARACTERSELECTED? 12 state assesscuretype_itemuse3_p
             else 
             { 
              setvar CHARACTERARRAY 12
              getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              ifvarvarand TEMPVAR tempvarname2 state assesscuretype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 4
          { 
           ifvarg MINAKO? 0 
           { 
             ifvare CHARACTERSELECTED? 13 state assesscuretype_itemuse3_p
             else 
             { 
              setvar CHARACTERARRAY 13
              getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              ifvarvarand TEMPVAR tempvarname2 state assesscuretype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 5
          { 
           ifvarg MYSTERY1? 0 
           { 
             ifvare CHARACTERSELECTED? 14 state assesscuretype_itemuse3_p
             else 
             { 
              setvar CHARACTERARRAY 14
              getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              ifvarvarand TEMPVAR tempvarname2 state assesscuretype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 6
          { 
           ifvarg MAKEN? 0 
           { 
             ifvare CHARACTERSELECTED? 15 state assesscuretype_itemuse3_p
             else 
             { 
              setvar CHARACTERARRAY 15
              getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              ifvarvarand TEMPVAR tempvarname2 state assesscuretype_itemuse3_c else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 7 state menuerrorsound
         }
//
        }
        else setvar itemidinuse -1
ends

state assesscuretype_itemuse1
        ifvare itemidinuse 1 { state checkeyedrops setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 16 }
        ifvare itemidinuse 2 { state checkantidotes setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 8 }
        ifvare itemidinuse 3 { state checkfoghorns setvarvar tempvarname ITEMARRAYID_AMOUNTTEMP setvar tempvarname2 128 }
ends

state usefauxlevelup_player
    setvarvar TEMPHEALTH CURRENTHITPOINTS
    setvarvar TEMPARMOR CURRENTARMORPOINTS
    setvarvar TEMPARMORPOINTS CURRENTARMORPOINTS

    // *****************************************************************************************************
    // * This Part Calculates Maximum Health & Armor, Air Time, Mantle Time, Attack, Defense, Speed & Ammo *
    // *****************************************************************************************************
    state playerstatcalcmost
    setvar HPINCREASED 0 setvar HPLUPDISPLAY 0
    setvar APINCREASED 0 setvar APLUPDISPLAY 0
    setvar AIRINCREASED 0 setvar AIRLUPDISPLAY 0
    setvar MNTINCREASED 0 setvar MNTLUPDISPLAY 0
    setvar ATKINCREASED 0 setvar ATKLUPDISPLAY 0
    setvar DEFINCREASED 0 setvar DEFLUPDISPLAY 0
    setvar SPDINCREASED 0 setvar SPDLUPDISPLAY 0

    // ******************************************
    // * This Part Calculates Maximum Air-Jumps *
    // ******************************************
       ifvare CHARACTERSELECTED? 1 // Duke (30) [14]
       {
        ifvare PLAYERTEMPLEVEL 29 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 59 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 89 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 2 // Jack (28) [12]
       {
        ifvare PLAYERTEMPLEVEL 27 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 55 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 83 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 3 // Bubsy (31) [15]
       {
        ifvare PLAYERTEMPLEVEL 30 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 61 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 92 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 4 // Ami (29) [13]
       {
        ifvare PLAYERTEMPLEVEL 28 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 57 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 86 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 5 // Higa (25) [9]
       {
        ifvare PLAYERTEMPLEVEL 24 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 49 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 74 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 99 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 6 // ESSence (22) [6]
       {
        ifvare PLAYERTEMPLEVEL 21 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 43 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 65 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 87 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 7 // Ted (18) [2]
       {
        ifvare PLAYERTEMPLEVEL 17 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 35 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 53 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 71 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 89 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 8 // Lisa (24) [8]
       {
        ifvare PLAYERTEMPLEVEL 23 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 47 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 71 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 95 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 9 // Cybanis (19) [3]
       {
        ifvare PLAYERTEMPLEVEL 18 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 37 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 56 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 75 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 94 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 10 // Nethra (23) [7]
       {
        ifvare PLAYERTEMPLEVEL 22 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 45 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 68 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 91 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       ifvare CHARACTERSELECTED? 11 // Paula (26) [10]
       {
        ifvare PLAYERTEMPLEVEL 25 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 51 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 77 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 12 // Lori (21) [5]
       {
        ifvare PLAYERTEMPLEVEL 20 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 41 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 62 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 83 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 13 // Minako (17) [1]
       {
        ifvare PLAYERTEMPLEVEL 16 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 33 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 50 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 67 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 84 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 14 // Mystery Lady (27) [11]
       {
        ifvare PLAYERTEMPLEVEL 26 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 53 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 80 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
       else
       ifvare CHARACTERSELECTED? 15 // Maken (20) [4]
       {
        ifvare PLAYERTEMPLEVEL 19 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 39 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 59 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 79 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
        ifvare PLAYERTEMPLEVEL 99 { addvar PLAYERMAXAIRJUMPS 1 addvar JUMINCREASED 1 }
       }
    setvar JUMINCREASED 0 setvar JUMLUPDISPLAY 0

    // *************************************************************
    // * This Part Calculates Bio-Shield Damage Factor (Lisa Only) *
    // *************************************************************
      ifvare CHARACTERSELECTED? 8
      {
       ifvarg PLAYERTEMPLEVEL -1 { ifvare PUBLICBETA? 0 { ifrnd 137 addvar ESHIELDDMGFACTOR 1 } else { ifrnd 85 addvar ESHIELDDMGFACTOR 1 } }
       ifvarg PLAYERTEMPLEVEL 24 { ifvare PUBLICBETA? 0 { ifrnd 137 addvar ESHIELDDMGFACTOR 1 } else { ifrnd 85 addvar ESHIELDDMGFACTOR 1 } }
       ifvarg PLAYERTEMPLEVEL 49 { ifvare PUBLICBETA? 0 { ifrnd 137 addvar ESHIELDDMGFACTOR 1 } else { ifrnd 85 addvar ESHIELDDMGFACTOR 1 } }
       ifvarg PLAYERTEMPLEVEL 74 { ifvare PUBLICBETA? 0 { ifrnd 137 addvar ESHIELDDMGFACTOR 1 } else { ifrnd 85 addvar ESHIELDDMGFACTOR 1 } }
      }

    divvar CURRENTHITPOINTS 2
    ifvarand PLAYERSTATUS? 8 nullop else addvar PLAYERSTATUS? 8
    addvar PLAYERPOISONTIMER 780

    sound LEVELUP setvar LEVELUPTIMER 65 
    sound USE_AFASDROP
    state checkfauxlevelups subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends


state usefauxlevelup_character

    // **********************************************************************************************************
    // * This Part Calculates Maximum Health, Armor, Air Time, Mantling Time, Attack, Defense, Speed & Max Ammo *
    // **********************************************************************************************************
       state charlvlupcalcmost

    // **************************************************
    // * This Part Calculates Maximum Cells (Lisa Only) *
    // **************************************************
       ifvare CHARACTERARRAY 8 // Lisa
       {
        ifvarl templeveltemp1 34 addvar MAXCELLS 5
        ifvarg templeveltemp1 33 addvar MAXCELLS 10
        ifvarg templeveltemp1 66 addvar MAXCELLS 25
       }

    // *************************************************************
    // * This Part Calculates Bio-Shield Damage Factor (Lisa Only) *
    // *************************************************************
       ifvare CHARACTERARRAY 8 // Lisa
       {
        ifvarg templeveltemp1 -1 { ifvare PUBLICBETA? 0 { ifrnd 137 addvar ESHIELDDMGFACTOR 1 } else { ifrnd 85 addvar ESHIELDDMGFACTOR 1 } }
        ifvarg templeveltemp1 24 { ifvare PUBLICBETA? 0 { ifrnd 137 addvar ESHIELDDMGFACTOR 1 } else { ifrnd 85 addvar ESHIELDDMGFACTOR 1 } }
        ifvarg templeveltemp1 49 { ifvare PUBLICBETA? 0 { ifrnd 137 addvar ESHIELDDMGFACTOR 1 } else { ifrnd 85 addvar ESHIELDDMGFACTOR 1 } }
        ifvarg templeveltemp1 74 { ifvare PUBLICBETA? 0 { ifrnd 137 addvar ESHIELDDMGFACTOR 1 } else { ifrnd 85 addvar ESHIELDDMGFACTOR 1 } }
       }

    // **************************************************
    // * This Part is for increasing Air-Jump Maximums. *
    // **************************************************
       ifvare CHARACTERARRAY 1 // Duke
       {
        ifvare templeveltemp1 29 state charaddairjump
        ifvare templeveltemp1 59 state charaddairjump
        ifvare templeveltemp1 89 state charaddairjump
       }
       ifvare CHARACTERARRAY 2 // Jack
       {
        ifvare templeveltemp1 27 state charaddairjump
        ifvare templeveltemp1 55 state charaddairjump
        ifvare templeveltemp1 83 state charaddairjump
       }
       ifvare CHARACTERARRAY 3 // Bubsy
       {
        ifvare templeveltemp1 30 state charaddairjump
        ifvare templeveltemp1 61 state charaddairjump
        ifvare templeveltemp1 92 state charaddairjump
       }
       ifvare CHARACTERARRAY 4 // Ami
       {
        ifvare templeveltemp1 28 state charaddairjump
        ifvare templeveltemp1 57 state charaddairjump
        ifvare templeveltemp1 86 state charaddairjump
       }
       ifvare CHARACTERARRAY 5 // Lo Wang
       {
        ifvare templeveltemp1 24 state charaddairjump
        ifvare templeveltemp1 49 state charaddairjump
        ifvare templeveltemp1 74 state charaddairjump
        ifvare templeveltemp1 99 state charaddairjump
       }
       ifvare CHARACTERARRAY 6 // ESSence
       {
        ifvare templeveltemp1 21 state charaddairjump
        ifvare templeveltemp1 43 state charaddairjump
        ifvare templeveltemp1 65 state charaddairjump
        ifvare templeveltemp1 87 state charaddairjump
       }
       ifvare CHARACTERARRAY 7 // Ted
       {
        ifvare templeveltemp1 17 state charaddairjump
        ifvare templeveltemp1 35 state charaddairjump
        ifvare templeveltemp1 53 state charaddairjump
        ifvare templeveltemp1 71 state charaddairjump
        ifvare templeveltemp1 89 state charaddairjump
       }
       ifvare CHARACTERARRAY 8 // Lisa
       {
        ifvare templeveltemp1 23 state charaddairjump
        ifvare templeveltemp1 47 state charaddairjump
        ifvare templeveltemp1 71 state charaddairjump
        ifvare templeveltemp1 95 state charaddairjump
       }
       ifvare CHARACTERARRAY 9 // Cybanis
       {
        ifvare templeveltemp1 18 state charaddairjump
        ifvare templeveltemp1 37 state charaddairjump
        ifvare templeveltemp1 56 state charaddairjump
        ifvare templeveltemp1 75 state charaddairjump
        ifvare templeveltemp1 94 state charaddairjump
       }
       ifvare CHARACTERARRAY 10 // Nethra
       {
        ifvare templeveltemp1 22 state charaddairjump
        ifvare templeveltemp1 45 state charaddairjump
        ifvare templeveltemp1 68 state charaddairjump
        ifvare templeveltemp1 91 state charaddairjump
       }
       ifvare CHARACTERARRAY 11 // Paula
       {
        ifvare templeveltemp1 25 state charaddairjump
        ifvare templeveltemp1 51 state charaddairjump
        ifvare templeveltemp1 77 state charaddairjump
       }
       ifvare CHARACTERARRAY 12 // Lori
       {
        ifvare templeveltemp1 20 state charaddairjump
        ifvare templeveltemp1 41 state charaddairjump
        ifvare templeveltemp1 62 state charaddairjump
        ifvare templeveltemp1 83 state charaddairjump
       }
       ifvare CHARACTERARRAY 13 // Minako
       {
        ifvare templeveltemp1 16 state charaddairjump
        ifvare templeveltemp1 33 state charaddairjump
        ifvare templeveltemp1 50 state charaddairjump
        ifvare templeveltemp1 67 state charaddairjump
        ifvare templeveltemp1 84 state charaddairjump
       }
       ifvare CHARACTERARRAY 14 // Mystery Lady
       {
        ifvare templeveltemp1 26 state charaddairjump
        ifvare templeveltemp1 53 state charaddairjump
        ifvare templeveltemp1 80 state charaddairjump
       }
       ifvare CHARACTERARRAY 15 // Maken
       {
        ifvare templeveltemp1 19 state charaddairjump
        ifvare templeveltemp1 39 state charaddairjump
        ifvare templeveltemp1 59 state charaddairjump
        ifvare templeveltemp1 79 state charaddairjump
        ifvare templeveltemp1 99 state charaddairjump
       }

    getactorvar[CHARACTERARRAY].CHARACTERHP temp
    divvar temp 2
    setactorvar[CHARACTERARRAY].CHARACTERHP temp
    getactorvar[CHARACTERARRAY].CHARACTERSTATUS? temp
    ifvarand temp 8 nullop else { addvar temp 8 }
    setactorvar[CHARACTERARRAY].CHARACTERSTATUS? temp
    getactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER temp
    addvar temp 780
    setactorvar[CHARACTERARRAY].CHARACTERPOISONTIMER temp

    sound LEVELUP setvar LEVELUPTIMER 65 
    sound USE_AFASDROP
    state checkfauxlevelups subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
ends

// Skill-Use States

state check-skillenergycost-mul
            ifvarand CHEATBITFIELD? 128 mulvar SKILL-ENERGYCOST 0 else mulvarvar SKILL-ENERGYCOST TEMPVAR
ends

state check-skillenergycost-add
            ifvarand CHEATBITFIELD? 128 addvar SKILL-ENERGYCOST 0 else addvarvar SKILL-ENERGYCOST TEMPVAR
ends

state uselesserresurrection
            setvar SKILLUSERARRAY 10
            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

            setvar USESKILLARRAY 8 // Lesser Resurrection
            getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
            state check-skillenergycost-mul
            divvar SKILL-ENERGYCOST 100
            getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
            state check-skillenergycost-add
            setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
            ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound
            else
            {
             getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
             mulvar TEMPVAR 400
             divvar TEMPVAR 1000
             setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR

             ifvare PUBLICBETA? 1
             {
              getactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME TEMPVAR
              setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME TEMPVAR
              setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME TEMPVAR
             }
             stopsound RESURRECTED_ALLY
             globalsound RESURRECTED_ALLY

             subvarvar TEMPVAR5 SKILL-ENERGYCOST
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
             else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
            }
ends

state useheallifelessermain
            setvar SKILLUSERARRAY 10
            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

            setvar USESKILLARRAY 9 // Heal Life [Lesser]
            getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
            state check-skillenergycost-mul
            divvar SKILL-ENERGYCOST 100
            getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
            state check-skillenergycost-add
            setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
            ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
            else
            {
             setvarvar TEMPVAR MAXHITPOINTS
             setvarvar TEMP2 TEMPVAR
             mulvar TEMP2 333
             divvar TEMP2 1000
             addvarvar CURRENTHITPOINTS TEMP2
             setvarvar TEMP3 MAXHITPOINTS
             mulvar TEMP3 1333
             divvar TEMP3 1000
             ifvarvarg CURRENTHITPOINTS TEMP3 setvarvar CURRENTHITPOINTS TEMP3
             setvar PLAYERHPDAMAGED? -1
             stopsound HEALLIFELESSER
             globalsound HEALLIFELESSER

             subvarvar TEMPVAR5 SKILL-ENERGYCOST
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
             else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
            }
ends

state useheallifelessersecondary
            setvar SKILLUSERARRAY 10
            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

            setvar USESKILLARRAY 9 // Heal Life [Lesser]
            getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
            state check-skillenergycost-mul
            divvar SKILL-ENERGYCOST 100
            getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
            state check-skillenergycost-add
            setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
            ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
            else
            {
             getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP
             setvarvar TEMP2 TEMP
             mulvar TEMP2 333
             divvar TEMP2 1000
             getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             addvarvar TEMPVAR TEMP2
             getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP3
             mulvar TEMP3 1333
             divvar TEMP3 1000
             ifvarvarg TEMPVAR TEMP3 setvarvar TEMPVAR TEMP3
             setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             stopsound HEALLIFELESSER
             globalsound HEALLIFELESSER

             subvarvar TEMPVAR5 SKILL-ENERGYCOST
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
             else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
            }
ends

state useheallifelesservehicle
            setvar SKILLUSERARRAY 10
            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

            setvar USESKILLARRAY 9 // Heal Life [Lesser]
            getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
            state check-skillenergycost-mul
            divvar SKILL-ENERGYCOST 100
            getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
            state check-skillenergycost-add
            setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
            ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
            else
            {
             getactorvar[VEHICLEID].ENEMYMAXHP TEMP
             setvarvar TEMP2 TEMP
             mulvar TEMP2 333
             divvar TEMP2 1000
             getactorvar[VEHICLEID].ENEMYHP TEMPVAR
             addvarvar TEMPVAR TEMP2
             getactorvar[VEHICLEID].ENEMYMAXHP TEMP3
             mulvar TEMP3 1333
             divvar TEMP3 1000
             ifvarvarg TEMPVAR TEMP3 setvarvar TEMPVAR TEMP3
             setactorvar[VEHICLEID].ENEMYHP TEMPVAR
             stopsound HEALLIFELESSER
             globalsound HEALLIFELESSER

             subvarvar TEMPVAR5 SKILL-ENERGYCOST
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
             else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
            }
ends

state usecureailmentmoderatemain
             setvar TEMP3 0
             ifvarand PLAYERSTATUS? 8 // Poisoned?
             {
              subvar PLAYERSTATUS? 8
              globalsound HEAL_AILMENT
             }
             else addvar TEMP3 1

             ifvarand PLAYERSTATUS? 16 // Dimmed?
             {
              subvar PLAYERSTATUS? 16
              globalsound HEAL_AILMENT
             }
             else addvar TEMP3 1

             ifvarand PLAYERSTATUS? 128 // Confused?
             {
              subvar PLAYERSTATUS? 128
              globalsound HEAL_AILMENT
             }
             else addvar TEMP3 1

             ifvarg TEMP3 2 state menuerrorsound // If the ability won't heal any ailments, make the error sound and don't remove EP from the person
             else
             {
              setvar SKILLUSERARRAY 10
              ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
              else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

              setvar USESKILLARRAY 10 // Cure Ailment [Moderate]
              getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
              state check-skillenergycost-mul
              divvar SKILL-ENERGYCOST 100
              getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
              state check-skillenergycost-add
              setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

              ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
              else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
              ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
              else
              {
               subvarvar TEMPVAR5 SKILL-ENERGYCOST
               ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
               else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
              }
             }
ends

state usecureailmentmoderatesecondary
             setvar TEMP3 0
             getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
             ifvarand TEMPVAR 8 // Poisoned?
             {
              subvar TEMPVAR 8
              globalsound HEAL_AILMENT
             }
             else addvar TEMP3 1

             ifvarand TEMPVAR 16 // Dimmed?
             {
              subvar TEMPVAR 16
              globalsound HEAL_AILMENT
             }
             else addvar TEMP3 1

             ifvarand TEMPVAR 128 // Confused?
             {
              subvar TEMPVAR 128
              globalsound HEAL_AILMENT
             }
             else addvar TEMP3 1

             setactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
             ifvarg TEMP3 2 state menuerrorsound // If the ability won't heal any ailments, make the error sound and don't remove EP from the person
             else
             {
              setvar SKILLUSERARRAY 10
              ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
              else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

              setvar USESKILLARRAY 10 // Cure Ailment [Moderate]
              getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
              state check-skillenergycost-mul
              divvar SKILL-ENERGYCOST 100
              getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
              state check-skillenergycost-add
              setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

              ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
              else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
              ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
              else
              {
               subvarvar TEMPVAR5 SKILL-ENERGYCOST
               ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
               else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
              }
             }
ends

state useheallifegreatermain
            setvar SKILLUSERARRAY 10
            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

            setvar USESKILLARRAY 11 // Heal Life [Greater]
            getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
            state check-skillenergycost-mul
            divvar SKILL-ENERGYCOST 100
            getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
            state check-skillenergycost-add
            setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
            ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
            else
            {
             setvarvar TEMPVAR MAXHITPOINTS
             setvarvar TEMP2 TEMPVAR
             mulvar TEMP2 666
             divvar TEMP2 1000
             addvarvar CURRENTHITPOINTS TEMP2
             setvarvar TEMP3 MAXHITPOINTS
             mulvar TEMP3 1666
             divvar TEMP3 1000
             ifvarvarg CURRENTHITPOINTS TEMP3 setvarvar CURRENTHITPOINTS TEMP3
             setvar PLAYERHPDAMAGED? -1
             stopsound HEALLIFEGREATER
             globalsound HEALLIFEGREATER

             subvarvar TEMPVAR5 SKILL-ENERGYCOST
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
             else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
            }
ends

state useheallifegreatersecondary
            setvar SKILLUSERARRAY 10
            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

            setvar USESKILLARRAY 11 // Heal Life [Greater]
            getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
            state check-skillenergycost-mul
            divvar SKILL-ENERGYCOST 100
            getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
            state check-skillenergycost-add
            setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
            ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
            else
            {
             getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP
             setvarvar TEMP2 TEMP
             mulvar TEMP2 666
             divvar TEMP2 1000
             getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             addvarvar TEMPVAR TEMP2
             getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP3
             mulvar TEMP3 1666
             divvar TEMP3 1000
             ifvarvarg TEMPVAR TEMP3 setvarvar TEMPVAR TEMP3
             setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             stopsound HEALLIFEGREATER
             globalsound HEALLIFEGREATER

             subvarvar TEMPVAR5 SKILL-ENERGYCOST
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
             else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
            }
ends

state useheallifegreatervehicle
            setvar SKILLUSERARRAY 10
            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

            setvar USESKILLARRAY 11 // Heal Life [Greater]
            getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
            state check-skillenergycost-mul
            divvar SKILL-ENERGYCOST 100
            getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
            state check-skillenergycost-add
            setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
            ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
            else
            {
             getactorvar[VEHICLEID].ENEMYMAXHP TEMP
             setvarvar TEMP2 TEMP
             mulvar TEMP2 666
             divvar TEMP2 1000
             getactorvar[VEHICLEID].ENEMYHP TEMPVAR
             addvarvar TEMPVAR TEMP2
             getactorvar[VEHICLEID].ENEMYMAXHP TEMP3
             mulvar TEMP3 1666
             divvar TEMP3 1000
             ifvarvarg TEMPVAR TEMP3 setvarvar TEMPVAR TEMP3
             setactorvar[VEHICLEID].ENEMYHP TEMPVAR
             stopsound HEALLIFEGREATER
             globalsound HEALLIFEGREATER

             subvarvar TEMPVAR5 SKILL-ENERGYCOST
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
             else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
            }
ends

state usegreaterresurrection
            setvar SKILLUSERARRAY 10
            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

            setvar USESKILLARRAY 12 // Greater Resurrection
            getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
            state check-skillenergycost-mul
            divvar SKILL-ENERGYCOST 100
            getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
            state check-skillenergycost-add
            setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
            ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
            else
            {
             getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
             mulvar TEMPVAR 800
             divvar TEMPVAR 1000
             setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR

             ifvare PUBLICBETA? 1
             {
              getactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME TEMPVAR
              setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME TEMPVAR
              setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME TEMPVAR
             }
             stopsound RESURRECTED_ALLY
             globalsound RESURRECTED_ALLY

             subvarvar TEMPVAR5 SKILL-ENERGYCOST
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
             else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
            }
ends

state usecureailmentgreatestmain
             setvar TEMP3 0
             ifvarand PLAYERSTATUS? 4 // Slowed?
             {
              subvar PLAYERSTATUS? 4
              globalsound HEAL_AILMENT
             }
             else addvar TEMP3 1

             ifvarand PLAYERSTATUS? 8 // Poisoned?
             {
              subvar PLAYERSTATUS? 8
              globalsound HEAL_AILMENT
             }
             else addvar TEMP3 1

             ifvarand PLAYERSTATUS? 16 // Dimmed?
             {
              subvar PLAYERSTATUS? 16
              globalsound HEAL_AILMENT
             }
             else addvar TEMP3 1

             ifvarand PLAYERSTATUS? 128 // Confused?
             {
              subvar PLAYERSTATUS? 128
              globalsound HEAL_AILMENT
             }
             else addvar TEMP3 1

             ifvarg TEMP3 3 state menuerrorsound // If the ability won't heal any ailments, make the error sound and don't remove EP from the person
             else
             {
              setvar SKILLUSERARRAY 10
              ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
              else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

              setvar USESKILLARRAY 13 // Cure Ailment [Greatest]
              getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
              state check-skillenergycost-mul
              divvar SKILL-ENERGYCOST 100
              getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
              state check-skillenergycost-add
              setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

              ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
              else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
              ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
              else
              {
               subvarvar TEMPVAR5 SKILL-ENERGYCOST
               ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
               else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
              }
             }
ends

state usecureailmentgreatestsecondary
             setvar TEMP3 0

             getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
             ifvarand TEMPVAR 4 // Slowed?
             {
              subvar TEMPVAR 4
              globalsound HEAL_AILMENT
             }
             else addvar TEMP3 1

             ifvarand TEMPVAR 8 // Poisoned?
             {
              subvar TEMPVAR 8
              globalsound HEAL_AILMENT
             }
             else addvar TEMP3 1

             ifvarand TEMPVAR 16 // Dimmed?
             {
              subvar TEMPVAR 16
              globalsound HEAL_AILMENT
             }
             else addvar TEMP3 1

             ifvarand TEMPVAR 128 // Confused?
             {
              subvar TEMPVAR 128
              globalsound HEAL_AILMENT
             }
             else addvar TEMP3 1

             setactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
             ifvarg TEMP3 3 state menuerrorsound // If the ability won't heal any ailments, make the error sound and don't remove EP from the person
             else
             {
              setvar SKILLUSERARRAY 10
              ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
              else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

              setvar USESKILLARRAY 13 // Cure Ailment [Greatest]
              getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
              state check-skillenergycost-mul
              divvar SKILL-ENERGYCOST 100
              getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
              state check-skillenergycost-add
              setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

              ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
              else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
              ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
              else
              {
               subvarvar TEMPVAR5 SKILL-ENERGYCOST
               ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
               else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
              }
             }
ends

state useresurrectionprime
              setvar SKILLUSERARRAY 14
              ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
              else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

              setvar USESKILLARRAY 17 // Resurrection Prime
              getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
              state check-skillenergycost-mul
              divvar SKILL-ENERGYCOST 100
              getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
              state check-skillenergycost-add
              setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

              ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
              else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
              ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
              else
              {
               getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
               mulvar TEMPVAR 2000
               divvar TEMPVAR 1000
               setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
               getactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME TEMPVAR
               setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME TEMPVAR
               getactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME TEMPVAR
               setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME TEMPVAR
               stopsound RESURRECTPRIME
               globalsound RESURRECTPRIME

               subvarvar TEMPVAR5 SKILL-ENERGYCOST
               ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
               else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
              }
ends

     state resprime_1
             getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             ifvare TEMPVAR 0
             {
              getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR
              mulvar TEMPVAR 2000
              divvar TEMPVAR 1000
              setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXBREATHTIME TEMPVAR
              setactorvar[CHARACTERARRAY].CHARACTERBREATHTIME TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXMANTLETIME TEMPVAR
              setactorvar[CHARACTERARRAY].CHARACTERMANTLETIME TEMPVAR
              stopsound RESURRECTPRIME
              globalsound RESURRECTPRIME
             }
     ends

state useresurrectionultima

           setvar MISCARRAYID 62 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // NUMBER-OF-PARTY-DEAD
           ifvarg MISCARRAYID_AMOUNTTEMP 1 // Do not waste use if 1 or less people are dead.
           {
            setvar SKILLUSERARRAY 14
            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

            setvar USESKILLARRAY 18 // Resurrection Ultima
            getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
            state check-skillenergycost-mul
            divvar SKILL-ENERGYCOST 100
            getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
            state check-skillenergycost-add
            setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
            ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
            else
            {
             ifvare DUKE? 1
             {
              setvar CHARACTERARRAY 1
              state resprime_1
             }

             ifvare JACK? 1
             {
              setvar CHARACTERARRAY 2
              state resprime_1
             }

             ifvare BUBSY? 1
             {
              setvar CHARACTERARRAY 3
              state resprime_1
             }

             ifvare AMI? 1
             {
              setvar CHARACTERARRAY 4
              state resprime_1
             }

             ifvare LOWANG? 1
             {
              setvar CHARACTERARRAY 5
              state resprime_1
             }

             ifvare ESSENCE? 1
             {
              setvar CHARACTERARRAY 6
              state resprime_1
             }

             ifvare TED? 1
             {
              setvar CHARACTERARRAY 7
              state resprime_1
             }

             ifvare LISA? 1
             {
              setvar CHARACTERARRAY 8
              state resprime_1
             }

             ifvare CYBANIS? 1
             {
              setvar CHARACTERARRAY 9
              state resprime_1
             }

             ifvare NETHRA? 1
             {
              setvar CHARACTERARRAY 10
              state resprime_1
             }

             ifvare PAULA? 1
             {
              setvar CHARACTERARRAY 11
              state resprime_1
             }

             ifvare LORI? 1
             {
              setvar CHARACTERARRAY 12
              state resprime_1
             }

             ifvare MINAKO? 1
             {
              setvar CHARACTERARRAY 13
              state resprime_1
             }

             ifvare MYSTERY1? 1
             {
              // Skip "Mystery Lady", since she must be alive to use the skill and therefore cannot benefit from it
              setvar CHARACTERARRAY 14
              state resprime_1
             }

             ifvare MAKEN? 1
             {
              setvar CHARACTERARRAY 15
              state resprime_1
             }

             subvarvar TEMPVAR5 SKILL-ENERGYCOST
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
             else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
            }
           }
           else state menuerrorsound 

ends

state usefortifylessermain
            ifvarl ARMORPERCENT 5 state menuerrorsound 
            else ifvarg ARMORPERCENT 999 state menuerrorsound 
            else
            {
             setvar SKILLUSERARRAY 7
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
             else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
 
             setvar USESKILLARRAY 4 // Fortify [Lesser]
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
             else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
             else
             {
              setvarvar TEMP2 ARMORPERCENT
              mulvar TEMP2 20
              divvar TEMP2 100
              addvarvar ARMORPERCENT TEMP2
              ifvarg ARMORPERCENT 1000 setvar ARMORPERCENT 1000 
              stopsound REGEN_ARMOR5
              globalsound REGEN_ARMOR5

              subvarvar TEMPVAR5 SKILL-ENERGYCOST
              ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
              else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
             }
            }
ends

state usefortifylessersecondary
           getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
           ifvarg TEMPVAR 0
           {
            getactorvar[CHARACTERARRAY].CHARACTERAPABSORB ARMORPERCENTTEMP
            ifvarl ARMORPERCENTTEMP 5 state menuerrorsound 
            else ifvarg ARMORPERCENTTEMP 999 state menuerrorsound 
            else
            {
             setvar SKILLUSERARRAY 7
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
             else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

             setvar USESKILLARRAY 4 // Fortify [Lesser]
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
             else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
             else
             {
              setvarvar TEMP2 ARMORPERCENTTEMP
              mulvar TEMP2 20
              divvar TEMP2 100
              addvarvar ARMORPERCENTTEMP TEMP2
              ifvarg ARMORPERCENTTEMP 1000 setvar ARMORPERCENTTEMP 1000 
              setactorvar[CHARACTERARRAY].CHARACTERAPABSORB ARMORPERCENTTEMP
              stopsound REGEN_ARMOR5
              globalsound REGEN_ARMOR5
              subvarvar TEMPVAR5 SKILL-ENERGYCOST
              ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
              else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
             }
            }
           }
           else state menuerrorsound
ends

state usefortifylesservehicle
            getactorvar[VEHICLEID].ENEMYARMORPERCENT ARMORPERCENTTEMP
            ifvarl ARMORPERCENTTEMP 5 state menuerrorsound 
            else ifvarg ARMORPERCENTTEMP 999 state menuerrorsound 
            else
            {
             setvar SKILLUSERARRAY 7
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
             else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

             setvar USESKILLARRAY 4 // Fortify [Lesser]
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
             else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
             else
             {
              setvarvar TEMP2 ARMORPERCENTTEMP
              mulvar TEMP2 20
              divvar TEMP2 100
              addvarvar ARMORPERCENTTEMP TEMP2
              ifvarg ARMORPERCENTTEMP 1000 setvar ARMORPERCENTTEMP 1000 
              setactorvar[VEHICLEID].ENEMYARMORPERCENT ARMORPERCENTTEMP
              stopsound REGEN_ARMOR5
              globalsound REGEN_ARMOR5

              subvarvar TEMPVAR5 SKILL-ENERGYCOST
              ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
              else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
             }
            }
ends

state usefortifymoderatemain
            ifvarl ARMORPERCENT 3 state menuerrorsound 
            else ifvarg ARMORPERCENT 999 state menuerrorsound 
            else
            {
             setvar SKILLUSERARRAY 7
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
             else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

             setvar USESKILLARRAY 5 // Fortify [Moderate]
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
             else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
             else
             {
              setvarvar TEMP2 ARMORPERCENT
              mulvar TEMP2 60
              divvar TEMP2 100
              addvarvar ARMORPERCENT TEMP2
              ifvarg ARMORPERCENT 1000 setvar ARMORPERCENT 1000 
              stopsound REGEN_ARMOR5
              globalsound REGEN_ARMOR5

              subvarvar TEMPVAR5 SKILL-ENERGYCOST
              ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
              else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
             }
            }
ends

state usefortifymoderatesecondary
           getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
           ifvarg TEMPVAR 0
           {
            getactorvar[CHARACTERARRAY].CHARACTERAPABSORB ARMORPERCENTTEMP
            ifvarl ARMORPERCENTTEMP 3 state menuerrorsound 
            else ifvarg ARMORPERCENTTEMP 999 state menuerrorsound 
            else
            {
             setvar SKILLUSERARRAY 7
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
             else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

             setvar USESKILLARRAY 5 // Fortify [Moderate]
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
 
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
             else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
             else
             {
              setvarvar TEMP2 ARMORPERCENTTEMP
              mulvar TEMP2 60
              divvar TEMP2 100
              addvarvar ARMORPERCENTTEMP TEMP2
              ifvarg ARMORPERCENTTEMP 1000 setvar ARMORPERCENTTEMP 1000 
              setactorvar[CHARACTERARRAY].CHARACTERAPABSORB ARMORPERCENTTEMP
              stopsound REGEN_ARMOR5
              globalsound REGEN_ARMOR5

              subvarvar TEMPVAR5 SKILL-ENERGYCOST
              ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
              else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
             }
            }
           }
           else state menuerrorsound
ends

state usefortifymoderatevehicle
            getactorvar[VEHICLEID].ENEMYARMORPERCENT ARMORPERCENTTEMP
            ifvarl ARMORPERCENTTEMP 3 state menuerrorsound 
            else ifvarg ARMORPERCENTTEMP 999 state menuerrorsound 
            else
            {
             setvar SKILLUSERARRAY 7
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
             else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
 
             setvar USESKILLARRAY 5 // Fortify [Moderate]
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
             else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
             else
             {
              setvarvar TEMP2 ARMORPERCENTTEMP
              mulvar TEMP2 60
              divvar TEMP2 100
              addvarvar ARMORPERCENTTEMP TEMP2
              ifvarg ARMORPERCENTTEMP 1000 setvar ARMORPERCENTTEMP 1000 
              setactorvar[VEHICLEID].ENEMYARMORPERCENT ARMORPERCENTTEMP
              stopsound REGEN_ARMOR5
              globalsound REGEN_ARMOR5

              subvarvar TEMPVAR5 SKILL-ENERGYCOST
              ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
              else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
             }
            }
ends

state usefortifygreatermain
            ifvarl ARMORPERCENT 1 state menuerrorsound 
            else ifvarg ARMORPERCENT 999 state menuerrorsound 
            else
            {
             setvar SKILLUSERARRAY 7
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
             else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

             setvar USESKILLARRAY 6 // Fortify [Greater]
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
             else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
             else
             {
              setvarvar TEMP2 ARMORPERCENT
              mulvar TEMP2 100
              divvar TEMP2 100
              addvarvar ARMORPERCENT TEMP2
              ifvarg ARMORPERCENT 1000 setvar ARMORPERCENT 1000 
              stopsound REGEN_ARMOR5
              globalsound REGEN_ARMOR5

              subvarvar TEMPVAR5 SKILL-ENERGYCOST
              ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
              else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
             }
            }
ends

state usefortifygreatersecondary
           getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
           ifvarg TEMPVAR 0
           {
            getactorvar[CHARACTERARRAY].CHARACTERAPABSORB ARMORPERCENTTEMP
            ifvarl ARMORPERCENTTEMP 1 state menuerrorsound
            else ifvarg ARMORPERCENTTEMP 999 state menuerrorsound 
            else
            {
             setvar SKILLUSERARRAY 7
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
             else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

             setvar USESKILLARRAY 6 // Fortify [Greater]
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
             else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
             else
             {
              setvarvar TEMP2 ARMORPERCENTTEMP
              mulvar TEMP2 100
              divvar TEMP2 100
              addvarvar ARMORPERCENTTEMP TEMP2
              ifvarg ARMORPERCENTTEMP 1000 setvar ARMORPERCENTTEMP 1000 
              setactorvar[CHARACTERARRAY].CHARACTERAPABSORB ARMORPERCENTTEMP
              stopsound REGEN_ARMOR5
              globalsound REGEN_ARMOR5

              subvarvar TEMPVAR5 SKILL-ENERGYCOST
              ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
              else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
             }
            }
           }
           else state menuerrorsound
ends

state usefortifygreatervehicle
            getactorvar[VEHICLEID].ENEMYARMORPERCENT ARMORPERCENTTEMP
            ifvarl ARMORPERCENTTEMP 1 state menuerrorsound 
            else ifvarg ARMORPERCENTTEMP 999 state menuerrorsound 
            else
            {
             setvar SKILLUSERARRAY 7
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
             else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

             setvar USESKILLARRAY 6 // Fortify [Greater]
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
 
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
             else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
             else
             {
              setvarvar TEMP2 ARMORPERCENTTEMP
              mulvar TEMP2 100
              divvar TEMP2 100
              addvarvar ARMORPERCENTTEMP TEMP2
              ifvarg ARMORPERCENTTEMP 1000 setvar ARMORPERCENTTEMP 1000 
              setactorvar[VEHICLEID].ENEMYARMORPERCENT ARMORPERCENT
              stopsound REGEN_ARMOR5
              globalsound REGEN_ARMOR5

              subvarvar TEMPVAR5 SKILL-ENERGYCOST
              ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
              else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
             }
            }
ends

state usemercuryquickeningmain
            setvar SKILLUSERARRAY 4
            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

            setvar USESKILLARRAY 3 // Mercury Quickening
            getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
            state check-skillenergycost-mul
            divvar SKILL-ENERGYCOST 100
            getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
            state check-skillenergycost-add
            setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
            ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
            else
            {
             ifvarand PLAYERSTATUS? 4 subvar PLAYERSTATUS? 4 // Slowed?

             ifvarand PLAYERSTATUS? 2 addvar PLAYERHASTETIMER 390 // Hasted?
             else
             {
              addvar PLAYERSTATUS? 2
              addvar PLAYERHASTETIMER 390
             }
             stopsound HASTED
             globalsound HASTED

             subvarvar TEMPVAR5 SKILL-ENERGYCOST
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
             else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
            }
ends

state usemercuryquickeningsecondary
           getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
           ifvarg TEMPVAR 0
           {
            setvar SKILLUSERARRAY 4
            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

            setvar USESKILLARRAY 3 // Mercury Quickening
            getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
            state check-skillenergycost-mul
            divvar SKILL-ENERGYCOST 100
            getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
            state check-skillenergycost-add
            setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
            ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
            else
            {
             getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
             ifvarand TEMPVAR 4 subvar TEMPVAR 4 // Slowed?

             ifvarand TEMPVAR 2 // Hasted?
             {
              getactorvar[CHARACTERARRAY].CHARACTERHASTETIMER TEMP2
              addvar TEMP2 390
              setactorvar[CHARACTERARRAY].CHARACTERHASTETIMER TEMP2
             }
             else
             {
              addvar TEMPVAR 2
              setactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERHASTETIMER TEMP2
              addvar TEMP2 390
              setactorvar[CHARACTERARRAY].CHARACTERHASTETIMER TEMP2
             }
             stopsound HASTED
             globalsound HASTED

             subvarvar TEMPVAR5 SKILL-ENERGYCOST
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
             else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
            }
           }
           else state menuerrorsound
ends

state usedamageshellmain
            setvar SKILLUSERARRAY 2
            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

            setvar USESKILLARRAY 1 // Damage Shell
            getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
            state check-skillenergycost-mul
            divvar SKILL-ENERGYCOST 100
            getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
            state check-skillenergycost-add
            setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
            ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
            else
            {
             ifvarand PLAYERSTATUS? 512 addvar PLAYERSHELLTIMER 390 // Already Shelled?
             else
             {
              addvar PLAYERSTATUS? 512
              addvar PLAYERSHELLTIMER 390
             }
             stopsound SHELLED
             globalsound SHELLED

             subvarvar TEMPVAR5 SKILL-ENERGYCOST
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
             else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
            }
ends

state usedamageshellsecondary
           getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
           ifvarg TEMPVAR 0
           {
            setvar SKILLUSERARRAY 2
            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

            setvar USESKILLARRAY 1 // Damage Shell
            getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
            state check-skillenergycost-mul
            divvar SKILL-ENERGYCOST 100
            getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
            state check-skillenergycost-add
            setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
            ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
            else
            {
             getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
             ifvarand TEMPVAR 512 // Already Shelled?
             {
              getactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER TEMP2
              addvar TEMP2 390
              setactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER TEMP2
             }
             else
             {
              addvar TEMPVAR 512
              setactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER TEMP2
              addvar TEMP2 390
              setactorvar[CHARACTERARRAY].CHARACTERSHELLTIMER TEMP2
             }
             stopsound SHELLED
             globalsound SHELLED

             subvarvar TEMPVAR5 SKILL-ENERGYCOST
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
             else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
            }
           }
           else state menuerrorsound
ends

state usetriadboostermain
            setvar SKILLUSERARRAY 15
            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

            setvar USESKILLARRAY 20 // Triad Booster
            getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
            state check-skillenergycost-mul
            divvar SKILL-ENERGYCOST 100
            getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
            state check-skillenergycost-add
            setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
            ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
            else
            {
             ifvarand PLAYERSTATUS? 4096 addvar PLAYERBOOSTERTIMER 390 // Already Boosted?
             else
             {
              addvar PLAYERSTATUS? 4096
              addvar PLAYERBOOSTERTIMER 390
             }
             stopsound BOOSTED
             globalsound BOOSTED

             subvarvar TEMPVAR5 SKILL-ENERGYCOST
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
             else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
            }
ends

state usetriadboostersecondary
           getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
           ifvarg TEMPVAR 0
           {
            setvar SKILLUSERARRAY 15
            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

            setvar USESKILLARRAY 20 // Triad Booster
            getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
            state check-skillenergycost-mul
            divvar SKILL-ENERGYCOST 100
            getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
            state check-skillenergycost-add
            setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
            ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
            else
            {
             getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
             ifvarand TEMPVAR 4096 // Already Boosted?
             {
              getactorvar[CHARACTERARRAY].CHARACTERBOOSTERTIMER TEMP2
              addvar TEMP2 390
              setactorvar[CHARACTERARRAY].CHARACTERBOOSTERTIMER TEMP2
             }
             else
             {
              addvar TEMPVAR 4096
              setactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERBOOSTERTIMER TEMP2
              addvar TEMP2 390
              setactorvar[CHARACTERARRAY].CHARACTERBOOSTERTIMER TEMP2
             }
             stopsound BOOSTED
             globalsound BOOSTED

             subvarvar TEMPVAR5 SKILL-ENERGYCOST
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
             else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
            }
           }
           else state menuerrorsound
ends

state usepkshieldmain
            setvar SKILLUSERARRAY 11
            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

            setvar USESKILLARRAY 14 // PK Shield
            getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
            state check-skillenergycost-mul
            divvar SKILL-ENERGYCOST 100
            getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
            state check-skillenergycost-add
            setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
            ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
            else
            {
             ifvarand PLAYERSTATUS? 1024 addvar PLAYERPSISHIELDTIMER 6 // Already Boosted?
             else
             {
              addvar PLAYERSTATUS? 1024
              addvar PLAYERPSISHIELDTIMER 6 // Shield is measured by hits, not a timer, so the "timer" subsistutes. :P
             }
             stopsound PKSHIELDED
             globalsound PKSHIELDED

             subvarvar TEMPVAR5 SKILL-ENERGYCOST
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
             else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
            }
ends

state usepkshieldsecondary
           getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
           ifvarg TEMPVAR 0
           {
            setvar SKILLUSERARRAY 11
            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

            setvar USESKILLARRAY 14 // PK Shield
            getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
            state check-skillenergycost-mul
            divvar SKILL-ENERGYCOST 100
            getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
            state check-skillenergycost-add
            setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
            ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
            else
            {
             getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
             ifvarand TEMPVAR 1024 // Already Boosted?
             {
              getactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER TEMP2
              addvar TEMP2 6
              setactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER TEMP2
             }
             else
             {
              addvar TEMPVAR 1024
              setactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER TEMP2
              addvar TEMP2 6
              setactorvar[CHARACTERARRAY].CHARACTERPSISHIELDTIMER TEMP2
             }
             stopsound PKSHIELDED
             globalsound PKSHIELDED

             subvarvar TEMPVAR5 SKILL-ENERGYCOST
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
             else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
            }
           }
           else state menuerrorsound
ends

state usebloodlustingmain
            setvar SKILLUSERARRAY 9
            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

            setvar USESKILLARRAY 7 // Bloodlusting
            getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
            state check-skillenergycost-mul
            divvar SKILL-ENERGYCOST 100
            getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
            state check-skillenergycost-add
            setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
            ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
            else
            {
             ifvarand PLAYERSTATUS? 8192 addvar PLAYERBLOODLUSTTIMER 390 // Already Bloodlusted?
             else
             {
              addvar PLAYERSTATUS? 8192
              addvar PLAYERBLOODLUSTTIMER 390
             }
             stopsound BLOODLUSTED
             globalsound BLOODLUSTED

             subvarvar TEMPVAR5 SKILL-ENERGYCOST
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
             else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
            }
ends

state usebloodlustingsecondary
           getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
           ifvarg TEMPVAR 0
           {
            setvar SKILLUSERARRAY 9
            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar SKILL-ENERGYCOST MAXENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST

            setvar USESKILLARRAY 7 // Bloodlusting
            getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
            state check-skillenergycost-mul
            divvar SKILL-ENERGYCOST 100
            getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
            state check-skillenergycost-add
            setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP

            ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar TEMPVAR5 CURRENTENERGYPOINTS
            else getactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5            
            ifvarvarl TEMPVAR5 SKILL-ENERGYCOST { state menuerrorsound setvar skillidinuse -1 }
            else
            {
             getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
             ifvarand TEMPVAR 8192 // Already Bloodlusted?
             {
              getactorvar[CHARACTERARRAY].CHARACTERBLOODLUSTTIMER TEMP2
              addvar TEMP2 390
              setactorvar[CHARACTERARRAY].CHARACTERBLOODLUSTTIMER TEMP2
             }
             else
             {
              addvar TEMPVAR 8192
              setactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERBLOODLUSTTIMER TEMP2
              addvar TEMP2 390
              setactorvar[CHARACTERARRAY].CHARACTERBLOODLUSTTIMER TEMP2
             }
             stopsound BLOODLUSTED
             globalsound BLOODLUSTED

             subvarvar TEMPVAR5 SKILL-ENERGYCOST
             ifvarvare CHARACTERSELECTED? SKILLUSERARRAY setvarvar CURRENTENERGYPOINTS TEMPVAR5
             else setactorvar[SKILLUSERARRAY].CHARACTEREP TEMPVAR5
            }
           }
           else state menuerrorsound
ends

state menu-usinganitem

       ifvare itemidinuse 0 // if the item is the "Resurrection Chalice"
       {
        state checkreschalices
        ifvarg ITEMARRAYID_AMOUNTTEMP 0
        {
         ifvare itemmenupage 0
         {
          ifvare itemmenuselection 0 
          { 
           ifvarg DUKE? 0 
           { 
            setvar CHARACTERARRAY 1
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state usereschalice else state menuerrorsound
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 
          { 
           ifvarg JACK? 0 
           { 
            setvar CHARACTERARRAY 2
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state usereschalice else state menuerrorsound
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 2 
          {
           ifvarg BUBSY? 0 
           { 
            setvar CHARACTERARRAY 3
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state usereschalice else state menuerrorsound
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 3
          {
           ifvarg AMI? 0 
           { 
            setvar CHARACTERARRAY 4
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state usereschalice else state menuerrorsound
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 4 
          {
           ifvarg LOWANG? 0 
           { 
            setvar CHARACTERARRAY 5
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state usereschalice else state menuerrorsound
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 5 
          {
           ifvarg ESSENCE? 0 
           { 
            setvar CHARACTERARRAY 6
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state usereschalice else state menuerrorsound
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 6
          {
           ifvarg TED? 0 
           { 
            setvar CHARACTERARRAY 7
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state usereschalice else state menuerrorsound
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 7
          {
           ifvarg LISA? 0 
           { 
            setvar CHARACTERARRAY 8
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state usereschalice else state menuerrorsound
           } 
           else state menuerrorsound 
          }

         }
         ifvare itemmenupage 1
         {

          ifvare itemmenuselection 0
          {
           ifvarg CYBANIS? 0 
           { 
            setvar CHARACTERARRAY 9
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state usereschalice else state menuerrorsound
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 1
          {
           ifvarg NETHRA? 0 
           { 
            setvar CHARACTERARRAY 10
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state usereschalice else state menuerrorsound
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 2
          {
           ifvarg PAULA? 0 
           { 
            setvar CHARACTERARRAY 11
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state usereschalice else state menuerrorsound
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 3
          {
           ifvarg LORI? 0 
           { 
            setvar CHARACTERARRAY 12
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state usereschalice else state menuerrorsound
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 4
          {
           ifvarg MINAKO? 0 
           { 
            setvar CHARACTERARRAY 13
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state usereschalice else state menuerrorsound
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 5
          {
           ifvarg MYSTERY1? 0 
           { 
            setvar CHARACTERARRAY 14
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state usereschalice else state menuerrorsound
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 6
          {
           ifvarg MAKEN? 0 
           { 
            setvar CHARACTERARRAY 15
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state usereschalice else state menuerrorsound
           } 
           else state menuerrorsound 
          }

          ifvare itemmenuselection 7 state menuerrorsound

         }
        }
        else setvar itemidinuse -1
       }

       ifvarg itemidinuse 0 ifvarl itemidinuse 4
       {
        state assesscuretype_itemuse1
        state assesscuretype_itemuse2
       }

       ifvare itemidinuse 4 // If the Item in use is the "Afa's Drop"
       {
        state checkafasdrops
        ifvarg ITEMARRAYID_AMOUNTTEMP 0
        {
         ifvare itemmenupage 0 // Duke to Lisa
         {
          ifvare itemmenuselection 0 // Duke
          { 
           ifvarg DUKE? 0
           {
            setvar CHARACTERARRAY 1
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 state useafasdrop else state menuerrorsound 
           }
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Jack
          { 
           ifvarg JACK? 0 
           { 
            setvar CHARACTERARRAY 2
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 state useafasdrop else state menuerrorsound 
           }
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Bubsy
          { 
           ifvarg BUBSY? 0 
           { 
            setvar CHARACTERARRAY 3
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 state useafasdrop else state menuerrorsound 
           }
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Ami
          { 
           ifvarg AMI? 0 
           { 
            setvar CHARACTERARRAY 4
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 state useafasdrop else state menuerrorsound 
           }
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Lo Wang
          { 
           ifvarg LOWANG? 0 
           { 
            setvar CHARACTERARRAY 5
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 state useafasdrop else state menuerrorsound 
           }
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // ESSence
          { 
           ifvarg ESSENCE? 0 
           { 
            setvar CHARACTERARRAY 6
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 state useafasdrop else state menuerrorsound 
           }
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Ted
          { 
           ifvarg TED? 0 
           { 
            setvar CHARACTERARRAY 7
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 state useafasdrop else state menuerrorsound 
           }
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 // Lisa
          { 
           ifvarg LISA? 0 
           { 
            setvar CHARACTERARRAY 8
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 state useafasdrop else state menuerrorsound 
           }
           else state menuerrorsound 
          }
         }
         ifvare itemmenupage 1 // Cybanis to Maken
         {
          ifvare itemmenuselection 0 // Cybanis
          { 
           ifvarg CYBANIS? 0 
           { 
            setvar CHARACTERARRAY 9
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 state useafasdrop else state menuerrorsound 
           }
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Nethra
          { 
           ifvarg NETHRA? 0 
           { 
            setvar CHARACTERARRAY 10
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 state useafasdrop else state menuerrorsound 
           }
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Paula
          { 
           ifvarg PAULA? 0 
           { 
            setvar CHARACTERARRAY 11
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 state useafasdrop else state menuerrorsound 
           }
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Lori
          { 
           ifvarg LORI? 0 
           { 
            setvar CHARACTERARRAY 12
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 state useafasdrop else state menuerrorsound 
           }
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Minako
          { 
           ifvarg MINAKO? 0 
           { 
            setvar CHARACTERARRAY 13
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 state useafasdrop else state menuerrorsound 
           }
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // "Mystery Lady"
          { 
           ifvarg MYSTERY1? 0 
           { 
            setvar CHARACTERARRAY 14
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 state useafasdrop else state menuerrorsound 
           }
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Maken
          { 
           ifvarg MAKEN? 0 
           { 
            setvar CHARACTERARRAY 15
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 state useafasdrop else state menuerrorsound 
           }
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 state menuerrorsound
         }
        }
        else setvar itemidinuse -1
       }

       ifvarg itemidinuse 4 ifvarl itemidinuse 11
       {
        state assessmedikittype_itemuse1
        state assessmedikittype_itemuse2
       }

       ifvarg itemidinuse 10 ifvarl itemidinuse 13
       {
        state assessarmortype_itemuse1
        state assessarmortype_itemuse2
       }

       ifvare itemidinuse 13 // If the Item in use is the "Portable Medikit"
       {
        state checkportablemedikits
        ifvarg ITEMARRAYID_AMOUNTTEMP 0
        {
         ifvare itemmenupage 0 // Duke to Lisa
         {
          ifvare itemmenuselection 0 // Duke
          {
           ifvarg DUKE? 0 
           { 
             ifvare CHARACTERSELECTED? 1 
             {
              ifvarvarl FIRSTAIDCURRENT MAXHITPOINTS state use_portablemedikit_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 1
              getactorvar[CHARACTERARRAY].CHARACTERFA TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR2
              ifvarvarl TEMPVAR TEMPVAR2 state use_portablemedikit_character else state menuerrorsound
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Jack
          { 
           ifvarg JACK? 0 
           { 
             ifvare CHARACTERSELECTED? 2 
             {
              ifvarvarl FIRSTAIDCURRENT MAXHITPOINTS state use_portablemedikit_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 2
              getactorvar[CHARACTERARRAY].CHARACTERFA TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR2
              ifvarvarl TEMPVAR TEMPVAR2 state use_portablemedikit_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Bubsy
          { 
           ifvarg BUBSY? 0 
           { 
             ifvare CHARACTERSELECTED? 3 
             {
              ifvarvarl FIRSTAIDCURRENT MAXHITPOINTS state use_portablemedikit_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 3
              getactorvar[CHARACTERARRAY].CHARACTERFA TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR2
              ifvarvarl TEMPVAR TEMPVAR2 state use_portablemedikit_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Ami
          { 
           ifvarg AMI? 0 
           { 
             ifvare CHARACTERSELECTED? 4
             {
              ifvarvarl FIRSTAIDCURRENT MAXHITPOINTS state use_portablemedikit_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 4
              getactorvar[CHARACTERARRAY].CHARACTERFA TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR2
              ifvarvarl TEMPVAR TEMPVAR2 state use_portablemedikit_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Lo Wang
          { 
           ifvarg LOWANG? 0 
           { 
             ifvare CHARACTERSELECTED? 5
             {
              ifvarvarl FIRSTAIDCURRENT MAXHITPOINTS state use_portablemedikit_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 5
              getactorvar[CHARACTERARRAY].CHARACTERFA TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR2
              ifvarvarl TEMPVAR TEMPVAR2 state use_portablemedikit_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // ESSence
          { 
           ifvarg ESSENCE? 0 
           { 
             ifvare CHARACTERSELECTED? 6
             {
              ifvarvarl FIRSTAIDCURRENT MAXHITPOINTS state use_portablemedikit_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 6
              getactorvar[CHARACTERARRAY].CHARACTERFA TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR2
              ifvarvarl TEMPVAR TEMPVAR2 state use_portablemedikit_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Ted
          { 
           ifvarg TED? 0 
           { 
             ifvare CHARACTERSELECTED? 7 
             {
              ifvarvarl FIRSTAIDCURRENT MAXHITPOINTS state use_portablemedikit_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 7
              getactorvar[CHARACTERARRAY].CHARACTERFA TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR2
              ifvarvarl TEMPVAR TEMPVAR2 state use_portablemedikit_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 // Lisa
          { 
           ifvarg LISA? 0 
           { 
             ifvare CHARACTERSELECTED? 8
             {
              ifvarvarl FIRSTAIDCURRENT MAXHITPOINTS state use_portablemedikit_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 8
              getactorvar[CHARACTERARRAY].CHARACTERFA TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR2
              ifvarvarl TEMPVAR TEMPVAR2 state use_portablemedikit_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
         }
         ifvare itemmenupage 1 // Cybanis to Maken
         {
          ifvare itemmenuselection 0 // Cybanis
          { 
           ifvarg CYBANIS? 0 
           { 
             ifvare CHARACTERSELECTED? 9
             {
              ifvarvarl FIRSTAIDCURRENT MAXHITPOINTS state use_portablemedikit_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 9
              getactorvar[CHARACTERARRAY].CHARACTERFA TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR2
              ifvarvarl TEMPVAR TEMPVAR2 state use_portablemedikit_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Nethra/Christina
          { 
           ifvarg NETHRA? 0 
           { 
             ifvare CHARACTERSELECTED? 10 
             {
              ifvarvarl FIRSTAIDCURRENT MAXHITPOINTS state use_portablemedikit_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 10
              getactorvar[CHARACTERARRAY].CHARACTERFA TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR2
              ifvarvarl TEMPVAR TEMPVAR2 state use_portablemedikit_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Paula
          { 
           ifvarg PAULA? 0 
           { 

             ifvare CHARACTERSELECTED? 11
             {
              ifvarvarl FIRSTAIDCURRENT MAXHITPOINTS state use_portablemedikit_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 11
              getactorvar[CHARACTERARRAY].CHARACTERFA TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR2
              ifvarvarl TEMPVAR TEMPVAR2 state use_portablemedikit_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Lori
          { 
           ifvarg LORI? 0 
           { 
             ifvare CHARACTERSELECTED? 12
             {
              ifvarvarl FIRSTAIDCURRENT MAXHITPOINTS state use_portablemedikit_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 12
              getactorvar[CHARACTERARRAY].CHARACTERFA TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR2
              ifvarvarl TEMPVAR TEMPVAR2 state use_portablemedikit_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Minako
          { 
           ifvarg MINAKO? 0 
           { 
             ifvare CHARACTERSELECTED? 13
             {
              ifvarvarl FIRSTAIDCURRENT MAXHITPOINTS state use_portablemedikit_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 13
              getactorvar[CHARACTERARRAY].CHARACTERFA TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR2
              ifvarvarl TEMPVAR TEMPVAR2 state use_portablemedikit_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // "Mystery Lady"
          { 
           ifvarg MYSTERY1? 0 
           { 
             ifvare CHARACTERSELECTED? 14
             {
              ifvarvarl FIRSTAIDCURRENT MAXHITPOINTS state use_portablemedikit_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 14
              getactorvar[CHARACTERARRAY].CHARACTERFA TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR2
              ifvarvarl TEMPVAR TEMPVAR2 state use_portablemedikit_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Maken
          { 
           ifvarg MAKEN? 0 
           { 
             ifvare CHARACTERSELECTED? 15
             {
              ifvarvarl FIRSTAIDCURRENT MAXHITPOINTS state use_portablemedikit_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 15
              getactorvar[CHARACTERARRAY].CHARACTERFA TEMPVAR
              getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR2
              ifvarvarl TEMPVAR TEMPVAR2 state use_portablemedikit_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 // Current Vehicle
          { 
           ifvarn VEHICLEID -1
           {
            getactorvar[VEHICLEID].ENEMYFIRSTAID TEMPVAR
            getactorvar[VEHICLEID].ENEMYMAXHP TEMPVAR2
            ifvarvarl TEMPVAR TEMPVAR2 state use_portablemedikit_vehicle else state menuerrorsound 
           }
           else state menuerrorsound 
          }
         }
        }
        else setvar itemidinuse -1
       }

       ifvarg itemidinuse 13 ifvarl itemidinuse 20
       {
        state assessinventorytype_itemuse1
        state assessinventorytype_itemuse2
       }

       ifvarg itemidinuse 19 ifvarl itemidinuse 22
       {
        state assessarmortype_itemuse1
        state assessarmortype_itemuse2
       }

       ifvare itemidinuse 22 // If the Item in use is the "Atomic Health"
       {
        state checkatomichealths
        ifvarg ITEMARRAYID_AMOUNTTEMP 0
        {
         ifvare itemmenupage 0 // Duke to Lisa
         {
          ifvare itemmenuselection 0 // Duke
          {
           ifvarg DUKE? 0 
           { 
             ifvare CHARACTERSELECTED? 1 
             {
              ifvarvarl CURRENTHITPOINTS MAXHITPOINTSATOMIC state use_atomichealth_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 1
              state checkhealthcharacter_items
              mulvar TEMPVAR2 2
              ifvarvarl TEMPVAR TEMPVAR2 state use_atomichealth_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Jack
          { 
           ifvarg JACK? 0 
           { 
             ifvare CHARACTERSELECTED? 2
             {
              ifvarvarl CURRENTHITPOINTS MAXHITPOINTSATOMIC state use_atomichealth_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 2
              state checkhealthcharacter_items
              mulvar TEMPVAR2 2
              ifvarvarl TEMPVAR TEMPVAR2 state use_atomichealth_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Bubsy
          { 
           ifvarg BUBSY? 0 
           { 
             ifvare CHARACTERSELECTED? 3
             {
              ifvarvarl CURRENTHITPOINTS MAXHITPOINTSATOMIC state use_atomichealth_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 3
              state checkhealthcharacter_items
              mulvar TEMPVAR2 2
              ifvarvarl TEMPVAR TEMPVAR2 state use_atomichealth_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Ami
          { 
           ifvarg AMI? 0 
           { 
             ifvare CHARACTERSELECTED? 4
             {
              ifvarvarl CURRENTHITPOINTS MAXHITPOINTSATOMIC state use_atomichealth_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 4
              state checkhealthcharacter_items
              mulvar TEMPVAR2 2
              ifvarvarl TEMPVAR TEMPVAR2 state use_atomichealth_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Lo Wang
          { 
           ifvarg LOWANG? 0 
           { 
             ifvare CHARACTERSELECTED? 5
             {
              ifvarvarl CURRENTHITPOINTS MAXHITPOINTSATOMIC state use_atomichealth_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 5
              state checkhealthcharacter_items
              mulvar TEMPVAR2 2
              ifvarvarl TEMPVAR TEMPVAR2 state use_atomichealth_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // ESSence
          { 
           ifvarg ESSENCE? 0 
           { 
             ifvare CHARACTERSELECTED? 6
             {
              ifvarvarl CURRENTHITPOINTS MAXHITPOINTSATOMIC state use_atomichealth_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 6
              state checkhealthcharacter_items
              mulvar TEMPVAR2 2
              ifvarvarl TEMPVAR TEMPVAR2 state use_atomichealth_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Ted
          { 
           ifvarg TED? 0 
           { 
             ifvare CHARACTERSELECTED? 7
             {
              ifvarvarl CURRENTHITPOINTS MAXHITPOINTSATOMIC state use_atomichealth_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 7
              state checkhealthcharacter_items
              mulvar TEMPVAR2 2
              ifvarvarl TEMPVAR TEMPVAR2 state use_atomichealth_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 // Lisa
          { 
           ifvarg LISA? 0 
           { 
             ifvare CHARACTERSELECTED? 8 
             {
              ifvarvarl CURRENTHITPOINTS MAXHITPOINTSATOMIC state use_atomichealth_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 8
              state checkhealthcharacter_items
              mulvar TEMPVAR2 2
              ifvarvarl TEMPVAR TEMPVAR2 state use_atomichealth_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
         }
         ifvare itemmenupage 1 // Cybanis to Maken
         {
          ifvare itemmenuselection 0 // Cybanis
          { 
           ifvarg CYBANIS? 0 
           { 
             ifvare CHARACTERSELECTED? 9
             {
              ifvarvarl CURRENTHITPOINTS MAXHITPOINTSATOMIC state use_atomichealth_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 9
              state checkhealthcharacter_items
              mulvar TEMPVAR2 2
              ifvarvarl TEMPVAR TEMPVAR2 state use_atomichealth_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Nethra/Christina
          { 
           ifvarg NETHRA? 0 
           { 
             ifvare CHARACTERSELECTED? 10
             {
              ifvarvarl CURRENTHITPOINTS MAXHITPOINTSATOMIC state use_atomichealth_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 10
              state checkhealthcharacter_items
              mulvar TEMPVAR2 2
              ifvarvarl TEMPVAR TEMPVAR2 state use_atomichealth_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Paula
          { 
           ifvarg PAULA? 0 
           { 
             ifvare CHARACTERSELECTED? 11
             {
              ifvarvarl CURRENTHITPOINTS MAXHITPOINTSATOMIC state use_atomichealth_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 11
              state checkhealthcharacter_items
              mulvar TEMPVAR2 2
              ifvarvarl TEMPVAR TEMPVAR2 state use_atomichealth_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Lori
          { 
           ifvarg LORI? 0 
           { 
             ifvare CHARACTERSELECTED? 12 
             {
              ifvarvarl CURRENTHITPOINTS MAXHITPOINTSATOMIC state use_atomichealth_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 12
              state checkhealthcharacter_items
              mulvar TEMPVAR2 2
              ifvarvarl TEMPVAR TEMPVAR2 state use_atomichealth_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Minako
          { 
           ifvarg MINAKO? 0 
           { 
             ifvare CHARACTERSELECTED? 13
             {
              ifvarvarl CURRENTHITPOINTS MAXHITPOINTSATOMIC state use_atomichealth_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 13
              state checkhealthcharacter_items
              mulvar TEMPVAR2 2
              ifvarvarl TEMPVAR TEMPVAR2 state use_atomichealth_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // "Mystery Lady"
          { 
           ifvarg MYSTERY1? 0 
           { 
             ifvare CHARACTERSELECTED? 14
             {
              ifvarvarl CURRENTHITPOINTS MAXHITPOINTSATOMIC state use_atomichealth_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 14
              state checkhealthcharacter_items
              mulvar TEMPVAR2 2
              ifvarvarl TEMPVAR TEMPVAR2 state use_atomichealth_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Maken
          { 
           ifvarg MAKEN? 0 
           { 
             ifvare CHARACTERSELECTED? 15
             {
              ifvarvarl CURRENTHITPOINTS MAXHITPOINTSATOMIC state use_atomichealth_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 15
              state checkhealthcharacter_items
              mulvar TEMPVAR2 2
              ifvarvarl TEMPVAR TEMPVAR2 state use_atomichealth_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 // Current Vehicle
          { 
           ifvarn VEHICLEID -1
           {
            state checkhealthvehicle_items
            mulvar TEMPVAR2 2
            ifvarvarl TEMPVAR TEMPVAR2 state use_atomichealth_vehicle else state menuerrorsound 
           }
           else state menuerrorsound 
          }
         }
        }
        else setvar itemidinuse -1
       }

       ifvare itemidinuse 23 // If the Item in use is the "Super Atom"
       {
        state checksuperatoms
        ifvarg ITEMARRAYID_AMOUNTTEMP 0
        {
         ifvare itemmenupage 0 // Duke to Lisa
         {
          ifvare itemmenuselection 0 // Duke
          {
           ifvarg DUKE? 0 
           { 
             ifvare CHARACTERSELECTED? 1 
             {
              state use_superatomcheck1
              ifvarg TEMP3 0 state use_superatom_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 1
              state use_superatomcheck2
              ifvarg TEMP3 0 state use_superatom_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Jack
          { 
           ifvarg JACK? 0 
           { 
             ifvare CHARACTERSELECTED? 2
             {
              state use_superatomcheck1
              ifvarg TEMP3 0 state use_superatom_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 2
              state use_superatomcheck2
              ifvarg TEMP3 0 state use_superatom_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Bubsy
          { 
           ifvarg BUBSY? 0 
           { 
             ifvare CHARACTERSELECTED? 3
             {
              state use_superatomcheck1
              ifvarg TEMP3 0 state use_superatom_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 3
              state use_superatomcheck2
              ifvarg TEMP3 0 state use_superatom_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Ami
          { 
           ifvarg AMI? 0 
           { 
             ifvare CHARACTERSELECTED? 4
             {
              state use_superatomcheck1
              ifvarg TEMP3 0 state use_superatom_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 4
              state use_superatomcheck2
              ifvarg TEMP3 0 state use_superatom_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Lo Wang
          { 
           ifvarg LOWANG? 0 
           { 
             ifvare CHARACTERSELECTED? 5
             {
              state use_superatomcheck1
              ifvarg TEMP3 0 state use_superatom_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 5
              state use_superatomcheck2
              ifvarg TEMP3 0 state use_superatom_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // ESSence
          { 
           ifvarg ESSENCE? 0 
           { 
             ifvare CHARACTERSELECTED? 6
             {
              state use_superatomcheck1
              ifvarg TEMP3 0 state use_superatom_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 6
              state use_superatomcheck2
              ifvarg TEMP3 0 state use_superatom_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Ted
          { 
           ifvarg TED? 0 
           { 
             ifvare CHARACTERSELECTED? 7
             {
              state use_superatomcheck1
              ifvarg TEMP3 0 state use_superatom_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 7
              state use_superatomcheck2
              ifvarg TEMP3 0 state use_superatom_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 // Lisa
          { 
           ifvarg LISA? 0 
           { 
             ifvare CHARACTERSELECTED? 8 
             {
              state use_superatomcheck1
              ifvarg TEMP3 0 state use_superatom_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 8
              state use_superatomcheck2
              ifvarg TEMP3 0 state use_superatom_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
         }
         ifvare itemmenupage 1 // Cybanis to Maken
         {
          ifvare itemmenuselection 0 // Cybanis
          { 
           ifvarg CYBANIS? 0 
           { 
             ifvare CHARACTERSELECTED? 9
             {
              state use_superatomcheck1
              ifvarg TEMP3 0 state use_superatom_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 9
              state use_superatomcheck2
              ifvarg TEMP3 0 state use_superatom_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Nethra/Christina
          { 
           ifvarg NETHRA? 0 
           { 
             ifvare CHARACTERSELECTED? 10
             {
              state use_superatomcheck1
              ifvarg TEMP3 0 state use_superatom_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 10
              state use_superatomcheck2
              ifvarg TEMP3 0 state use_superatom_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Paula
          { 
           ifvarg PAULA? 0 
           { 
             ifvare CHARACTERSELECTED? 11
             {
              state use_superatomcheck1
              ifvarg TEMP3 0 state use_superatom_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 11
              state use_superatomcheck2
              ifvarg TEMP3 0 state use_superatom_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Lori
          { 
           ifvarg LORI? 0 
           { 
             ifvare CHARACTERSELECTED? 12 
             {
              state use_superatomcheck1
              ifvarg TEMP3 0 state use_superatom_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 12
              state use_superatomcheck2
              ifvarg TEMP3 0 state use_superatom_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Minako
          { 
           ifvarg MINAKO? 0 
           { 
             ifvare CHARACTERSELECTED? 13
             {
              state use_superatomcheck1
              ifvarg TEMP3 0 state use_superatom_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 13
              state use_superatomcheck2
              ifvarg TEMP3 0 state use_superatom_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // "Mystery Lady"
          { 
           ifvarg MYSTERY1? 0 
           { 
             ifvare CHARACTERSELECTED? 14
             {
              state use_superatomcheck1
              ifvarg TEMP3 0 state use_superatom_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 14
              state use_superatomcheck2
              ifvarg TEMP3 0 state use_superatom_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Maken
          { 
           ifvarg MAKEN? 0 
           { 
             ifvare CHARACTERSELECTED? 15
             {
              state use_superatomcheck1
              ifvarg TEMP3 0 state use_superatom_player else state menuerrorsound 
             } 
             else 
             { 
              setvar CHARACTERARRAY 15
              state use_superatomcheck2
              ifvarg TEMP3 0 state use_superatom_character else state menuerrorsound 
             }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 // Current Vehicle
          { 
           ifvarn VEHICLEID -1
           {
            state use_superatomcheck3
            ifvarg TEMP3 0 state use_superatom_vehicle else state menuerrorsound 
           }
           else state menuerrorsound 
          }
         }
        }
        else setvar itemidinuse -1
       }

       ifvarg itemidinuse 23 ifvarl itemidinuse 38 
       {
        state assessarmortype_itemuse1
        state assessarmortype_itemuse2
       }

       ifvare itemidinuse 38 // Item is "Potentylene" [gives an emulated level up]
       {
        state checkfauxlevelups
        ifvarg ITEMARRAYID_AMOUNTTEMP 0
        {
         ifvare itemmenupage 0 // Duke to Lisa
         {
          ifvare itemmenuselection 0 // Duke
          {
           ifvarg DUKE? 0 
           { 
            ifvare CHARACTERSELECTED? 1 state usefauxlevelup_player
            else 
            { 
             setvar CHARACTERARRAY 1
             state usefauxlevelup_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Jack
          { 
           ifvarg JACK? 0 
           { 
            ifvare CHARACTERSELECTED? 2 state usefauxlevelup_player
            else 
            { 
             setvar CHARACTERARRAY 2
             state usefauxlevelup_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Bubsy
          { 
           ifvarg BUBSY? 0 
           { 
            ifvare CHARACTERSELECTED? 3 state usefauxlevelup_player
            else 
            { 
             setvar CHARACTERARRAY 3
             state usefauxlevelup_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Ami
          { 
           ifvarg AMI? 0 
           { 
            ifvare CHARACTERSELECTED? 4 state usefauxlevelup_player
            else 
            { 
             setvar CHARACTERARRAY 4
             state usefauxlevelup_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Lo Wang
          { 
           ifvarg LOWANG? 0 
           { 
            ifvare CHARACTERSELECTED? 5 state usefauxlevelup_player
            else 
            { 
             setvar CHARACTERARRAY 5
             state usefauxlevelup_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // ESSence
          { 
           ifvarg ESSENCE? 0 
           { 
            ifvare CHARACTERSELECTED? 6 state usefauxlevelup_player
            else 
            { 
             setvar CHARACTERARRAY 6
             state usefauxlevelup_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Ted
          { 
           ifvarg TED? 0 
           { 
            ifvare CHARACTERSELECTED? 7 state usefauxlevelup_player
            else 
            { 
             setvar CHARACTERARRAY 7
             state usefauxlevelup_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 // Lisa
          { 
           ifvarg LISA? 0 
           { 
            ifvare CHARACTERSELECTED? 8 state usefauxlevelup_player
            else 
            { 
             setvar CHARACTERARRAY 8
             state usefauxlevelup_character
            }
           } 
           else state menuerrorsound 
          }
         }
         ifvare itemmenupage 1 // Cybanis to Maken
         {
          ifvare itemmenuselection 0 // Cybanis
          { 
           ifvarg CYBANIS? 0 
           { 
            ifvare CHARACTERSELECTED? 9 state usefauxlevelup_player
            else 
            { 
             setvar CHARACTERARRAY 9
             state usefauxlevelup_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Nethra/Christina
          { 
           ifvarg NETHRA? 0 
           { 
            ifvare CHARACTERSELECTED? 10 state usefauxlevelup_player
            else 
            { 
             setvar CHARACTERARRAY 10
             state usefauxlevelup_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Paula
          { 
           ifvarg PAULA? 0 
           { 
            ifvare CHARACTERSELECTED? 11 state usefauxlevelup_player
            else 
            { 
             setvar CHARACTERARRAY 11
             state usefauxlevelup_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Lori
          { 
           ifvarg LORI? 0 
           { 
            ifvare CHARACTERSELECTED? 12 state usefauxlevelup_player
            else 
            { 
             setvar CHARACTERARRAY 12
             state usefauxlevelup_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Minako
          { 
           ifvarg MINAKO? 0 
           { 
            ifvare CHARACTERSELECTED? 13 state usefauxlevelup_player
            else 
            { 
             setvar CHARACTERARRAY 13
             state usefauxlevelup_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // "Mystery Lady"
          { 
           ifvarg MYSTERY1? 0 
           { 
            ifvare CHARACTERSELECTED? 14 state usefauxlevelup_player
            else 
            { 
             setvar CHARACTERARRAY 14
             state usefauxlevelup_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Maken
          { 
           ifvarg MAKEN? 0 
           { 
            ifvare CHARACTERSELECTED? 15 state usefauxlevelup_player
            else 
            { 
             setvar CHARACTERARRAY 15
             state usefauxlevelup_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 state menuerrorsound // Current Vehicle
         }
        }
        else setvar itemidinuse -1
       }

       ifvarg itemidinuse 38 ifvarl itemidinuse 42 // If the Item in use are the "Energy Drink"s
       {
        state assessenergytype_itemuse1
        state assessenergytype_itemuse2
       }

       ifvare itemidinuse 42 // Item is "Suit of Winter Clothes"
       {
        state checkwintersuits
        ifvarg ITEMARRAYID_AMOUNTTEMP 0
        {
         ifvare itemmenupage 0 // Duke to Lisa
         {
          ifvare itemmenuselection 0 // Duke
          {
           ifvarg DUKE? 0 
           { 
            ifvare CHARACTERSELECTED? 1 state usewintersuit_player
            else 
            { 
             setvar CHARACTERARRAY 1
             state usewintersuit_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Jack
          { 
           ifvarg JACK? 0 
           { 
            ifvare CHARACTERSELECTED? 2 state usewintersuit_player
            else 
            { 
             setvar CHARACTERARRAY 2
             state usewintersuit_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Bubsy
          { 
           ifvarg BUBSY? 0 
           { 
            ifvare CHARACTERSELECTED? 3 state usewintersuit_player
            else 
            { 
             setvar CHARACTERARRAY 3
             state usewintersuit_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Ami
          { 
           ifvarg AMI? 0 
           { 
            ifvare CHARACTERSELECTED? 4 state usewintersuit_player
            else 
            { 
             setvar CHARACTERARRAY 4
             state usewintersuit_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Lo Wang
          { 
           ifvarg LOWANG? 0 
           { 
            ifvare CHARACTERSELECTED? 5 state usewintersuit_player
            else 
            { 
             setvar CHARACTERARRAY 5
             state usewintersuit_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // ESSence
          { 
           ifvarg ESSENCE? 0 
           { 
            ifvare CHARACTERSELECTED? 6 state usewintersuit_player
            else 
            { 
             setvar CHARACTERARRAY 6
             state usewintersuit_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Ted
          { 
           ifvarg TED? 0 
           { 
            ifvare CHARACTERSELECTED? 7 state usewintersuit_player
            else 
            { 
             setvar CHARACTERARRAY 7
             state usewintersuit_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 // Lisa
          { 
           ifvarg LISA? 0 
           { 
            ifvare CHARACTERSELECTED? 8 state usewintersuit_player
            else 
            { 
             setvar CHARACTERARRAY 8
             state usewintersuit_character
            }
           } 
           else state menuerrorsound 
          }
         }
         ifvare itemmenupage 1 // Cybanis to Maken
         {
          ifvare itemmenuselection 0 // Cybanis
          { 
           ifvarg CYBANIS? 0 
           { 
            ifvare CHARACTERSELECTED? 9 state usewintersuit_player
            else 
            { 
             setvar CHARACTERARRAY 9
             state usewintersuit_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 1 // Nethra/Christina
          { 
           ifvarg NETHRA? 0 
           { 
            ifvare CHARACTERSELECTED? 10 state usewintersuit_player
            else 
            { 
             setvar CHARACTERARRAY 10
             state usewintersuit_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 2 // Paula
          { 
           ifvarg PAULA? 0 
           { 
            ifvare CHARACTERSELECTED? 11 state usewintersuit_player
            else 
            { 
             setvar CHARACTERARRAY 11
             state usewintersuit_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 3 // Lori
          { 
           ifvarg LORI? 0 
           { 
            ifvare CHARACTERSELECTED? 12 state usewintersuit_player
            else 
            { 
             setvar CHARACTERARRAY 12
             state usewintersuit_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 4 // Minako
          { 
           ifvarg MINAKO? 0 
           { 
            ifvare CHARACTERSELECTED? 13 state usewintersuit_player
            else 
            { 
             setvar CHARACTERARRAY 13
             state usewintersuit_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 5 // "Mystery Lady"
          { 
           ifvarg MYSTERY1? 0 
           { 
            ifvare CHARACTERSELECTED? 14 state usewintersuit_player
            else 
            { 
             setvar CHARACTERARRAY 14
             state usewintersuit_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 6 // Maken
          { 
           ifvarg MAKEN? 0 
           { 
            ifvare CHARACTERSELECTED? 15 state usewintersuit_player
            else 
            { 
             setvar CHARACTERARRAY 15
             state usewintersuit_character
            }
           } 
           else state menuerrorsound 
          }
          ifvare itemmenuselection 7 state menuerrorsound // Current Vehicle
         }
        }
        else setvar itemidinuse -1
       }

ends

     state sound_removeequip
         stopsound ADD_EQUIPMENT
         stopsound REMOVE_EQUIPMENT
         sound REMOVE_EQUIPMENT
     ends

     state sound_addequip
         stopsound REMOVE_EQUIPMENT
         stopsound ADD_EQUIPMENT
         sound ADD_EQUIPMENT
     ends

     state sound_errorequip
         stopsound REMOVE_EQUIPMENT
         stopsound ADD_EQUIPMENT
         stopsound MENU_ERROR
         state menuerrorsound
     ends

   state menu_checkequipslots
        setvarvar CHARACTERARRAY equipcharacter
        ifvare equipmenuinuse 1 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 EQUIPTEMP
        ifvare equipmenuinuse 2 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 EQUIPTEMP
        ifvare equipmenuinuse 3 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 EQUIPTEMP
        ifvare equipmenuinuse 4 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 EQUIPTEMP
        ifvare equipmenuinuse 5 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 EQUIPTEMP
        ifvare equipmenuinuse 6 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 EQUIPTEMP
        ifvare equipmenuinuse 7 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 EQUIPTEMP
        ifvare equipmenuinuse 8 getactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 EQUIPTEMP
   ends

   state menu_clearequipslots
        ifvare equipmenuinuse 1 setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 0
        ifvare equipmenuinuse 2 setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 0
        ifvare equipmenuinuse 3 setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 0
        ifvare equipmenuinuse 4 setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 0
        ifvare equipmenuinuse 5 setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 0
        ifvare equipmenuinuse 6 setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 0
        ifvare equipmenuinuse 7 setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 0
        ifvare equipmenuinuse 8 setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 0
   ends

   state menu_setequipslot1
        ifvare equipmenupage 1 addvar equipmenuselection 24
        ifvarn equipmenuinuse -1 addvar equipmenuselection 1
        setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM1 equipmenuselection
        ifvare equipmenupage 1 subvar equipmenuselection 24
        ifvarn equipmenuinuse -1 subvar equipmenuselection 1
   ends
   state menu_setequipslot2
        ifvare equipmenupage 1 addvar equipmenuselection 24
        ifvarn equipmenuinuse -1 addvar equipmenuselection 1
        setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM2 equipmenuselection
        ifvare equipmenupage 1 subvar equipmenuselection 24
        ifvarn equipmenuinuse -1 subvar equipmenuselection 1
   ends
   state menu_setequipslot3
        ifvare equipmenupage 1 addvar equipmenuselection 24
        ifvarn equipmenuinuse -1 addvar equipmenuselection 1
        setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM3 equipmenuselection
        ifvare equipmenupage 1 subvar equipmenuselection 24
        ifvarn equipmenuinuse -1 subvar equipmenuselection 1
   ends
   state menu_setequipslot4
        ifvare equipmenupage 1 addvar equipmenuselection 24
        ifvarn equipmenuinuse -1 addvar equipmenuselection 1
        setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM4 equipmenuselection
        ifvare equipmenupage 1 subvar equipmenuselection 24
        ifvarn equipmenuinuse -1 subvar equipmenuselection 1
   ends
   state menu_setequipslot5
        ifvare equipmenupage 1 addvar equipmenuselection 24
        ifvarn equipmenuinuse -1 addvar equipmenuselection 1
        setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM5 equipmenuselection
        ifvare equipmenupage 1 subvar equipmenuselection 24
        ifvarn equipmenuinuse -1 subvar equipmenuselection 1
   ends
   state menu_setequipslot6
        ifvare equipmenupage 1 addvar equipmenuselection 24
        ifvarn equipmenuinuse -1 addvar equipmenuselection 1
        setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM6 equipmenuselection
        ifvare equipmenupage 1 subvar equipmenuselection 24
        ifvarn equipmenuinuse -1 subvar equipmenuselection 1
   ends
   state menu_setequipslot7
        ifvare equipmenupage 1 addvar equipmenuselection 24
        ifvarn equipmenuinuse -1 addvar equipmenuselection 1
        setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM7 equipmenuselection
        ifvare equipmenupage 1 subvar equipmenuselection 24
        ifvarn equipmenuinuse -1 subvar equipmenuselection 1
   ends
   state menu_setequipslot8
        ifvare equipmenupage 1 addvar equipmenuselection 24
        ifvarn equipmenuinuse -1 addvar equipmenuselection 1
        setactorvar[CHARACTERARRAY].CHARACTEREQUIPSLOTITEM8 equipmenuselection
        ifvare equipmenupage 1 subvar equipmenuselection 24
        ifvarn equipmenuinuse -1 subvar equipmenuselection 1
   ends

   state menu_setequipslots
        ifvare equipmenuinuse 1 state menu_setequipslot1
        ifvare equipmenuinuse 2 state menu_setequipslot2
        ifvare equipmenuinuse 3 state menu_setequipslot3
        ifvare equipmenuinuse 4 state menu_setequipslot4
        ifvare equipmenuinuse 5 state menu_setequipslot5
        ifvare equipmenuinuse 6 state menu_setequipslot6
        ifvare equipmenuinuse 7 state menu_setequipslot7
        ifvare equipmenuinuse 8 state menu_setequipslot8
   ends

  state changeequipmentcheck
        ifvare EQUIPTEMP 0 { state menu_setequipslots } // Nothing Equipped
        else ifvare EQUIPTEMP 1 { state menu_setequipslots state checksunrings addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Sun Ring Equipped
        else ifvare EQUIPTEMP 2 { state menu_setequipslots state checkaquarings addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Aqua Ring Equipped
        else ifvare EQUIPTEMP 3 { state menu_setequipslots state checkplasmarings addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Plasma Ring Equipped
        else ifvare EQUIPTEMP 4 { state menu_setequipslots state checkspiritrings addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Spirit Ring Equipped
        else ifvare EQUIPTEMP 5 { state menu_setequipslots state checkcharmankhs addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Charm Ankh Equipped
        else ifvare EQUIPTEMP 6 { state menu_setequipslots state checkmirrorshields addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Mirror Shield Equipped
        else ifvare EQUIPTEMP 7 { state menu_setequipslots state checkexpbadges addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // EXP Badge Equipped
        else ifvare EQUIPTEMP 8 { state menu_setequipslots state checkrankbadges addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Rank Badge Equipped
        else ifvare EQUIPTEMP 9 { state menu_setequipslots state checkmoneybadges addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Money Badge Equipped
        else ifvare EQUIPTEMP 10 { state menu_setequipslots state checkriotshields addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Riot Shield Equipped
        else ifvare EQUIPTEMP 11 { state menu_setequipslots state checknyxglovepairs addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Nyx Gloves Equipped
        else ifvare EQUIPTEMP 12 { state menu_setequipslots state checkrabbitsfoots addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Rabbit's Foot Equipped
        else ifvare EQUIPTEMP 13 { state menu_setequipslots state checkjumpbootpairs addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount  } // Jump Boots Equipped
        else ifvare EQUIPTEMP 14 { state menu_setequipslots state checkshockabbootpairs addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // ShockAb Boots Equipped
        else ifvare EQUIPTEMP 15 { state menu_setequipslots state checkhappyshoepairs addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Happy Shoes Equipped
        else ifvare EQUIPTEMP 16 { state menu_setequipslots state checkstyleshoepairs addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Style Shoes Equipped
        else ifvare EQUIPTEMP 17 { state menu_setequipslots state checkcharmshoepairs addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Charm Shoes Equipped
        else ifvare EQUIPTEMP 18 { state menu_setequipslots state checkpowerwrists addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Power Wrist Equipped
        else ifvare EQUIPTEMP 19 { state menu_setequipslots state checkhockeymasks addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Hockey Mask Equipped
        else ifvare EQUIPTEMP 20 { state menu_setequipslots state checkgemstonecrowns addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Gemstone Crown Equipped
        else ifvare EQUIPTEMP 21 { state menu_setequipslots state checkironrunes addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Iron Rune Equipped
        else ifvare EQUIPTEMP 22 { state menu_setequipslots state checktwilightcapes addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Twilight Cape Equipped
        else ifvare EQUIPTEMP 23 { state menu_setequipslots state checksnakearmbands addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Snake Armband Equipped
        else ifvare EQUIPTEMP 24 { state menu_setequipslots state checkmedicbags addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Medic Bags Equipped
        else ifvare EQUIPTEMP 25 { state menu_setequipslots state checkserpenthelmets addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Serpent Helmet Equipped
        else ifvare EQUIPTEMP 26 { state menu_setequipslots state checkenergyincurments addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Energy Incurment Equipped
        else ifvare EQUIPTEMP 27 { state menu_setequipslots state checkyinyangorbs addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Yin-Yang Orb Equipped
        else ifvare EQUIPTEMP 28 { state menu_setequipslots state checkshikonjewels addvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount } // Jewel of Four Souls Equipped
        state sound_addequip
  ends

state menu-equippinganitem
  ifvare equipmenupage 0
  {
// Main Equipment Items
     ifvare equipmenuselection 0 // Sun Ring
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 1
      {
       state checksunrings 
       ifvarg ITEMARRAYID_AMOUNTTEMP 0 
       {
        state changeequipmentcheck
        state checksunrings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 1 // Aqua Ring
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 2
      {
       state checkaquarings 
       ifvarg ITEMARRAYID_AMOUNTTEMP 0 
       {
        state changeequipmentcheck
        state checkaquarings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 2 // Plasma Ring
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 3
      {
       state checkplasmarings 
       ifvarg ITEMARRAYID_AMOUNTTEMP 0 
       {
        state changeequipmentcheck
        state checkplasmarings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 3 // Spirit Ring
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 4
      {
       state checkspiritrings 
       ifvarg ITEMARRAYID_AMOUNTTEMP 0 
       {
        state changeequipmentcheck
        state checkspiritrings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 4 // Charm Ankh
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 5
      {
       state checkcharmankhs 
       ifvarg ITEMARRAYID_AMOUNTTEMP 0 
       {
        state changeequipmentcheck
        state checkcharmankhs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 5 // Mirror Shield
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 6
      {
       state checkmirrorshields 
       ifvarg ITEMARRAYID_AMOUNTTEMP 0 
       {
        state changeequipmentcheck
        state checkmirrorshields subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 6 // EXP Badge
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 7
      {
       state checkexpbadges 
       ifvarg ITEMARRAYID_AMOUNTTEMP 0 
       {
        state changeequipmentcheck
        state checkexpbadges subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 7 // Rank Badge
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 8
      {
       state checkrankbadges 
       ifvarg ITEMARRAYID_AMOUNTTEMP 0 
       {
        state changeequipmentcheck
        state checkrankbadges subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 8 // Money Badge
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 9
      {
       state checkmoneybadges 
       ifvarg ITEMARRAYID_AMOUNTTEMP 0 
       {
        state changeequipmentcheck
        state checkmoneybadges subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 9 // Riot Shield
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 10
      {
       state checkriotshields 
       ifvarg ITEMARRAYID_AMOUNTTEMP 0 
       {
        state changeequipmentcheck
        state checkriotshields subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 10 // Nyx Gloves
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 11
      {
       state checknyxglovepairs 
       ifvarg ITEMARRAYID_AMOUNTTEMP 0 
       {
        state changeequipmentcheck
        state checknyxglovepairs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 11 // Rabbit's Foot
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 12
      {
       state checkrabbitsfoots 
       ifvarg ITEMARRAYID_AMOUNTTEMP 0 
       {
        state changeequipmentcheck
        state checkrabbitsfoots subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 12 // Jump Boots
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 13
      {
       state checkjumpbootpairs
       ifvarg ITEMARRAYID_AMOUNTTEMP 0
       {
        state changeequipmentcheck
        state checkjumpbootpairs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 13 // ShockAb Boots
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 14
      {
       state checkshockabbootpairs
       ifvarg ITEMARRAYID_AMOUNTTEMP 0
       {
        state changeequipmentcheck
        state checkshockabbootpairs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 14 // Happy Shoes
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 15
      {
       state checkhappyshoepairs
       ifvarg ITEMARRAYID_AMOUNTTEMP 0
       {
        state changeequipmentcheck
        state checkhappyshoepairs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 15 // Style Shoes
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 16
      {
       state checkstyleshoepairs
       ifvarg ITEMARRAYID_AMOUNTTEMP 0
       {
        state changeequipmentcheck
        state checkstyleshoepairs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 16 // Charm Shoes
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 17
      {
       state checkcharmshoepairs
       ifvarg ITEMARRAYID_AMOUNTTEMP 0
       {
        state changeequipmentcheck
        state checkcharmshoepairs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 17 // Power Wrist
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 18
      {
       state checkpowerwrists
       ifvarg ITEMARRAYID_AMOUNTTEMP 0
       {
        state changeequipmentcheck
        state checkpowerwrists subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 18 // Hockey Mask
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 19
      {
       state checkhockeymasks
       ifvarg ITEMARRAYID_AMOUNTTEMP 0
       {
        state changeequipmentcheck
        state checkhockeymasks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 19 // Gemstone Crown
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 20
      {
       state checkgemstonecrowns
       ifvarg ITEMARRAYID_AMOUNTTEMP 0
       {
        state changeequipmentcheck
        state checkgemstonecrowns subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 20 // Iron Rune
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 21
      {
       state checkironrunes
       ifvarg ITEMARRAYID_AMOUNTTEMP 0
       {
        state changeequipmentcheck
        state checkironrunes subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 21 // Twilight Cloak
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 22
      {
       state checktwilightcapes
       ifvarg ITEMARRAYID_AMOUNTTEMP 0
       {
        state changeequipmentcheck
        state checktwilightcapes subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 22 // Snake Armband
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 23
      {
       state checksnakearmbands
       ifvarg ITEMARRAYID_AMOUNTTEMP 0
       {
        state changeequipmentcheck
        state checksnakearmbands subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 23 // Medic Bag
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 24
      {
       state checkmedicbags
       ifvarg ITEMARRAYID_AMOUNTTEMP 0
       {
        state changeequipmentcheck
        state checkmedicbags subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

  }
  ifvare equipmenupage 1
  {
     ifvare equipmenuselection 0 // Serpent Helmet
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 25
      {
       state checkserpenthelmets
       ifvarg ITEMARRAYID_AMOUNTTEMP 0
       {
        state changeequipmentcheck
        state checkserpenthelmets subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 1 // Energy Incurment
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 26
      {
       state checkenergyincurments
       ifvarg ITEMARRAYID_AMOUNTTEMP 0
       {
        state changeequipmentcheck
        state checkenergyincurments subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 2 // Yin-Yang Orb
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 27
      {
       state checkyinyangorbs
       ifvarg ITEMARRAYID_AMOUNTTEMP 0
       {
        state changeequipmentcheck
        state checkyinyangorbs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 3 // Jewel of Four Souls
     {
      state menu_checkequipslots
      ifvarn EQUIPTEMP 28
      {
       state checkshikonjewels
       ifvarg ITEMARRAYID_AMOUNTTEMP 0
       {
        state changeequipmentcheck
        state checkshikonjewels subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
       }
       else state menuerrorsound
      }
      else state sound_errorequip
     }

     ifvare equipmenuselection 4 state menuerrorsound // ?
     ifvare equipmenuselection 5 state menuerrorsound // ?
     ifvare equipmenuselection 6 state menuerrorsound // ?
     ifvare equipmenuselection 7 state menuerrorsound // ?
     ifvare equipmenuselection 8 state menuerrorsound // ?
     ifvare equipmenuselection 9 state menuerrorsound // ?
     ifvare equipmenuselection 10 state menuerrorsound // ?
     ifvare equipmenuselection 11 state menuerrorsound // ?
     ifvare equipmenuselection 12 state menuerrorsound // ?
     ifvare equipmenuselection 13 state menuerrorsound // ?
     ifvare equipmenuselection 14 state menuerrorsound // ?
     ifvare equipmenuselection 15 state menuerrorsound // ?
     ifvare equipmenuselection 16 state menuerrorsound // ?
     ifvare equipmenuselection 17 state menuerrorsound // ?
     ifvare equipmenuselection 18 state menuerrorsound // ?
     ifvare equipmenuselection 19 state menuerrorsound // ?
     ifvare equipmenuselection 20 state menuerrorsound // ?
     ifvare equipmenuselection 21 state menuerrorsound // ?
     ifvare equipmenuselection 22 state menuerrorsound // ?
     ifvare equipmenuselection 23 state menuerrorsound // ?
  }
ends

state assesshealskilltype3_p
 ifvare skillidinuse 4 state useheallifelessermain
 ifvare skillidinuse 6 state useheallifegreatermain
ends

state assesshealskilltype3_c
 ifvare skillidinuse 4 state useheallifelessersecondary
 ifvare skillidinuse 6 state useheallifegreatersecondary
ends

state assesshealskilltype3_v
 ifvare skillidinuse 4 state useheallifelesservehicle
 ifvare skillidinuse 6 state useheallifegreatervehicle
ends

state assesshealskilltype2
        ifvare skillmenupage 0
        {
         ifvare skillmenuselection 0 // Duke
         { 
          ifvarg DUKE? 0 
          {
           ifvare CHARACTERSELECTED? 1
           {
            setvarvar TEMP3 MAXHITPOINTS
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            ifvarvarl CURRENTHITPOINTS TEMP3 state assesshealskilltype3_p else state menuerrorsound
           }
           else
           {
            setvar CHARACTERARRAY 1
            getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP3
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 ifvarvarl TEMPVAR TEMP3 state assesshealskilltype3_c else state menuerrorsound 
           } 
          } 
          else state menuerrorsound 
         }
         ifvare skillmenuselection 1 // Jack
         { 
          ifvarg JACK? 0 
          {
           ifvare CHARACTERSELECTED? 2
           {
            setvarvar TEMP3 MAXHITPOINTS
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            ifvarvarl CURRENTHITPOINTS TEMP3 state assesshealskilltype3_p else state menuerrorsound
           }
           else
           {
            setvar CHARACTERARRAY 2
            getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP3
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 ifvarvarl TEMPVAR TEMP3 state assesshealskilltype3_c else state menuerrorsound
           } 
          } 
          else state menuerrorsound 
         }
         ifvare skillmenuselection 2 // Bubsy
         { 
          ifvarg BUBSY? 0 
          { 
           ifvare CHARACTERSELECTED? 3
           {
            setvarvar TEMP3 MAXHITPOINTS
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            ifvarvarl CURRENTHITPOINTS TEMP3 state assesshealskilltype3_p else state menuerrorsound
           }
           else
           {
            setvar CHARACTERARRAY 3
            getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP3
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 ifvarvarl TEMPVAR TEMP3 state assesshealskilltype3_c else state menuerrorsound
           } 
          } 
          else state menuerrorsound 
         }
         ifvare skillmenuselection 3 // Ami
         { 
          ifvarg AMI? 0 
          { 
           ifvare CHARACTERSELECTED? 4
           {
            setvarvar TEMP3 MAXHITPOINTS
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            ifvarvarl CURRENTHITPOINTS TEMP3 state assesshealskilltype3_p else state menuerrorsound
           }
           else
           {
            setvar CHARACTERARRAY 4
            getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP3
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 ifvarvarl TEMPVAR TEMP3 state assesshealskilltype3_c else state menuerrorsound
           } 
          } 
          else state menuerrorsound 
         }
         ifvare skillmenuselection 4 // Lo Wang
         { 
          ifvarg LOWANG? 0 
          { 
           ifvare CHARACTERSELECTED? 5
           {
            setvarvar TEMP3 MAXHITPOINTS
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            ifvarvarl CURRENTHITPOINTS TEMP3 state assesshealskilltype3_p else state menuerrorsound
           }
           else
           {
            setvar CHARACTERARRAY 5
            getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP3
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 ifvarvarl TEMPVAR TEMP3 state assesshealskilltype3_c else state menuerrorsound
           } 
          } 
          else state menuerrorsound 
         }
         ifvare skillmenuselection 5 // ESSence
         { 
          ifvarg ESSENCE? 0 
          { 
           ifvare CHARACTERSELECTED? 6
           {
            setvarvar TEMP3 MAXHITPOINTS
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            ifvarvarl CURRENTHITPOINTS TEMP3 state assesshealskilltype3_p else state menuerrorsound
           }
           else
           {
            setvar CHARACTERARRAY 6
            getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP3
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 ifvarvarl TEMPVAR TEMP3 state assesshealskilltype3_c else state menuerrorsound
           } 
          } 
          else state menuerrorsound 
         }
         ifvare skillmenuselection 6 // Ted
         { 
          ifvarg TED? 0 
          { 
           ifvare CHARACTERSELECTED? 7
           {
            setvarvar TEMP3 MAXHITPOINTS
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            ifvarvarl CURRENTHITPOINTS TEMP3 state assesshealskilltype3_p else state menuerrorsound
           }
           else
           {
            setvar CHARACTERARRAY 7
            getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP3
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 ifvarvarl TEMPVAR TEMP3 state assesshealskilltype3_c else state menuerrorsound
           } 
          } 
          else state menuerrorsound 
         }
         ifvare skillmenuselection 7 // Lisa
         { 
          ifvarg LISA? 0 
          { 
           ifvare CHARACTERSELECTED? 8
           {
            setvarvar TEMP3 MAXHITPOINTS
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            ifvarvarl CURRENTHITPOINTS TEMP3 state assesshealskilltype3_p else state menuerrorsound
           }
           else
           {
            setvar CHARACTERARRAY 8
            getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP3
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 ifvarvarl TEMPVAR TEMP3 state assesshealskilltype3_c else state menuerrorsound
           } 
          } 
          else state menuerrorsound 
         }
        }
        else
        ifvare skillmenupage 1
        {
         ifvare skillmenuselection 0 // Cybanis
         { 
          ifvarg CYBANIS? 0 
          { 
           ifvare CHARACTERSELECTED? 9
           {
            setvarvar TEMP3 MAXHITPOINTS
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            ifvarvarl CURRENTHITPOINTS TEMP3 state assesshealskilltype3_p else state menuerrorsound
           }
           else
           {
            setvar CHARACTERARRAY 9
            getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP3
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 ifvarvarl TEMPVAR TEMP3 state assesshealskilltype3_c else state menuerrorsound
           } 
          } 
          else state menuerrorsound 
         }
         ifvare skillmenuselection 1 // Nethra/Christina
         { 
          ifvarg NETHRA? 0 
          { 
           ifvare CHARACTERSELECTED? 10
           {
            setvarvar TEMP3 MAXHITPOINTS
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            ifvarvarl CURRENTHITPOINTS TEMP3 state assesshealskilltype3_p else state menuerrorsound
           }
           else
           {
            setvar CHARACTERARRAY 10
            getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP3
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 ifvarvarl TEMPVAR TEMP3 state assesshealskilltype3_c else state menuerrorsound
           } 
          } 
          else state menuerrorsound 
         }
         ifvare skillmenuselection 2 // Paula
         { 
          ifvarg PAULA? 0 
          { 
           ifvare CHARACTERSELECTED? 11
           {
            setvarvar TEMP3 MAXHITPOINTS
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            ifvarvarl CURRENTHITPOINTS TEMP3 state assesshealskilltype3_p else state menuerrorsound
           }
           else
           {
            setvar CHARACTERARRAY 11
            getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP3
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 ifvarvarl TEMPVAR TEMP3 state assesshealskilltype3_c else state menuerrorsound
           } 
          } 
          else state menuerrorsound 
         }
         ifvare skillmenuselection 3 // Lori
         { 
          ifvarg LORI? 0 
          { 
           ifvare CHARACTERSELECTED? 12
           {
            setvarvar TEMP3 MAXHITPOINTS
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            ifvarvarl CURRENTHITPOINTS TEMP3 state assesshealskilltype3_p else state menuerrorsound
           }
           else
           {
            setvar CHARACTERARRAY 12
            getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP3
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 ifvarvarl TEMPVAR TEMP3 state assesshealskilltype3_c else state menuerrorsound
           } 
          } 
          else state menuerrorsound 
         }
         ifvare skillmenuselection 4 // Minako
         { 
          ifvarg MINAKO? 0 
          { 
           ifvare CHARACTERSELECTED? 13
           {
            setvarvar TEMP3 MAXHITPOINTS
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            ifvarvarl CURRENTHITPOINTS TEMP3 state assesshealskilltype3_p else state menuerrorsound
           }
           else
           {
            setvar CHARACTERARRAY 13
            getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP3
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 ifvarvarl TEMPVAR TEMP3 state assesshealskilltype3_c else state menuerrorsound
           } 
          } 
          else state menuerrorsound 
         }
         ifvare skillmenuselection 5 // Mystery Lady [?]
         { 
          ifvarg MYSTERY1? 0 
          { 
           ifvare CHARACTERSELECTED? 14
           {
            setvarvar TEMP3 MAXHITPOINTS
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            ifvarvarl CURRENTHITPOINTS TEMP3 state assesshealskilltype3_p else state menuerrorsound
           }
           else
           {
            setvar CHARACTERARRAY 14
            getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP3
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 ifvarvarl TEMPVAR TEMP3 state assesshealskilltype3_c else state menuerrorsound
           } 
          } 
          else state menuerrorsound 
         }
         ifvare skillmenuselection 6 // Maken
         { 
          ifvarg MAKEN? 0 
          { 
           ifvare CHARACTERSELECTED? 15
           {
            setvarvar TEMP3 MAXHITPOINTS
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            ifvarvarl CURRENTHITPOINTS TEMP3 state assesshealskilltype3_p else state menuerrorsound
           }
           else
           {
            setvar CHARACTERARRAY 15
            getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMP3
            mulvarvar TEMP3 tempvarname
            divvar TEMP3 1000
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvarg TEMPVAR 0 ifvarvarl TEMPVAR TEMP3 state assesshealskilltype3_c else state menuerrorsound
           } 
          } 
          else state menuerrorsound 
         }
         ifvare skillmenuselection 7 // Current Vehicle
         { 
          ifvarn VEHICLEID -1
          {
           getactorvar[VEHICLEID].ENEMYHP TEMPVAR4
           getactorvar[VEHICLEID].ENEMYMAXHP TEMPVAR5
           setvarvar TEMP3 TEMPVAR5
           mulvarvar TEMP3 tempvarname
           divvar TEMP3 1000
           ifvarvarl TEMPVAR4 TEMP3 state assesshealskilltype3_v else state menuerrorsound 
          }
          else state menuerrorsound 
         }
        }
ends

state assesshealskilltype1
 ifvare skillidinuse 4 setvar tempvarname 1333
 ifvare skillidinuse 6 setvar tempvarname 1666
ends

state assessarmorabskilltype2_p
 ifvare skillidinuse 9 state usefortifylessermain
 ifvare skillidinuse 10 state usefortifymoderatemain
 ifvare skillidinuse 11 state usefortifygreatermain
ends

state assessarmorabskilltype2_c
 ifvare skillidinuse 9 state usefortifylessersecondary
 ifvare skillidinuse 10 state usefortifymoderatesecondary
 ifvare skillidinuse 11 state usefortifygreatersecondary
ends

state assessarmorabskilltype2_v
 ifvare skillidinuse 9 state usefortifylesservehicle
 ifvare skillidinuse 10 state usefortifymoderatevehicle
 ifvare skillidinuse 11 state usefortifygreatervehicle
ends

state assessarmorabskilltype1
        ifvare skillmenupage 0
        {
         ifvare skillmenuselection 0 // Duke
         {
          ifvarg DUKE? 0
          {
           ifvare CHARACTERSELECTED? 1 state assessarmorabskilltype2_p
           else
           {
            setvar CHARACTERARRAY 1
            state assessarmorabskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 1 // Jack
         { 
          ifvarg JACK? 0
          {
           ifvare CHARACTERSELECTED? 2 state assessarmorabskilltype2_p
           else
           {
            setvar CHARACTERARRAY 2
            state assessarmorabskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 2 // Bubsy
         { 
          ifvarg BUBSY? 0
          {
           ifvare CHARACTERSELECTED? 3 state assessarmorabskilltype2_p
           else
           {
            setvar CHARACTERARRAY 3
            state assessarmorabskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 3 // Ami
         { 
          ifvarg AMI? 0
          {
           ifvare CHARACTERSELECTED? 4 state assessarmorabskilltype2_p
           else
           {
            setvar CHARACTERARRAY 4
            state assessarmorabskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 4 // Lo Wang
         { 
          ifvarg LOWANG? 0
          {
           ifvare CHARACTERSELECTED? 5 state assessarmorabskilltype2_p
           else
           {
            setvar CHARACTERARRAY 5
            state assessarmorabskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 5 // ESSence
         { 
          ifvarg ESSENCE? 0
          {
           ifvare CHARACTERSELECTED? 6 state assessarmorabskilltype2_p
           else
           {
            setvar CHARACTERARRAY 6
            state assessarmorabskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 6 // Ted
         { 
          ifvarg TED? 0
          {
           ifvare CHARACTERSELECTED? 7 state assessarmorabskilltype2_p
           else
           {
            setvar CHARACTERARRAY 7
            state assessarmorabskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 7 // Lisa
         { 
          ifvarg LISA? 0
          {
           ifvare CHARACTERSELECTED? 8 state assessarmorabskilltype2_p
           else
           {
            setvar CHARACTERARRAY 8
            state assessarmorabskilltype2_c
           }
          }
          else state menuerrorsound 
         }
        }
        else
        ifvare skillmenupage 1
        {
         ifvare skillmenuselection 0 // Cybanis
         { 
          ifvarg CYBANIS? 0
          {
           ifvare CHARACTERSELECTED? 9 state assessarmorabskilltype2_p
           else
           {
            setvar CHARACTERARRAY 9
            state assessarmorabskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 1 // Nethra/Christina
         { 
          ifvarg NETHRA? 0
          {
           ifvare CHARACTERSELECTED? 10 state assessarmorabskilltype2_p
           else
           {
            setvar CHARACTERARRAY 10
            state assessarmorabskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 2 // Paula
         { 
          ifvarg PAULA? 0
          {
           ifvare CHARACTERSELECTED? 11 state assessarmorabskilltype2_p
           else
           {
            setvar CHARACTERARRAY 11
            state assessarmorabskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 3 // Lori
         { 
          ifvarg LORI? 0
          {
           ifvare CHARACTERSELECTED? 12 state assessarmorabskilltype2_p
           else
           {
            setvar CHARACTERARRAY 12
            state assessarmorabskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 4 // Minako
         { 
          ifvarg MINAKO? 0
          {
           ifvare CHARACTERSELECTED? 13 state assessarmorabskilltype2_p
           else
           {
            setvar CHARACTERARRAY 13
            state assessarmorabskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 5 // Mystery Lady [?]
         { 
          ifvarg MYSTERY1? 0
          {
           ifvare CHARACTERSELECTED? 14 state assessarmorabskilltype2_p
           else
           {
            setvar CHARACTERARRAY 14
            state assessarmorabskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 6 // Maken
         { 
          ifvarg MAKEN? 0
          {
           ifvare CHARACTERSELECTED? 15 state assessarmorabskilltype2_p
           else
           {
            setvar CHARACTERARRAY 15
            state assessarmorabskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 7 // [UNOCCUPIED]
         { 
          ifvarn VEHICLEID -1 state assessarmorabskilltype2_v else state menuerrorsound 
         }
        }
ends

state assesscureskilltype2_p
 ifvare skillidinuse 5 state usecureailmentmoderatemain
 ifvare skillidinuse 8 state usecureailmentgreatestmain
ends

state assesscureskilltype2_c
 ifvare skillidinuse 5 state usecureailmentmoderatesecondary
 ifvare skillidinuse 8 state usecureailmentgreatestsecondary
ends

state assesscureskilltype1
        ifvare skillmenupage 0
        {
         ifvare skillmenuselection 0 // Duke
         {
          ifvarg DUKE? 0
          {
           ifvare CHARACTERSELECTED? 1 state assesscureskilltype2_p
           else
           {
            setvar CHARACTERARRAY 1
            state assesscureskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 1 // Jack
         { 
          ifvarg JACK? 0
          {
           ifvare CHARACTERSELECTED? 2 state assesscureskilltype2_p
           else
           {
            setvar CHARACTERARRAY 2
            state assesscureskilltype2_c
           }
          }
          else state menuerrorsound 
         }

         ifvare skillmenuselection 2 // Bubsy
         { 
          ifvarg BUBSY? 0
          {
           ifvare CHARACTERSELECTED? 3 state assesscureskilltype2_p
           else
           {
            setvar CHARACTERARRAY 3
            state assesscureskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 3 // Ami
         { 
          ifvarg AMI? 0
          {
           ifvare CHARACTERSELECTED? 4 state assesscureskilltype2_p
           else
           {
            setvar CHARACTERARRAY 4
            state assesscureskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 4 // Lo Wang
         { 
          ifvarg LOWANG? 0
          {
           ifvare CHARACTERSELECTED? 5 state assesscureskilltype2_p
           else
           {
            setvar CHARACTERARRAY 5
            state assesscureskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 5 // ESSence
         { 
          ifvarg ESSENCE? 0
          {
           ifvare CHARACTERSELECTED? 6 state assesscureskilltype2_p
           else
           {
            setvar CHARACTERARRAY 6
            state assesscureskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 6 // Ted
         { 
          ifvarg TED? 0
          {
           ifvare CHARACTERSELECTED? 7 state assesscureskilltype2_p
           else
           {
            setvar CHARACTERARRAY 7
            state assesscureskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 7 // Lisa
         { 
          ifvarg LISA? 0
          {
           ifvare CHARACTERSELECTED? 8 state assesscureskilltype2_p
           else
           {
            setvar CHARACTERARRAY 8
            state assesscureskilltype2_c
           }
          }
          else state menuerrorsound 
         }
        }
        else
        ifvare skillmenupage 1
        {
         ifvare skillmenuselection 0 // Cybanis
         { 
          ifvarg CYBANIS? 0
          {
           ifvare CHARACTERSELECTED? 9 state assesscureskilltype2_p
           else
           {
            setvar CHARACTERARRAY 9
            state assesscureskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 1 // Nethra/Christina
         { 
          ifvarg NETHRA? 0
          {
           ifvare CHARACTERSELECTED? 10 state assesscureskilltype2_p
           else
           {
            setvar CHARACTERARRAY 10
            state assesscureskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 2 // Paula
         { 
          ifvarg PAULA? 0
          {
           ifvare CHARACTERSELECTED? 11 state assesscureskilltype2_p
           else
           {
            setvar CHARACTERARRAY 11
            state assesscureskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 3 // Lori

         { 
          ifvarg LORI? 0
          {
           ifvare CHARACTERSELECTED? 12 state assesscureskilltype2_p
           else
           {
            setvar CHARACTERARRAY 12
            state assesscureskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 4 // Minako
         { 
          ifvarg MINAKO? 0
          {
           ifvare CHARACTERSELECTED? 13 state assesscureskilltype2_p
           else
           {
            setvar CHARACTERARRAY 13
            state assesscureskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 5 // Mystery Lady [?]
         { 
          ifvarg MYSTERY1? 0
          {
           ifvare CHARACTERSELECTED? 14 state assesscureskilltype2_p
           else
           {
            setvar CHARACTERARRAY 14
            state assesscureskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 6 // Maken
         { 
          ifvarg MAKEN? 0
          {
           ifvare CHARACTERSELECTED? 15 state assesscureskilltype2_p
           else
           {
            setvar CHARACTERARRAY 15
            state assesscureskilltype2_c
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 7 // Vehicle
         { 
          state menuerrorsound // Cannot use Ailment Cures on Vehicles since they cannot have ailments! :P
         }
        }
ends

state assessreviveskilltype2
 ifvare skillidinuse 1 state useresurrectionprime
 ifvare skillidinuse 3 state uselesserresurrection
 ifvare skillidinuse 7 state usegreaterresurrection
ends

state assessreviveskilltype1
        ifvare skillmenupage 0
        {
         ifvare skillmenuselection 0 // Duke
         { 
           ifvarg DUKE? 0 
           { 
            setvar CHARACTERARRAY 1
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state assessreviveskilltype2 else state menuerrorsound
           } 
           else state menuerrorsound 
         }
         ifvare skillmenuselection 1 // Jack
         { 
           ifvarg JACK? 0 
           { 
            setvar CHARACTERARRAY 2
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state assessreviveskilltype2 else state menuerrorsound
           } 
           else state menuerrorsound 
         }
         ifvare skillmenuselection 2 // Bubsy
         { 
           ifvarg BUBSY? 0 
           { 
            setvar CHARACTERARRAY 3
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state assessreviveskilltype2 else state menuerrorsound
           } 
           else state menuerrorsound 
         }
         ifvare skillmenuselection 3 // Ami
         { 
           ifvarg AMI? 0 
           { 
            setvar CHARACTERARRAY 4
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state assessreviveskilltype2 else state menuerrorsound
           } 
           else state menuerrorsound 
         }
         ifvare skillmenuselection 4 // Lo Wang
         { 
           ifvarg LOWANG? 0 
           { 
            setvar CHARACTERARRAY 5
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state assessreviveskilltype2 else state menuerrorsound
           } 
           else state menuerrorsound 
         }
         ifvare skillmenuselection 5 // ESSence
         { 
           ifvarg ESSENCE? 0 
           { 
            setvar CHARACTERARRAY 6
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state assessreviveskilltype2 else state menuerrorsound
           } 
           else state menuerrorsound 
         }
         ifvare skillmenuselection 6 // Ted
         { 
           ifvarg TED? 0 
           { 
            setvar CHARACTERARRAY 7
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state assessreviveskilltype2 else state menuerrorsound
           } 
           else state menuerrorsound 
         }
         ifvare skillmenuselection 7 // Lisa
         { 
           ifvarg LISA? 0 
           { 
            setvar CHARACTERARRAY 8
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state assessreviveskilltype2 else state menuerrorsound
           } 
           else state menuerrorsound 
         }
        }
        else
        ifvare skillmenupage 1
        {
         ifvare skillmenuselection 0 // Cybanis
         { 
           ifvarg CYBANIS? 0 
           { 
            setvar CHARACTERARRAY 9
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state assessreviveskilltype2 else state menuerrorsound
           } 
           else state menuerrorsound 
         }
         ifvare skillmenuselection 1 // Nethra/Christina
         { 
           ifvarg NETHRA? 0 
           { 
            setvar CHARACTERARRAY 10
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state assessreviveskilltype2 else state menuerrorsound
           } 
           else state menuerrorsound 
         }
         ifvare skillmenuselection 2 // Paula
         { 
           ifvarg PAULA? 0 
           { 
            setvar CHARACTERARRAY 11
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state assessreviveskilltype2 else state menuerrorsound
           } 
           else state menuerrorsound 
         }
         ifvare skillmenuselection 3 // Lori
         { 
           ifvarg LORI? 0 
           { 
            setvar CHARACTERARRAY 12
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state assessreviveskilltype2 else state menuerrorsound
           } 
           else state menuerrorsound 
         }
         ifvare skillmenuselection 4 // Minako
         { 
           ifvarg MINAKO? 0 
           { 
            setvar CHARACTERARRAY 13
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state assessreviveskilltype2 else state menuerrorsound
           } 
           else state menuerrorsound 
         }
         ifvare skillmenuselection 5 // Mystery Lady [?]
         { 
           ifvarg MYSTERY1? 0 
           { 
            setvar CHARACTERARRAY 14
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state assessreviveskilltype2 else state menuerrorsound
           } 
           else state menuerrorsound 
         }
         ifvare skillmenuselection 6 // Maken
         { 
           ifvarg MAKEN? 0 
           { 
            setvar CHARACTERARRAY 15
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
            ifvare TEMPVAR 0 state assessreviveskilltype2 else state menuerrorsound 
           } 
           else 
           {
            state menuerrorsound 
           } 
         }
         ifvare skillmenuselection 7 state menuerrorsound // Cannot use Resurrective abilities on vehicles because if they die, they're blown up for good and disappear! :P
        }
ends

state menu-usingaskill
/*
       ifvare skillidinuse 0 // if the skill is "[UNKNOWN SKILL]"
       {
        ifvare skillmenupage 0
        {
         ifvare skillmenuselection 0 // Duke
         { 
         }
         ifvare skillmenuselection 1 // Jack
         { 
         }
         ifvare skillmenuselection 2 // Bubsy
         { 
         }
         ifvare skillmenuselection 3 // Ami
         { 
         }
         ifvare skillmenuselection 4 // Lo Wang
         { 
         }
         ifvare skillmenuselection 5 // ESSence
         { 
         }
         ifvare skillmenuselection 6 // Ted
         { 
         }
         ifvare skillmenuselection 7 // Lisa
         { 
         }
        }
        else
        ifvare skillmenupage 1
        {
         ifvare skillmenuselection 0 // Cybanis
         { 
         }
         ifvare skillmenuselection 1 // Nethra/Christina
         { 
         }
         ifvare skillmenuselection 2 // Paula
         { 
         }
         ifvare skillmenuselection 3 // Lori
         { 
         }
         ifvare skillmenuselection 4 // Minako
         { 
         }
         ifvare skillmenuselection 5 // Mystery Lady [?]
         { 
         }
         ifvare skillmenuselection 6 // Maken
         { 
         }
         ifvare skillmenuselection 7 // [UNOCCUPIED]
         { 
         }
        }
       }
*/
       ifvare skillidinuse 1 state assessreviveskilltype1 // if the skill is "Resurrection Prime" [Mystery Lady's First Skill, Resurrects One Person with 200% HP]
/*
       ifvare skillidinuse 2 // if the skill is "Resurrection Ultima" [Mystery Lady's Second Skill, Resurrects All but Self with 200% HP]
       {
       }
*/
       ifvare skillidinuse 3 state assessreviveskilltype1

       ifvare skillidinuse 4
       {
        state assesshealskilltype1
        state assesshealskilltype2
       }

       ifvare skillidinuse 5 state assesscureskilltype1
       ifvare skillidinuse 6
       {
        state assesshealskilltype1
        state assesshealskilltype2
       }
       ifvare skillidinuse 7 state assessreviveskilltype1
       ifvare skillidinuse 8 state assesscureskilltype1

       ifvarg skillidinuse 8 ifvarl skillidinuse 12 state assessarmorabskilltype1

       ifvare skillidinuse 12 // if the skill is "Mercury Quickening" [Ami's Second Skill, Gives 15 second Haste/Adds 15 seconds of Haste]
       {
        ifvare skillmenupage 0
        {
         ifvare skillmenuselection 0 // Duke
         {
          ifvarg DUKE? 0
          {
           ifvare CHARACTERSELECTED? 1 state usemercuryquickeningmain
           else
           {
            setvar CHARACTERARRAY 1
            state usemercuryquickeningsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 1 // Jack
         { 
          ifvarg JACK? 0
          {
           ifvare CHARACTERSELECTED? 2 state usemercuryquickeningmain
           else
           {
            setvar CHARACTERARRAY 2
            state usemercuryquickeningsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 2 // Bubsy
         { 
          ifvarg BUBSY? 0
          {
           ifvare CHARACTERSELECTED? 3 state usemercuryquickeningmain
           else
           {
            setvar CHARACTERARRAY 3
            state usemercuryquickeningsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 3 // Ami
         { 
          ifvarg AMI? 0
          {
           ifvare CHARACTERSELECTED? 4 state usemercuryquickeningmain
           else
           {
            setvar CHARACTERARRAY 4
            state usemercuryquickeningsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 4 // Lo Wang
         { 
          ifvarg LOWANG? 0
          {
           ifvare CHARACTERSELECTED? 5 state usemercuryquickeningmain
           else
           {
            setvar CHARACTERARRAY 5
            state usemercuryquickeningsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 5 // ESSence
         { 
          ifvarg ESSENCE? 0
          {
           ifvare CHARACTERSELECTED? 6 state usemercuryquickeningmain
           else
           {
            setvar CHARACTERARRAY 6
            state usemercuryquickeningsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 6 // Ted
         { 
          ifvarg TED? 0
          {
           ifvare CHARACTERSELECTED? 7 state usemercuryquickeningmain
           else
           {
            setvar CHARACTERARRAY 7
            state usemercuryquickeningsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 7 // Lisa
         { 
          ifvarg LISA? 0
          {
           ifvare CHARACTERSELECTED? 8 state usemercuryquickeningmain
           else
           {
            setvar CHARACTERARRAY 8
            state usemercuryquickeningsecondary
           }
          }
          else state menuerrorsound 
         }
        }
        else
        ifvare skillmenupage 1
        {
         ifvare skillmenuselection 0 // Cybanis
         { 
          ifvarg CYBANIS? 0
          {
           ifvare CHARACTERSELECTED? 9 state usemercuryquickeningmain
           else
           {
            setvar CHARACTERARRAY 9
            state usemercuryquickeningsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 1 // Nethra/Christina
         { 
          ifvarg NETHRA? 0
          {
           ifvare CHARACTERSELECTED? 10 state usemercuryquickeningmain
           else
           {
            setvar CHARACTERARRAY 10
            state usemercuryquickeningsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 2 // Paula
         { 
          ifvarg PAULA? 0
          {
           ifvare CHARACTERSELECTED? 11 state usemercuryquickeningmain
           else
           {
            setvar CHARACTERARRAY 11
            state usemercuryquickeningsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 3 // Lori
         { 
          ifvarg LORI? 0
          {
           ifvare CHARACTERSELECTED? 12 state usemercuryquickeningmain
           else
           {
            setvar CHARACTERARRAY 12
            state usemercuryquickeningsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 4 // Minako
         { 
          ifvarg MINAKO? 0
          {
           ifvare CHARACTERSELECTED? 13 state usemercuryquickeningmain
           else
           {
            setvar CHARACTERARRAY 13
            state usemercuryquickeningsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 5 // Mystery Lady [?]
         { 
          ifvarg MYSTERY1? 0
          {
           ifvare CHARACTERSELECTED? 14 state usemercuryquickeningmain
           else
           {
            setvar CHARACTERARRAY 14
            state usemercuryquickeningsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 6 // Maken
         { 
          ifvarg MAKEN? 0
          {
           ifvare CHARACTERSELECTED? 15 state usemercuryquickeningmain
           else
           {
            setvar CHARACTERARRAY 15
            state usemercuryquickeningsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 7  state menuerrorsound // Vehicles cannot be hasted! :P 
        }
       }

       ifvare skillidinuse 13 // If the skill is "Damage Shell" [Jack's first skill, Gives a 15 second "Damage Shell" status]
       {
        ifvare skillmenupage 0
        {
         ifvare skillmenuselection 0 // Duke
         {
          ifvarg DUKE? 0
          {
           ifvare CHARACTERSELECTED? 1 state usedamageshellmain
           else
           {
            setvar CHARACTERARRAY 1
            state usedamageshellsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 1 // Jack
         { 
          ifvarg JACK? 0
          {
           ifvare CHARACTERSELECTED? 2 state usedamageshellmain
           else
           {
            setvar CHARACTERARRAY 2
            state usedamageshellsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 2 // Bubsy
         { 
          ifvarg BUBSY? 0
          {
           ifvare CHARACTERSELECTED? 3 state usedamageshellmain
           else
           {
            setvar CHARACTERARRAY 3
            state usedamageshellsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 3 // Ami
         { 
          ifvarg AMI? 0
          {
           ifvare CHARACTERSELECTED? 4 state usedamageshellmain
           else
           {
            setvar CHARACTERARRAY 4
            state usedamageshellsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 4 // Lo Wang
         { 
          ifvarg LOWANG? 0
          {
           ifvare CHARACTERSELECTED? 5 state usedamageshellmain
           else
           {
            setvar CHARACTERARRAY 5
            state usedamageshellsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 5 // ESSence
         { 
          ifvarg ESSENCE? 0
          {
           ifvare CHARACTERSELECTED? 6 state usedamageshellmain
           else
           {
            setvar CHARACTERARRAY 6
            state usedamageshellsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 6 // Ted
         { 
          ifvarg TED? 0
          {
           ifvare CHARACTERSELECTED? 7 state usedamageshellmain
           else
           {
            setvar CHARACTERARRAY 7
            state usedamageshellsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 7 // Lisa
         { 
          ifvarg LISA? 0
          {
           ifvare CHARACTERSELECTED? 8 state usedamageshellmain
           else
           {
            setvar CHARACTERARRAY 8
            state usedamageshellsecondary
           }
          }
          else state menuerrorsound 
         }
        }
        else
        ifvare skillmenupage 1
        {
         ifvare skillmenuselection 0 // Cybanis
         { 
          ifvarg CYBANIS? 0
          {
           ifvare CHARACTERSELECTED? 9 state usedamageshellmain
           else
           {
            setvar CHARACTERARRAY 9
            state usedamageshellsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 1 // Nethra/Christina
         { 
          ifvarg NETHRA? 0
          {
           ifvare CHARACTERSELECTED? 10 state usedamageshellmain
           else
           {
            setvar CHARACTERARRAY 10
            state usedamageshellsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 2 // Paula
         { 
          ifvarg PAULA? 0
          {
           ifvare CHARACTERSELECTED? 11 state usedamageshellmain
           else
           {
            setvar CHARACTERARRAY 11
            state usedamageshellsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 3 // Lori
         { 
          ifvarg LORI? 0
          {
           ifvare CHARACTERSELECTED? 12 state usedamageshellmain
           else
           {
            setvar CHARACTERARRAY 12
            state usedamageshellsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 4 // Minako
         { 
          ifvarg MINAKO? 0
          {
           ifvare CHARACTERSELECTED? 13 state usedamageshellmain
           else
           {
            setvar CHARACTERARRAY 13
            state usedamageshellsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 5 // Mystery Lady [?]
         { 
          ifvarg MYSTERY1? 0
          {
           ifvare CHARACTERSELECTED? 14 state usedamageshellmain
           else
           {
            setvar CHARACTERARRAY 14
            state usedamageshellsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 6 // Maken
         { 
          ifvarg MAKEN? 0
          {
           ifvare CHARACTERSELECTED? 15 state usedamageshellmain
           else
           {
            setvar CHARACTERARRAY 15
            state usedamageshellsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 7 state menuerrorsound // Vehicles cannot be shelled! :P
        }
       }

       ifvare skillidinuse 14 // If the skill is "Triad Booster" [Maken's second skill, gives "Triad Booster" to one person per use]
       {
        ifvare skillmenupage 0
        {
         ifvare skillmenuselection 0 // Duke
         {
          ifvarg DUKE? 0
          {
           ifvare CHARACTERSELECTED? 1 state usetriadboostermain
           else
           {
            setvar CHARACTERARRAY 1
            state usetriadboostersecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 1 // Jack
         { 
          ifvarg JACK? 0
          {
           ifvare CHARACTERSELECTED? 2 state usetriadboostermain
           else
           {
            setvar CHARACTERARRAY 2
            state usetriadboostersecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 2 // Bubsy
         { 
          ifvarg BUBSY? 0
          {
           ifvare CHARACTERSELECTED? 3 state usetriadboostermain
           else
           {
            setvar CHARACTERARRAY 3
            state usetriadboostersecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 3 // Ami
         { 
          ifvarg AMI? 0
          {
           ifvare CHARACTERSELECTED? 4 state usetriadboostermain
           else
           {
            setvar CHARACTERARRAY 4
            state usetriadboostersecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 4 // Lo Wang
         { 
          ifvarg LOWANG? 0
          {
           ifvare CHARACTERSELECTED? 5 state usetriadboostermain
           else
           {
            setvar CHARACTERARRAY 5
            state usetriadboostersecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 5 // ESSence
         { 
          ifvarg ESSENCE? 0
          {
           ifvare CHARACTERSELECTED? 6 state usetriadboostermain
           else
           {
            setvar CHARACTERARRAY 6
            state usetriadboostersecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 6 // Ted
         { 
          ifvarg TED? 0
          {
           ifvare CHARACTERSELECTED? 7 state usetriadboostermain
           else
           {
            setvar CHARACTERARRAY 7
            state usetriadboostersecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 7 // Lisa
         { 
          ifvarg LISA? 0
          {
           ifvare CHARACTERSELECTED? 8 state usetriadboostermain
           else
           {

            setvar CHARACTERARRAY 8
            state usetriadboostersecondary
           }
          }
          else state menuerrorsound 
         }
        }
        else
        ifvare skillmenupage 1
        {
         ifvare skillmenuselection 0 // Cybanis
         { 
          ifvarg CYBANIS? 0
          {
           ifvare CHARACTERSELECTED? 9 state usetriadboostermain
           else
           {
            setvar CHARACTERARRAY 9
            state usetriadboostersecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 1 // Nethra/Christina
         { 
          ifvarg NETHRA? 0
          {
           ifvare CHARACTERSELECTED? 10 state usetriadboostermain
           else
           {
            setvar CHARACTERARRAY 10
            state usetriadboostersecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 2 // Paula
         { 
          ifvarg PAULA? 0
          {
           ifvare CHARACTERSELECTED? 11 state usetriadboostermain
           else
           {
            setvar CHARACTERARRAY 11
            state usetriadboostersecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 3 // Lori
         { 
          ifvarg LORI? 0
          {
           ifvare CHARACTERSELECTED? 12 state usetriadboostermain
           else
           {
            setvar CHARACTERARRAY 12
            state usetriadboostersecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 4 // Minako
         { 
          ifvarg MINAKO? 0
          {
           ifvare CHARACTERSELECTED? 13 state usetriadboostermain
           else
           {
            setvar CHARACTERARRAY 13
            state usetriadboostersecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 5 // Mystery Lady [?]
         { 
          ifvarg MYSTERY1? 0
          {
           ifvare CHARACTERSELECTED? 14 state usetriadboostermain
           else
           {
            setvar CHARACTERARRAY 14
            state usetriadboostersecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 6 // Maken
         { 
          ifvarg MAKEN? 0
          {
           ifvare CHARACTERSELECTED? 15 state usetriadboostermain
           else
           {
            setvar CHARACTERARRAY 15
            state usetriadboostersecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 7 state menuerrorsound // Vehicles cannot be shelled! :P
        }
       }

       ifvare skillidinuse 15 // if the skill is "Bloodlusting" [Cybanis's First Skill, Gives "Bloodlusting" buff]
       {
        ifvare skillmenupage 0
        {
         ifvare skillmenuselection 0 // Duke
         {
          ifvarg DUKE? 0
          {
           ifvare CHARACTERSELECTED? 1 state usebloodlustingmain
           else
           {
            setvar CHARACTERARRAY 1
            state usebloodlustingsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 1 // Jack
         { 
          ifvarg JACK? 0
          {
           ifvare CHARACTERSELECTED? 2 state usebloodlustingmain
           else
           {
            setvar CHARACTERARRAY 2
            state usebloodlustingsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 2 // Bubsy
         { 
          ifvarg BUBSY? 0
          {
           ifvare CHARACTERSELECTED? 3 state usebloodlustingmain
           else
           {
            setvar CHARACTERARRAY 3
            state usebloodlustingsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 3 // Ami
         { 
          ifvarg AMI? 0
          {
           ifvare CHARACTERSELECTED? 4 state usebloodlustingmain
           else
           {
            setvar CHARACTERARRAY 4
            state usebloodlustingsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 4 // Lo Wang
         { 
          ifvarg LOWANG? 0
          {
           ifvare CHARACTERSELECTED? 5 state usebloodlustingmain
           else
           {
            setvar CHARACTERARRAY 5
            state usebloodlustingsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 5 // ESSence
         { 
          ifvarg ESSENCE? 0
          {
           ifvare CHARACTERSELECTED? 6 state usebloodlustingmain
           else
           {
            setvar CHARACTERARRAY 6
            state usebloodlustingsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 6 // Ted
         { 
          ifvarg TED? 0
          {
           ifvare CHARACTERSELECTED? 7 state usebloodlustingmain
           else
           {
            setvar CHARACTERARRAY 7
            state usebloodlustingsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 7 // Lisa
         { 
          ifvarg LISA? 0
          {
           ifvare CHARACTERSELECTED? 8 state usebloodlustingmain
           else
           {

            setvar CHARACTERARRAY 8
            state usebloodlustingsecondary
           }
          }
          else state menuerrorsound 
         }
        }
        else
        ifvare skillmenupage 1
        {
         ifvare skillmenuselection 0 // Cybanis
         { 
          ifvarg CYBANIS? 0
          {
           ifvare CHARACTERSELECTED? 9 state usebloodlustingmain
           else
           {
            setvar CHARACTERARRAY 9
            state usebloodlustingsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 1 // Nethra/Christina
         { 
          ifvarg NETHRA? 0
          {
           ifvare CHARACTERSELECTED? 10 state usebloodlustingmain
           else
           {
            setvar CHARACTERARRAY 10
            state usebloodlustingsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 2 // Paula
         { 
          ifvarg PAULA? 0
          {
           ifvare CHARACTERSELECTED? 11 state usebloodlustingmain
           else
           {
            setvar CHARACTERARRAY 11
            state usebloodlustingsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 3 // Lori
         { 
          ifvarg LORI? 0
          {
           ifvare CHARACTERSELECTED? 12 state usebloodlustingmain
           else
           {
            setvar CHARACTERARRAY 12
            state usebloodlustingsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 4 // Minako
         { 
          ifvarg MINAKO? 0
          {
           ifvare CHARACTERSELECTED? 13 state usebloodlustingmain
           else
           {
            setvar CHARACTERARRAY 13
            state usebloodlustingsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 5 // Mystery Lady [?]
         { 
          ifvarg MYSTERY1? 0
          {
           ifvare CHARACTERSELECTED? 14 state usebloodlustingmain
           else
           {
            setvar CHARACTERARRAY 14
            state usebloodlustingsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 6 // Maken
         { 
          ifvarg MAKEN? 0
          {
           ifvare CHARACTERSELECTED? 15 state usebloodlustingmain
           else
           {
            setvar CHARACTERARRAY 15
            state usebloodlustingsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 7 state menuerrorsound // Vehicles cannot be Bloodlusted! :P
        }
       }

       ifvare skillidinuse 16 // if the skill is "PK Shield" [Paula's First Skill, Gives "Psychic Shield" with 6 hits/adds 6 hits to existing "Psychic Shield"]
       {
        ifvare skillmenupage 0
        {
         ifvare skillmenuselection 0 // Duke
         {
          ifvarg DUKE? 0
          {
           ifvare CHARACTERSELECTED? 1 state usepkshieldmain
           else
           {
            setvar CHARACTERARRAY 1
            state usepkshieldsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 1 // Jack
         { 
          ifvarg JACK? 0
          {
           ifvare CHARACTERSELECTED? 2 state usepkshieldmain
           else
           {
            setvar CHARACTERARRAY 2
            state usepkshieldsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 2 // Bubsy
         { 
          ifvarg BUBSY? 0
          {
           ifvare CHARACTERSELECTED? 3 state usepkshieldmain
           else
           {
            setvar CHARACTERARRAY 3
            state usepkshieldsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 3 // Ami
         { 
          ifvarg AMI? 0
          {
           ifvare CHARACTERSELECTED? 4 state usepkshieldmain
           else
           {
            setvar CHARACTERARRAY 4
            state usepkshieldsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 4 // Lo Wang
         { 
          ifvarg LOWANG? 0
          {
           ifvare CHARACTERSELECTED? 5 state usepkshieldmain
           else
           {
            setvar CHARACTERARRAY 5
            state usepkshieldsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 5 // ESSence
         { 
          ifvarg ESSENCE? 0
          {
           ifvare CHARACTERSELECTED? 6 state usepkshieldmain
           else
           {
            setvar CHARACTERARRAY 6
            state usepkshieldsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 6 // Ted
         { 
          ifvarg TED? 0
          {
           ifvare CHARACTERSELECTED? 7 state usepkshieldmain
           else
           {
            setvar CHARACTERARRAY 7
            state usepkshieldsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 7 // Lisa
         { 
          ifvarg LISA? 0
          {
           ifvare CHARACTERSELECTED? 8 state usepkshieldmain
           else
           {

            setvar CHARACTERARRAY 8
            state usepkshieldsecondary
           }
          }
          else state menuerrorsound 
         }
        }
        else
        ifvare skillmenupage 1
        {
         ifvare skillmenuselection 0 // Cybanis
         { 
          ifvarg CYBANIS? 0
          {
           ifvare CHARACTERSELECTED? 9 state usepkshieldmain
           else
           {
            setvar CHARACTERARRAY 9
            state usepkshieldsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 1 // Nethra/Christina
         { 
          ifvarg NETHRA? 0
          {
           ifvare CHARACTERSELECTED? 10 state usepkshieldmain
           else
           {
            setvar CHARACTERARRAY 10
            state usepkshieldsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 2 // Paula
         { 
          ifvarg PAULA? 0
          {
           ifvare CHARACTERSELECTED? 11 state usepkshieldmain
           else
           {
            setvar CHARACTERARRAY 11
            state usepkshieldsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 3 // Lori
         { 
          ifvarg LORI? 0
          {
           ifvare CHARACTERSELECTED? 12 state usepkshieldmain
           else
           {
            setvar CHARACTERARRAY 12
            state usepkshieldsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 4 // Minako
         { 
          ifvarg MINAKO? 0
          {
           ifvare CHARACTERSELECTED? 13 state usepkshieldmain
           else
           {
            setvar CHARACTERARRAY 13
            state usepkshieldsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 5 // Mystery Lady [?]
         { 
          ifvarg MYSTERY1? 0
          {
           ifvare CHARACTERSELECTED? 14 state usepkshieldmain
           else
           {
            setvar CHARACTERARRAY 14
            state usepkshieldsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 6 // Maken
         { 
          ifvarg MAKEN? 0
          {
           ifvare CHARACTERSELECTED? 15 state usepkshieldmain
           else
           {
            setvar CHARACTERARRAY 15
            state usepkshieldsecondary
           }
          }
          else state menuerrorsound 
         }
         ifvare skillmenuselection 7 state menuerrorsound // Vehicles cannot be PK Shielded! :P
        }
       }

ends

state enterequipscreen
           ifvare mainmenuselection 0 setvar equipmenuinuse 1 // Equipment Slot #1 [Skill 0 to 9]
           ifvare mainmenuselection 1 setvar equipmenuinuse 2 // Equipment Slot #2 [Skill 0 to 6]
           ifvare mainmenuselection 2 setvar equipmenuinuse 3 // Equipment Slot #3 [Skill 0 to 3]
           ifvare mainmenuselection 3 setvar equipmenuinuse 4 // Equipment Slot #4 [Skill 0]
           ifvare mainmenuselection 4 setvar equipmenuinuse 5 // Equipment Slot #5 [Special Equip Cheat Only]
           ifvare mainmenuselection 5 setvar equipmenuinuse 6 // Equipment Slot #6 [Special Equip Cheat Only]
           ifvare mainmenuselection 6 setvar equipmenuinuse 7 // Equipment Slot #7 [Special Equip Cheat Only]
           ifvare mainmenuselection 7 setvar equipmenuinuse 8 // Equipment Slot #8 [Special Equip Cheat Only]
ends

state dropatelebeacon
 state checktelebeacons
 ifvarg ITEMARRAYID_AMOUNTTEMP 0
 {
   ifvare com_pause 0
   {
    espawn TELEBEACON
    setvarvar tempb telebeaconidglobal
    addvar telebeaconidglobal 1
    addvar tempb 1
    setactorvar[RETURN].telebeaconid tempb
    setactorvar[RETURN].telebeaconstatus 1
    getactor[PLAYERID].x temp
    setactor[RETURN].x temp
    getactor[PLAYERID].y temp
    setactor[RETURN].y temp
    getactor[PLAYERID].z temp
    setactor[RETURN].z temp
    state checktelebeacons subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount
    sound PIPEBOMB_BOUNCE
    redefinequote 142 ^16A TELEPORTER BEACON WAS SET ON THE GROUND!
    setvarvar fta fta_normal setvar ftq 142
    setvar com_pause 13
   }
 }
 else
 {
   ifvare com_pause 0
   {
    state menuerrorsound
    redefinequote 142 ^10YOU HAVE NO TELEPORTER BEACONS TO SET!
    setvarvar fta fta_normal setvar ftq 142
    setvar com_pause 13
   }
 }
ends

state cannotuseitem
  setvar itemidinuse -1 state menuerrorsound
ends

state menu_nochangevehicle
               redefinequote 410 ^10CANNOT CHANGE CHARACTERS WHILE IN A VEHICLE!
               setvarvar fta fta_normal setvar ftq 410
ends

state menu_nochangedead
              redefinequote 410 ^10THIS CHARACTER IS DEAD, FOOL! CAN'T SWITCH...
              setvarvar fta fta_normal setvar ftq 410
ends

state menu_nochangenotthere
             redefinequote 410 ^10THERE'S NO ONE THERE TO SWITCH TO!
             setvarvar fta fta_normal setvar ftq 410
ends

state useskill_characterdead
             redefinequote 410 ^10A CHARACTER CANNOT USE THEIR SKILLS WHILE DEAD!
             setvarvar fta fta_normal setvar ftq 410
             state menuerrorsound
ends

state energycostcheatcheck1
              ifvarand CHEATBITFIELD? 128 mulvar SKILL-ENERGYCOST 0 else mulvar SKILL-ENERGYCOST 0
ends

state itemusecheckpartysize
    ifvare CHARACTERSELECTED? 1 { setvar itemmenupage 0 setvar itemmenuselection 0 }
    ifvare CHARACTERSELECTED? 2 { setvar itemmenupage 0 setvar itemmenuselection 1 }
    ifvare CHARACTERSELECTED? 3 { setvar itemmenupage 0 setvar itemmenuselection 2 }
    ifvare CHARACTERSELECTED? 4 { setvar itemmenupage 0 setvar itemmenuselection 3 }
    ifvare CHARACTERSELECTED? 5 { setvar itemmenupage 0 setvar itemmenuselection 4 }
    ifvare CHARACTERSELECTED? 6 { setvar itemmenupage 0 setvar itemmenuselection 5 }
    ifvare CHARACTERSELECTED? 7 { setvar itemmenupage 0 setvar itemmenuselection 6 }
    ifvare CHARACTERSELECTED? 8 { setvar itemmenupage 0 setvar itemmenuselection 7 }
    ifvare CHARACTERSELECTED? 9 { setvar itemmenupage 1 setvar itemmenuselection 0 }
    ifvare CHARACTERSELECTED? 10 { setvar itemmenupage 1 setvar itemmenuselection 1 }
    ifvare CHARACTERSELECTED? 11 { setvar itemmenupage 1 setvar itemmenuselection 2 }
    ifvare CHARACTERSELECTED? 12 { setvar itemmenupage 1 setvar itemmenuselection 3 }
    ifvare CHARACTERSELECTED? 13 { setvar itemmenupage 1 setvar itemmenuselection 4 }
    ifvare CHARACTERSELECTED? 14 { setvar itemmenupage 1 setvar itemmenuselection 5 }
    ifvare CHARACTERSELECTED? 15 { setvar itemmenupage 1 setvar itemmenuselection 6 }
    ifvare CHARACTERSELECTED? 16 { setvar itemmenupage 1 setvar itemmenuselection 7 }
ends

state skillusecheckpartysize
    ifvare CHARACTERSELECTED? 1 { setvar skillmenupage 0 setvar skillmenuselection 0 }
    ifvare CHARACTERSELECTED? 2 { setvar skillmenupage 0 setvar skillmenuselection 1 }
    ifvare CHARACTERSELECTED? 3 { setvar skillmenupage 0 setvar skillmenuselection 2 }
    ifvare CHARACTERSELECTED? 4 { setvar skillmenupage 0 setvar skillmenuselection 3 }
    ifvare CHARACTERSELECTED? 5 { setvar skillmenupage 0 setvar skillmenuselection 4 }
    ifvare CHARACTERSELECTED? 6 { setvar skillmenupage 0 setvar skillmenuselection 5 }
    ifvare CHARACTERSELECTED? 7 { setvar skillmenupage 0 setvar skillmenuselection 6 }
    ifvare CHARACTERSELECTED? 8 { setvar skillmenupage 0 setvar skillmenuselection 7 }
    ifvare CHARACTERSELECTED? 9 { setvar skillmenupage 1 setvar skillmenuselection 0 }
    ifvare CHARACTERSELECTED? 10 { setvar skillmenupage 1 setvar skillmenuselection 1 }
    ifvare CHARACTERSELECTED? 11 { setvar skillmenupage 1 setvar skillmenuselection 2 }
    ifvare CHARACTERSELECTED? 12 { setvar skillmenupage 1 setvar skillmenuselection 3 }
    ifvare CHARACTERSELECTED? 13 { setvar skillmenupage 1 setvar skillmenuselection 4 }
    ifvare CHARACTERSELECTED? 14 { setvar skillmenupage 1 setvar skillmenuselection 5 }
    ifvare CHARACTERSELECTED? 15 { setvar skillmenupage 1 setvar skillmenuselection 6 }
    ifvare CHARACTERSELECTED? 16 { setvar skillmenupage 1 setvar skillmenuselection 7 }
ends

state menu-mainmenu-state
//
         ifvare weaponcount 0 ifvare mainmenusubmenu 0
         {
          ifvare mainmenupage 0
          {
           ifvare mainmenuselection 0 
           {
            ifvarg DUKE? 0 
            { 
             setvar CHARACTERARRAY 1
             getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             ifvarg TEMPVAR 0
             { 
              ifvare VEHICLEID -1
              {
               setvar CHARACTERSELECTED? 1 
               sound MENU_SELECTED 
              }
              else 
              { 
               state menu_nochangevehicle
               state menuerrorsound 
              } 
             } 
             else 
             { 
              state menu_nochangedead
              state menuerrorsound 
             } 
            }
            else 
            { 
             state menu_nochangenotthere
             state menuerrorsound 
            } 
           }

           ifvare mainmenuselection 1 
           {
            ifvarg JACK? 0 
            { 
             setvar CHARACTERARRAY 2
             getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             ifvarg TEMPVAR 0
             { 
              ifvare VEHICLEID -1
              {
               setvar CHARACTERSELECTED? 2 
               sound MENU_SELECTED 
              }
              else 
              { 
               state menu_nochangevehicle
               state menuerrorsound 
              } 
             } 
             else 
             { 
              state menu_nochangedead
              state menuerrorsound 
             } 
            } 
            else 
            { 
             state menu_nochangenotthere
             state menuerrorsound 
            } 
           }

           ifvare mainmenuselection 2
           {
            ifvarg BUBSY? 0 
            { 
             setvar CHARACTERARRAY 3
             getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             ifvarg TEMPVAR 0
             {  
              ifvare VEHICLEID -1
              {
               setvar CHARACTERSELECTED? 3
               sound MENU_SELECTED 
              }
              else 
              { 
               state menu_nochangevehicle
               state menuerrorsound 
              } 
             } 
             else 
             { 
              state menu_nochangedead
              state menuerrorsound 
             } 
            } 
            else 
            { 
             state menu_nochangenotthere
             state menuerrorsound 
            } 
           }

           ifvare mainmenuselection 3 
           {
            ifvarg AMI? 0 
            { 
             setvar CHARACTERARRAY 4
             getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             ifvarg TEMPVAR 0
             { 
              ifvare VEHICLEID -1
              {
               setvar CHARACTERSELECTED? 4
               sound MENU_SELECTED 
              }
              else 
              { 
               state menu_nochangevehicle
               state menuerrorsound 
              } 
             } 
             else 
             { 
              state menu_nochangedead
              state menuerrorsound 
             } 
            } 
            else 
            { 
             state menu_nochangenotthere
             state menuerrorsound 
            } 
           }

           ifvare mainmenuselection 4
           {
            ifvarg LOWANG? 0 
            { 
             setvar CHARACTERARRAY 5
             getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             ifvarg TEMPVAR 0
             { 
              ifvare VEHICLEID -1
              {
               setvar CHARACTERSELECTED? 5
               sound MENU_SELECTED 
              }
              else 
              { 
               state menu_nochangevehicle
               state menuerrorsound 
              } 
             } 
             else 
             { 
              state menu_nochangedead
              state menuerrorsound 
             } 
            } 
            else 
            { 
             state menu_nochangenotthere
             state menuerrorsound 
            } 
           }

           ifvare mainmenuselection 5
           {
            ifvarg ESSENCE? 0 
            { 
             setvar CHARACTERARRAY 6
             getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             ifvarg TEMPVAR 0
             { 
              ifvare VEHICLEID -1
              {
               setvar CHARACTERSELECTED? 6
               sound MENU_SELECTED 
              }
              else 
              { 
               state menu_nochangevehicle
               state menuerrorsound 
              } 
             } 
             else 
             { 
              state menu_nochangedead
              state menuerrorsound 
             } 
            } 
            else 
            { 
             state menu_nochangenotthere
             state menuerrorsound 
            } 
           }
 
           ifvare mainmenuselection 6
           {
            ifvarg TED? 0 
            { 
             setvar CHARACTERARRAY 7
             getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             ifvarg TEMPVAR 0
             { 
              ifvare VEHICLEID -1
              {
               setvar CHARACTERSELECTED? 7 
               sound MENU_SELECTED 
              }
              else 
              { 
               state menu_nochangevehicle
               state menuerrorsound 
              } 
             } 
             else 
             { 
              state menu_nochangedead
              state menuerrorsound 
             } 
            } 
            else 
            { 
             state menu_nochangenotthere
             state menuerrorsound 
            } 
           }
 
           ifvare mainmenuselection 7
           {
            ifvarg LISA? 0 
            { 
             setvar CHARACTERARRAY 8
             getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             ifvarg TEMPVAR 0
             { 
              ifvare VEHICLEID -1
              {
               setvar CHARACTERSELECTED? 8
               sound MENU_SELECTED 
              }
              else 
              { 
               state menu_nochangevehicle
               state menuerrorsound 
              } 
             } 
             else 
             { 
              state menu_nochangedead
              state menuerrorsound 
             } 
            } 
            else 
            { 
             state menu_nochangenotthere
             state menuerrorsound 
            } 
           } 

          }
          ifvare mainmenupage 1
          {
 
           ifvare mainmenuselection 0
           {
            ifvarg CYBANIS? 0 
            { 
             setvar CHARACTERARRAY 9
             getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             ifvarg TEMPVAR 0
             { 
              ifvare VEHICLEID -1
              {
               setvar CHARACTERSELECTED? 9
               sound MENU_SELECTED 
              }
              else 
              { 
               state menu_nochangevehicle
               state menuerrorsound 
              } 
             } 
             else 
             { 
              state menu_nochangedead
              state menuerrorsound 
             } 
            } 
            else 
            { 
             state menu_nochangenotthere
             state menuerrorsound 
            } 
           }

           ifvare mainmenuselection 1
           {
            ifvarg NETHRA? 0 
            { 
             setvar CHARACTERARRAY 10
             getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             ifvarg TEMPVAR 0
             { 
              ifvare VEHICLEID -1
              {
               setvar CHARACTERSELECTED? 10
               sound MENU_SELECTED 
              }
              else 
              { 
               state menu_nochangevehicle
               state menuerrorsound 
              } 
             } 
             else 
             { 
              state menu_nochangedead
              state menuerrorsound 
             } 
            } 
            else 
            { 
             state menu_nochangenotthere
             state menuerrorsound 
            } 
           }

           ifvare mainmenuselection 2 
           {
            ifvarg PAULA? 0 
            { 
             setvar CHARACTERARRAY 11
             getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             ifvarg TEMPVAR 0
             { 
              ifvare VEHICLEID -1
              {
               setvar CHARACTERSELECTED? 11
               sound MENU_SELECTED 
              }
              else 
              { 
               state menu_nochangevehicle
               state menuerrorsound 
              } 
             } 
             else 
             { 
              state menu_nochangedead
              state menuerrorsound 
             } 
            } 
            else 
            { 
             state menu_nochangenotthere
             state menuerrorsound 
            } 
           }

           ifvare mainmenuselection 3 
           {
            ifvarg LORI? 0 
            { 
             setvar CHARACTERARRAY 12
             getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             ifvarg TEMPVAR 0
             { 
              ifvare VEHICLEID -1
              {
               setvar CHARACTERSELECTED? 12
               sound MENU_SELECTED 
              }
              else 
              { 
               state menu_nochangevehicle
               state menuerrorsound 
              } 
             } 
             else 
             { 
              state menu_nochangedead
              state menuerrorsound 
             } 
            } 
            else 
            { 
             state menu_nochangenotthere
             state menuerrorsound 
            } 
           }

           ifvare mainmenuselection 4 
           {
            ifvarg MINAKO? 0 
            { 
             setvar CHARACTERARRAY 13
             getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             ifvarg TEMPVAR 0
             { 
              ifvare VEHICLEID -1
              {
               setvar CHARACTERSELECTED? 13
               sound MENU_SELECTED 
              }
              else 
              { 
               state menu_nochangevehicle
               state menuerrorsound 
              } 
             } 
             else 
             { 
              state menu_nochangedead
              state menuerrorsound 
             } 
            } 
            else 
            { 
             state menu_nochangenotthere
             state menuerrorsound 
            } 
           }

           ifvare mainmenuselection 5 
           {
            ifvarg MYSTERY1? 0 
            { 
             setvar CHARACTERARRAY 14
             getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             ifvarg TEMPVAR 0
             { 
              ifvare VEHICLEID -1
              {
               setvar CHARACTERSELECTED? 14
               sound MENU_SELECTED 
              }
              else 
              { 
               state menu_nochangevehicle
               state menuerrorsound 
              } 
             } 
             else 
             { 
              state menu_nochangedead
              state menuerrorsound 
             } 
            } 
            else 
            { 
             state menu_nochangenotthere
             state menuerrorsound 
            } 
           }
 
           ifvare mainmenuselection 6
           {
            ifvarg MAKEN? 0 
            { 
             setvar CHARACTERARRAY 15
             getactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR
             ifvarg TEMPVAR 0
             { 
              ifvare VEHICLEID -1
              {
               setvar CHARACTERSELECTED? 15
               sound MENU_SELECTED 
              }
              else 
              { 
               state menu_nochangevehicle
               state menuerrorsound 
              } 
             } 
             else 
             { 
              state menu_nochangedead
              state menuerrorsound 
             } 
            } 
            else 
            { 
             state menu_nochangenotthere
             state menuerrorsound 
            } 
           }

           ifvare mainmenuselection 7
           {
            ifvarn VEHICLEID -1
            {
             redefinequote 410 ^10YOU ARE ALREADY DRIVING IN THIS VEHICLE, DUMMY! XD
             setvarvar fta fta_normal setvar ftq 410
             state menuerrorsound
            }
            else
            {
             state menu_nochangenotthere
             state menuerrorsound
            }
           }

          }
	   }
 //
 //
         ifvare mainmenusubmenu 1 // Items Menu
         {
          ifvare mainmenupage 0
          {
           // Row #1
           ifvare mainmenuselection 0 { state checkreschalices ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 0 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 1 { state checkeyedrops ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 1 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 2 { state checkantidotes ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 2 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 3 { state checkfoghorns ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 3 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 4 { state checkafasdrops ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 4 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 5 { state checkportablemedikits ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 13 state itemusecheckpartysize } else state menuerrorsound }
           // Row #2
           ifvare mainmenuselection 6 { state checkheatsensors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 15 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 7 { state checkbootpairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 16 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 8 { state checkholoforms ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 17 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 9 { state checkjetpacks ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 18 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 10 { state checkvitaminxs ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 19 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 11 { state checkscubatanks ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 14 state itemusecheckpartysize } else state menuerrorsound }
           // Row #3
           ifvare mainmenuselection 12 { state checkusedbodyarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 20 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 13 { state checkusedsuperarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 21 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 14 { state checkbodyarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 11 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 15 { state checksuperarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 12 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 16 { state checkatomichealths ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 22 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 17 { state checksuperatoms ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 23 state itemusecheckpartysize } else state menuerrorsound }
           // Row #4
           ifvare mainmenuselection 18 { state checksmallmedikits ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 5 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 19 { state checkmediummedikits ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 6 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 20 { state checklargemedikits ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 7 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 21 { state checkextralargemedikits ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 8 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 22 { state checkmedpacks ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 9 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 23 { state checksurgerykits ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 10 state itemusecheckpartysize } else state menuerrorsound }
          }
          ifvare mainmenupage 1
          {
           // Row #1
           ifvare mainmenuselection 0 { state checkusedgreenarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 24 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 1 { state checkusedbluearmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 25 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 2 { state checkusedyellowarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 26 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 3 { state checkusedredarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 27 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 4 { state checkusedgreyarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 28 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 5 { state checkusedwhitearmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 29 state itemusecheckpartysize } else state menuerrorsound }
           // Row #2
           ifvare mainmenuselection 6 { state checkgreenarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 30 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 7 { state checkbluearmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 31 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 8 { state checkyellowarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 32 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 9 { state checkredarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 33 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 10 { state checkgreyarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 34 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 11 { state checkwhitearmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 35 state itemusecheckpartysize } else state menuerrorsound }
           // Row #3
           ifvare mainmenuselection 12 { state checkusedrandomarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 36 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 13 { state checkrandomarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 37 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 14 state cannotuseitem
           ifvare mainmenuselection 15 state cannotuseitem
           ifvare mainmenuselection 16 state cannotuseitem
           ifvare mainmenuselection 17 state cannotuseitem
           // Row #4
           ifvare mainmenuselection 18 state cannotuseitem
           ifvare mainmenuselection 19 state cannotuseitem
           ifvare mainmenuselection 20 state cannotuseitem
           ifvare mainmenuselection 21 state cannotuseitem
           ifvare mainmenuselection 22 state dropatelebeacon // Will Try to Drop a Telebeacon
           ifvare mainmenuselection 23 { state checkfauxlevelups ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 38 state itemusecheckpartysize } else state menuerrorsound }
          }
          ifvare mainmenupage 2
          {
           // Row #1
           ifvare mainmenuselection 0 { state checksmallenergydrinks ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 39 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 1 { state checklargeenergydrinks ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 40 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 2 { state checkhyperenergydrinks ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 41 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 3 { state checkwintersuits ifvarg ITEMARRAYID_AMOUNTTEMP 0 { setvar itemidinuse 42 state itemusecheckpartysize } else state menuerrorsound }
           ifvare mainmenuselection 4 { setvar MISCARRAYID 67 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // GOT-PORTABLE-ATM?
                                        ifvare MISCARRAYID_AMOUNTTEMP 1 { state exit_mainmenu setvar atm_id -4 setvar atm_type 4 setvar atm_mode 0 randvar atm_background 43 randvar atm_wscreen 3 addvar atm_wscreen 1 randvar atm_extquote 21 } else state menuerrorsound }
           ifvare mainmenuselection 5 { setvar MISCARRAYID 68 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // GOT-MONEY-RADAR?
                                        ifvare MISCARRAYID_AMOUNTTEMP 1 { setvar MISCARRAYID 69 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP // IS-MONEYRADAR-ON?
                                                                          ifvare MISCARRAYID_AMOUNTTEMP 0 { setvar MISCARRAYID 69 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 1 } else ifvare MISCARRAYID_AMOUNTTEMP 1 { setvar MISCARRAYID 69 setactorvar[MISCARRAYID].MISCARRAYID_AMOUNT 0 } ifrnd 128 { sound KEYPAD_BEEP1 } else { sound KEYPAD_BEEP2 } } else state menuerrorsound }
           // Row #2
           ifvare mainmenuselection 6 state cannotuseitem
           ifvare mainmenuselection 7 state cannotuseitem
           ifvare mainmenuselection 8 state cannotuseitem
           ifvare mainmenuselection 9 state cannotuseitem
           ifvare mainmenuselection 10 state cannotuseitem
           ifvare mainmenuselection 11 state cannotuseitem
           // Row #3
           ifvare mainmenuselection 12 state cannotuseitem
           ifvare mainmenuselection 13 state cannotuseitem
           ifvare mainmenuselection 14 state cannotuseitem
           ifvare mainmenuselection 15 state cannotuseitem
           ifvare mainmenuselection 16 state cannotuseitem
           ifvare mainmenuselection 17 state cannotuseitem
           // Row #4
           ifvare mainmenuselection 18 state cannotuseitem
           ifvare mainmenuselection 19 state cannotuseitem
           ifvare mainmenuselection 20 state cannotuseitem
           ifvare mainmenuselection 21 state cannotuseitem
           ifvare mainmenuselection 22 state cannotuseitem
           ifvare mainmenuselection 23 state cannotuseitem
          }
          ifvare mainmenupage 3
          {
           // Row #1
           ifvare mainmenuselection 0 state cannotuseitem
           ifvare mainmenuselection 1 state cannotuseitem
           ifvare mainmenuselection 2 state cannotuseitem
           ifvare mainmenuselection 3 state cannotuseitem
           ifvare mainmenuselection 4 state cannotuseitem
           ifvare mainmenuselection 5 state cannotuseitem
           // Row #2
           ifvare mainmenuselection 6 state cannotuseitem
           ifvare mainmenuselection 7 state cannotuseitem
           ifvare mainmenuselection 8 state cannotuseitem
           ifvare mainmenuselection 9 state cannotuseitem
           ifvare mainmenuselection 10 state cannotuseitem
           ifvare mainmenuselection 11 state cannotuseitem
           // Row #3
           ifvare mainmenuselection 12 state cannotuseitem
           ifvare mainmenuselection 13 state cannotuseitem
           ifvare mainmenuselection 14 state cannotuseitem
           ifvare mainmenuselection 15 state cannotuseitem
           ifvare mainmenuselection 16 state cannotuseitem
           ifvare mainmenuselection 17 state cannotuseitem
           // Row #4
           ifvare mainmenuselection 18 { state checkgreentankcapsules ifvarg ITEMARRAYID_AMOUNTTEMP 0 { state checkgreentankcapsules subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount espawn EMPTYTANK setactor[RETURN].pal 0 state scatterdrops sound ACTOR_GROWING sound ACTOR_SHRINKING } else { state menuerrorsound } }
           ifvare mainmenuselection 19 { state checkbluetankcapsules ifvarg ITEMARRAYID_AMOUNTTEMP 0 { state checkbluetankcapsules subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount espawn EMPTYTANK setactor[RETURN].pal 17 state scatterdrops sound ACTOR_GROWING sound ACTOR_SHRINKING } else { state menuerrorsound } }
           ifvare mainmenuselection 20 { state checkredtankcapsules ifvarg ITEMARRAYID_AMOUNTTEMP 0 { state checkredtankcapsules subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount espawn EMPTYTANK setactor[RETURN].pal 19 state scatterdrops sound ACTOR_GROWING sound ACTOR_SHRINKING } else { state menuerrorsound } }
           ifvare mainmenuselection 21 state cannotuseitem
           ifvare mainmenuselection 22 state cannotuseitem
           ifvare mainmenuselection 23 state cannotuseitem
          }
          ifvare mainmenupage 4
          {
           // Row #1
           ifvare mainmenuselection 0 state cannotuseitem
           ifvare mainmenuselection 1 state cannotuseitem
           ifvare mainmenuselection 2 state cannotuseitem
           ifvare mainmenuselection 3 state cannotuseitem
           ifvare mainmenuselection 4 state cannotuseitem
           ifvare mainmenuselection 5 state cannotuseitem
           // Row #2
           ifvare mainmenuselection 6 state cannotuseitem
           ifvare mainmenuselection 7 state cannotuseitem
           ifvare mainmenuselection 8 state cannotuseitem
           ifvare mainmenuselection 9 state cannotuseitem
           ifvare mainmenuselection 10 state cannotuseitem
           ifvare mainmenuselection 11 state cannotuseitem
           // Row #3
           ifvare mainmenuselection 12 state cannotuseitem
           ifvare mainmenuselection 13 state cannotuseitem
           ifvare mainmenuselection 14 state cannotuseitem
           ifvare mainmenuselection 15 state cannotuseitem
           ifvare mainmenuselection 16 state cannotuseitem
           ifvare mainmenuselection 17 state cannotuseitem
           // Row #4
           ifvare mainmenuselection 18 state cannotuseitem
           ifvare mainmenuselection 19 state cannotuseitem
           ifvare mainmenuselection 20 state cannotuseitem
           ifvare mainmenuselection 21 state cannotuseitem
           ifvare mainmenuselection 22 state cannotuseitem
           ifvare mainmenuselection 23 state cannotuseitem
          }
          ifvare mainmenupage 5
          {
           // Row #1
           ifvare mainmenuselection 0 state cannotuseitem
           ifvare mainmenuselection 1 state cannotuseitem
           ifvare mainmenuselection 2 state cannotuseitem
           ifvare mainmenuselection 3 state cannotuseitem
           ifvare mainmenuselection 4 state cannotuseitem
           ifvare mainmenuselection 5 state cannotuseitem
           // Row #2
           ifvare mainmenuselection 6 state cannotuseitem
           ifvare mainmenuselection 7 state cannotuseitem
           ifvare mainmenuselection 8 state cannotuseitem
           ifvare mainmenuselection 9 state cannotuseitem
           ifvare mainmenuselection 10 state cannotuseitem
           ifvare mainmenuselection 11 state cannotuseitem
           // Row #3
           ifvare mainmenuselection 12 state cannotuseitem
           ifvare mainmenuselection 13 state cannotuseitem
           ifvare mainmenuselection 14 state cannotuseitem
           ifvare mainmenuselection 15 state cannotuseitem
           ifvare mainmenuselection 16 state cannotuseitem
           ifvare mainmenuselection 17 state cannotuseitem
           // Row #4
           ifvare mainmenuselection 18 state cannotuseitem
           ifvare mainmenuselection 19 state cannotuseitem
           ifvare mainmenuselection 20 state cannotuseitem
           ifvare mainmenuselection 21 state cannotuseitem
           ifvare mainmenuselection 22 state cannotuseitem
           ifvare mainmenuselection 23 state cannotuseitem
          }
         }

       ifvare mainmenusubmenu 2 // System Menu
       {
        ifvare mainmenupage 0
        {
         ifvare mainmenuselection 0 { addvar miscdisplaytoggle 1 ifvarg miscdisplaytoggle 15 { setvar miscdisplaytoggle 0 } savegamevar miscdisplaytoggle }
         ifvare mainmenuselection 1 { ifvare statusdisplaytoggle 0 setvar statusdisplaytoggle 1 else setvar statusdisplaytoggle 0 savegamevar statusdisplaytoggle }
         ifvare mainmenuselection 2 { ifvare debugtoggle 0 setvar debugtoggle 1 else setvar debugtoggle 0 savegamevar debugtoggle }
         ifvare mainmenuselection 3 { ifvare lifebartogglemode 0 setvar lifebartogglemode 1 else setvar lifebartogglemode 0 savegamevar lifebartogglemode }
         ifvare mainmenuselection 4 { ifvare automedikittoggle 0 setvar automedikittoggle 1 else setvar automedikittoggle 0 savegamevar automedikittoggle }
         ifvare mainmenuselection 5 { ifvare automantletoggle 0 setvar automantletoggle 1 else setvar automantletoggle 0 savegamevar automantletoggle }
         ifvare mainmenuselection 6 { ifvare footstepsndtoggle 0 setvar footstepsndtoggle 1 else setvar footstepsndtoggle 0 savegamevar footstepsndtoggle }
         ifvare mainmenuselection 7 { ifvare normalhitscantoggle 0 setvar normalhitscantoggle 1 else setvar normalhitscantoggle 0 savegamevar normalhitscantoggle }
         ifvare mainmenuselection 8 { addvar vehiclepickuptoggle 1 ifvarg vehiclepickuptoggle 3 subvar vehiclepickuptoggle 4 savegamevar vehiclepickuptoggle }
         ifvare mainmenuselection 9 { ifvare PAINSOUNDSTYPE 0 setvar PAINSOUNDSTYPE 1 else setvar PAINSOUNDSTYPE 0 savegamevar PAINSOUNDSTYPE }
         ifvare mainmenuselection 10 { ifvare rpgdmgdisplaytoggle 0 setvar rpgdmgdisplaytoggle 1 else setvar rpgdmgdisplaytoggle 0 savegamevar rpgdmgdisplaytoggle }
         ifvare mainmenuselection 11 { ifvare autosavetoggle 0 { setvar autosavetoggle 1 state reset_autosavetimes } else { setvar autosavetoggle 0 } savegamevar autosavetoggle }
         ifvare mainmenuselection 12 { ifvare weapontoggleselect 0 setvar weapontoggleselect 1 else setvar weapontoggleselect 0 savegamevar weapontoggleselect }
         ifvare mainmenuselection 13 { addvar upperlefthandlegend 1 ifvarg upperlefthandlegend 2 subvar upperlefthandlegend 3 savegamevar upperlefthandlegend }
        }
        sound PISTOL_BODYHIT // INTRUDER_ALERT
       }
       ifvare mainmenusubmenu 3 state menuerrorsound // Status Menu
    
         ifvare mainmenusubmenu 4 // Skills Menu
         {
          ifvare mainmenupage 0 nullop // Duke Nukem
          else ifvare mainmenupage 1 // Jack Walker
          {
           ifvare mainmenuselection 0 // Damage Shell
           {
            setvar CHARACTERARRAY 2
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMP
            ifvarl TEMP 1 state useskill_characterdead else 
            { 
             getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
             setvar USESKILLARRAY 1 // Damage Shell
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
             getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound else { setvar skillidinuse 13 state skillusecheckpartysize } // Damage Shell
            }
           }
          }
          else ifvare mainmenupage 2 nullop // Bubsy Bobcat
          else ifvare mainmenupage 3 // Ami Mizuno
          {
           ifvare mainmenuselection 0 // Mercury Aqua Protection
           {
            setvar CHARACTERARRAY 4
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMP
            ifvarl TEMP 1 state useskill_characterdead
            else
            {
             getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP
             ifvarand TEMP 256
             {
              getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
              state energycostcheatcheck1
              divvar SKILL-ENERGYCOST 100
              setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
              getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
              ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound
              else
              {
               ifvare CHARACTERSELECTED? 4
               {
                subvar PLAYERSTATUS? 256
                setvar PLAYERAQUAPROTECTTIMER 0
                stopsound AQUAPRO_ACTIVATE
                sound SKILL_DEACTIVATE
                subvarvar CURRENTENERGYPOINTS SKILL-ENERGYCOST
               }
               else
               {
                subvar TEMP 256
                setvar CHARACTERARRAY 4
                setactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP
                setactorvar[CHARACTERARRAY].CHARACTERAQUAPROTECTTIMER 0
                stopsound AQUAPRO_ACTIVATE
                sound SKILL_DEACTIVATE
                getactorvar[CHARACTERARRAY].CHARACTEREP TEMP
                subvarvar TEMP SKILL-ENERGYCOST
                setactorvar[CHARACTERARRAY].CHARACTEREP TEMP
               }
              }
             }
             else
             {
              getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
              setvar USESKILLARRAY 2 // Mercury Aqua Protection
              getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
              state check-skillenergycost-mul
              divvar SKILL-ENERGYCOST 100
              getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
              state check-skillenergycost-add
              setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
              getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
              ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound
              else
              {
               ifvare CHARACTERSELECTED? 4
               {
                addvar PLAYERSTATUS? 256
                setvar PLAYERAQUAPROTECTTIMER 390
                stopsound SKILL_DEACTIVATE
                sound AQUAPRO_ACTIVATE
                subvarvar CURRENTENERGYPOINTS SKILL-ENERGYCOST
               }
               else
               {
                addvar TEMP 256
                setvar CHARACTERARRAY 4
                setactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP
                setactorvar[CHARACTERARRAY].CHARACTERAQUAPROTECTTIMER 390
                stopsound SKILL_DEACTIVATE
                sound AQUAPRO_ACTIVATE
                getactorvar[CHARACTERARRAY].CHARACTEREP TEMP
                subvarvar TEMP SKILL-ENERGYCOST
                setactorvar[CHARACTERARRAY].CHARACTEREP TEMP
               }
              }
             }
            }
           }
           else
           ifvare mainmenuselection 1 // Mercury Quickening
           {
            setvar CHARACTERARRAY 4
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMP
            ifvarl TEMP 1 state useskill_characterdead else
            {
             getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
             setvar USESKILLARRAY 3 // Mercury Quickening
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
             getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound else { setvar skillidinuse 12 state skillusecheckpartysize } // Mercury Quickening
            }
           }
          }
          else ifvare mainmenupage 4 nullop // Lo Wang
          else ifvare mainmenupage 5 nullop // ESSence Margalan
          else ifvare mainmenupage 6 // Ted Maldoras
          {
           setvar CHARACTERARRAY 7
           getactorvar[CHARACTERARRAY].CHARACTERHP TEMP
           ifvarl TEMP 1 state useskill_characterdead
           else
           {
            ifvare mainmenuselection 0
            {
             getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
             setvar USESKILLARRAY 4 // Fortify [Lesser]
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
             getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound else { setvar skillidinuse 9 state skillusecheckpartysize } // Fortify [Lesser]
            }
            else ifvare mainmenuselection 1
            {
             getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
             setvar USESKILLARRAY 5 // Fortify [Moderate]
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
             getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound else { setvar skillidinuse 10 state skillusecheckpartysize } // Fortify [Moderate]
            }
            else ifvare mainmenuselection 2 
            { 
             getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
             setvar USESKILLARRAY 6 // Fortify [Greater]
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
             getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound else { setvar skillidinuse 11 state skillusecheckpartysize } // Fortify [Greater]
            }
           }
          }
          else ifvare mainmenupage 7 nullop // Lisa Bates
          else ifvare mainmenupage 8 // Cybanis Morgandos
          {
           setvar CHARACTERARRAY 9
           getactorvar[CHARACTERARRAY].CHARACTERHP TEMP
           ifvarl TEMP 1 state useskill_characterdead
           else
           {
            ifvare mainmenuselection 0
            {
             getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
             setvar USESKILLARRAY 7 // Bloodlusting
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
             getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound else { setvar skillidinuse 15 state skillusecheckpartysize } // Bloodlusting
            }
           }
          }
          else ifvare mainmenupage 9 // Nethra Mahoboroshi/Christina Mitchell
          {
           setvar CHARACTERARRAY 10
           getactorvar[CHARACTERARRAY].CHARACTERHP TEMP
           ifvarl TEMP 1 state useskill_characterdead
           else
           {
            ifvare mainmenuselection 0
            {
             getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
             setvar USESKILLARRAY 8 // Lesser Resurrection
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
             getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound else { setvar skillidinuse 3 state skillusecheckpartysize } // Lesser Resurrection
            }
            else ifvare mainmenuselection 1
            {
             getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
             setvar USESKILLARRAY 9 // Heal Life [Lesser]
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
             getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound else { setvar skillidinuse 4 state skillusecheckpartysize } // Heal Life [Lesser]
            }
            else ifvare mainmenuselection 2
            {
             getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
             setvar USESKILLARRAY 10 // Cure Ailment [Moderate]
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
             getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound else { setvar skillidinuse 5 state skillusecheckpartysize } // Cure Ailment [Moderate]
            }
            else ifvare mainmenuselection 3
            {
             getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
             setvar USESKILLARRAY 11 // Heal Life [Greater]
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
             getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound else { setvar skillidinuse 6 state skillusecheckpartysize } // Heal Life [Greater]
            }
            else ifvare mainmenuselection 4 
            {
             getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
             setvar USESKILLARRAY 12 // Greater Resurrection
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
             getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound else { setvar skillidinuse 7 state skillusecheckpartysize } // Greater Resurrection
            }
            else ifvare mainmenuselection 5 
            {
             getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
             setvar USESKILLARRAY 13 // Cure Ailment [Greatest]
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
             getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound else { setvar skillidinuse 8 state skillusecheckpartysize } // Cure Ailment [Greatest]   
            }       
           }
          }
          else ifvare mainmenupage 10 // Paula Polestar
          {
           setvar CHARACTERARRAY 11
           getactorvar[CHARACTERARRAY].CHARACTERHP TEMP
           ifvarl TEMP 1 state useskill_characterdead 
           else 
           {
            ifvare mainmenuselection 0
            {
             getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
             setvar USESKILLARRAY 14 // PK Shield
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
             getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound else { setvar skillidinuse 16 state skillusecheckpartysize } // PK Shield
            }
           }
          }
          else ifvare mainmenupage 11 // Lori Stephens
          {
           ifvare mainmenuselection 0 // Triad Refractor
           {
            setvar CHARACTERARRAY 12
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMP
            ifvarl TEMP 1 state useskill_characterdead
            else
            {
             getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP
             ifvarand TEMP 32
             {
              getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
              state energycostcheatcheck1
              divvar SKILL-ENERGYCOST 100
              setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
              getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
              ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound
              else
              {
               ifvare CHARACTERSELECTED? 12
               {
                subvar PLAYERSTATUS? 32
                setvar PLAYERREFRACTORTIMER 0
                stopsound TRIREFR_ACTIVATE
                sound SKILL_DEACTIVATE
                subvarvar CURRENTENERGYPOINTS SKILL-ENERGYCOST
               }
               else
               {
                subvar TEMP 32
                setvar CHARACTERARRAY 12
                setactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP
                setactorvar[CHARACTERARRAY].CHARACTERREFRACTORTIMER 0
                stopsound TRIREFR_ACTIVATE
                sound SKILL_DEACTIVATE
                getactorvar[CHARACTERARRAY].CHARACTEREP TEMP
                subvarvar TEMP SKILL-ENERGYCOST
                setactorvar[CHARACTERARRAY].CHARACTEREP TEMP
               }
              }
             }
             else
             {
              getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
              setvar USESKILLARRAY 15 // Triad Refractor
              getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
              state check-skillenergycost-mul
              divvar SKILL-ENERGYCOST 100
              getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
              state check-skillenergycost-add
              setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
              getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
              ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound
              else
              {
               ifvare CHARACTERSELECTED? 12
               {
                addvar PLAYERSTATUS? 32
                setvar PLAYERREFRACTORTIMER 390
                stopsound SKILL_DEACTIVATE
                sound TRIREFR_ACTIVATE
                subvarvar CURRENTENERGYPOINTS SKILL-ENERGYCOST
               }
               else
               {
                addvar TEMP 32
                setvar CHARACTERARRAY 12
                setactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP
                setactorvar[CHARACTERARRAY].CHARACTERREFRACTORTIMER 390
                stopsound SKILL_DEACTIVATE
                sound TRIREFR_ACTIVATE
                getactorvar[CHARACTERARRAY].CHARACTEREP TEMP
                subvarvar TEMP SKILL-ENERGYCOST
                setactorvar[CHARACTERARRAY].CHARACTEREP TEMP
               }
              }
             }
            }
           }
           else
           ifvare mainmenuselection 1 // Triad Ragnarok
           {
            setvar CHARACTERARRAY 12
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMP
            ifvarl TEMP 1 state useskill_characterdead
            else
            {
             getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP
             ifvarand TEMP 64
             {
              getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
              state energycostcheatcheck1
              divvar SKILL-ENERGYCOST 100
              setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
              getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
              ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound
              else
              {
               ifvare CHARACTERSELECTED? 12
               {
                subvar PLAYERSTATUS? 64
                setvar PLAYERRAGNAROKTIMER 0
                stopsound TRIRAGN_ACTIVATE
                sound SKILL_DEACTIVATE
                subvarvar CURRENTENERGYPOINTS SKILL-ENERGYCOST
               }
               else
               {
                subvar TEMP 64
                setvar CHARACTERARRAY 12
                setactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP
                setactorvar[CHARACTERARRAY].CHARACTERRAGNAROKTIMER 0
                stopsound TRIRAGN_ACTIVATE
                sound SKILL_DEACTIVATE
                getactorvar[CHARACTERARRAY].CHARACTEREP TEMP
                subvarvar TEMP SKILL-ENERGYCOST
                setactorvar[CHARACTERARRAY].CHARACTEREP TEMP
               }
              }
             }
             else
             {
              getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
              setvar USESKILLARRAY 16 // Triad Ragnarok
              getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
              state check-skillenergycost-mul
              divvar SKILL-ENERGYCOST 100
              getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
              state check-skillenergycost-add
              setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
              getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
              ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound
              else
              {
               ifvare CHARACTERSELECTED? 12
               {
                addvar PLAYERSTATUS? 64
                setvar PLAYERRAGNAROKTIMER 390
                stopsound SKILL_DEACTIVATE
                sound TRIRAGN_ACTIVATE
                subvarvar CURRENTENERGYPOINTS SKILL-ENERGYCOST
               }
               else
               {
                addvar TEMP 64
                setvar CHARACTERARRAY 12
                setactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP
                setactorvar[CHARACTERARRAY].CHARACTERRAGNAROKTIMER 390
                stopsound SKILL_DEACTIVATE
                sound TRIRAGN_ACTIVATE
                getactorvar[CHARACTERARRAY].CHARACTEREP TEMP
                subvarvar TEMP SKILL-ENERGYCOST
                setactorvar[CHARACTERARRAY].CHARACTEREP TEMP
               }
              }
             }
            }
           }
          }
          else ifvare mainmenupage 12 nullop  // Minako Aino
          else
          ifvare mainmenupage 13 // "Mystery Lady"
          {
           ifvare PUBLICBETA? 0
           {
            setvar CHARACTERARRAY 14
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMP
            ifvarl TEMP 1 state useskill_characterdead
            else
            {
             ifvare mainmenuselection 0
             {
              getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
              setvar USESKILLARRAY 17 // Resurrection Prime
              getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
              state check-skillenergycost-mul
              divvar SKILL-ENERGYCOST 100
              getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
              state check-skillenergycost-add
              setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
              getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
              ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound else { setvar skillidinuse 1 state skillusecheckpartysize } // Resurrection Prime
             }
             else 
             ifvare mainmenuselection 1 
             {
              getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
              setvar USESKILLARRAY 18 // Resurrection Ultima
              getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
              state check-skillenergycost-mul
              divvar SKILL-ENERGYCOST 100
              getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
              state check-skillenergycost-add
              setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
              getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
              ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound else state useresurrectionultima // Resurrection Ultima
             }
            }
           }
          }
          else
          ifvare mainmenupage 14 // Maken Shinkara
          {
           ifvare mainmenuselection 0 // Triad Blitzkrieg
           {
            setvar CHARACTERARRAY 15
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMP
            ifvarl TEMP 1 state useskill_characterdead
            else
            {
             getactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP
             ifvarand TEMP 2048
             {
              getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
              state energycostcheatcheck1
              divvar SKILL-ENERGYCOST 100
              setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
              getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
              ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound
              else
              {
               ifvare CHARACTERSELECTED? 15
               {
                subvar PLAYERSTATUS? 2048
                setvar PLAYERBLITZKRIEGTIMER 0
                stopsound TRIBLIT_ACTIVATE
                sound SKILL_DEACTIVATE
                subvarvar CURRENTENERGYPOINTS SKILL-ENERGYCOST
               }
               else
               {
                subvar TEMP 2048
                setvar CHARACTERARRAY 15
                setactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP
                setactorvar[CHARACTERARRAY].CHARACTERBLITZKRIEGTIMER 0
                stopsound TRIBLIT_ACTIVATE
                sound SKILL_DEACTIVATE
                getactorvar[CHARACTERARRAY].CHARACTEREP TEMP
                subvarvar TEMP SKILL-ENERGYCOST
                setactorvar[CHARACTERARRAY].CHARACTEREP TEMP
               }
              }
             }
             else
             {
              getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
              setvar USESKILLARRAY 19 // Triad Blitzkrieg
              getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
              state check-skillenergycost-mul
              divvar SKILL-ENERGYCOST 100
              getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
              state check-skillenergycost-add
              setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
              getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
              ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound
              else
              {
               ifvare CHARACTERSELECTED? 15
               {
                addvar PLAYERSTATUS? 2048
                setvar PLAYERBLITZKRIEGTIMER 390
                stopsound SKILL_DEACTIVATE
                sound TRIBLIT_ACTIVATE
                subvarvar CURRENTENERGYPOINTS SKILL-ENERGYCOST
               }
               else
               {
                addvar TEMP 2048
                setvar CHARACTERARRAY 15
                setactorvar[CHARACTERARRAY].CHARACTERSTATUS? TEMP
                setactorvar[CHARACTERARRAY].CHARACTERBLITZKRIEGTIMER 390
                stopsound SKILL_DEACTIVATE
                sound TRIBLIT_ACTIVATE
                getactorvar[CHARACTERARRAY].CHARACTEREP TEMP
                subvarvar TEMP SKILL-ENERGYCOST
                setactorvar[CHARACTERARRAY].CHARACTEREP TEMP
               }
              }
             }
            }
           }
           else
           ifvare mainmenuselection 1 // Triad Booster
           {
            setvar CHARACTERARRAY 15
            getactorvar[CHARACTERARRAY].CHARACTERHP TEMP
            ifvarl TEMP 1 state useskill_characterdead else
            {
             getactorvar[CHARACTERARRAY].CHARACTERMAXEP SKILL-ENERGYCOST
             setvar USESKILLARRAY 20 // Triad Booster
             getactorvar[USESKILLARRAY].USESKILLPERCENTCOST TEMPVAR
             state check-skillenergycost-mul
             divvar SKILL-ENERGYCOST 100
             getactorvar[USESKILLARRAY].USESKILLEXACTCOST TEMPVAR
             state check-skillenergycost-add
             setvarvar ENERGYCOST_TEMP SKILL-ENERGYCOST state energycost_check setvarvar SKILL-ENERGYCOST ENERGYCOST_TEMP
             getactorvar[CHARACTERARRAY].CHARACTEREP TEMPVAR5
             ifvarvarl TEMPVAR5 SKILL-ENERGYCOST state menuerrorsound else { setvar skillidinuse 14 state skillusecheckpartysize } // Triad Booster
            }
           }
          }
          else state menuerrorsound
         }
/*
	   ifvare mainmenusubmenu 5 // Support Menu
         {
          ifvare mainmenupage 0 // Duke Nukem
          {
          }
          else
          ifvare mainmenupage 1 // Jack Walker
          {
          }
          else
          ifvare mainmenupage 2 // Bubsy Bobcat
          {
          }
          else
          ifvare mainmenupage 3 // Ami Mizuno
          {
          }
          else
          ifvare mainmenupage 4 // Lo Wang
          {
          }
          else
          ifvare mainmenupage 5 // ESSence Margalan
          {
          }
          else
          ifvare mainmenupage 6 // Ted Maldoras
          {
          }
          else
          ifvare mainmenupage 7 // Lisa Bates
          {
          }
          else
          ifvare mainmenupage 8 // Cybanis Morgandos
          {
          }
          else
          ifvare mainmenupage 9 // Nethra Mahoboroshi/Christina Mitchell
          {
          }
          else
          ifvare mainmenupage 10 // Paula Polestar
          {
          }
          else
          ifvare mainmenupage 11 // Lori Stephens
          {
          }
          else
          ifvare mainmenupage 12 // Minako Aino
          {
          }
          else
          ifvare mainmenupage 13 // "Mystery Lady"
          {
          }
          else
          ifvare mainmenupage 14 // Maken Shinkara
          {
          }
          else state menuerrorsound
         }
*/
         ifvare mainmenusubmenu 6 // Equipment Menu
         {
          setvar TEMPMOD 0
          state checkpg1equippables
          state checkpg2equippables
          ifvarg TEMPMOD 0
          {
           ifvarg mainmenuselection -1 ifvarl mainmenuselection 9 
           {
            ifvarg mainmenupage -1 ifvarl mainmenupage 15 
            {
             state enterequipscreen
             setvar equipmenupage 0 setvar equipmenuselection 0
             setvarvar equipcharacter mainmenupage addvar equipcharacter 1
            }
           }
          }
          else state menuerrorsound
         }
/*
	   ifvare mainmenusubmenu 7 // Worldtile Menu
         {
         }
*/

         ifvare mainmenusubmenu 256 // Cheats
         {
// Row #1
          ifvare mainmenuselection 0 { state cheatersound ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS { setvar CHARACTERARRAY 1 getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR3 setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 } ifvare DUKE? 0 setvar DUKE? 1 else ifvarg PARTYSIZE 1 setvar DUKE? 0 else state menuerrorsound } // Add/Remove Duke
          ifvare mainmenuselection 1 { state cheatersound ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS { setvar CHARACTERARRAY 2 getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR3 setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 } ifvare JACK? 0 setvar JACK? 1 else ifvarg PARTYSIZE 1 setvar JACK? 0 else state menuerrorsound } // Add/Remove Jack
          ifvare mainmenuselection 2 { state cheatersound ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS { setvar CHARACTERARRAY 3 getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR3 setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 } ifvare BUBSY? 0 setvar BUBSY? 1 else ifvarg PARTYSIZE 1 setvar BUBSY? 0 else state menuerrorsound } // Add/Remove Bubsy
          ifvare mainmenuselection 3 { state cheatersound ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS { setvar CHARACTERARRAY 4 getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR3 setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 } ifvare AMI? 0 setvar AMI? 1 else ifvarg PARTYSIZE 1 setvar AMI? 0 else state menuerrorsound } // Add/Remove Ami
          ifvare mainmenuselection 4 { state cheatersound ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS { setvar CHARACTERARRAY 5 getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR3 setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 } ifvare LOWANG? 0 setvar LOWANG? 1 else ifvarg PARTYSIZE 1 setvar LOWANG? 0 else state menuerrorsound } // Add/Remove Lo Wang
          ifvare mainmenuselection 5 { state cheatersound ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS { setvar CHARACTERARRAY 6 getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR3 setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 } ifvare ESSENCE? 0 setvar ESSENCE? 1 else ifvarg PARTYSIZE 1 setvar ESSENCE? 0 else state menuerrorsound } // Add/Remove ESSence
          ifvare mainmenuselection 6 { state cheatersound ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS { setvar CHARACTERARRAY 7 getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR3 setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 } ifvare TED? 0 setvar TED? 1 else ifvarg PARTYSIZE 1 setvar TED? 0 else state menuerrorsound } // Add/Remove Ted
          ifvare mainmenuselection 7 { state cheatersound ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS { setvar CHARACTERARRAY 8 getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR3 setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 } ifvare LISA? 0 setvar LISA? 1 else ifvarg PARTYSIZE 1 setvar LISA? 0 else state menuerrorsound } // Add/Remove Lisa

// Row #2
          ifvare mainmenuselection 8 { state cheatersound ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS { setvar CHARACTERARRAY 9 getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR3 setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 } ifvare CYBANIS? 0 setvar CYBANIS? 1 else ifvarg PARTYSIZE 1 setvar CYBANIS? 0 else state menuerrorsound } // Add/Remove Cybanis
          ifvare mainmenuselection 9 { state cheatersound ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS { setvar CHARACTERARRAY 10 getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR3 setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 } ifvare NETHRA? 0 setvar NETHRA? 1 else ifvarg PARTYSIZE 1 setvar NETHRA? 0 else state menuerrorsound } // Add/Remove Nethra/Christina
          ifvare mainmenuselection 10 { state cheatersound ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS { setvar CHARACTERARRAY 11 getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR3 setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 } ifvare PAULA? 0 setvar PAULA? 1 else ifvarg PARTYSIZE 1 setvar PAULA? 0 else state menuerrorsound } // Add/Remove Paula
          ifvare mainmenuselection 11 { state cheatersound ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS { setvar CHARACTERARRAY 12 getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR3 setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 } ifvare LORI? 0 setvar LORI? 1 else ifvarg PARTYSIZE 1 setvar LORI? 0 else state menuerrorsound } // Add/Remove Lori
          ifvare mainmenuselection 12 { state cheatersound ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS { setvar CHARACTERARRAY 13 getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR3 setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 } ifvare MINAKO? 0 setvar MINAKO? 1 else ifvarg PARTYSIZE 1 setvar MINAKO? 0 else state menuerrorsound } // Add/Remove Minako
          ifvare mainmenuselection 13 { state cheatersound ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS { setvar CHARACTERARRAY 14 getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR3 setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 } ifvare MYSTERY1? 0 setvar MYSTERY1? 1 else ifvarg PARTYSIZE 1 setvar MYSTERY1? 0 else state menuerrorsound } // Add/Remove Mystery Lady
          ifvare mainmenuselection 14 { state cheatersound ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS { setvar CHARACTERARRAY 15 getactorvar[CHARACTERARRAY].CHARACTERMAXHP TEMPVAR3 setactorvar[CHARACTERARRAY].CHARACTERHP TEMPVAR3 } ifvare MAKEN? 0 setvar MAKEN? 1 else ifvarg PARTYSIZE 1 setvar MAKEN? 0 else state menuerrorsound } // Add/Remove Maken
          ifvare mainmenuselection 15
          {
           state cheatersound
           ifvarl RANDOMCHARACTEROPTION 1 setvar CHARACTERCHEAT? 8
           ifvare RANDOMCHARACTEROPTION 1 setvar RANDOMCHARACTERCHEAT? 1
           ifvare RANDOMCHARACTEROPTION 2 setvar RANDOMCHARACTERCHEAT? 2
           ifvare RANDOMCHARACTEROPTION 3 setvar RANDOMCHARACTERCHEAT? 3
           ifvare RANDOMCHARACTEROPTION 4 setvar RANDOMCHARACTERCHEAT? 4
           ifvare RANDOMCHARACTEROPTION 5 setvar RANDOMCHARACTERCHEAT? 5
           ifvare RANDOMCHARACTEROPTION 6 setvar RANDOMCHARACTERCHEAT? 6
           ifvare RANDOMCHARACTEROPTION 7 setvar RANDOMCHARACTERCHEAT? 7
           ifvare RANDOMCHARACTEROPTION 8 setvar RANDOMCHARACTERCHEAT? 8
           ifvare RANDOMCHARACTEROPTION 9 setvar RANDOMCHARACTERCHEAT? 9
           ifvare RANDOMCHARACTEROPTION 10 setvar RANDOMCHARACTERCHEAT? 10
           ifvare RANDOMCHARACTEROPTION 11 setvar RANDOMCHARACTERCHEAT? 11
           ifvare RANDOMCHARACTEROPTION 12 setvar RANDOMCHARACTERCHEAT? 12
           ifvare RANDOMCHARACTEROPTION 13 setvar RANDOMCHARACTERCHEAT? 13
           ifvare RANDOMCHARACTEROPTION 14 setvar RANDOMCHARACTERCHEAT? 14
           ifvare RANDOMCHARACTEROPTION 15 setvar RANDOMCHARACTERCHEAT? 15
           ifvarg RANDOMCHARACTEROPTION 15 setvar CHARACTERCHEAT? 8
          } 

// Row #3
          ifvare mainmenuselection 16 { ifvarand CHEATBITFIELD? 8 subvar CHEATBITFIELD? 8 else addvar CHEATBITFIELD? 8 state cheatersound } // 1000x damage cheat
          ifvare mainmenuselection 17 { ifvarand CHEATBITFIELD? 16 subvar CHEATBITFIELD? 16 else addvar CHEATBITFIELD? 16 state cheatersound } // 1000x defense cheat
          setvar MISCARRAYID 0 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP
          setvar MISCARRAYID 2 getactorvar[MISCARRAYID].MISCARRAYID_AMOUNT MISCARRAYID_AMOUNTTEMP2
          ifvare mainmenuselection 18 { ifvarvarl MISCARRAYID_AMOUNTTEMP MISCARRAYID_AMOUNTTEMP2 { ifvarand CHEATBITFIELD? 64 nullop else { addvar CHEATBITFIELD? 64 state cheatersound } } else state menuerrorsound } 
          ifvare mainmenuselection 19 { state givecheat_inventoryitems state cheatersound } 
          ifvare mainmenuselection 20 { ifvare ESHIELDADVANCEMENT 0 setvar ESHIELDADVANCEMENT 1 else setvar ESHIELDADVANCEMENT 0 state cheatersound } 
          ifvare mainmenuselection 21 { espawn EMPTYTANK setactor[RETURN].pal 0 state cheatersound ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS setactorvar[RETURN].ACTORFLAGS 2048 } 
          ifvare mainmenuselection 22 { espawn EMPTYTANK setactor[RETURN].pal 17 state cheatersound ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS setactorvar[RETURN].ACTORFLAGS 2048 } 
          ifvare mainmenuselection 23 { espawn EMPTYTANK setactor[RETURN].pal 19 state cheatersound ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS setactorvar[RETURN].ACTORFLAGS 2048 } 

// Row #4
          ifvare mainmenuselection 24 { ifvarand POWERUPCHEATFLAGS? 1 subvar POWERUPCHEATFLAGS? 1 else addvar POWERUPCHEATFLAGS? 1 state cheatersound }
          ifvare mainmenuselection 25 { ifvarand POWERUPCHEATFLAGS? 2 subvar POWERUPCHEATFLAGS? 2 else addvar POWERUPCHEATFLAGS? 2 state cheatersound }
          ifvare mainmenuselection 26 { ifvarand POWERUPCHEATFLAGS? 4 subvar POWERUPCHEATFLAGS? 4 else addvar POWERUPCHEATFLAGS? 4 state cheatersound }
          ifvare mainmenuselection 27 { ifvarand POWERUPCHEATFLAGS? 8 subvar POWERUPCHEATFLAGS? 8 else addvar POWERUPCHEATFLAGS? 8 state cheatersound }
          ifvare mainmenuselection 28 { ifvarand POWERUPCHEATFLAGS? 16 subvar POWERUPCHEATFLAGS? 16 else addvar POWERUPCHEATFLAGS? 16 state cheatersound }
          ifvare mainmenuselection 29 { ifvarand CHEATBITFIELD? 1 subvar CHEATBITFIELD? 1 else addvar CHEATBITFIELD? 1 state cheatersound } // Ammo Cheat
          ifvare mainmenuselection 30 { ifvarand CHEATBITFIELD? 128 subvar CHEATBITFIELD? 128 else addvar CHEATBITFIELD? 128 state cheatersound } 
          ifvare mainmenuselection 31 { ifvare EQUIPCHEAT? 0 { ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS setvar EQUIPCHEAT? 2 else setvar EQUIPCHEAT? 1 } else { ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS setvar EQUIPCHEAT? 2 else setvar EQUIPCHEAT? 0 } state cheatersound } 

// Row #5
          ifvare mainmenuselection 32 { state exit_mainmenu setvar shop_id 0 state cheatersound } 
          ifvare mainmenuselection 33 { state exit_mainmenu setvar atm_id -256 setvar atm_type 0 setvar atm_mode 0 randvar atm_background 43 randvar atm_wscreen 3 addvar atm_wscreen 1 randvar atm_extquote 21 state cheatersound } 
          ifvare mainmenuselection 34 { ifvarand CHEATBITFIELD? 2 subvar CHEATBITFIELD? 2 else addvar CHEATBITFIELD? 2 state cheatersound } // Hacker Vision Cheat
          ifvare mainmenuselection 35 { ifvarand CHEATBITFIELD? 4 subvar CHEATBITFIELD? 4 else addvar CHEATBITFIELD? 4 state cheatersound } // Buddha Mode Cheat
          sound MENU_SELECTED          
         }

//
ends

state menu-usingmenu
 state setreturn-1
 state getpartime
  addvar upresstime 1
   ifvarvare temppartime upresstime nullop else
   {
    ifvare mainmenu 1 ifvarg mainmenutransitiontimer 6 
    {
      ifvarn itemidinuse -1 state menu-usinganitem // For using items on people :P
      else // ifvare itemidinuse -1
      {
       ifvarn skillidinuse -1 state menu-usingaskill
       else // ifvare skillidinuse -1
       {
        ifvarn equipmenuinuse -1 state menu-equippinganitem else state menu-mainmenu-state
       }
      }
      state setreturn-1
    }
    else // ifvare mainmenu 0
    {
     ifvarn shop_id -1 ifvarg shoptransitiontimer 6
     {
      state shop_selection
     }
    }
   }
  setvarvar upresstime temppartime
ends


define SPARKLE 1630

action SPARKLING 0 1 6 0 0

useractor notenemy SPARKLE 0
 action SPARKLING
 ifcount 26 killit
enda

state sparkstate

 randvar sparkcount1 2
 addvar sparkcount1 1
 setvar sparkcount2 0
 getactor[THISACTOR].picnum x
 cactor ROTATEGUN
 getactor[THISACTOR].ang sparkang
 whilevarvarn sparkcount2 sparkcount1
 {
  addvar sparkcount2 1
  ifvare x APLAYER
  {
   getactorvar[THISACTOR].sparkflag sparktemp
   ifvare sparktemp 1 // Bio-Shield
   {
    ifrnd 85
    {
     randvar sparkang2 2
     ifvare sparkang2 0 sound FIRELASER_IMPACT1 else
     ifvare sparkang2 1 sound FIRELASER_IMPACT2 else
     ifvare sparkang2 2 sound FIRELASER_IMPACT3  
    }
    ifvarg ESHIELDADVANCEMENT 0
    {
     ifrnd 85
     {
      randvar sparkang2 2
      ifvare sparkang2 0 sound FIRELASER_IMPACT1 else
      ifvare sparkang2 1 sound FIRELASER_IMPACT2 else
      ifvare sparkang2 2 sound FIRELASER_IMPACT3  
     }
    }
   }
   setvarvar angvar sparkang
   addvar angvar 512
   randvar sparkang2 1024
   addvarvar angvar sparkang2
   setactor[THISACTOR].ang angvar
  }
  else
  ifvare x SHOTSPARK1
  {
   setvarvar angvar sparkang
   addvar angvar 512
   randvar sparkang2 1024
   addvarvar angvar sparkang2
   setactor[THISACTOR].ang angvar
  }
  else
  ifvare x NATURALLIGHTNING
  {
   ifrnd 85
   {
    randvar sparkang 2
    ifvare sparkang 0 sound FIRELASER_IMPACT1 else
    ifvare sparkang 1 sound FIRELASER_IMPACT2 else
    ifvare sparkang 2 sound FIRELASER_IMPACT3  
   }
   getactor[THISACTOR].z sparkang
   addvar sparkang -64
   setactor[THISACTOR].z sparkang

   setvarvar angvar sparkang
   addvar angvar 512
   randvar sparkang2 1024
   addvarvar angvar sparkang2
   setactor[THISACTOR].ang angvar
  }
  else
  {
   randvar angvar 2047
   setactor[THISACTOR].ang angvar
  }
  randvar zdist 3072
  mulvar zdist -1
  espawn SPARKFALL
  setactor[RETURN].owner THISACTOR

  ifvare x APLAYER
  {
   getactorvar[THISACTOR].sparkflag sparktemp
   ifvare sparktemp 1 // Bio-Shield
   {
    getactor[THISACTOR].z sparkang2
    ifp pducking addvar sparkang2 -7168 else addvar sparkang2 -6144
    setactor[RETURN].z sparkang2
   }
   ifvare sparktemp 2 // Air-Jump
   {
    getactor[THISACTOR].z sparkang2
    ifp pducking addvar sparkang2 -1792 else addvar sparkang2 -1536
    setactor[RETURN].z sparkang2
   }
  }

  setactor[RETURN].zvel zdist
  setactor[RETURN].htpicnum x
 }
 setactor[THISACTOR].ang sparkang
 setactor[THISACTOR].picnum x
ends

state extrajump
	ifvare EDGEGRAPPLING 0
	{
       ifrnd 192 { setvar sparkflag 2 state sparkstate }
       ifrnd 160 { setvar sparkflag 2 state sparkstate }
       ifrnd 128 { setvar sparkflag 2 state sparkstate }

	 espawn SPARKLE
       getactor[THISACTOR].z sparkang2
       ifp pducking addvar sparkang2 384 else addvar sparkang2 512
       setactor[RETURN].z sparkang2

	 setactor[RETURN].xrepeat 24
	 setactor[RETURN].yrepeat 24
	 setactor[RETURN].cstat 642
	 addvar multijumpflag 1 
	 setvar fallingresistance 0
	 setvar fallcounter 0
	 setplayer[THISACTOR].falling_counter 0
	 setvar fallcounter2 0
	 setvar totalfallcounter 0
	 setvar fallcounts 0
       state stopfallscreams
	 setvar FALLSOUND? 0
 

	 setvarvar PLAYERJUMPSTRENGTHTEMP2 PLAYERJUMPSTRENGTHTEMP
	 mulvar PLAYERJUMPSTRENGTHTEMP2 67
	 divvar PLAYERJUMPSTRENGTHTEMP2 100
	 setvar PLAYERJUMPTICS 0
	 
	 setplayer[THISACTOR].jumping_counter 1
	 getplayer[THISACTOR].poszv tempb
	 ifvarg tempb -4096
	 {
	  setvar tempb -4096
	  setplayer[THISACTOR].poszv tempb
	 }
	 ifp pjetpack nullop 
	 else 
	 {
      ifp ponground ifp pducking nullop
      else
      {
	   ifvare CHARACTERSELECTED? 1 
	   { 
	    stopsound DUKE_JUMP1 
		stopsound DUKE_JUMP2 
		stopsound DUKE_AIRJUMP1 
		stopsound DUKE_AIRJUMP2 
		ifrnd 128 sound DUKE_AIRJUMP1 else sound DUKE_AIRJUMP2 
	   }
	   ifvare CHARACTERSELECTED? 5 
	   { 
	    stopsound WANG_JUMP1 
		stopsound WANG_JUMP2 
		stopsound WANG_AIRJUMP1 
		stopsound WANG_AIRJUMP2 
		ifrnd 128 sound WANG_AIRJUMP1 else sound WANG_AIRJUMP2 
	   }
	   ifvare CHARACTERSELECTED? 8 
	   {
  	    stopsound LISA_JUMP1 
		stopsound LISA_JUMP2 
		stopsound LISA_AIRJUMP1 
		stopsound LISA_AIRJUMP2 
		ifrnd 128 sound LISA_AIRJUMP1 else sound LISA_AIRJUMP2 
	   }
	   ifvare CHARACTERSELECTED? 9 
	   { 
	    stopsound CYBANIS_JUMP1 
		stopsound CYBANIS_JUMP2 
		stopsound CYBANIS_AIRJUMP1 
		stopsound CYBANIS_AIRJUMP2 
		ifrnd 128 sound CYBANIS_AIRJUMP1 else sound CYBANIS_AIRJUMP2 
	   }
 	   ifvare CHARACTERSELECTED? 15 
	   {
 	    stopsound MAKEN_JUMP1
		stopsound MAKEN_JUMP2
		stopsound MAKEN_AIRJUMP1
		stopsound MAKEN_AIRJUMP2
		ifrnd 128 sound MAKEN_AIRJUMP1 else sound MAKEN_AIRJUMP2 
	   }
      }
      addvar EQUIP_MOVETIMER 1
	 }
	}
ends


state dukescreenselect
 setvar mainmenupage 0 sound MENU_SHIFTPAGE
ends

state jackscreenselect
 setvar mainmenupage 1 sound MENU_SHIFTPAGE
ends

state bubsyscreenselect
 setvar mainmenupage 2 sound MENU_SHIFTPAGE
ends

state amiscreenselect
 setvar mainmenupage 3 sound MENU_SHIFTPAGE
ends

state lowangscreenselect
 setvar mainmenupage 4 sound MENU_SHIFTPAGE
ends

state essencescreenselect
 setvar mainmenupage 5 sound MENU_SHIFTPAGE
ends

state tedscreenselect
 setvar mainmenupage 6 sound MENU_SHIFTPAGE
ends

state lisascreenselect
 setvar mainmenupage 7 sound MENU_SHIFTPAGE
ends

state cybanisscreenselect
 setvar mainmenupage 8 sound MENU_SHIFTPAGE
ends

state nethrascreenselect
 setvar mainmenupage 9 sound MENU_SHIFTPAGE
ends

state paulascreenselect
 setvar mainmenupage 10 sound MENU_SHIFTPAGE
ends

state loriscreenselect
 setvar mainmenupage 11 sound MENU_SHIFTPAGE
ends

state minakoscreenselect
 setvar mainmenupage 12 sound MENU_SHIFTPAGE
ends

state mystery1screenselect
 setvar mainmenupage 13 sound MENU_SHIFTPAGE
ends

state makenscreenselect
 setvar mainmenupage 14 sound MENU_SHIFTPAGE
ends

state checkcharstatusscreensleft
ifvare mainmenupage 0 // Duke
{
 ifvare MAKEN? 1 state makenscreenselect else
 {
  ifvare MYSTERY1? 1 state mystery1screenselect else
  {
   ifvare MINAKO? 1 state minakoscreenselect else
   {
    ifvare LORI? 1 state loriscreenselect else
    {
     ifvare PAULA? 1 state paulascreenselect else
     {
      ifvare NETHRA? 1 state nethrascreenselect else
      {
       ifvare CYBANIS? 1 state cybanisscreenselect else
       {
        ifvare LISA? 1 state lisascreenselect else
        {
         ifvare TED? 1 state tedscreenselect else
         {
          ifvare ESSENCE? 1 state essencescreenselect else
          {
           ifvare LOWANG? 1 state lowangscreenselect else
           {
            ifvare AMI? 1 state amiscreenselect else
            {
             ifvare BUBSY? 1 state bubsyscreenselect else
             {
              ifvare JACK? 1 state jackscreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 1
{
 ifvare DUKE? 1 state dukescreenselect else
 {
  ifvare MAKEN? 1 state makenscreenselect else
  {
   ifvare MYSTERY1? 1 state mystery1screenselect else
   {
    ifvare MINAKO? 1 state minakoscreenselect else
    {
     ifvare LORI? 1 state loriscreenselect else
     {
      ifvare PAULA? 1 state paulascreenselect else
      {
       ifvare NETHRA? 1 state nethrascreenselect else
       {
        ifvare CYBANIS? 1 state cybanisscreenselect else
        {
         ifvare LISA? 1 state lisascreenselect else
         {
          ifvare TED? 1 state tedscreenselect else
          {
           ifvare ESSENCE? 1 state essencescreenselect else
           {
            ifvare LOWANG? 1 state lowangscreenselect else
            {
             ifvare AMI? 1 state amiscreenselect else
             {
              ifvare BUBSY? 1 state bubsyscreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 2
{
 ifvare JACK? 1 state jackscreenselect else
 {
  ifvare DUKE? 1 state dukescreenselect else
  {
   ifvare MAKEN? 1 state makenscreenselect else
   {
    ifvare MYSTERY1? 1 state mystery1screenselect else
    {
     ifvare MINAKO? 1 state minakoscreenselect else
     {
      ifvare LORI? 1 state loriscreenselect else
      {
       ifvare PAULA? 1 state paulascreenselect else
       {
        ifvare NETHRA? 1 state nethrascreenselect else
        {
         ifvare CYBANIS? 1 state cybanisscreenselect else
         {
          ifvare LISA? 1 state lisascreenselect else
          {
           ifvare TED? 1 state tedscreenselect else
           {
            ifvare ESSENCE? 1 state essencescreenselect else
            {
             ifvare LOWANG? 1 state lowangscreenselect else
             {
              ifvare AMI? 1 state amiscreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 3
{
 ifvare BUBSY? 1 state bubsyscreenselect else
 {
  ifvare JACK? 1 state jackscreenselect else
  {
   ifvare DUKE? 1 state dukescreenselect else
   {
    ifvare MAKEN? 1 state makenscreenselect else
    {
     ifvare MYSTERY1? 1 state mystery1screenselect else
     {
      ifvare MINAKO? 1 state minakoscreenselect else
      {
       ifvare LORI? 1 state loriscreenselect else
       {
        ifvare PAULA? 1 state paulascreenselect else
        {
         ifvare NETHRA? 1 state nethrascreenselect else
         {
          ifvare CYBANIS? 1 state cybanisscreenselect else
          {
           ifvare LISA? 1 state lisascreenselect else
           {
            ifvare TED? 1 state tedscreenselect else
            {
             ifvare ESSENCE? 1 state essencescreenselect else
             {
              ifvare LOWANG? 1 state lowangscreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 4
{
 ifvare AMI? 1 state amiscreenselect else
 {
  ifvare BUBSY? 1 state bubsyscreenselect else
  {
   ifvare JACK? 1 state jackscreenselect else
   {
    ifvare DUKE? 1 state dukescreenselect else
    {
     ifvare MAKEN? 1 state makenscreenselect else
     {
      ifvare MYSTERY1? 1 state mystery1screenselect else
      {
       ifvare MINAKO? 1 state minakoscreenselect else
       {
        ifvare LORI? 1 state loriscreenselect else
        {
         ifvare PAULA? 1 state paulascreenselect else
         {
          ifvare NETHRA? 1 state nethrascreenselect else
          {
           ifvare CYBANIS? 1 state cybanisscreenselect else
           {
            ifvare LISA? 1 state lisascreenselect else
            {
             ifvare TED? 1 state tedscreenselect else
             {
              ifvare ESSENCE? 1 state essencescreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 5
{
 ifvare LOWANG? 1 state lowangscreenselect else
 {
  ifvare AMI? 1 state amiscreenselect else
  {
   ifvare BUBSY? 1 state bubsyscreenselect else
   {
    ifvare JACK? 1 state jackscreenselect else
    {
     ifvare DUKE? 1 state dukescreenselect else
     {
      ifvare MAKEN? 1 state makenscreenselect else
      {
       ifvare MYSTERY1? 1 state mystery1screenselect else
       {
        ifvare MINAKO? 1 state minakoscreenselect else
        {
         ifvare LORI? 1 state loriscreenselect else
         {
          ifvare PAULA? 1 state paulascreenselect else
          {
           ifvare NETHRA? 1 state nethrascreenselect else
           {
            ifvare CYBANIS? 1 state cybanisscreenselect else
            {
             ifvare LISA? 1 state lisascreenselect else
             {
              ifvare TED? 1 state tedscreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 6
{
 ifvare ESSENCE? 1 state essencescreenselect else
 {
  ifvare LOWANG? 1 state lowangscreenselect else
  {
   ifvare AMI? 1 state amiscreenselect else
   {
    ifvare BUBSY? 1 state bubsyscreenselect else
    {
     ifvare JACK? 1 state jackscreenselect else
     {
      ifvare DUKE? 1 state dukescreenselect else
      {
       ifvare MAKEN? 1 state makenscreenselect else
       {
        ifvare MYSTERY1? 1 state mystery1screenselect else
        {
         ifvare MINAKO? 1 state minakoscreenselect else
         {
          ifvare LORI? 1 state loriscreenselect else
          {
           ifvare PAULA? 1 state paulascreenselect else
           {
            ifvare NETHRA? 1 state nethrascreenselect else
            {
             ifvare CYBANIS? 1 state cybanisscreenselect else
             {
              ifvare LISA? 1 state lisascreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 7
{
 ifvare TED? 1 state tedscreenselect else
 {
  ifvare ESSENCE? 1 state essencescreenselect else
  {
   ifvare LOWANG? 1 state lowangscreenselect else
   {
    ifvare AMI? 1 state amiscreenselect else
    {
     ifvare BUBSY? 1 state bubsyscreenselect else
     {
      ifvare JACK? 1 state jackscreenselect else
      {
       ifvare DUKE? 1 state dukescreenselect else
       {
        ifvare MAKEN? 1 state makenscreenselect else
        {
         ifvare MYSTERY1? 1 state mystery1screenselect else
         {
          ifvare MINAKO? 1 state minakoscreenselect else
          {
           ifvare LORI? 1 state loriscreenselect else
           {
            ifvare PAULA? 1 state paulascreenselect else
            {
             ifvare NETHRA? 1 state nethrascreenselect else
             {
              ifvare CYBANIS? 1 state cybanisscreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 8
{
 ifvare LISA? 1 state lisascreenselect else
 {
  ifvare TED? 1 state tedscreenselect else
  {
   ifvare ESSENCE? 1 state essencescreenselect else
   {
    ifvare LOWANG? 1 state lowangscreenselect else
    {
     ifvare AMI? 1 state amiscreenselect else
     {
      ifvare BUBSY? 1 state bubsyscreenselect else
      {
       ifvare JACK? 1 state jackscreenselect else
       {
        ifvare DUKE? 1 state dukescreenselect else
        {
         ifvare MAKEN? 1 state makenscreenselect else
         {
          ifvare MYSTERY1? 1 state mystery1screenselect else
          {
           ifvare MINAKO? 1 state minakoscreenselect else
           {
            ifvare LORI? 1 state loriscreenselect else
            {
             ifvare PAULA? 1 state paulascreenselect else
             {
              ifvare NETHRA? 1 state nethrascreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 9
{
 ifvare CYBANIS? 1 state cybanisscreenselect else
 {
  ifvare LISA? 1 state lisascreenselect else
  {
   ifvare TED? 1 state tedscreenselect else
   {
    ifvare ESSENCE? 1 state essencescreenselect else
    {
     ifvare LOWANG? 1 state lowangscreenselect else
     {
      ifvare AMI? 1 state amiscreenselect else
      {
       ifvare BUBSY? 1 state bubsyscreenselect else
       {
        ifvare JACK? 1 state jackscreenselect else
        {
         ifvare DUKE? 1 state dukescreenselect else
         {
          ifvare MAKEN? 1 state makenscreenselect else
          {
           ifvare MYSTERY1? 1 state mystery1screenselect else
           {
            ifvare MINAKO? 1 state minakoscreenselect else
            {
             ifvare LORI? 1 state loriscreenselect else
             {
              ifvare PAULA? 1 state paulascreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 10
{
 ifvare NETHRA? 1 state nethrascreenselect else
 {
  ifvare CYBANIS? 1 state cybanisscreenselect else
  {
   ifvare LISA? 1 state lisascreenselect else
   {
    ifvare TED? 1 state tedscreenselect else
    {
     ifvare ESSENCE? 1 state essencescreenselect else
     {
      ifvare LOWANG? 1 state lowangscreenselect else
      {
       ifvare AMI? 1 state amiscreenselect else
       {
        ifvare BUBSY? 1 state bubsyscreenselect else
        {
         ifvare JACK? 1 state jackscreenselect else
         {
          ifvare DUKE? 1 state dukescreenselect else
          {
           ifvare MAKEN? 1 state makenscreenselect else
           {
            ifvare MYSTERY1? 1 state mystery1screenselect else
            {
             ifvare MINAKO? 1 state minakoscreenselect else
             {
              ifvare LORI? 1 state loriscreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 11
{
 ifvare PAULA? 1 state paulascreenselect else
 {
  ifvare NETHRA? 1 state nethrascreenselect else
  {
   ifvare CYBANIS? 1 state cybanisscreenselect else
   {
    ifvare LISA? 1 state lisascreenselect else
    {
     ifvare TED? 1 state tedscreenselect else
     {
      ifvare ESSENCE? 1 state essencescreenselect else
      {
       ifvare LOWANG? 1 state lowangscreenselect else
       {
        ifvare AMI? 1 state amiscreenselect else
        {
         ifvare BUBSY? 1 state bubsyscreenselect else
         {
          ifvare JACK? 1 state jackscreenselect else
          {
           ifvare DUKE? 1 state dukescreenselect else
           {
            ifvare MAKEN? 1 state makenscreenselect else
            {
             ifvare MYSTERY1? 1 state mystery1screenselect else
             {
              ifvare MINAKO? 1 state minakoscreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 12
{
 ifvare LORI? 1 state loriscreenselect else
 {
  ifvare PAULA? 1 state paulascreenselect else
  {
   ifvare NETHRA? 1 state nethrascreenselect else
   {
    ifvare CYBANIS? 1 state cybanisscreenselect else
    {
     ifvare LISA? 1 state lisascreenselect else
     {
      ifvare TED? 1 state tedscreenselect else
      {
       ifvare ESSENCE? 1 state essencescreenselect else
       {
        ifvare LOWANG? 1 state lowangscreenselect else
        {
         ifvare AMI? 1 state amiscreenselect else
         {
          ifvare BUBSY? 1 state bubsyscreenselect else
          {
           ifvare JACK? 1 state jackscreenselect else
           {
            ifvare DUKE? 1 state dukescreenselect else
            {
             ifvare MAKEN? 1 state makenscreenselect else
             {
              ifvare MYSTERY1? 1 state mystery1screenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 13
{
 ifvare MINAKO? 1 state minakoscreenselect else
 {
  ifvare LORI? 1 state loriscreenselect else
  {
   ifvare PAULA? 1 state paulascreenselect else
   {
    ifvare NETHRA? 1 state nethrascreenselect else
    {
     ifvare CYBANIS? 1 state cybanisscreenselect else
     {
      ifvare LISA? 1 state lisascreenselect else
      {
       ifvare TED? 1 state tedscreenselect else
       {
        ifvare ESSENCE? 1 state essencescreenselect else
        {
         ifvare LOWANG? 1 state lowangscreenselect else
         {
          ifvare AMI? 1 state amiscreenselect else
          {
           ifvare BUBSY? 1 state bubsyscreenselect else
           {
            ifvare JACK? 1 state jackscreenselect else
            {
             ifvare DUKE? 1 state dukescreenselect else
             {
              ifvare MAKEN? 1 state makenscreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 14
{
 ifvare MYSTERY1? 1 state mystery1screenselect else
 {
  ifvare MINAKO? 1 state minakoscreenselect else
  {
   ifvare LORI? 1 state loriscreenselect else
   {
    ifvare PAULA? 1 state paulascreenselect else
    {
     ifvare NETHRA? 1 state nethrascreenselect else
     {
      ifvare CYBANIS? 1 state cybanisscreenselect else
      {
       ifvare LISA? 1 state lisascreenselect else
       {
        ifvare TED? 1 state tedscreenselect else
        {
         ifvare ESSENCE? 1 state essencescreenselect else
         {
          ifvare LOWANG? 1 state lowangscreenselect else
          {
           ifvare AMI? 1 state amiscreenselect else
           {
            ifvare BUBSY? 1 state bubsyscreenselect else
            {
             ifvare JACK? 1 state jackscreenselect else
             {
              ifvare DUKE? 1 state dukescreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
ends

state checkcharstatusscreensright
ifvare mainmenupage 0
{
 ifvare JACK? 1 state jackscreenselect else
 {
  ifvare BUBSY? 1 state bubsyscreenselect else
  {
   ifvare AMI? 1 state amiscreenselect else
   {
    ifvare LOWANG? 1 state lowangscreenselect else
    {
     ifvare ESSENCE? 1 state essencescreenselect else
     {
      ifvare TED? 1 state tedscreenselect else
      {
       ifvare LISA? 1 state lisascreenselect else
       {
        ifvare CYBANIS? 1 state cybanisscreenselect else
        {
         ifvare NETHRA? 1 state nethrascreenselect else
         {
          ifvare PAULA? 1 state paulascreenselect else
          {
           ifvare LORI? 1 state loriscreenselect else
           {
            ifvare MINAKO? 1 state minakoscreenselect else
            {
             ifvare MYSTERY1? 1 state mystery1screenselect else
             {
              ifvare MAKEN? 1 state makenscreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 1
{
 ifvare BUBSY? 1 state bubsyscreenselect else
 {
  ifvare AMI? 1 state amiscreenselect else
  {
   ifvare LOWANG? 1 state lowangscreenselect else
   {
    ifvare ESSENCE? 1 state essencescreenselect else
    {
     ifvare TED? 1 state tedscreenselect else
     {
      ifvare LISA? 1 state lisascreenselect else
      {
       ifvare CYBANIS? 1 state cybanisscreenselect else
       {
        ifvare NETHRA? 1 state nethrascreenselect else
        {
         ifvare PAULA? 1 state paulascreenselect else
         {
          ifvare LORI? 1 state loriscreenselect else
          {
           ifvare MINAKO? 1 state minakoscreenselect else
           {
            ifvare MYSTERY1? 1 state mystery1screenselect else
            {
             ifvare MAKEN? 1 state makenscreenselect else
             {
              ifvare DUKE? 1 state dukescreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 2
{
 ifvare AMI? 1 state amiscreenselect else
 {
  ifvare LOWANG? 1 state lowangscreenselect else
  {
   ifvare ESSENCE? 1 state essencescreenselect else
   {
    ifvare TED? 1 state tedscreenselect else
    {
     ifvare LISA? 1 state lisascreenselect else
     {
      ifvare CYBANIS? 1 state cybanisscreenselect else
      {
       ifvare NETHRA? 1 state nethrascreenselect else
       {
        ifvare PAULA? 1 state paulascreenselect else
        {
         ifvare LORI? 1 state loriscreenselect else
         {
          ifvare MINAKO? 1 state minakoscreenselect else
          {
           ifvare MYSTERY1? 1 state mystery1screenselect else
           {
            ifvare MAKEN? 1 state makenscreenselect else
            {
             ifvare DUKE? 1 state dukescreenselect else
             {
              ifvare JACK? 1 state jackscreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 3
{
 ifvare LOWANG? 1 state lowangscreenselect else
 {
  ifvare ESSENCE? 1 state essencescreenselect else
  {
   ifvare TED? 1 state tedscreenselect else
   {
    ifvare LISA? 1 state lisascreenselect else
    {
     ifvare CYBANIS? 1 state cybanisscreenselect else
     {
      ifvare NETHRA? 1 state nethrascreenselect else
      {
       ifvare PAULA? 1 state paulascreenselect else
       {
        ifvare LORI? 1 state loriscreenselect else
        {
         ifvare MINAKO? 1 state minakoscreenselect else
         {
          ifvare MYSTERY1? 1 state mystery1screenselect else
          {
           ifvare MAKEN? 1 state makenscreenselect else
           {
            ifvare DUKE? 1 state dukescreenselect else
            {
             ifvare JACK? 1 state jackscreenselect else
             {
              ifvare BUBSY? 1 state bubsyscreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 4
{
 ifvare ESSENCE? 1 state essencescreenselect else
 {
  ifvare TED? 1 state tedscreenselect else
  {
   ifvare LISA? 1 state lisascreenselect else
   {
    ifvare CYBANIS? 1 state cybanisscreenselect else
    {
     ifvare NETHRA? 1 state nethrascreenselect else
     {
      ifvare PAULA? 1 state paulascreenselect else
      {
       ifvare LORI? 1 state loriscreenselect else
       {
        ifvare MINAKO? 1 state minakoscreenselect else
        {
         ifvare MYSTERY1? 1 state mystery1screenselect else
         {
          ifvare MAKEN? 1 state makenscreenselect else
          {
           ifvare DUKE? 1 state dukescreenselect else
           {
            ifvare JACK? 1 state jackscreenselect else
            {
             ifvare BUBSY? 1 state bubsyscreenselect else
             {
              ifvare AMI? 1 state amiscreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 5
{
 ifvare TED? 1 state tedscreenselect else
 {
  ifvare LISA? 1 state lisascreenselect else
  {
   ifvare CYBANIS? 1 state cybanisscreenselect else
   {
    ifvare NETHRA? 1 state nethrascreenselect else
    {
     ifvare PAULA? 1 state paulascreenselect else
     {
      ifvare LORI? 1 state loriscreenselect else
      {
       ifvare MINAKO? 1 state minakoscreenselect else
       {
        ifvare MYSTERY1? 1 state mystery1screenselect else
        {
         ifvare MAKEN? 1 state makenscreenselect else
         {
          ifvare DUKE? 1 state dukescreenselect else
          {
           ifvare JACK? 1 state jackscreenselect else
           {
            ifvare BUBSY? 1 state bubsyscreenselect else
            {
             ifvare AMI? 1 state amiscreenselect else
             {
              ifvare LOWANG? 1 state lowangscreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 6
{
 ifvare LISA? 1 state lisascreenselect else
 {
  ifvare CYBANIS? 1 state cybanisscreenselect else
  {
   ifvare NETHRA? 1 state nethrascreenselect else
   {
    ifvare PAULA? 1 state paulascreenselect else
    {
     ifvare LORI? 1 state loriscreenselect else
     {
      ifvare MINAKO? 1 state minakoscreenselect else
      {
       ifvare MYSTERY1? 1 state mystery1screenselect else
       {
        ifvare MAKEN? 1 state makenscreenselect else
        {
         ifvare DUKE? 1 state dukescreenselect else
         {
          ifvare JACK? 1 state jackscreenselect else
          {
           ifvare BUBSY? 1 state bubsyscreenselect else
           {
            ifvare AMI? 1 state amiscreenselect else
            {
             ifvare LOWANG? 1 state lowangscreenselect else
             {
              ifvare ESSENCE? 1 state essencescreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 7
{
 ifvare CYBANIS? 1 state cybanisscreenselect else
 {
  ifvare NETHRA? 1 state nethrascreenselect else
  {
   ifvare PAULA? 1 state paulascreenselect else
   {
    ifvare LORI? 1 state loriscreenselect else
    {
     ifvare MINAKO? 1 state minakoscreenselect else
     {
      ifvare MYSTERY1? 1 state mystery1screenselect else
      {
       ifvare MAKEN? 1 state makenscreenselect else
       {
        ifvare DUKE? 1 state dukescreenselect else
        {
         ifvare JACK? 1 state jackscreenselect else
         {
          ifvare BUBSY? 1 state bubsyscreenselect else
          {
           ifvare AMI? 1 state amiscreenselect else
           {
            ifvare LOWANG? 1 state lowangscreenselect else
            {
             ifvare ESSENCE? 1 state essencescreenselect else
             {
              ifvare TED? 1 state tedscreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 8
{
 ifvare NETHRA? 1 state nethrascreenselect else
 {
  ifvare PAULA? 1 state paulascreenselect else
  {
   ifvare LORI? 1 state loriscreenselect else
   {
    ifvare MINAKO? 1 state minakoscreenselect else
    {
     ifvare MYSTERY1? 1 state mystery1screenselect else
     {
      ifvare MAKEN? 1 state makenscreenselect else
      {
       ifvare DUKE? 1 state dukescreenselect else
       {
        ifvare JACK? 1 state jackscreenselect else
        {
         ifvare BUBSY? 1 state bubsyscreenselect else
         {
          ifvare AMI? 1 state amiscreenselect else
          {
           ifvare LOWANG? 1 state lowangscreenselect else
           {
            ifvare ESSENCE? 1 state essencescreenselect else
            {
             ifvare TED? 1 state tedscreenselect else
             {
              ifvare LISA? 1 state lisascreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 9
{
 ifvare PAULA? 1 state paulascreenselect else
 {
  ifvare LORI? 1 state loriscreenselect else
  {
   ifvare MINAKO? 1 state minakoscreenselect else
   {
    ifvare MYSTERY1? 1 state mystery1screenselect else
    {
     ifvare MAKEN? 1 state makenscreenselect else
     {
      ifvare DUKE? 1 state dukescreenselect else
      {
       ifvare JACK? 1 state jackscreenselect else
       {
        ifvare BUBSY? 1 state bubsyscreenselect else
        {
         ifvare AMI? 1 state amiscreenselect else
         {
          ifvare LOWANG? 1 state lowangscreenselect else
          {
           ifvare ESSENCE? 1 state essencescreenselect else
           {
            ifvare TED? 1 state tedscreenselect else
            {
             ifvare LISA? 1 state lisascreenselect else
             {
              ifvare CYBANIS? 1 state cybanisscreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 10
{
 ifvare LORI? 1 state loriscreenselect else
 {
  ifvare MINAKO? 1 state minakoscreenselect else
  {
   ifvare MYSTERY1? 1 state mystery1screenselect else
   {
    ifvare MAKEN? 1 state makenscreenselect else
    {
     ifvare DUKE? 1 state dukescreenselect else
     {
      ifvare JACK? 1 state jackscreenselect else
      {
       ifvare BUBSY? 1 state bubsyscreenselect else
       {
        ifvare AMI? 1 state amiscreenselect else
        {
         ifvare LOWANG? 1 state lowangscreenselect else
         {
          ifvare ESSENCE? 1 state essencescreenselect else
          {
           ifvare TED? 1 state tedscreenselect else
           {
            ifvare LISA? 1 state lisascreenselect else
            {
             ifvare CYBANIS? 1 state cybanisscreenselect else
             {
              ifvare NETHRA? 1 state nethrascreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 11
{
 ifvare MINAKO? 1 state minakoscreenselect else
 {
  ifvare MYSTERY1? 1 state mystery1screenselect else
  {
   ifvare MAKEN? 1 state makenscreenselect else
   {
    ifvare DUKE? 1 state dukescreenselect else
    {
     ifvare JACK? 1 state jackscreenselect else
     {
      ifvare BUBSY? 1 state bubsyscreenselect else
      {
       ifvare AMI? 1 state amiscreenselect else
       {
        ifvare LOWANG? 1 state lowangscreenselect else
        {
         ifvare ESSENCE? 1 state essencescreenselect else
         {
          ifvare TED? 1 state tedscreenselect else
          {
           ifvare LISA? 1 state lisascreenselect else
           {
            ifvare CYBANIS? 1 state cybanisscreenselect else
            {
             ifvare NETHRA? 1 state nethrascreenselect else
             {
              ifvare PAULA? 1 state paulascreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 12
{
 ifvare MYSTERY1? 1 state mystery1screenselect else
 {
  ifvare MAKEN? 1 state makenscreenselect else
  {
   ifvare DUKE? 1 state dukescreenselect else
   {
    ifvare JACK? 1 state jackscreenselect else
    {
     ifvare BUBSY? 1 state bubsyscreenselect else
     {
      ifvare AMI? 1 state amiscreenselect else
      {
       ifvare LOWANG? 1 state lowangscreenselect else
       {
        ifvare ESSENCE? 1 state essencescreenselect else
        {
         ifvare TED? 1 state tedscreenselect else
         {
          ifvare LISA? 1 state lisascreenselect else
          {
           ifvare CYBANIS? 1 state cybanisscreenselect else
           {
            ifvare NETHRA? 1 state nethrascreenselect else
            {
             ifvare PAULA? 1 state paulascreenselect else
             {
              ifvare LORI? 1 state loriscreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 13
{
 ifvare MAKEN? 1 state makenscreenselect else
 {
  ifvare DUKE? 1 state dukescreenselect else
  {
   ifvare JACK? 1 state jackscreenselect else
   {
    ifvare BUBSY? 1 state bubsyscreenselect else
    {
     ifvare AMI? 1 state amiscreenselect else
     {
      ifvare LOWANG? 1 state lowangscreenselect else
      {
       ifvare ESSENCE? 1 state essencescreenselect else
       {
        ifvare TED? 1 state tedscreenselect else
        {
         ifvare LISA? 1 state lisascreenselect else
         {
          ifvare CYBANIS? 1 state cybanisscreenselect else
          {
           ifvare NETHRA? 1 state nethrascreenselect else
           {
            ifvare PAULA? 1 state paulascreenselect else
            {
             ifvare LORI? 1 state loriscreenselect else
             {
              ifvare MINAKO? 1 state minakoscreenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
else
ifvare mainmenupage 14
{
 ifvare DUKE? 1 state dukescreenselect else
 {
  ifvare JACK? 1 state jackscreenselect else
  {
   ifvare BUBSY? 1 state bubsyscreenselect else
   {
    ifvare AMI? 1 state amiscreenselect else
    {
     ifvare LOWANG? 1 state lowangscreenselect else
     {
      ifvare ESSENCE? 1 state essencescreenselect else
      {
       ifvare TED? 1 state tedscreenselect else
       {
        ifvare LISA? 1 state lisascreenselect else
        {
         ifvare CYBANIS? 1 state cybanisscreenselect else
         {
          ifvare NETHRA? 1 state nethrascreenselect else
          {
           ifvare PAULA? 1 state paulascreenselect else
           {
            ifvare LORI? 1 state loriscreenselect else
            {
             ifvare MINAKO? 1 state minakoscreenselect else
             {
              ifvare MYSTERY1? 1 state mystery1screenselect else
              {
               state menuerrorsound
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   }
  }
 }
}
ends

state checkdropinventoryflags
 ifvarvare SHOPCHEATBITTOTAL SHOPCOMBOBITS { setactorvar[RETURN].ACTORFLAGS 384 state cheatersound }
 setactorvar[RETURN].FLAGSSET? 1 setactorvar[RETURN].ITEMDROPPEDTIME 39
 setactorvar[RETURN].INVENTORYDROP? 1
ends

state dropinventoryitem
         ifvare mainmenupage 0
         {
          ifvare mainmenuselection 0 { state checkreschalices ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn RESURRECTIONCHALICE state checkreschalices subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 1 { state checkeyedrops ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn EYEDROP state checkeyedrops subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 2 { state checkantidotes ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn ANTIDOTE state checkantidotes subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 3 { state checkfoghorns ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn FOGHORN state checkfoghorns subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 4 { state checkafasdrops ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn AFAS_DROP state checkafasdrops subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 5 { state checkportablemedikits ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn FIRSTAID state checkportablemedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 6 { state checkheatsensors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn HEATSENSOR state checkheatsensors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 7 { state checkbootpairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn BOOTS state checkbootpairs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 8 { state checkholoforms ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn HOLODUKE state checkholoforms subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 9 { state checkjetpacks ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn JETPACK state checkjetpacks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 10 { state checkvitaminxs ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn STEROIDS state checkvitaminxs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 11 { state checkscubatanks ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn AIRTANK state checkscubatanks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 12 { state checkusedbodyarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SHIELD state checkusedbodyarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ARMORISUSED? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 13 { state checkusedsuperarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SUPERSHIELD state checkusedsuperarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactor[RETURN].pal 24 setactor[RETURN].xrepeat 48 setactor[RETURN].yrepeat 48 setactorvar[RETURN].ACTORNATURALPAL 24 setactorvar[RETURN].ARMORISUSED? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 14 { state checkbodyarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SHIELD state checkbodyarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 15 { state checksuperarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SUPERSHIELD state checksuperarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactor[RETURN].pal 24 setactor[RETURN].xrepeat 48 setactor[RETURN].yrepeat 48 setactorvar[RETURN].ACTORNATURALPAL 24 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 16 { state checkatomichealths ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn ATOMICHEALTH state checkatomichealths subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 17 { state checksuperatoms ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SUPERATOM state checksuperatoms subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactor[RETURN].pal 16 setactor[RETURN].xrepeat 48 setactor[RETURN].yrepeat 48 setactorvar[RETURN].ACTORNATURALPAL 16 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 18 { state checksmallmedikits ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn COLA state checksmallmedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 19 { state checkmediummedikits ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SWMEDIKIT state checkmediummedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 20 { state checklargemedikits ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SIXPAK state checklargemedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 21 { state checkextralargemedikits ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SWBIGMEDIKIT state checkextralargemedikits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 22 { state checkmedpacks ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn MEDPACK state checkmedpacks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 23 { state checksurgerykits ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SURGERYKIT state checksurgerykits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
         }
         else
         ifvare mainmenupage 1
         {
          ifvare mainmenuselection 0 { state checkusedgreenarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn COLORSHIELD state checkusedgreenarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 14 setactorvar[RETURN].ARMORISUSED? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 1 { state checkusedbluearmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn COLORSHIELD state checkusedbluearmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 16 setactorvar[RETURN].ARMORISUSED? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 2 { state checkusedyellowarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn COLORSHIELD state checkusedyellowarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 23 setactorvar[RETURN].ARMORISUSED? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 3 { state checkusedredarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn COLORSHIELD state checkusedredarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 10 setactorvar[RETURN].ARMORISUSED? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 4 { state checkusedgreyarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn COLORSHIELD state checkusedgreyarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 13 setactorvar[RETURN].ARMORISUSED? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 5 { state checkusedwhitearmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn COLORSHIELD state checkusedwhitearmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 20 setactorvar[RETURN].ARMORISUSED? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 6 { state checkgreenarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn COLORSHIELD state checkgreenarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 14 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 7 { state checkbluearmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn COLORSHIELD state checkbluearmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 16 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 8 { state checkyellowarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn COLORSHIELD state checkyellowarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 23 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 9 { state checkredarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn COLORSHIELD state checkredarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 10 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 10 { state checkgreyarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn COLORSHIELD state checkgreyarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 13 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 11 { state checkwhitearmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn COLORSHIELD state checkwhitearmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 20 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 12 { state checkusedrandomarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn COLORSHIELD state checkusedrandomarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 15 setactorvar[RETURN].ARMORISUSED? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 13 { state checkrandomarmors ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn COLORSHIELD state checkrandomarmors subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 15 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 14 state menuerrorsound
          ifvare mainmenuselection 15 state menuerrorsound

          ifvare mainmenuselection 16 { state checkbubsylives ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn ONELIFETSHIRT state checkbubsylives subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 17 { state checkcontinues ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn CONTINUEITEM state checkcontinues subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }

          ifvare mainmenuselection 18 state menuerrorsound
          ifvare mainmenuselection 19 { ifvarg CURRENTCELLS 4 { espawn ENERGYCELL_SMALL subvar CURRENTCELLS 5 state checkdropinventoryflags } else state menuerrorsound }

          ifvare mainmenuselection 20 { state checktelecoils ifvarg ITEMARRAYID_AMOUNTTEMP 7 { espawn COILS state checktelecoils subvar ITEMARRAYID_AMOUNTTEMP 8 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }

          ifvare mainmenuselection 21 state menuerrorsound

          ifvare mainmenuselection 22 { state checktelebeacons ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn TELEBEACON state checktelebeacons subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 23 { state checkfauxlevelups ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn FAUXLEVELUP state checkfauxlevelups subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
         }
         else
         ifvare mainmenupage 2
         {
          ifvare mainmenuselection 0 { state checksmallenergydrinks ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SMALLENERGYDRINK state checksmallenergydrinks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 1 { state checklargeenergydrinks ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn LARGEENERGYDRINK state checklargeenergydrinks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 2 { state checkhyperenergydrinks ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn HYPERENERGYDRINK state checkhyperenergydrinks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 3 { state checkwintersuits ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn WINTERCLOTHES state checkwintersuits subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 4 state menuerrorsound
          ifvare mainmenuselection 5 state menuerrorsound
          ifvare mainmenuselection 6 { state checksilkcarnations ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SILKCARNATION state checksilkcarnations subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 10 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 7 { state checkrarepiratedoubloons ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn RAREPIRATEDOUBLOON state checkrarepiratedoubloons subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 8 { state checkfixeddicepairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn FIXEDDICEPAIR state checkfixeddicepairs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 9 { state checkmalakiangems ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn MALAKIANGEM state checkmalakiangems subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 17 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 10 { state checksafelockboxes ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SAFELOCKBOX state checksafelockboxes subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 11 { state checksecretrecipes ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SECRETRECIPE state checksecretrecipes subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 12 { state checkslurpeemachines ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SLURPEEMACHINE state checkslurpeemachines subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 13 { state checkstockownerships ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn STOCKOWNERSHIP state checkstockownerships subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 14 { state checktransdimensionalsafes ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn TRANSDIMENSIONALSAFE state checktransdimensionalsafes subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 15 { state checkbloodpactshields ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn BLOODPACTSHIELD state checkbloodpactshields subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }

          // ifvare mainmenuselection 15 state menuerrorsound
          ifvare mainmenuselection 16 state menuerrorsound
          ifvare mainmenuselection 17 state menuerrorsound
          ifvare mainmenuselection 18 state menuerrorsound
          ifvare mainmenuselection 19 state menuerrorsound
          ifvare mainmenuselection 20 state menuerrorsound
          ifvare mainmenuselection 21 state menuerrorsound
          ifvare mainmenuselection 22 state menuerrorsound
          ifvare mainmenuselection 23 state menuerrorsound
         }
         else
         ifvare mainmenupage 3
         {

// Silver
          ifvare mainmenuselection 0 { state checksilverzirconrings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn GEMRINGSILVER state checksilverzirconrings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 11 setactor[RETURN].pal 11 setactorvar[RETURN].SKILLSET? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 1 { state checksilveraquamarinerings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn GEMRINGSILVER state checksilveraquamarinerings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 16 setactor[RETURN].pal 16 setactorvar[RETURN].SKILLSET? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 2 { state checksilverturquoiserings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn GEMRINGSILVER state checksilverturquoiserings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 0 setactor[RETURN].pal 0 setactorvar[RETURN].SKILLSET? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 3 { state checksilveremeraldrings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn GEMRINGSILVER state checksilveremeraldrings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 14 setactor[RETURN].pal 14 setactorvar[RETURN].SKILLSET? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 4 { state checksilvergarnetrings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn GEMRINGSILVER state checksilvergarnetrings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 21 setactor[RETURN].pal 21 setactorvar[RETURN].SKILLSET? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 5 { state checksilverrubyrings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn GEMRINGSILVER state checksilverrubyrings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 10 setactor[RETURN].pal 10 setactorvar[RETURN].SKILLSET? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 6 { state checksilvercitrinerings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn GEMRINGSILVER state checksilvercitrinerings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 23 setactor[RETURN].pal 23 setactorvar[RETURN].SKILLSET? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 7 { state checksilverdiamondrings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn GEMRINGSILVER state checksilverdiamondrings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 12 setactor[RETURN].pal 12 setactorvar[RETURN].SKILLSET? 1 state checkdropinventoryflags } else state menuerrorsound }

// Gold
          ifvare mainmenuselection 8 { state checkgoldzirconrings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn GEMRINGGOLD state checkgoldzirconrings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 11 setactor[RETURN].pal 11 setactorvar[RETURN].SKILLSET? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 9 { state checkgoldaquamarinerings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn GEMRINGGOLD state checkgoldaquamarinerings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 16 setactor[RETURN].pal 16 setactorvar[RETURN].SKILLSET? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 10 { state checkgoldturquoiserings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn GEMRINGGOLD state checkgoldturquoiserings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 0 setactor[RETURN].pal 0 setactorvar[RETURN].SKILLSET? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 11 { state checkgoldemeraldrings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn GEMRINGGOLD state checkgoldemeraldrings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 14 setactor[RETURN].pal 14 setactorvar[RETURN].SKILLSET? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 12 { state checkgoldgarnetrings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn GEMRINGGOLD state checkgoldgarnetrings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 21 setactor[RETURN].pal 21 setactorvar[RETURN].SKILLSET? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 13 { state checkgoldrubyrings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn GEMRINGGOLD state checkgoldrubyrings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 10 setactor[RETURN].pal 10 setactorvar[RETURN].SKILLSET? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 14 { state checkgoldcitrinerings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn GEMRINGGOLD state checkgoldcitrinerings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 23 setactor[RETURN].pal 23 setactorvar[RETURN].SKILLSET? 1 state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 15 { state checkgolddiamondrings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn GEMRINGGOLD state checkgolddiamondrings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount setactorvar[RETURN].ACTORNATURALPAL 12 setactor[RETURN].pal 12 setactorvar[RETURN].SKILLSET? 1 state checkdropinventoryflags } else state menuerrorsound }

          ifvare mainmenuselection 16 state menuerrorsound
          ifvare mainmenuselection 17 state menuerrorsound

          ifvare mainmenuselection 18 { state checkgreentankcapsules ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn GREENTANKCAPSULE state checkgreentankcapsules subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 19 { state checkbluetankcapsules ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn BLUETANKCAPSULE state checkbluetankcapsules subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 20 { state checkredtankcapsules ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn REDTANKCAPSULE state checkredtankcapsules subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
// Unused
          ifvare mainmenuselection 21 state menuerrorsound
          ifvare mainmenuselection 22 { state checkmysticsatchels ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn MYSTICSATCHEL state checkmysticsatchels subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 23 state menuerrorsound
         }
         else
         ifvare mainmenupage 4
         {
          ifvare mainmenuselection 0 { state checksunrings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SUNRING state checksunrings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 1 { state checkaquarings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn AQUARING state checkaquarings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 2 { state checkplasmarings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn PLASMARING state checkplasmarings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 3 { state checkspiritrings ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SPIRITRING state checkspiritrings subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 4 { state checkcharmankhs ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn CHARMANKH state checkcharmankhs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 5 { state checkmirrorshields ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn MIRRORSHIELD state checkmirrorshields subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 6 { state checkexpbadges ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn EXPBADGE state checkexpbadges subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 7 { state checkrankbadges ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn RANKBADGE state checkrankbadges subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 8 { state checkmoneybadges ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn MONEYBADGE state checkmoneybadges subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 9 { state checkriotshields ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn RIOTSHIELD state checkriotshields subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 10 { state checknyxglovepairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn NYXGLOVEPAIR state checknyxglovepairs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 11 { state checkrabbitsfoots ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn RABBITSFOOT state checkrabbitsfoots subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 12 { state checkjumpbootpairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn JUMPBOOTPAIR state checkjumpbootpairs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 13 { state checkshockabbootpairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SHOCKABBOOTPAIR state checkshockabbootpairs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 14 { state checkhappyshoepairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn HAPPYSHOEPAIR state checkhappyshoepairs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 15 { state checkstyleshoepairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn STYLESHOEPAIR state checkstyleshoepairs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 16 { state checkcharmshoepairs ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn CHARMSHOEPAIR state checkcharmshoepairs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 17 { state checkpowerwrists ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn POWERWRIST state checkpowerwrists subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 18 { state checkhockeymasks ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn HOCKEYMASK state checkhockeymasks subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 19 { state checkgemstonecrowns ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn GEMSTONECROWN state checkgemstonecrowns subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 20 { state checkironrunes ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn IRONRUNE state checkironrunes subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 21 { state checktwilightcapes ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn TWILIGHTCAPE state checktwilightcapes subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 22 { state checksnakearmbands ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SNAKEARMBAND state checksnakearmbands subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 23 { state checkmedicbags ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn MEDICBAG state checkmedicbags subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
         }
         else
         ifvare mainmenupage 5
         {
          ifvare mainmenuselection 0 { state checkserpenthelmets ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SERPENTHELMET state checkserpenthelmets subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 1 { state checkenergyincurments ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn ENERGYINCURMENT state checkenergyincurments subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 2 { state checkyinyangorbs ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn YINYANGORB state checkyinyangorbs subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 3 { state checkshikonjewels ifvarg ITEMARRAYID_AMOUNTTEMP 0 { espawn SHIKONJEWEL state checkshikonjewels subvar ITEMARRAYID_AMOUNTTEMP 1 state setitemidarrayamount state checkdropinventoryflags } else state menuerrorsound }
          ifvare mainmenuselection 4 state menuerrorsound
          ifvare mainmenuselection 5 state menuerrorsound
          ifvare mainmenuselection 6 state menuerrorsound
          ifvare mainmenuselection 7 state menuerrorsound
          ifvare mainmenuselection 8 state menuerrorsound
          ifvare mainmenuselection 9 state menuerrorsound
          ifvare mainmenuselection 10 state menuerrorsound
          ifvare mainmenuselection 11 state menuerrorsound
          ifvare mainmenuselection 12 state menuerrorsound
          ifvare mainmenuselection 13 state menuerrorsound
          ifvare mainmenuselection 14 state menuerrorsound
          ifvare mainmenuselection 15 state menuerrorsound
          ifvare mainmenuselection 16 state menuerrorsound
          ifvare mainmenuselection 17 state menuerrorsound
          ifvare mainmenuselection 18 state menuerrorsound
          ifvare mainmenuselection 19 state menuerrorsound
          ifvare mainmenuselection 20 state menuerrorsound
          ifvare mainmenuselection 21 state menuerrorsound
          ifvare mainmenuselection 22 state menuerrorsound
          ifvare mainmenuselection 23 state menuerrorsound
         }
ends

state menuvehicledisable
 ifvarn mainmenu 0 state setreturn-1 
 else
 {
  ifvarn shop_id -1 ifvarg shoptransitiontimer 6 state setreturn-1 
  else
  {
   ifvarn atm_id -1 state setreturn-1 else ifvarn VEHICLEID -1 state setreturn-1
  }
 }
ends

state givecheat_setvehicle
 ifvarn VEHICLEID -1
 {
  getactorvar[VEHICLEID].ENEMYMAXHP temp
  mulvar temp 2
  setactorvar[VEHICLEID].ENEMYHP temp
  getactorvar[VEHICLEID].ENEMYMAXAP temp
  mulvar temp 2
  setactorvar[VEHICLEID].ENEMYAP temp
  getactorvar[VEHICLEID].ENEMYMAXHP temp
  mulvar temp 2
  setactorvar[VEHICLEID].ENEMYFIRSTAID temp
  setactorvar[VEHICLEID].ENEMYARMORPERCENT 1000
  setactorvar[VEHICLEID].ENEMYBOOTSAMOUNT BOOT_AMOUNT
  setactorvar[VEHICLEID].ENEMYAIRTANKAMOUNT SCUBA_AMOUNT
 }
ends


action RPGACTIONFRAMES 0 1 7 1 1
action BOLTACTIONFRAMES 0 3 5 1 1
action BALLACTIONFRAMES 0 1 1 1 1

useractor notenemy RPG_NOAIM 140 RPGACTIONFRAMES 

state itemfullbright
enda
useractor notenemy OCTANINE_RPG 105 RPGACTIONFRAMES 
state itemfullbright
enda
useractor notenemy GENERAL_RPG 56 RPGACTIONFRAMES 
state itemfullbright
enda
useractor notenemy COMMANDER_RPG 140 RPGACTIONFRAMES 
state itemfullbright
enda
useractor notenemy LEADER_RPG 350 RPGACTIONFRAMES 
state itemfullbright
enda
useractor notenemy BAALO_RPG 1750 RPGACTIONFRAMES 
state itemfullbright
enda
useractor notenemy ZAPPER1 512 BOLTACTIONFRAMES 
state itemfullbright
enda
useractor notenemy ZAPPER2 256 BALLACTIONFRAMES 
state itemfullbright
enda
useractor notenemy ZAPPER3 1024 BALLACTIONFRAMES 
state itemfullbright
enda

define BIOMETRICEXPLOSION1 6075

action BIOMETRIC_EXPLODE1 0 14 1 1 4
useractor notenemy BIOMETRICEXPLOSION1 1 BIOMETRIC_EXPLODE1
 state itemfullbright
 setvarvar TEMPVAR5 CURRENTBIOSHIELDPOWER
 divvarvar TEMPVAR5 MAXHITPOINTS
 ifvarl TEMPVAR5 16 { setactor[THISACTOR].pal 0 }
 else ifvarg TEMPVAR5 15 ifvarl TEMPVAR5 64 { setactor[THISACTOR].pal 17 }
 else ifvarg TEMPVAR5 63 ifvarl TEMPVAR5 256 { setactor[THISACTOR].pal 23 }
 else ifvarg TEMPVAR5 255 ifvarl TEMPVAR5 1024 { setactor[THISACTOR].pal 21 }
 else ifvarg TEMPVAR5 1023 { setactor[THISACTOR].pal 20 }

 ifactioncount 14 killit
 else
 {
  ifcount 130 killit
 }
enda

define BIOMETRICBLAST1 6071

useractor notenemy BIOMETRICBLAST1 1536 BALLACTIONFRAMES
 state itemfullbright
 setvarvar TEMPVAR5 CURRENTBIOSHIELDPOWER
 divvarvar TEMPVAR5 MAXHITPOINTS
 ifvarl TEMPVAR5 16 { setactor[THISACTOR].pal 0 }
 else ifvarg TEMPVAR5 15 ifvarl TEMPVAR5 64 { setactor[THISACTOR].pal 17 }
 else ifvarg TEMPVAR5 63 ifvarl TEMPVAR5 256 { setactor[THISACTOR].pal 23 }
 else ifvarg TEMPVAR5 255 ifvarl TEMPVAR5 1024 { setactor[THISACTOR].pal 21 }
 else ifvarg TEMPVAR5 1023 { setactor[THISACTOR].pal 20 }
enda

defineprojectile BIOMETRICBLAST1 PROJ_WORKSLIKE 167946 // 131072+4096+32768+8+2 - +AccurateAim +NoAutoAim +RPGImpact +BounceMirrors +RPGType
defineprojectile BIOMETRICBLAST1 PROJ_EXTRA 1536
defineprojectile BIOMETRICBLAST1 PROJ_VEL 844
defineprojectile BIOMETRICBLAST1 PROJ_VEL_MULT 2
defineprojectile BIOMETRICBLAST1 PROJ_CLIPDIST 24
defineprojectile BIOMETRICBLAST1 PROJ_DROP 0 // -12
defineprojectile BIOMETRICBLAST1 PROJ_ISOUND BIOMETRIC_IMPACT
defineprojectile BIOMETRICBLAST1 PROJ_HITRADIUS 0
defineprojectile BIOMETRICBLAST1 PROJ_XREPEAT 32
defineprojectile BIOMETRICBLAST1 PROJ_YREPEAT 32
defineprojectile BIOMETRICBLAST1 PROJ_SPAWNS BIOMETRICEXPLOSION1
defineprojectile BIOMETRICBLAST1 PROJ_SXREPEAT 32
defineprojectile BIOMETRICBLAST1 PROJ_SYREPEAT 32

define DRONEEXPLOSION 1892

useractor notenemy DRONEEXPLOSION 30 0
 setactor[THISACTOR].cstat 32768
enda

defineprojectile DRONEEXPLOSION PROJ_WORKSLIKE 16450 // 81986 // 167938 // 36866 RPG WITH NO AUTOAIM
defineprojectile DRONEEXPLOSION PROJ_EXTRA 30
defineprojectile DRONEEXPLOSION PROJ_VEL 1
defineprojectile DRONEEXPLOSION PROJ_RANGE 1
defineprojectile DRONEEXPLOSION PROJ_CLIPDIST 24
defineprojectile DRONEEXPLOSION PROJ_SPAWNS EXPLOSION2CUSTOM
defineprojectile DRONEEXPLOSION PROJ_SXREPEAT 40
defineprojectile DRONEEXPLOSION PROJ_SYREPEAT 40
defineprojectile DRONEEXPLOSION PROJ_ISOUND RPG_EXPLODE
defineprojectile DRONEEXPLOSION PROJ_HITRADIUS 2048
defineprojectile DRONEEXPLOSION PROJ_XREPEAT 1
defineprojectile DRONEEXPLOSION PROJ_YREPEAT 1

define SUPERDRONEEXPLOSION 1893

useractor notenemy SUPERDRONEEXPLOSION 600 0
 setactor[THISACTOR].cstat 32768
enda

defineprojectile SUPERDRONEEXPLOSION PROJ_WORKSLIKE 16450 // 81986 // 167938 // 36866 RPG WITH NO AUTOAIM
defineprojectile SUPERDRONEEXPLOSION PROJ_EXTRA 600
defineprojectile SUPERDRONEEXPLOSION PROJ_VEL 1
defineprojectile SUPERDRONEEXPLOSION PROJ_RANGE 1
defineprojectile SUPERDRONEEXPLOSION PROJ_CLIPDIST 24
defineprojectile SUPERDRONEEXPLOSION PROJ_SPAWNS EXPLOSION2CUSTOM
defineprojectile SUPERDRONEEXPLOSION PROJ_SXREPEAT 60
defineprojectile SUPERDRONEEXPLOSION PROJ_SYREPEAT 60
defineprojectile SUPERDRONEEXPLOSION PROJ_ISOUND RPG_EXPLODE
defineprojectile SUPERDRONEEXPLOSION PROJ_HITRADIUS 5120
defineprojectile SUPERDRONEEXPLOSION PROJ_XREPEAT 1
defineprojectile SUPERDRONEEXPLOSION PROJ_YREPEAT 1

define LIZTROOPEXPLOSION 1894

useractor notenemy LIZTROOPEXPLOSION 0 0
 setactor[THISACTOR].cstat 32768
enda

defineprojectile LIZTROOPEXPLOSION PROJ_WORKSLIKE 16450 // 81986 // 167938 // 36866 RPG WITH NO AUTOAIM
defineprojectile LIZTROOPEXPLOSION PROJ_EXTRA 140
defineprojectile LIZTROOPEXPLOSION PROJ_VEL 1
defineprojectile LIZTROOPEXPLOSION PROJ_RANGE 1
defineprojectile LIZTROOPEXPLOSION PROJ_CLIPDIST 24
defineprojectile LIZTROOPEXPLOSION PROJ_SPAWNS EXPLOSION2CUSTOM
defineprojectile LIZTROOPEXPLOSION PROJ_SXREPEAT 40
defineprojectile LIZTROOPEXPLOSION PROJ_SYREPEAT 40
defineprojectile LIZTROOPEXPLOSION PROJ_ISOUND RPG_EXPLODE
defineprojectile LIZTROOPEXPLOSION PROJ_HITRADIUS 1780
defineprojectile LIZTROOPEXPLOSION PROJ_XREPEAT 1
defineprojectile LIZTROOPEXPLOSION PROJ_YREPEAT 1

defineprojectile ZAPPER1 PROJ_WORKSLIKE 167946 // 131072+4096+32768+8+2 - +AccurateAim +NoAutoAim +RPGImpact +BounceMirrors +RPGType
defineprojectile ZAPPER1 PROJ_EXTRA 512
defineprojectile ZAPPER1 PROJ_VEL 966
defineprojectile ZAPPER1 PROJ_CLIPDIST 36
defineprojectile ZAPPER1 PROJ_DROP 0 // -12
defineprojectile ZAPPER1 PROJ_ISOUND SHORT_CIRCUIT
defineprojectile ZAPPER1 PROJ_HITRADIUS 256
defineprojectile ZAPPER1 PROJ_XREPEAT 25
defineprojectile ZAPPER1 PROJ_YREPEAT 25
defineprojectile ZAPPER1 PROJ_SPAWNS SPARKFALL
defineprojectile ZAPPER1 PROJ_SXREPEAT 4
defineprojectile ZAPPER1 PROJ_SYREPEAT 4

defineprojectile ZAPPER2 PROJ_WORKSLIKE 167946 // 131072+4096+32768+8+2 - +AccurateAim +NoAutoAim +RPGImpact +BounceMirrors +RPGType
defineprojectile ZAPPER2 PROJ_EXTRA 256
defineprojectile ZAPPER2 PROJ_VEL 644
defineprojectile ZAPPER2 PROJ_CLIPDIST 24
defineprojectile ZAPPER2 PROJ_DROP 0 // -4
defineprojectile ZAPPER2 PROJ_ISOUND SHORT_CIRCUIT
defineprojectile ZAPPER2 PROJ_HITRADIUS 128
defineprojectile ZAPPER2 PROJ_XREPEAT 30
defineprojectile ZAPPER2 PROJ_YREPEAT 30
defineprojectile ZAPPER2 PROJ_SPAWNS SPARKFALL
defineprojectile ZAPPER2 PROJ_SXREPEAT 3
defineprojectile ZAPPER2 PROJ_SYREPEAT 3

defineprojectile ZAPPER3 PROJ_WORKSLIKE 167946 // 131072+4096+32768+8+2 - +AccurateAim +NoAutoAim +RPGImpact +BounceMirrors +RPGType
defineprojectile ZAPPER3 PROJ_EXTRA 1024
defineprojectile ZAPPER3 PROJ_VEL 644
defineprojectile ZAPPER3 PROJ_VEL_MULT 2
defineprojectile ZAPPER3 PROJ_CLIPDIST 72
defineprojectile ZAPPER3 PROJ_DROP 0 // -36
defineprojectile ZAPPER3 PROJ_ISOUND SHORT_CIRCUIT
defineprojectile ZAPPER3 PROJ_HITRADIUS 384
defineprojectile ZAPPER3 PROJ_XREPEAT 40
defineprojectile ZAPPER3 PROJ_YREPEAT 40
defineprojectile ZAPPER3 PROJ_SPAWNS SPARKFALL
defineprojectile ZAPPER3 PROJ_SXREPEAT 5
defineprojectile ZAPPER3 PROJ_SYREPEAT 5

defineprojectile OCTANINE_RPG PROJ_WORKSLIKE 167938 // 131072+4096+32768+2 - +AccurateAim +NoAutoAim +RPGImpact +RPGType
defineprojectile OCTANINE_RPG PROJ_PAL 14
defineprojectile OCTANINE_RPG PROJ_VEL 1000
defineprojectile OCTANINE_RPG PROJ_EXTRA 140
defineprojectile OCTANINE_RPG PROJ_XREPEAT 32
defineprojectile OCTANINE_RPG PROJ_YREPEAT 32
defineprojectile OCTANINE_RPG PROJ_HITRADIUS 1780
defineprojectile OCTANINE_RPG PROJ_CLIPDIST 24

defineprojectile RPG_NOAIM PROJ_WORKSLIKE 167938 // 131072+32768+4096+2
defineprojectile RPG_NOAIM PROJ_EXTRA 140
defineprojectile RPG_NOAIM PROJ_VEL 644
defineprojectile RPG_NOAIM PROJ_CLIPDIST 24
defineprojectile RPG_NOAIM PROJ_SPAWNS EXPLOSION2CUSTOM
defineprojectile RPG_NOAIM PROJ_SXREPEAT 40
defineprojectile RPG_NOAIM PROJ_SYREPEAT 40
defineprojectile RPG_NOAIM PROJ_ISOUND RPG_EXPLODE
defineprojectile RPG_NOAIM PROJ_HITRADIUS 1780
defineprojectile RPG_NOAIM PROJ_TRAIL SMALLSMOKE
defineprojectile RPG_NOAIM PROJ_XREPEAT 40
defineprojectile RPG_NOAIM PROJ_YREPEAT 40

defineprojectile GENERAL_RPG PROJ_WORKSLIKE 163842 // 32770
defineprojectile GENERAL_RPG PROJ_PAL 14
defineprojectile GENERAL_RPG PROJ_SPAWNS EXPLOSION2CUSTOM
defineprojectile GENERAL_RPG PROJ_SXREPEAT 30
defineprojectile GENERAL_RPG PROJ_SYREPEAT 30
defineprojectile GENERAL_RPG PROJ_DROP -1 // -1
defineprojectile GENERAL_RPG PROJ_VEL 768 // 1000
defineprojectile GENERAL_RPG PROJ_EXTRA 56
defineprojectile GENERAL_RPG PROJ_XREPEAT 30
defineprojectile GENERAL_RPG PROJ_YREPEAT 30
defineprojectile GENERAL_RPG PROJ_ISOUND PIPEBOMB_EXPLODE 
defineprojectile GENERAL_RPG PROJ_HITRADIUS 890
defineprojectile GENERAL_RPG PROJ_CLIPDIST 24

defineprojectile COMMANDER_RPG PROJ_WORKSLIKE 163842 // 32770
defineprojectile COMMANDER_RPG PROJ_PAL 0
defineprojectile COMMANDER_RPG PROJ_SPAWNS EXPLOSION2CUSTOM
defineprojectile COMMANDER_RPG PROJ_SXREPEAT 40
defineprojectile COMMANDER_RPG PROJ_SYREPEAT 40
defineprojectile COMMANDER_RPG PROJ_DROP -1
defineprojectile COMMANDER_RPG PROJ_VEL 704 // 1000
defineprojectile COMMANDER_RPG PROJ_EXTRA 140
defineprojectile COMMANDER_RPG PROJ_XREPEAT 40
defineprojectile COMMANDER_RPG PROJ_YREPEAT 40
defineprojectile COMMANDER_RPG PROJ_ISOUND PIPEBOMB_EXPLODE 
defineprojectile COMMANDER_RPG PROJ_HITRADIUS 1780
defineprojectile COMMANDER_RPG PROJ_CLIPDIST 24

defineprojectile LEADER_RPG PROJ_WORKSLIKE 163842 // 32770
defineprojectile LEADER_RPG PROJ_PAL 25
defineprojectile LEADER_RPG PROJ_SPAWNS EXPLOSION2CUSTOM
defineprojectile LEADER_RPG PROJ_SXREPEAT 60
defineprojectile LEADER_RPG PROJ_SYREPEAT 60
defineprojectile LEADER_RPG PROJ_DROP -2
defineprojectile LEADER_RPG PROJ_VEL 640 // 1000
defineprojectile LEADER_RPG PROJ_EXTRA 350
defineprojectile LEADER_RPG PROJ_XREPEAT 80
defineprojectile LEADER_RPG PROJ_YREPEAT 80
defineprojectile LEADER_RPG PROJ_ISOUND PIPEBOMB_EXPLODE 
defineprojectile LEADER_RPG PROJ_HITRADIUS 3560
defineprojectile LEADER_RPG PROJ_CLIPDIST 48

defineprojectile BAALO_RPG PROJ_WORKSLIKE 163842 // 32770
defineprojectile BAALO_RPG PROJ_PAL 24
defineprojectile BAALO_RPG PROJ_SPAWNS EXPLOSION2CUSTOM
defineprojectile BAALO_RPG PROJ_SXREPEAT 80
defineprojectile BAALO_RPG PROJ_SYREPEAT 80
defineprojectile BAALO_RPG PROJ_DROP -4
defineprojectile BAALO_RPG PROJ_VEL 576 // 1000
defineprojectile BAALO_RPG PROJ_EXTRA 1750
defineprojectile BAALO_RPG PROJ_XREPEAT 120
defineprojectile BAALO_RPG PROJ_YREPEAT 120
defineprojectile BAALO_RPG PROJ_ISOUND PIPEBOMB_EXPLODE 
defineprojectile BAALO_RPG PROJ_HITRADIUS 5440
defineprojectile BAALO_RPG PROJ_CLIPDIST 324

defineprojectile DRAGONICRIPBULLET PROJ_WORKSLIKE 32770 // 1 or 4097
defineprojectile DRAGONICRIPBULLET PROJ_PAL 14
defineprojectile DRAGONICRIPBULLET PROJ_SPAWNS DRAGONICRIP
defineprojectile DRAGONICRIPBULLET PROJ_SXREPEAT 2
defineprojectile DRAGONICRIPBULLET PROJ_SYREPEAT 2
defineprojectile DRAGONICRIPBULLET PROJ_VEL 1000
defineprojectile DRAGONICRIPBULLET PROJ_VEL_MULT 3
defineprojectile DRAGONICRIPBULLET PROJ_EXTRA 0
defineprojectile DRAGONICRIPBULLET PROJ_XREPEAT 2
defineprojectile DRAGONICRIPBULLET PROJ_YREPEAT 2
defineprojectile DRAGONICRIPBULLET PROJ_HITRADIUS 0
defineprojectile DRAGONICRIPBULLET PROJ_CLIPDIST 20

define CLEARTRAIL 5276

useractor notenemy CLEARTRAIL 0
 killit
enda

// COOLEXPLOSION2 - Remade Mindblast for Octabrain/Octanine/Cycloids/etc
/*
vel = 344 [Octabrain], 512 [Octanine], 644 [Cycloid Emperor], 448 [Cycloid Prince]
ang = base [Octabrain/Octanine], base+(128 - rand[256]), [Cycloid Emperor], base+(96 - rand[192]) [Cycloid Prince]
zvel = base [Octabrain/Octanine], base+(256 - rand[512]), [Cycloid Emperor], base+(192 - rand[384]) [Cycloid Prince]
clipdist = ? [Octabrain/Octanine], 4 [Cycloids]
cstat = ? [Octabrain/Octanine], 128 [Cycloids]
timer/fuse = dies when shade >=40, shade starts at -127[?]
*/

define COOLEXPLOSION2 1404

action MINBLASTANIM -44 20 1 1 8
useractor notenemy COOLEXPLOSION2 0 MINBLASTANIM
 ifactioncount 20 killit
enda

defineprojectile COOLEXPLOSION2 PROJ_WORKSLIKE 163842 // 2+32768+131072 = +RPGtype +RPGImpact +AccurateAim
defineprojectile COOLEXPLOSION2 PROJ_PAL 0
defineprojectile COOLEXPLOSION2 PROJ_VEL 348 // 644 for Cycloids
defineprojectile COOLEXPLOSION2 PROJ_EXTRA 38
defineprojectile COOLEXPLOSION2 PROJ_XREPEAT 24
defineprojectile COOLEXPLOSION2 PROJ_YREPEAT 24
defineprojectile COOLEXPLOSION2 PROJ_CLIPDIST 4
defineprojectile COOLEXPLOSION2 PROJ_HITRADIUS 0
defineprojectile COOLEXPLOSION2 PROJ_SPAWNS CLEARTRAIL
defineprojectile COOLEXPLOSION2 PROJ_SXREPEAT 1
defineprojectile COOLEXPLOSION2 PROJ_SYREPEAT 1


/*
useractor notenemy DRAGONICRIPBULLET 0
 getactor[THISACTOR].owner TEMPVAR
 getactorvar[TEMPVAR].ACTORATTACK TEMPVAR2
 setactorvar[THISACTOR].ACTORATTACK TEMPVAR2
enda
*/

// Deathgate Missile [Split-up Missiles] (of 10)

define GATEMISSILE_SPLIT 5896
action GATEACTIONFRAMES2 -3 1 5 1 1

useractor notenemy GATEMISSILE_SPLIT 105 GATEACTIONFRAMES2
state itemfullbright
enda

defineprojectile GATEMISSILE_SPLIT PROJ_WORKSLIKE 167938 // 36866 RPG WITH NO AUTOAIM
defineprojectile GATEMISSILE_SPLIT PROJ_PAL 21
defineprojectile GATEMISSILE_SPLIT PROJ_EXTRA 105
defineprojectile GATEMISSILE_SPLIT PROJ_VEL 960
defineprojectile GATEMISSILE_SPLIT PROJ_CLIPDIST 24
defineprojectile GATEMISSILE_SPLIT PROJ_SPAWNS EXPLOSION2CUSTOM
defineprojectile GATEMISSILE_SPLIT PROJ_SXREPEAT 10
defineprojectile GATEMISSILE_SPLIT PROJ_SYREPEAT 10
defineprojectile GATEMISSILE_SPLIT PROJ_SOUND LAUNCH_DEATHMISSILE
defineprojectile GATEMISSILE_SPLIT PROJ_ISOUND RPG_EXPLODE
defineprojectile GATEMISSILE_SPLIT PROJ_HITRADIUS 178
defineprojectile GATEMISSILE_SPLIT PROJ_TRAIL CLEARTRAIL
defineprojectile GATEMISSILE_SPLIT PROJ_TNUM 1
defineprojectile GATEMISSILE_SPLIT PROJ_TXREPEAT 10
defineprojectile GATEMISSILE_SPLIT PROJ_TYREPEAT 10
defineprojectile GATEMISSILE_SPLIT PROJ_XREPEAT 20
defineprojectile GATEMISSILE_SPLIT PROJ_YREPEAT 20

// Deathgate Missile [Main Missile]

define GATEMISSILE_MAIN 5894
action GATEACTIONFRAMES -1 1 5 1 1

useractor notenemy GATEMISSILE_MAIN 700 GATEACTIONFRAMES 
state itemfullbright
enda

defineprojectile GATEMISSILE_MAIN PROJ_WORKSLIKE 167938 // 36866 RPG WITH NO AUTOAIM
defineprojectile GATEMISSILE_MAIN PROJ_PAL 21
defineprojectile GATEMISSILE_MAIN PROJ_EXTRA 700
defineprojectile GATEMISSILE_MAIN PROJ_VEL 640
defineprojectile GATEMISSILE_MAIN PROJ_CLIPDIST 32
defineprojectile GATEMISSILE_MAIN PROJ_SPAWNS EXPLOSION2CUSTOM
defineprojectile GATEMISSILE_MAIN PROJ_SXREPEAT 30
defineprojectile GATEMISSILE_MAIN PROJ_SYREPEAT 30
defineprojectile GATEMISSILE_MAIN PROJ_SOUND LAUNCH_DEATHMISSILE
defineprojectile GATEMISSILE_MAIN PROJ_ISOUND GATEMISSILE_EXPLODE
defineprojectile GATEMISSILE_MAIN PROJ_HITRADIUS 445
defineprojectile GATEMISSILE_MAIN PROJ_TRAIL CLEARTRAIL
defineprojectile GATEMISSILE_MAIN PROJ_TNUM 1
defineprojectile GATEMISSILE_MAIN PROJ_TXREPEAT 30
defineprojectile GATEMISSILE_MAIN PROJ_TYREPEAT 30
defineprojectile GATEMISSILE_MAIN PROJ_XREPEAT 60
defineprojectile GATEMISSILE_MAIN PROJ_YREPEAT 60

// Deathstroke Missile [Split-up Missiles] (of 40)

define STROKEMISSILE_SPLIT 5897
action STROKEACTIONFRAMES2 -4 1 5 1 1

useractor notenemy STROKEMISSILE_SPLIT 140 STROKEACTIONFRAMES2
state itemfullbright
enda

defineprojectile STROKEMISSILE_SPLIT PROJ_WORKSLIKE 167938 // 36866 RPG WITH NO AUTOAIM
defineprojectile STROKEMISSILE_SPLIT PROJ_PAL 10
defineprojectile STROKEMISSILE_SPLIT PROJ_EXTRA 140
defineprojectile STROKEMISSILE_SPLIT PROJ_VEL 960
defineprojectile STROKEMISSILE_SPLIT PROJ_CLIPDIST 24
defineprojectile STROKEMISSILE_SPLIT PROJ_SPAWNS EXPLOSION2CUSTOM
defineprojectile STROKEMISSILE_SPLIT PROJ_SXREPEAT 20
defineprojectile STROKEMISSILE_SPLIT PROJ_SYREPEAT 20
defineprojectile STROKEMISSILE_SPLIT PROJ_SOUND LAUNCH_DEATHMISSILE
defineprojectile STROKEMISSILE_SPLIT PROJ_ISOUND RPG_EXPLODE
defineprojectile STROKEMISSILE_SPLIT PROJ_HITRADIUS 178
defineprojectile STROKEMISSILE_SPLIT PROJ_TRAIL CLEARTRAIL
defineprojectile STROKEMISSILE_SPLIT PROJ_TNUM 1
defineprojectile STROKEMISSILE_SPLIT PROJ_TXREPEAT 20
defineprojectile STROKEMISSILE_SPLIT PROJ_TYREPEAT 20
defineprojectile STROKEMISSILE_SPLIT PROJ_XREPEAT 40
defineprojectile STROKEMISSILE_SPLIT PROJ_YREPEAT 40

// Deathstroke Missile [Main Missile]


define STROKEMISSILE_MAIN 5895
action STROKEACTIONFRAMES -2 1 5 1 1

useractor notenemy STROKEMISSILE_MAIN 2800 STROKEACTIONFRAMES 
state itemfullbright
enda

defineprojectile STROKEMISSILE_MAIN PROJ_WORKSLIKE 167938 // 36866 RPG WITH NO AUTOAIM
defineprojectile STROKEMISSILE_MAIN PROJ_PAL 10
defineprojectile STROKEMISSILE_MAIN PROJ_EXTRA 2800
defineprojectile STROKEMISSILE_MAIN PROJ_VEL 640
defineprojectile STROKEMISSILE_MAIN PROJ_CLIPDIST 32
defineprojectile STROKEMISSILE_MAIN PROJ_SPAWNS EXPLOSION2CUSTOM
defineprojectile STROKEMISSILE_MAIN PROJ_SXREPEAT 60
defineprojectile STROKEMISSILE_MAIN PROJ_SYREPEAT 60
defineprojectile STROKEMISSILE_MAIN PROJ_SOUND LAUNCH_DEATHMISSILE
defineprojectile STROKEMISSILE_MAIN PROJ_ISOUND STROKEMISSILE_EXPLODE
defineprojectile STROKEMISSILE_MAIN PROJ_HITRADIUS 445
defineprojectile STROKEMISSILE_MAIN PROJ_TRAIL CLEARTRAIL
defineprojectile STROKEMISSILE_MAIN PROJ_TNUM 1
defineprojectile STROKEMISSILE_MAIN PROJ_TXREPEAT 60
defineprojectile STROKEMISSILE_MAIN PROJ_TYREPEAT 60
defineprojectile STROKEMISSILE_MAIN PROJ_XREPEAT 120
defineprojectile STROKEMISSILE_MAIN PROJ_YREPEAT 120

define NEWSHOTSPARK1 6136
defineprojectile NEWSHOTSPARK1 PROJ_WORKSLIKE 131073
defineprojectile NEWSHOTSPARK1 PROJ_VEL 1000
defineprojectile NEWSHOTSPARK1 PROJ_EXTRA 60
defineprojectile NEWSHOTSPARK1 PROJ_DECAL 6135
defineprojectile NEWSHOTSPARK1 PROJ_XREPEAT 12
defineprojectile NEWSHOTSPARK1 PROJ_YREPEAT 12
defineprojectile NEWSHOTSPARK1 PROJ_SXREPEAT 12
defineprojectile NEWSHOTSPARK1 PROJ_SYREPEAT 12

define NEWSHOTGUN 6140
defineprojectile NEWSHOTGUN PROJ_WORKSLIKE 131073
defineprojectile NEWSHOTGUN PROJ_VEL 1000
defineprojectile NEWSHOTGUN PROJ_EXTRA 100
defineprojectile NEWSHOTGUN PROJ_DECAL 6135
defineprojectile NEWSHOTGUN PROJ_XREPEAT 12
defineprojectile NEWSHOTGUN PROJ_YREPEAT 12
defineprojectile NEWSHOTGUN PROJ_SXREPEAT 12
defineprojectile NEWSHOTGUN PROJ_SYREPEAT 12

state CHECKSTEPS

getactor[THISACTOR].picnum temp
ifvare temp APLAYER
{
 ifvare SECTORLOTAG 2 { setvar STEPSOUNDFX 9 break }
}
else
{
 ifvare ENEMYSECTORLOTAG 2 { setvar STEPSOUNDFX 9 break }
}

setvar STEPSOUNDFX 0

switch FLOORTEX

//****************
//*Default Floors*
//****************
case 0
setvar STEPSOUNDFX 0 
break

//*************
//*Wood Floors*
//*************
case 70 case 370 case 735 case 745 case 749 case 821 case 822 case 866 case 879 case 880
case 884 
case 1188 case 1200 case 1201 case 4303 case 4428
// DC steps
case 3684 case 3685 case 3691
// NR Steps
case 3980 case 3994 case 4001 case 4002 case 4003 case 4013 case 4014 case 4015 case 4016 
case 4017 case 4032 case 4033 case 4037 case 4044 case 4057 case 4058 case 4060 case 4067 
case 4110 case 4111 case 4194 case 4195 case 4200
case 5639 case 5642 case 5655 case 5656 case 5664 case 5665 case 5666 case 5667 case 5682
case 5683 case 5736 case 5738 case 5742 case 5743 case 5744 case 5745 case 5746 case 5747
case 6254 case 6255 case 6256 case 6257 case 6258 case 6271 case 6283 case 6284 case 6285
case 6287 case 6288 case 6289 case 6291 case 6292 case 7481
setvar STEPSOUNDFX 1 
break

//******************
//*Tin/Metal Floors*
//******************
case 150 case 151 case 152 case 153 case 154 case 155 case 156 case 157 case 158 case 159
case 182 case 195 case 196 case 218 case 220 case 221 case 222 case 223 case 224
case 226 case 227 case 231 case 232 case 242 case 243 case 244 case 257 case 258 case 259
case 278 case 283 case 284 case 285 case 286 case 287 case 288 case 289 case 290 case 291
case 292 case 294 case 295 case 296 case 300 case 302 case 303 case 309 case 311 case 312 
case 313 case 314 case 315 case 317 case 318 case 319 case 322 case 327 case 342 case 344 
case 345 case 346 case 347 case 348 case 350 case 354 case 365 case 366 case 371 case 378 case 379 
case 380 case 381 case 382 case 383 case 384 case 385 case 392 case 393 case 394 case 395 
case 396 case 397 case 399 case 400 case 412 case 413 case 418 case 419 case 420 case 441 
case 442 case 447 case 448 case 449 case 450 case 451 case 452 case 453 case 454 case 455 
case 456 case 457 case 458 case 459 case 460 case 467 case 469 case 470 case 471 case 513 
case 514 case 515 case 609 case 665 case 709 case 711 case 715 case 717 case 736 case 737 
case 738 case 739 case 754 case 755 case 756 case 767 case 795 case 797 case 798 case 829 
case 843 case 877 case 883 case 886 case 946 case 947 case 948 
case 1024 case 1097 case 1098 case 1099 case 1102 case 1103
case 1107 case 1108 case 1109 case 1110 case 1117 case 1118 case 1119 case 1120 case 1124
case 1144 case 1173 case 1178 case 1179 case 1187 case 1190
case 1212 case 1213 case 1214 case 1215 case 1216 case 1217
case 4097 case 4098 case 4099 case 4105 case 4106 case 4108 case 4109 case 4117 case 4118
case 4119 case 4162 case 4163 case 4164 case 4165 case 4168 case 4201 case 4202 case 4206 
case 4276 case 4277 case 4278 case 4279 case 4282 case 4283 case 4284 case 4285 case 4286 
case 4287 case 4288 case 4300 case 4301 case 4302 case 4304 case 4305 case 4308 case 4309 
case 4310 case 4330 case 4331 case 4334 case 4335 case 4349 case 4350
// DC steps
case 3693 case 3694 case 3727 case 3779
// NR Steps
case 3840 case 3841 case 3842 case 3853 case 3854 case 3855 case 3868 case 3869 case 3870 
case 3915 case 3916 case 3930 case 3931 case 3933
case 3986 case 3997 case 4029 case 4030 case 4035 case 4036
case 5633 case 5634 case 5637 case 5638 case 5640 case 5641 case 5643 case 5644 case 5645
case 5646 case 5647 case 5648 case 5649 case 5658 case 5659 case 5662 case 5668 case 5669
case 5684 case 5688 case 5733 case 5734 case 5735 case 5740 case 5753 case 5754 case 5757 
case 5764 case 5777 case 5807
case 6111 case 6112 case 6113 case 6114 case 6115 case 6116 case 6117 case 6118 case 6119 case 6120 
case 6121 case 6122 case 6123 case 6124 case 6125 case 6126 case 6127 case 6128 case 6129 case 6130 
case 6131 case 6132 case 6133 case 6134 
case 6161 case 6162 case 6163
case 7482 case 7483 case 7484 case 7485 case 7486 case 7487
case 7600 case 7601 case 7602 
case 7640 case 7641 case 7642 case 7643 case 7644 case 7645 case 7646 case 7647 case 7648 case 7649
case 7650 case 7651 case 7652 case 7653 case 7654 case 7655 case 7656 case 7657 case 7658 case 7659 
case 7660 case 7661 case 7662 case 7663 case 7664 case 7665 case 7666 case 7667 case 7668 case 7669
case 7670 case 7671 case 7672 case 7673 case 7674 case 7675 case 7676 case 7677 case 7678 case 7679
setvar STEPSOUNDFX 2 break

//**************
//*Grate Floors*
//**************
case 183 case 710 case 915 case 4154 case 4155
// DC steps
case 3712 case 3732
// NR Steps

setvar STEPSOUNDFX 3
break

//**************
//*Grass Floors*
//**************
case 803 case 3392 case 3401 case 3402 case 3403 case 5838
// DC steps

// NR Steps
case 4065 case 4066
setvar STEPSOUNDFX 4 
break

//*************
//*Tile Floors*
//*************
case 186 case 187 case 188 case 189 case 190 case 191 case 192 case 332 case 720 case 857 case 4102
// DC steps
case 3692
// NR Steps
case 3857 case 3858 case 3859 case 3860 case 3861 case 3862 case 3863 case 3864 
case 4011 case 4043 case 4049 case 5806
setvar STEPSOUNDFX 5 
break

//***************
//*Carpet Floors*
//***************
case 545 case 898 case 899 case 900 case 1218 case 1219
// DC steps
case 3604 case 3612 case 3613 case 3614 case 3615 case 3616
// NR Steps
case 3851 case 3852
setvar STEPSOUNDFX 6 
break

//*****************
//*Concrete Floors*
//*****************
case 181 case 184 case 197 case 207 case 209 case 236 case 237 
case 238 case 239 case 240 case 241 case 251 case 252 case 331 
case 334 case 335 case 349 case 367 case 368 case 372 
case 376 case 377 case 414 case 417 case 429 case 430 case 431 case 432 
case 433 case 434 case 435 case 437 case 461 case 465 case 466 case 468 
case 478 case 718 case 723 case 724 case 725 case 734 case 742 
case 743 case 747 case 748 case 750 case 757 case 759 case 760 
case 761 case 763 case 764 case 770 case 772 case 773 case 775 case 780 
case 781 case 782 case 783 case 790 case 793 case 794 case 796 case 800 
case 801 case 802 case 804 case 805 case 812 case 814 case 815 case 816 
case 817 case 818 case 819 case 823 case 824 case 825 case 827 case 828 
case 852 case 853 case 859 case 876 case 887 case 893 case 894 
case 895 case 1169 case 1170 case 1171 case 1182 case 1183 case 1184 case 1185 
case 1186 case 1189 case 1191 case 1193 case 1204 case 1205 case 1279 case 2922 
case 3381 case 3384 case 3385 case 3386 case 3387 case 3388 case 3389 case 3394 case 3395 case 3396 
case 3398 case 3407 case 4112 case 4151 case 4152 case 4190 case 4208 
case 4210 case 4211 case 4212 case 4213 case 4214 case 4215 case 4216 case 4217 
case 4218 case 4219 case 4220 case 4221 case 4222 case 4223 case 4234 case 4235 
case 4236 case 4255 case 4259 case 4319 case 4320 case 4321 
case 4322 case 4323 case 4332 case 4333 case 5065 case 5066 case 5067 case 5068 
case 5069 case 5070 case 5071 case 5072 case 5073 case 5074 case 5075 case 5076 
case 5077 case 5078 case 5083 case 5110 case 5111 case 5112 case 5113 case 5114
case 5115
// NR Steps
case 3906 case 3908 case 3910 case 3920 case 3921 case 3922 case 3969 case 3972 
case 3974 case 3975 case 3976 case 3977 case 3981 case 3982 case 3983 case 3984 
case 3989 case 3991 case 3992 case 3995 case 3996 case 4004 case 4008 case 4009 
case 4012 case 4025 case 4026 case 4027 case 4028 case 4031 case 4041 case 4042 
case 4045 case 4046 case 4047 case 4048 case 4054 case 4055 case 4056 case 4059 
case 4061 case 4062
case 5388 case 5650 case 5651 case 5652 case 5653 case 5654 case 5657 case 5663
case 5670 case 5671 case 5672 case 5673 case 5674 case 5675 case 5676 case 5677
case 5678 case 5679 case 5680 case 5681 case 5685 case 5686 case 5687 case 5692
case 5693 case 5694 case 5695 case 5696 case 5713 case 5719 case 5720 case 5721
case 5722 case 5723 case 5724 case 5725 case 5726 case 5727 case 5728 case 5729
case 5730 case 5731 case 5732 case 5737 case 5739 case 5741 case 5755 case 5756
case 5776 case 5781 case 5786 case 5792 case 5795 case 5804
setvar STEPSOUNDFX 7 
break

//*************
//*Snow Floors*
//*************
case 3416 case 3605 case 4068 case 4069 case 4070 case 4071 case 5409 case 5410 case 5422 case 5447
getsector[THISACTOR].floorpal temp
ifvare temp 0 setvar STEPSOUNDFX 8
else ifvare temp 6 setvar STEPSOUNDFX 4
else setvar STEPSOUNDFX 7
break

//**************
//*Water Floors*
//**************
case 200 case 201 case 202
case 336 case 337 case 338
case 889 case 890 case 891 case 892
case 1082 case 1083 case 1084 case 1085 case 1086 case 1087 
// NR Steps
case 3784 case 3785 case 3786 case 3787 case 3788 
case 3789 case 3790 case 3795 case 3800 case 3801
case 3802 case 3803 case 3804 case 3805 case 3806
case 3807 case 3808 case 3809 case 3810 case 3811 case 3812 case 3813 case 3814 case 3815
case 3816 case 3817 case 3818 case 3819 case 3820 case 3821 case 3822
case 4240 case 4241 case 4242 case 4243 case 4244 case 4245 
case 4250 case 4251 case 4252 case 4253 
case 4346 case 4347 case 4348
setvar STEPSOUNDFX 9
break

//**************************
//*Electronic/Broken Floors*
//**************************
case 120 case 121 case 122 case 123 case 124 case 125 case 126 case 127 case 128 
case 203 case 263 case 264 case 265 case 266 case 267 case 268 case 269 case 270 
case 271 case 272 case 273 case 274 case 275 
case 293 case 297 case 301 case 305 case 306 case 307 case 357 case 358 
case 359 case 360 case 361 case 362 case 363
case 421 case 422 case 423 case 426 case 427 case 428 case 475 case 476
case 481 case 482 case 483 case 484 case 485 case 486 case 488
case 499 case 502 case 503
case 638 case 701 case 702 case 703 case 704 case 705 case 706 case 707 case 708 
case 776 case 806 case 807 case 808 case 850 case 867 case 875 case 888
case 967 case 968
case 1206
case 1280 case 1281 case 1282 case 1283 case 1284 case 1285 case 1286 
case 1287 case 1288 case 1289 case 1290 case 1291 case 1292 case 1293
case 1298 case 1299 case 1300 case 1301 case 1302 case 1303 case 1304 
case 1305 case 1306 case 1307 case 1308 case 1309 case 1310 case 1311 
case 3370 case 3371 case 3372 case 3672 case 3673 case 3674 case 3675
case 4120 case 4121 case 4122 case 4123 case 4124 case 4125 case 4126
case 4127 case 4128 case 4129 case 4130 case 4131 case 4132 case 4133
case 4134 case 4135 case 4136 case 4137 case 4138 case 4139 case 4140
case 4141 case 4142 case 4143 case 4144 case 4145 case 4146 case 4147
case 4246 case 4290 case 4291 case 4292 case 4293
case 4806 case 4807 case 4808 case 4809 case 4810 case 4811 case 4812 case 4813 
case 4814 case 4815 case 4816 case 4817 case 4818 case 4819 case 4820 case 4821 
case 4822 case 4823 case 4824 case 4825 case 4826 case 4827 case 4828 case 4829 
case 4830 case 4831 case 4832 case 4833 case 4834 case 4835 case 4836 case 4837 
case 4838 case 4839 case 4840 case 4841 case 4842 case 4843 case 4844 case 4845 
case 4846 case 4847 case 4848 case 4849 case 4850 case 4959 case 4960 case 4961
case 4962 case 4963 case 4964 case 4965 case 4966 case 4967 case 4968 case 4969 
case 4970 case 4971 case 4972 case 4973 case 4974 case 4975 case 4976 case 4977 
case 4978 case 4979 case 4980 case 4981 case 4982 case 4983 case 4984 case 4985 
case 4986 case 4987 case 4988 case 4989 case 4990 case 4991 case 4992 case 4993 
case 4994 case 4995 case 4996 case 4997 case 4998 case 4999 case 5000 case 5001 
case 5002 case 5003 case 5004 case 5005 case 5006 case 5007 case 5008 case 5009 
case 5010 case 5011 case 5012 case 5013 case 5014 case 5015 case 5016 case 5017 
case 5018 case 5019 case 5020 case 5021 case 5022 case 5023 case 5024 case 5025 
case 5026 case 5027 case 5028 case 5029
case 6252 case 6286 case 6290 case 7501 case 7502 case 7503 case 7504
ifactor SHOTSPARK1 setvar STEPSOUNDFX 12 else
ifactor 1 setvar STEPSOUNDFX 10 else
ifactor 2 setvar STEPSOUNDFX 10 else
setvar STEPSOUNDFX 7
break

//***********************
//*Organic/Living Floors*
//***********************
case 1116 case 1130 case 1131 case 1137 case 1139 case 1140 case 1141
case 5099 case 5100 case 5101 case 5102 case 5103 case 5104 case 5109
setvar STEPSOUNDFX 11
break

//*************
//*Forcefields*
//*************
case 230 case 663 case 664
setvar STEPSOUNDFX 12
break

//*******************
//*Slime/Acid Floors*
//*******************

case 3791 case 3792 case 3793 case 3794 
case 3796 case 3797 case 3798 case 3799 
case 5385 case 5386 case 5387
case 5389 case 5390 case 5391 case 5392 case 5393 case 5394 
case 5395 case 5396 case 5397 case 5398 case 5399 case 5400
setvar STEPSOUNDFX 13
break

//*************
//*Lava Floors*
//*************

case 3780 case 3781 case 3782 case 3783 
case 4091 case 4092 case 4093 case 4094 
case 5401 case 5402 case 5403 case 5404
case 5443 case 5444 case 5445 case 5446
setvar STEPSOUNDFX 14
break

endswitch

ends

state STOPSTEPSOUNDS_ACTOR
ends

state STOPSTEPSOUNDS_PLAYER
stopsound DUKE_LAND
/*
stopsound STEP1
stopsound STEP2
stopsound STEP3
stopsound STEP4
stopsound WOOD1
stopsound WOOD2
stopsound WOOD3
stopsound WOOD4
stopsound TIN1
stopsound TIN2
stopsound TIN3
stopsound TIN4
stopsound GRATES1
stopsound GRATE2
stopsound GRATE3
stopsound GRATE4
stopsound GRASS1
stopsound GRASS2
stopsound GRASS3
stopsound GRASS4
stopsound TILE1
stopsound TILE2
stopsound TILE3
stopsound TILE4
stopsound CARPET1
stopsound CARPET2
stopsound CARPET3
stopsound CARPET4
stopsound SNOW1
stopsound SNOW2
stopsound SNOW3
stopsound SNOW4
stopsound STEP1_LIGHT
stopsound STEP2_LIGHT
stopsound STEP3_LIGHT
stopsound STEP4_LIGHT
stopsound WOOD1_LIGHT
stopsound WOOD2_LIGHT
stopsound WOOD3_LIGHT
stopsound WOOD4_LIGHT
stopsound TIN1_LIGHT
stopsound TIN2_LIGHT
stopsound TIN3_LIGHT
stopsound TIN4_LIGHT
stopsound GRATES1_LIGHT
stopsound GRATE2_LIGHT
stopsound GRATE3_LIGHT
stopsound GRATE4_LIGHT
stopsound GRASS1_LIGHT
stopsound GRASS2_LIGHT
stopsound GRASS3_LIGHT
stopsound GRASS4_LIGHT
stopsound TILE1_LIGHT
stopsound TILE2_LIGHT
stopsound TILE3_LIGHT
stopsound TILE4_LIGHT
stopsound CARPET1_LIGHT
stopsound CARPET2_LIGHT
stopsound CARPET3_LIGHT
stopsound CARPET4_LIGHT
stopsound SNOW1_LIGHT
stopsound SNOW2_LIGHT
stopsound SNOW3_LIGHT
stopsound SNOW4_LIGHT
stopsound STEP1_HEAVY
stopsound STEP2_HEAVY
stopsound STEP3_HEAVY
stopsound STEP4_HEAVY
stopsound WOOD1_HEAVY
stopsound WOOD2_HEAVY
stopsound WOOD3_HEAVY
stopsound WOOD4_HEAVY
stopsound TIN1_HEAVY
stopsound TIN2_HEAVY
stopsound TIN3_HEAVY
stopsound TIN4_HEAVY
stopsound GRATES1_HEAVY
stopsound GRATE2_HEAVY
stopsound GRATE3_HEAVY
stopsound GRATE4_HEAVY
stopsound GRASS1_HEAVY
stopsound GRASS2_HEAVY
stopsound GRASS3_HEAVY
stopsound GRASS4_HEAVY
stopsound TILE1_HEAVY
stopsound TILE2_HEAVY
stopsound TILE3_HEAVY
stopsound TILE4_HEAVY
stopsound CARPET1_HEAVY
stopsound CARPET2_HEAVY
stopsound CARPET3_HEAVY
stopsound CARPET4_HEAVY
stopsound SNOW1_HEAVY
stopsound SNOW2_HEAVY
stopsound SNOW3_HEAVY
stopsound SNOW4_HEAVY
*/
ends

state getfloordist
  getactor[THISACTOR].x x
  getactor[THISACTOR].y y
  updatesector x y mysector
  ifvare mysector -1 getsector[THISACTOR].floorz z else
  getflorzofslope mysector x y z
  getactor[THISACTOR].z temp
  subvarvar z temp
  shiftvarr z 8
  subvar z 1
ends

state getfloorz
   getactor[THISACTOR].x x
   getactor[THISACTOR].y y
   updatesector x y mysector
   getflorzofslope mysector x y z
ends

state actorgetcorrectzsteps // makes sure the actor isn't able to make footstep sounds when hanging over a ledge
 getactor[THISACTOR].x walksndx
 getactor[THISACTOR].y walksndy
 updatesector walksndx walksndy WALKSNDTEMP
 getflorzofslope WALKSNDTEMP walksndx walksndy walksndtempb
 getactor[THISACTOR].z walksndtempc
 addvar walksndtempc 256
 setvarvar walksndtempe walksndtempb
 addvar walksndtempe 5120
 subvar walksndtempb 5120
ends

state playergetcorrectzsteps // makes sure the player isn't able to make footstep sounds when hanging over a ledge
         getplayer[THISACTOR].spritebridge TEMPVAR
         ifvare TEMPVAR 0
         {
          getactor[THISACTOR].x x
          getactor[THISACTOR].y y
          updatesector x y TEMP
          getflorzofslope TEMP x y tempb
         }
         else
         {
          getactor[THISACTOR].x x
          getactor[THISACTOR].y y
          getplayer[THISACTOR].sbs TEMP
          getactor[TEMP].z tempb
         }
         setvarvar tempe tempb
         addvar tempb -513
         getactor[THISACTOR].z PLAYERFOOTSTEPZ
         ifp pducking addvar PLAYERFOOTSTEPZ -5280
         addvar PLAYERFOOTSTEPZ 32
         setvar tempd 82
         getactor[THISACTOR].xrepeat temp
         mulvarvar tempd temp
         mulvar tempd 4
         addvar tempd 4096 // 4096
         ifvare temp 0 { addvar tempd 512 addvar tempb -512 }          
         addvar tempe 5120
         subvar tempb 5120
ends

state actorgetcorrectzland // makes sure the actor isn't able to make footstep sounds when hanging over a ledge
 getactor[THISACTOR].zvel WALKSNDTEMP
 ifvarg WALKSNDTEMP 512
 {
  getactor[THISACTOR].x walksndx
  getactor[THISACTOR].y walksndy
  updatesector walksndx walksndy WALKSNDTEMP
  getflorzofslope WALKSNDTEMP walksndx walksndy walksndtempb
  getactor[THISACTOR].z ACTORFOOTSTEPZ
  addvar walksndtempc 256
  setvarvar walksndtempe walksndtempb
  addvar walksndtempe -8
  addvar walksndtempb 8
  addvar walksndtempe 8144
  subvar walksndtempb 8144
 }
ends

state playergetcorrectzland // makes sure the player isn't able to make footstep sounds when hanging over a ledge
         getplayer[THISACTOR].spritebridge TEMPVAR
         ifvare TEMPVAR 0
         {
          getactor[THISACTOR].x x
          getactor[THISACTOR].y y
          updatesector x y TEMP
          getflorzofslope TEMP x y tempb
         }
         else
         {
          getactor[THISACTOR].x x
          getactor[THISACTOR].y y
          getplayer[THISACTOR].sbs TEMP
          getactor[TEMP].z tempb
         }
         setvarvar tempe tempb
         addvar tempb -513
         getactor[THISACTOR].z PLAYERFOOTSTEPZ
         ifp pducking addvar PLAYERFOOTSTEPZ -5280
         addvar PLAYERFOOTSTEPZ 32
         setvar tempd 82
         getactor[THISACTOR].xrepeat temp
         mulvarvar tempd temp
         mulvar tempd 4
         addvar tempd 4096 // 4096
         ifvare temp 0 { addvar tempd 512 addvar tempb -512 }          
         addvar tempe 8144
         subvar tempb 8144
ends

state soundsland_normal
    ifvare STEPSOUNDFX 1 sound LANDWOOD
    else ifvare STEPSOUNDFX 2 sound LANDMETAL
    else ifvare STEPSOUNDFX 3 sound LANDMETAL
    else ifvare STEPSOUNDFX 4 sound LANDDIRT
    else ifvare STEPSOUNDFX 7 sound LANDNORMAL
    else ifvare STEPSOUNDFX 8 sound LANDSNOW
    else ifvare STEPSOUNDFX 9 sound LANDWATER
    else ifvare STEPSOUNDFX 11 sound JIBLAND
    else ifvare STEPSOUNDFX 13 sound LANDSLIME
    else ifvare STEPSOUNDFX 14 sound LANDLAVA
    else sound LANDNORMAL
ends

state soundsland_light
    ifvare STEPSOUNDFX 1 sound LANDWOOD_LIGHT
    else ifvare STEPSOUNDFX 2 sound LANDMETAL_LIGHT
    else ifvare STEPSOUNDFX 3 sound LANDMETAL_LIGHT
    else ifvare STEPSOUNDFX 4 sound LANDDIRT_LIGHT
    else ifvare STEPSOUNDFX 7 sound LANDNORMAL_LIGHT
    else ifvare STEPSOUNDFX 8 sound LANDSNOW_LIGHT
    else ifvare STEPSOUNDFX 9 sound LANDWATER_LIGHT
    else ifvare STEPSOUNDFX 11 sound JIBLAND_LIGHT
    else ifvare STEPSOUNDFX 13 sound LANDSLIME_LIGHT
    else ifvare STEPSOUNDFX 14 sound LANDLAVA_LIGHT
    else sound LANDNORMAL_LIGHT
ends

state soundsland_heavy
    ifvare STEPSOUNDFX 1 sound LANDWOOD_HEAVY
    else ifvare STEPSOUNDFX 2 sound LANDMETAL_HEAVY
    else ifvare STEPSOUNDFX 3 sound LANDMETAL_HEAVY
    else ifvare STEPSOUNDFX 4 sound LANDDIRT_HEAVY
    else ifvare STEPSOUNDFX 7 sound LANDNORMAL_HEAVY
    else ifvare STEPSOUNDFX 8 sound LANDSNOW_HEAVY
    else ifvare STEPSOUNDFX 9 sound LANDWATER_HEAVY
    else ifvare STEPSOUNDFX 11 sound JIBLAND_HEAVY
    else ifvare STEPSOUNDFX 13 sound LANDSLIME_HEAVY
    else ifvare STEPSOUNDFX 14 sound LANDLAVA_HEAVY
    else sound LANDNORMAL_HEAVY
ends

state landsounds_actor
ifvare footstepsndtoggle 1
{
 state actorgetcorrectzland
 ifvarvarl ACTORFOOTSTEPZ walksndtempe
 {
  ifvarvarg ACTORFOOTSTEPZ walksndtempb
  {
    getactor[THISACTOR].picnum WALKSNDTEMP

    switch WALKSNDTEMP

    case LIZTROOP
    case LIZTROOPSTAYPUT
    case LIZTROOPJETPACK
    case LIZTROOPDUCKING
    case LIZTROOPSHOOT
    case LIZTROOPRUNNING
    case LIZTROOPONTOILET
    case LIZTROOPJUSTSIT
     state soundsland_light
    break

    case PIGCOP
    case PIGCOPSTAYPUT
    case PIGCOPDIVE
    case LIZMAN
    case LIZMANJUMP
    case LIZMANSTAYPUT
    case LIZMANSPITTING
     state soundsland_normal
    break

    case NEWBEAST
    case NEWBEASTSTAYPUT
    case NEWBEASTHANG
    case NEWBEASTJUMP
     ifspritepal 20 state soundsland_normal
     else ifspritepal 17 { ifrnd 128 state soundsland_normal else state soundsland_light }
     else state soundsland_light
    break

    case BOSS1
    case BOSS1STAYPUT
    case BOSS1LOB
    case BOSS1SHOOT
    case BOSS2
    case BOSS2SHOOT
    case BOSS2BREATH
    case BOSS2STAYPUT
    case BOSS3
    case BOSS3STAYPUT
    case BOSS3LOB
    case BOSS4
    case BOSS4STAYPUT
     ifspritepal 0 state soundsland_heavy
     else ifspritepal 3 state soundsland_heavy
     else ifspritepal 9 state soundsland_heavy
     else ifspritepal 24 { ifrnd 96 state soundsland_heavy else state soundsland_normal }
     else state soundsland_normal
    break

    endswitch
  }
 }
}
ends

state landsounds_player
ifvare footstepsndtoggle 1
{
 state playergetcorrectzland
 ifvarvarl PLAYERFOOTSTEPZ tempe
 {
  ifvarvarg PLAYERFOOTSTEPZ tempb
  {
   switch CHARACTERSELECTED?

   // Male Characters [normal pitch-sounds]
   case 1
   case 2
   case 3
   case 5
   case 7
    state soundsland_normal
   break

   // Female Characters [higher pitch-soundonces]
   case 4
   case 8
   case 10
   case 11
   case 12
   case 13
   case 14
   case 15
    state soundsland_light
   break

   // ESSence/Cybanis [Deep pitch-soundonces]
   case 6
   case 9
    state soundsland_heavy
   break

   endswitch
  }
 }
}
ends

 state stepsnormal_switch
	switch STEPSOUNDFX
		
		case 0
		case 7
		ifvare FOOTSTEPCOUNT 0 { sound STEP1 setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound STEP2 setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound STEP3 setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound STEP4 setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 1
		ifvare FOOTSTEPCOUNT 0 { sound WOOD1 setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound WOOD2 setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound WOOD3 setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound WOOD4 setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 2
		ifvare FOOTSTEPCOUNT 0 { sound TIN1 setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound TIN2 setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound TIN3 setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound TIN4 setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 3
		ifvare FOOTSTEPCOUNT 0 { sound GRATES1 setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound GRATE2 setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound GRATE3 setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound GRATE4 setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 4
		ifvare FOOTSTEPCOUNT 0 { sound GRASS1 setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound GRASS2 setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound GRASS3 setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound GRASS4 setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 5
		ifvare FOOTSTEPCOUNT 0 { sound TILE1 setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound TILE2 setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound TILE3 setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound TILE4 setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 6
		ifvare FOOTSTEPCOUNT 0 { sound CARPET1 setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound CARPET2 setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound CARPET3 setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound CARPET4 setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 8
		ifvare FOOTSTEPCOUNT 0 { sound SNOW1 setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound SNOW2 setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound SNOW3 setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound SNOW4 setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 9 
		// sound DUKE_ONWATER
		break // STEPSOUNDFX 9 IS FOR WATER
		
		default 
		sound STEP1 addvar FOOTSTEPCOUNT 1 ifvarg FOOTSTEPCOUNT 3 setvar FOOTSTEPCOUNT 0
		break	
	endswitch
 ends

state stepsounds_normal_actor
     ifvare footstepsndtoggle 1
     {
	ifvare ENEMYSECTORLOTAG 2 break
	state stepsnormal_switch
//	resetactioncount
     }
ends

state stepsounds_normal_player
     ifvare footstepsndtoggle 1
     {
	ifvare SECTORLOTAG 2 break
	state stepsnormal_switch
	resetactioncount
     }
ends

 state stepslight_switch
	switch STEPSOUNDFX
		
		case 0
		case 7
		ifvare FOOTSTEPCOUNT 0 { sound STEP1_LIGHT setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound STEP2_LIGHT setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound STEP3_LIGHT setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound STEP4_LIGHT setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 1
		ifvare FOOTSTEPCOUNT 0 { sound WOOD1_LIGHT setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound WOOD2_LIGHT setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound WOOD3_LIGHT setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound WOOD4_LIGHT setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 2
		ifvare FOOTSTEPCOUNT 0 { sound TIN1_LIGHT setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound TIN2_LIGHT setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound TIN3_LIGHT setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound TIN4_LIGHT setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 3
		ifvare FOOTSTEPCOUNT 0 { sound GRATES1_LIGHT setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound GRATE2_LIGHT setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound GRATE3_LIGHT setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound GRATE4_LIGHT setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 4
		ifvare FOOTSTEPCOUNT 0 { sound GRASS1_LIGHT setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound GRASS2_LIGHT setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound GRASS3_LIGHT setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound GRASS4_LIGHT setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 5
		ifvare FOOTSTEPCOUNT 0 { sound TILE1_LIGHT setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound TILE2_LIGHT setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound TILE3_LIGHT setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound TILE4_LIGHT setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 6
		ifvare FOOTSTEPCOUNT 0 { sound CARPET1_LIGHT setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound CARPET2_LIGHT setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound CARPET3_LIGHT setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound CARPET4_LIGHT setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 8
		ifvare FOOTSTEPCOUNT 0 { sound SNOW1_LIGHT setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound SNOW2_LIGHT setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound SNOW3_LIGHT setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound SNOW4_LIGHT setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 9 
		// sound DUKE_ONWATER
		break // STEPSOUNDFX 9 IS FOR WATER
		
		default 
		sound STEP1_LIGHT addvar FOOTSTEPCOUNT 1 ifvarg FOOTSTEPCOUNT 3 setvar FOOTSTEPCOUNT 0
		break	
	endswitch	
 ends

state stepsounds_light_actor
     ifvare footstepsndtoggle 1
     {
	ifvare ENEMYSECTORLOTAG 2 break
      state stepslight_switch
//	resetactioncount
     }
ends

state stepsounds_light_player
     ifvare footstepsndtoggle 1
     {
	ifvare SECTORLOTAG 2 break
      state stepslight_switch
	resetactioncount
     }
ends

 state stepsheavy_switch
	switch STEPSOUNDFX
		
		case 0
		case 7
		ifvare FOOTSTEPCOUNT 0 { sound STEP1_HEAVY setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound STEP2_HEAVY setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound STEP3_HEAVY setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound STEP4_HEAVY setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 1
		ifvare FOOTSTEPCOUNT 0 { sound WOOD1_HEAVY setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound WOOD2_HEAVY setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound WOOD3_HEAVY setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound WOOD4_HEAVY setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 2
		ifvare FOOTSTEPCOUNT 0 { sound TIN1_HEAVY setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound TIN2_HEAVY setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound TIN3_HEAVY setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound TIN4_HEAVY setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 3
		ifvare FOOTSTEPCOUNT 0 { sound GRATES1_HEAVY setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound GRATE2_HEAVY setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound GRATE3_HEAVY setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound GRATE4_HEAVY setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 4
		ifvare FOOTSTEPCOUNT 0 { sound GRASS1_HEAVY setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound GRASS2_HEAVY setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound GRASS3_HEAVY setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound GRASS4_HEAVY setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 5
		ifvare FOOTSTEPCOUNT 0 { sound TILE1_HEAVY setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound TILE2_HEAVY setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound TILE3_HEAVY setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound TILE4_HEAVY setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 6
		ifvare FOOTSTEPCOUNT 0 { sound CARPET1_HEAVY setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound CARPET2_HEAVY setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound CARPET3_HEAVY setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound CARPET4_HEAVY setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 8
		ifvare FOOTSTEPCOUNT 0 { sound SNOW1_HEAVY setvar FOOTSTEPCOUNT 1 } else
		ifvare FOOTSTEPCOUNT 1 { sound SNOW2_HEAVY setvar FOOTSTEPCOUNT 2 } else
		ifvare FOOTSTEPCOUNT 2 { sound SNOW3_HEAVY setvar FOOTSTEPCOUNT 3 } else
		ifvare FOOTSTEPCOUNT 3 { sound SNOW4_HEAVY setvar FOOTSTEPCOUNT 0 } 
		break
		
		case 9 
		// sound DUKE_ONWATER
		break // STEPSOUNDFX 9 IS FOR WATER
		
		default 
		sound STEP1_HEAVY addvar FOOTSTEPCOUNT 1 ifvarg FOOTSTEPCOUNT 3 setvar FOOTSTEPCOUNT 0
		break	
	endswitch	
 ends

state stepsounds_heavy_actor
     ifvare footstepsndtoggle 1
     {
	ifvare ENEMYSECTORLOTAG 2 break
      state stepsheavy_switch
//	resetactioncount
     }
ends

state stepsounds_heavy_player
     ifvare footstepsndtoggle 1
     {
	ifvare SECTORLOTAG 2 break
      state stepsheavy_switch
	resetactioncount
     }
ends

state initstepsounds_actor
  state actorgetcorrectzsteps
  ifvarvarl walksndtempc walksndtempe
  {
   ifvarvarg walksndtempc walksndtempb
   {
    getactor[THISACTOR].picnum WALKSNDTEMP

    switch WALKSNDTEMP

    case LIZTROOP
     state stepsounds_light_actor
    break

    case PIGCOP
    case LIZMAN
     state stepsounds_normal_actor
    break

    case NEWBEAST
     ifspritepal 20 state stepsounds_normal_actor
     else ifspritepal 17 { ifrnd 128 state stepsounds_normal_actor else state stepsounds_light_actor }
     else state stepsounds_light_actor
    break

    case BOSS1
    case BOSS2
    case BOSS3
    case BOSS4
     ifspritepal 0 state stepsounds_heavy_actor
     else ifspritepal 3 state stepsounds_heavy_actor
     else ifspritepal 9 state stepsounds_heavy_actor
     else ifspritepal 24 { ifrnd 96 state stepsounds_heavy_actor else state stepsounds_normal_actor }
     else state stepsounds_normal_actor
    break

    endswitch
   }
  }
ends

state initstepsounds_player
  state playergetcorrectzsteps
  ifvarvarl PLAYERFOOTSTEPZ tempe
  {
   ifvarvarg PLAYERFOOTSTEPZ tempb
   {
    switch CHARACTERSELECTED?

    // Male Characters [normal pitch-sounds]
    case 1
    case 2
    case 3
    case 5
    case 7
     state stepsounds_normal_player
    break

    // Female Characters [higher pitch-sounds]
    case 4
    case 8
    case 10
    case 11
    case 12
    case 13
    case 14
    case 15
     state stepsounds_light_player
    break

    // ESSence/Cybanis [Deep pitch-sounds]
    case 6
    case 9
     state stepsounds_heavy_player
    break

    endswitch
   }
  }
ends

state stepsoundstuff_actor
ifvare oldskoolmode 0
{
 getsector[THISACTOR].floorpicnum FLOORTEX

 setvar walksndtemp 0
 getactor[THISACTOR].picnum WALKSNDTEMP

 ifvare WALKSNDTEMP LIZTROOP setvar walksndtemp 1
 else ifvare WALKSNDTEMP LIZMAN setvar walksndtemp 1
 else ifvare WALKSNDTEMP PIGCOP setvar walksndtemp 1
 else ifvare WALKSNDTEMP NEWBEAST setvar walksndtemp 1
 else ifvare WALKSNDTEMP BOSS1 setvar walksndtemp 1
 else ifvare WALKSNDTEMP BOSS2 setvar walksndtemp 1
 else ifvare WALKSNDTEMP BOSS3 setvar walksndtemp 1
 else ifvare WALKSNDTEMP BOSS4 setvar walksndtemp 1
 else setvar walksndtemp 0

 ifvare walksndtemp 0 setvar FOOTSTEPSNDCOUNT 0
 else ifvare walksndtemp 1
 {
  getactor[THISACTOR].x walksndx
  getactor[THISACTOR].y walksndy
  updatesector walksndx walksndy WALKSNDTEMP 
  getflorzofslope WALKSNDTEMP walksndx walksndy walksndtempb
  getactor[THISACTOR].z walksndtempc
  addvar walksndtempc 256
  setvarvar walksndtempe walksndtempb
  addvar walksndtempe -8
  addvar walksndtempb 8

  ifvarvarl walksndtempc walksndtempb
  {
   ifvarvarg walksndtempc walksndtempe 
   {
    state CHECKSTEPS // CHECKS THE STEP DEFINES
    setvar FOOTSTEPSND? 0
    addvar FOOTSTEPSNDCOUNT 1
    getactor[THISACTOR].picnum WALKSNDTEMP
 
    ifvare WALKSNDTEMP LIZTROOP
    {
     ifvare WALKSNDAI 1 setvar WALKSNDTEMP 10
     else ifvare WALKSNDAI 2 setvar WALKSNDTEMP 10
     else ifvare WALKSNDAI 3 setvar WALKSNDTEMP 7
     else ifvare WALKSNDAI 4 setvar WALKSNDTEMP 10
     else ifvare WALKSNDAI 5 setvar WALKSNDTEMP 10
    }
    else
    ifvare WALKSNDTEMP LIZMAN
    {
     ifvare WALKSNDAI 1 setvar WALKSNDTEMP 8
     else ifvare WALKSNDAI 2 setvar WALKSNDTEMP 3
     else ifvare WALKSNDAI 3 setvar WALKSNDTEMP 8
     else ifvare WALKSNDAI 4 setvar WALKSNDTEMP 3
    }
    else
    ifvare WALKSNDTEMP PIGCOP
    {
     ifvare WALKSNDAI 1 setvar WALKSNDTEMP 8
     else ifvare WALKSNDAI 2 setvar WALKSNDTEMP 6
     else ifvare WALKSNDAI 3 setvar WALKSNDTEMP 6
     else ifvare WALKSNDAI 4 setvar WALKSNDTEMP 8
    }
    else
    ifvare WALKSNDTEMP NEWBEAST
    {
     ifvare WALKSNDAI 1 setvar WALKSNDTEMP 6
     else ifvare WALKSNDAI 2 setvar WALKSNDTEMP 4
     else ifvare WALKSNDAI 3 setvar WALKSNDTEMP 6
     else ifvare WALKSNDAI 4 setvar WALKSNDTEMP 4
    }
    else
    ifvare WALKSNDTEMP BOSS1
    {
     ifvare WALKSNDAI 1 setvar WALKSNDTEMP 6
     else ifvare WALKSNDAI 2 setvar WALKSNDTEMP 10
    }
    else
    ifvare WALKSNDTEMP BOSS2
    {
     ifvare WALKSNDAI 1 setvar WALKSNDTEMP 8
     else ifvare WALKSNDAI 2 setvar WALKSNDTEMP 11
    }
    else
    ifvare WALKSNDTEMP BOSS3
    {
     ifvare WALKSNDAI 1 setvar WALKSNDTEMP 8
     else ifvare WALKSNDAI 2 setvar WALKSNDTEMP 10
    }
    else
    ifvare WALKSNDTEMP BOSS4
    {
     ifvare WALKSNDAI 1 setvar WALKSNDTEMP 12
     else ifvare WALKSNDAI 2 setvar WALKSNDTEMP 8
    }
    
    ifvarvarg FOOTSTEPSNDCOUNT WALKSNDTEMP
    {
     setvar FOOTSTEPSND? 1
     setvar FOOTSTEPSNDCOUNT 0
    }
    else setvar FOOTSTEPSND? 0

    ifvare FOOTSTEPSND? 1 state initstepsounds_actor
   }
  }
 }
}
ends

state stepsoundstuff_player
ifvare oldskoolmode 0
{
 ifvarn VEHICLEID -1
 {
  ifvarg VEHICLETYPE -1 ifvarl VEHICLETYPE 3
  {
   ifvare mainmenu 0
   {
    ifvare shop_id -1
    {
     ifvarand extbits 1 soundonce TANK_ROAM
     ifvarand extbits 2 soundonce TANK_ROAM
     ifvarand extbits 16 soundonce TANK_ROAM
     ifvarand extbits 32 soundonce TANK_ROAM
    }
   }
  }
  break
 }
 getsector[THISACTOR].floorpicnum FLOORTEX

 ifinwater state STOPSTEPSOUNDS_PLAYER
 ifonwater state STOPSTEPSOUNDS_PLAYER
 ifp pfalling state STOPSTEPSOUNDS_PLAYER
 
 ifp pjetpack { setvar FOOTSTEPCOUNT 0 break }
 
 setvar temp 0
 ifp prunning setvar temp 1
 ifp pwalking setvar temp 1

 ifvare temp 0
 {
  setvar FOOTSTEPSNDCOUNT 0
 }
 ifvare temp 1
 {
  getplayer[THISACTOR].spritebridge temp // IF THE PLAYER IS ON A FLAT SPRITE
  ifvare temp 1 
  { 
   getplayer[THISACTOR].sbs tempb // GET THE FLATSPRITE'S ID TAG
   getactor[tempb].picnum temp // CHECK IT'S TEXTURE
   setvarvar FLOORTEX temp // SET THE VARIABLE FLOORTEX TO IT'S TEXTURE
  } 
 
  state CHECKSTEPS // CHECKS THE STEP DEFINES
  setvar FOOTSTEPSND? 0
  addvar FOOTSTEPSNDCOUNT 1
  ifp pwalking 
  { 
   // 1-25 Slower Steps
   // 26-50 Slow Steps
   // 51-70 Medium Steps
   // 71-90 Fast Steps
   // 91-100 Faster Steps
 
   ifvarg CHARACTERSPEEDVAR -1 ifvarl CHARACTERSPEEDVAR 14 setvar TEMP 17 
   else ifvarg CHARACTERSPEEDVAR 13 ifvarl CHARACTERSPEEDVAR 26 setvar TEMP 16
   else ifvarg CHARACTERSPEEDVAR 25 ifvarl CHARACTERSPEEDVAR 39 setvar TEMP 15
   else ifvarg CHARACTERSPEEDVAR 38 ifvarl CHARACTERSPEEDVAR 51 setvar TEMP 14
   else ifvarg CHARACTERSPEEDVAR 50 ifvarl CHARACTERSPEEDVAR 58 setvar TEMP 13
   else ifvarg CHARACTERSPEEDVAR 57 ifvarl CHARACTERSPEEDVAR 65 setvar TEMP 12
   else ifvarg CHARACTERSPEEDVAR 64 ifvarl CHARACTERSPEEDVAR 71 setvar TEMP 11
   else ifvarg CHARACTERSPEEDVAR 70 ifvarl CHARACTERSPEEDVAR 81 setvar TEMP 10
   else ifvarg CHARACTERSPEEDVAR 80 ifvarl CHARACTERSPEEDVAR 86 setvar TEMP 9
   else ifvarg CHARACTERSPEEDVAR 85 ifvarl CHARACTERSPEEDVAR 91 setvar TEMP 8
   else ifvarg CHARACTERSPEEDVAR 90 ifvarl CHARACTERSPEEDVAR 96 setvar TEMP 7
   else ifvarg CHARACTERSPEEDVAR 95 setvar TEMP 6
 
   ifvarvarg FOOTSTEPSNDCOUNT TEMP
   {
    setvar FOOTSTEPSND? 1
    setvar FOOTSTEPSNDCOUNT 0
   }
   else setvar FOOTSTEPSND? 0
  } 
  else
  {
   // 1-25 Slower Steps
   // 26-50 Slow Steps
   // 51-70 Medium Steps
   // 71-90 Fast Steps
   // 91-100 Faster Steps
 
   ifvarg CHARACTERSPEEDVAR -1 ifvarl CHARACTERSPEEDVAR 26 setvar TEMP 9
   else ifvarg CHARACTERSPEEDVAR 25 ifvarl CHARACTERSPEEDVAR 51 setvar TEMP 8
   else ifvarg CHARACTERSPEEDVAR 50 ifvarl CHARACTERSPEEDVAR 61 setvar TEMP 7
   else ifvarg CHARACTERSPEEDVAR 60 ifvarl CHARACTERSPEEDVAR 71 setvar TEMP 6
   else ifvarg CHARACTERSPEEDVAR 70 ifvarl CHARACTERSPEEDVAR 91 setvar TEMP 5
   else ifvarg CHARACTERSPEEDVAR 90 setvar TEMP 4
 
   ifvarvarg FOOTSTEPSNDCOUNT TEMP
   {
    setvar FOOTSTEPSND? 1
    setvar FOOTSTEPSNDCOUNT 0
   }
   else setvar FOOTSTEPSND? 0
  }
  ifp pducking { setvar FOOTSTEPSND? 0 setvar FOOTSTEPSNDCOUNT 0 }
  ifvare FOOTSTEPSND? 1
  {
   ifvarand extbits 1 state initstepsounds_player
   else ifvarand extbits 2 state initstepsounds_player
   else ifvarand extbits 4 state initstepsounds_player
   else ifvarand extbits 8 state initstepsounds_player
  }
 }
}
ends


state HITMETALSOUND
 randvar temp 4
 switch temp
 case 0 sound HITMETAL break
 case 1 sound HITMETAL2 break
 case 2 sound HITMETAL3 break
 case 3 sound HITMETAL4 break
 case 4 sound HITMETAL5 break
 endswitch
ends

state HITSTONESOUND
 randvar temp 4
 switch temp
 case 0 sound HITSTONE break
 case 1 sound HITSTONE2 break
 case 2 sound HITSTONE3 break
 case 3 sound HITSTONE4 break
 case 4 sound HITSTONE5 break
 endswitch
ends

state WOODHITSOUND
 randvar temp 4
 switch temp
 case 0 sound HITWOOD break
 case 1 sound HITWOOD2 break
 case 2 sound HITWOOD3 break
 case 3 sound HITWOOD4 break
 case 4 sound HITWOOD5 break
 endswitch
ends

state HITDIRTSOUND
 randvar temp 2
 switch temp
 case 0 sound HITDIRT break
 case 1 sound HITDIRT2 break
 case 2 sound HITDIRT3 break
 endswitch
ends

state HITWATERSOUND
 randvar temp 2
 switch temp
 case 0 sound HITWATER break
 case 1 sound HITWATER2 break
 case 2 sound HITWATER3 break
 endswitch
ends

state HITFORCEFIELDSOUND
 randvar temp 2
 switch temp
 case 0 sound FIRELASER_IMPACT1 break
 case 1 sound FIRELASER_IMPACT2 break
 case 2 sound FIRELASER_IMPACT3 break
 endswitch
ends

state HITSLIMESOUND
 randvar temp 2
 switch temp
 case 0 sound LANDSLIME break
 case 1 sound LANDSLIME_LIGHT break
 case 2 sound LANDSLIME_HEAVY break
 endswitch
ends

state HITLAVASOUND
 randvar temp 2
 switch temp
 case 0 sound LANDLAVA break
 case 1 sound LANDLAVA_LIGHT break
 case 2 sound LANDLAVA_HEAVY break
 endswitch
ends

state BULLETHITSOUNDS

 switch STEPSOUNDFX

 case 0 break

 case 1 case 5
    state WOODHITSOUND
 break

 case 2 case 3
    state HITMETALSOUND
    ifrnd 128 state sparkstate
 break
	
 case 4 case 8
    state HITDIRTSOUND
 break

 case 7
    state HITSTONESOUND
    ifrnd 128 state sparkstate
 break

 case 9
    state HITWATERSOUND
 break

 case 10
    state HITSTONESOUND
    ifrnd 128 state sparkstate
 break

 case 11
    sound HITFLESH 
 break

 case 12
    state HITFORCEFIELDSOUND
    ifrnd 128 state sparkstate
 break

 case 13
    state HITSLIMESOUND
 break

 case 14
    state HITLAVASOUND
 break

 endswitch
ends

//********************************
//********************************
//********************************
//********************************
include EVENTSMISC2.CON
//********************************
//********************************
//********************************
//********************************
